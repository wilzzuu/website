function kI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var qE={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),xI=Symbol.for("react.portal"),NI=Symbol.for("react.fragment"),LI=Symbol.for("react.strict_mode"),DI=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),jI=Symbol.for("react.context"),FI=Symbol.for("react.forward_ref"),UI=Symbol.for("react.suspense"),VI=Symbol.for("react.memo"),qI=Symbol.for("react.lazy"),Uy=Symbol.iterator;function BI(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var BE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$E=Object.assign,zE={};function Vs(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||BE}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HE(){}HE.prototype=Vs.prototype;function Xm(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||BE}var Jm=Xm.prototype=new HE;Jm.constructor=Xm;$E(Jm,Vs.prototype);Jm.isPureReactComponent=!0;var Vy=Array.isArray,WE=Object.prototype.hasOwnProperty,Zm={current:null},KE={key:!0,ref:!0,__self:!0,__source:!0};function GE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)WE.call(e,r)&&!KE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ul,type:t,key:o,ref:s,props:i,_owner:Zm.current}}function $I(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function zI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qy=/\/+/g;function Jh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zI(""+t.key):e.toString(36)}function Zu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ul:case xI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Jh(s,0):r,Vy(i)?(n="",t!=null&&(n=t.replace(qy,"$&/")+"/"),Zu(i,e,n,"",function(u){return u})):i!=null&&(eg(i)&&(i=$I(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Vy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Jh(o,a);s+=Zu(o,e,n,l,i)}else if(l=BI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Jh(o,a++),s+=Zu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ou(t,e,n){if(t==null)return t;var r=[],i=0;return Zu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function HI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},ec={transition:null},WI={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:ec,ReactCurrentOwner:Zm};function QE(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:Ou,forEach:function(t,e,n){Ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ou(t,function(){e++}),e},toArray:function(t){return Ou(t,function(e){return e})||[]},only:function(t){if(!eg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Vs;je.Fragment=NI;je.Profiler=DI;je.PureComponent=Xm;je.StrictMode=LI;je.Suspense=UI;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WI;je.act=QE;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$E({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Zm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WE.call(e,l)&&!KE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ul,type:t.type,key:i,ref:o,props:r,_owner:s}};je.createContext=function(t){return t={$$typeof:jI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MI,_context:t},t.Consumer=t};je.createElement=GE;je.createFactory=function(t){var e=GE.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:FI,render:t}};je.isValidElement=eg;je.lazy=function(t){return{$$typeof:qI,_payload:{_status:-1,_result:t},_init:HI}};je.memo=function(t,e){return{$$typeof:VI,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=ec.transition;ec.transition={};try{t()}finally{ec.transition=e}};je.unstable_act=QE;je.useCallback=function(t,e){return hn.current.useCallback(t,e)};je.useContext=function(t){return hn.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};je.useEffect=function(t,e){return hn.current.useEffect(t,e)};je.useId=function(){return hn.current.useId()};je.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return hn.current.useMemo(t,e)};je.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};je.useRef=function(t){return hn.current.useRef(t)};je.useState=function(t){return hn.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return hn.current.useTransition()};je.version="18.3.1";qE.exports=je;var oe=qE.exports;const nn=qf(oe),KI=kI({__proto__:null,default:nn},[oe]);var ip={},YE={exports:{}},Ln={},XE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,B){var F=G.length;G.push(B);e:for(;0<F;){var N=F-1>>>1,M=G[N];if(0<i(M,B))G[N]=B,G[F]=M,F=N;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var B=G[0],F=G.pop();if(F!==B){G[0]=F;e:for(var N=0,M=G.length,U=M>>>1;N<U;){var Q=2*(N+1)-1,$=G[Q],j=Q+1,z=G[j];if(0>i($,F))j<M&&0>i(z,$)?(G[N]=z,G[j]=F,N=j):(G[N]=$,G[Q]=F,N=Q);else if(j<M&&0>i(z,F))G[N]=z,G[j]=F,N=j;else break e}}return B}function i(G,B){var F=G.sortIndex-B.sortIndex;return F!==0?F:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=G)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function _(G){if(v=!1,w(G),!y)if(n(l)!==null)y=!0,H(O);else{var B=n(u);B!==null&&K(_,B.startTime-G)}}function O(G,B){y=!1,v&&(v=!1,g(b),b=-1),m=!0;var F=h;try{for(w(B),f=n(l);f!==null&&(!(f.expirationTime>B)||G&&!S());){var N=f.callback;if(typeof N=="function"){f.callback=null,h=f.priorityLevel;var M=N(f.expirationTime<=B);B=t.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&r(l),w(B)}else r(l);f=n(l)}if(f!==null)var U=!0;else{var Q=n(u);Q!==null&&K(_,Q.startTime-B),U=!1}return U}finally{f=null,h=F,m=!1}}var C=!1,A=null,b=-1,P=5,T=-1;function S(){return!(t.unstable_now()-T<P)}function R(){if(A!==null){var G=t.unstable_now();T=G;var B=!0;try{B=A(!0,G)}finally{B?k():(C=!1,A=null)}}else C=!1}var k;if(typeof p=="function")k=function(){p(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=R,k=function(){V.postMessage(null)}}else k=function(){E(R,0)};function H(G){A=G,C||(C=!0,k())}function K(G,B){b=E(function(){G(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,H(O))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var F=h;h=B;try{return G()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=h;h=G;try{return B()}finally{h=F}},t.unstable_scheduleCallback=function(G,B,F){var N=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,G={id:d++,callback:B,priorityLevel:G,startTime:F,expirationTime:M,sortIndex:-1},F>N?(G.sortIndex=F,e(u,G),n(l)===null&&G===n(u)&&(v?(g(b),b=-1):v=!0,K(_,F-N))):(G.sortIndex=M,e(l,G),y||m||(y=!0,H(O))),G},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(G){var B=h;return function(){var F=h;h=B;try{return G.apply(this,arguments)}finally{h=F}}}})(JE);XE.exports=JE;var GI=XE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI=oe,xn=GI;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZE=new Set,ll={};function Ro(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(ll[t]=e,t=0;t<e.length;t++)ZE.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,YI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,By={},$y={};function XI(t){return op.call($y,t)?!0:op.call(By,t)?!1:YI.test(t)?$y[t]=!0:(By[t]=!0,!1)}function JI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZI(t,e,n,r){if(e===null||typeof e>"u"||JI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var tg=/[\-:]([a-z])/g;function ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tg,ng);zt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tg,ng);zt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tg,ng);zt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function rg(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZI(e,n,i,r)&&(n=null),r||i===null?XI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Hr=QI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),ig=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),sg=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),nw=Symbol.for("react.offscreen"),zy=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=zy&&t[zy]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Zh;function ja(t){if(Zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return`
`+Zh+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ja(t):""}function eP(t){switch(t.tag){case 5:return ja(t.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wo:return"Fragment";case Ho:return"Portal";case sp:return"Profiler";case ig:return"StrictMode";case ap:return"Suspense";case lp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tw:return(t.displayName||"Context")+".Consumer";case ew:return(t._context.displayName||"Context")+".Provider";case og:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sg:return e=t.displayName||null,e!==null?e:up(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return up(t(e))}catch{}}return null}function tP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(e);case 8:return e===ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nP(t){var e=rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pu(t){t._valueTracker||(t._valueTracker=nP(t))}function iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cp(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ow(t,e){e=e.checked,e!=null&&rg(t,"checked",e,!1)}function fp(t,e){ow(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hp(t,e.type,n):e.hasOwnProperty("defaultValue")&&hp(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hp(t,e,n){(e!=="number"||Ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fa=Array.isArray;function is(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ky(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Fa(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function sw(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rP=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){rP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function uw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function cw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iP=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(t,e){if(e){if(iP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,os=null,ss=null;function Qy(t){if(t=Bl(t)){if(typeof yp!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Wf(e),yp(t.stateNode,t.type,e))}}function fw(t){os?ss?ss.push(t):ss=[t]:os=t}function hw(){if(os){var t=os,e=ss;if(ss=os=null,Qy(t),e)for(t=0;t<e.length;t++)Qy(e[t])}}function dw(t,e){return t(e)}function pw(){}var nd=!1;function mw(t,e,n){if(nd)return t(e,n);nd=!0;try{return dw(t,e,n)}finally{nd=!1,(os!==null||ss!==null)&&(pw(),hw())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Wf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var _p=!1;if(jr)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){_p=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{_p=!1}function oP(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ga=!1,Pc=null,Rc=!1,Ep=null,sP={onError:function(t){Ga=!0,Pc=t}};function aP(t,e,n,r,i,o,s,a,l){Ga=!1,Pc=null,oP.apply(sP,arguments)}function lP(t,e,n,r,i,o,s,a,l){if(aP.apply(this,arguments),Ga){if(Ga){var u=Pc;Ga=!1,Pc=null}else throw Error(le(198));Rc||(Rc=!0,Ep=u)}}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yy(t){if(ko(t)!==t)throw Error(le(188))}function uP(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yy(i),t;if(o===r)return Yy(i),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function vw(t){return t=uP(t),t!==null?yw(t):null}function yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yw(t);if(e!==null)return e;t=t.sibling}return null}var _w=xn.unstable_scheduleCallback,Xy=xn.unstable_cancelCallback,cP=xn.unstable_shouldYield,fP=xn.unstable_requestPaint,wt=xn.unstable_now,hP=xn.unstable_getCurrentPriorityLevel,lg=xn.unstable_ImmediatePriority,Ew=xn.unstable_UserBlockingPriority,kc=xn.unstable_NormalPriority,dP=xn.unstable_LowPriority,ww=xn.unstable_IdlePriority,Bf=null,dr=null;function pP(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Bf,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:vP,mP=Math.log,gP=Math.LN2;function vP(t){return t>>>=0,t===0?32:31-(mP(t)/gP|0)|0}var ku=64,Cu=4194304;function Ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ua(a):(o&=s,o!==0&&(r=Ua(o)))}else s=n&~i,s!==0?r=Ua(s):o!==0&&(r=Ua(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),i=1<<n,r|=t[n],e&=~i;return r}function yP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _P(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Zn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=yP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function wp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tw(){var t=ku;return ku<<=1,!(ku&4194240)&&(ku=64),t}function rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function EP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ug(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ge=0;function bw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sw,cg,Aw,Ow,Iw,Tp=!1,xu=[],yi=null,_i=null,Ei=null,fl=new Map,hl=new Map,li=[],wP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jy(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function Ta(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Bl(e),e!==null&&cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TP(t,e,n,r,i){switch(e){case"focusin":return yi=Ta(yi,t,e,n,r,i),!0;case"dragenter":return _i=Ta(_i,t,e,n,r,i),!0;case"mouseover":return Ei=Ta(Ei,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return fl.set(o,Ta(fl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hl.set(o,Ta(hl.get(o)||null,t,e,n,r,i)),!0}return!1}function Pw(t){var e=io(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=gw(n),e!==null){t.blockedOn=e,Iw(t.priority,function(){Aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return e=Bl(n),e!==null&&cg(e),t.blockedOn=n,!1;e.shift()}return!0}function Zy(t,e,n){tc(t)&&n.delete(e)}function bP(){Tp=!1,yi!==null&&tc(yi)&&(yi=null),_i!==null&&tc(_i)&&(_i=null),Ei!==null&&tc(Ei)&&(Ei=null),fl.forEach(Zy),hl.forEach(Zy)}function ba(t,e){t.blockedOn===e&&(t.blockedOn=null,Tp||(Tp=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,bP)))}function dl(t){function e(i){return ba(i,t)}if(0<xu.length){ba(xu[0],t);for(var n=1;n<xu.length;n++){var r=xu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&ba(yi,t),_i!==null&&ba(_i,t),Ei!==null&&ba(Ei,t),fl.forEach(e),hl.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)Pw(n),n.blockedOn===null&&li.shift()}var as=Hr.ReactCurrentBatchConfig,xc=!0;function SP(t,e,n,r){var i=Ge,o=as.transition;as.transition=null;try{Ge=1,fg(t,e,n,r)}finally{Ge=i,as.transition=o}}function AP(t,e,n,r){var i=Ge,o=as.transition;as.transition=null;try{Ge=4,fg(t,e,n,r)}finally{Ge=i,as.transition=o}}function fg(t,e,n,r){if(xc){var i=bp(t,e,n,r);if(i===null)dd(t,e,r,Nc,n),Jy(t,r);else if(TP(i,t,e,n,r))r.stopPropagation();else if(Jy(t,r),e&4&&-1<wP.indexOf(t)){for(;i!==null;){var o=Bl(i);if(o!==null&&Sw(o),o=bp(t,e,n,r),o===null&&dd(t,e,r,Nc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else dd(t,e,r,null,n)}}var Nc=null;function bp(t,e,n,r){if(Nc=null,t=ag(r),t=io(t),t!==null)if(e=ko(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nc=t,null}function Rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hP()){case lg:return 1;case Ew:return 4;case kc:case dP:return 16;case ww:return 536870912;default:return 16}default:return 16}}var pi=null,hg=null,nc=null;function kw(){if(nc)return nc;var t,e=hg,n=e.length,r,i="value"in pi?pi.value:pi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return nc=i.slice(t,1<r?1-r:void 0)}function rc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function e_(){return!1}function Dn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nu:e_,this.isPropagationStopped=e_,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=Dn(qs),ql=ht({},qs,{view:0,detail:0}),OP=Dn(ql),id,od,Sa,$f=ht({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(id=t.screenX-Sa.screenX,od=t.screenY-Sa.screenY):od=id=0,Sa=t),id)},movementY:function(t){return"movementY"in t?t.movementY:od}}),t_=Dn($f),IP=ht({},$f,{dataTransfer:0}),PP=Dn(IP),RP=ht({},ql,{relatedTarget:0}),sd=Dn(RP),kP=ht({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=Dn(kP),xP=ht({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NP=Dn(xP),LP=ht({},qs,{data:0}),n_=Dn(LP),DP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jP[t])?!!e[t]:!1}function pg(){return FP}var UP=ht({},ql,{key:function(t){if(t.key){var e=DP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pg,charCode:function(t){return t.type==="keypress"?rc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VP=Dn(UP),qP=ht({},$f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r_=Dn(qP),BP=ht({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pg}),$P=Dn(BP),zP=ht({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),HP=Dn(zP),WP=ht({},$f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KP=Dn(WP),GP=[9,13,27,32],mg=jr&&"CompositionEvent"in window,Qa=null;jr&&"documentMode"in document&&(Qa=document.documentMode);var QP=jr&&"TextEvent"in window&&!Qa,Cw=jr&&(!mg||Qa&&8<Qa&&11>=Qa),i_=" ",o_=!1;function xw(t,e){switch(t){case"keyup":return GP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function YP(t,e){switch(t){case"compositionend":return Nw(e);case"keypress":return e.which!==32?null:(o_=!0,i_);case"textInput":return t=e.data,t===i_&&o_?null:t;default:return null}}function XP(t,e){if(Ko)return t==="compositionend"||!mg&&xw(t,e)?(t=kw(),nc=hg=pi=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cw&&e.locale!=="ko"?null:e.data;default:return null}}var JP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JP[t.type]:e==="textarea"}function Lw(t,e,n,r){fw(r),e=Lc(e,"onChange"),0<e.length&&(n=new dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ya=null,pl=null;function ZP(t){Hw(t,0)}function zf(t){var e=Yo(t);if(iw(e))return t}function eR(t,e){if(t==="change")return e}var Dw=!1;if(jr){var ad;if(jr){var ld="oninput"in document;if(!ld){var a_=document.createElement("div");a_.setAttribute("oninput","return;"),ld=typeof a_.oninput=="function"}ad=ld}else ad=!1;Dw=ad&&(!document.documentMode||9<document.documentMode)}function l_(){Ya&&(Ya.detachEvent("onpropertychange",Mw),pl=Ya=null)}function Mw(t){if(t.propertyName==="value"&&zf(pl)){var e=[];Lw(e,pl,t,ag(t)),mw(ZP,e)}}function tR(t,e,n){t==="focusin"?(l_(),Ya=e,pl=n,Ya.attachEvent("onpropertychange",Mw)):t==="focusout"&&l_()}function nR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zf(pl)}function rR(t,e){if(t==="click")return zf(e)}function iR(t,e){if(t==="input"||t==="change")return zf(e)}function oR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:oR;function ml(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!op.call(e,i)||!nr(t[i],e[i]))return!1}return!0}function u_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c_(t,e){var n=u_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u_(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=Ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ic(t.document)}return e}function gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sR(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&gg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=c_(n,o);var s=c_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aR=jr&&"documentMode"in document&&11>=document.documentMode,Go=null,Sp=null,Xa=null,Ap=!1;function f_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ap||Go==null||Go!==Ic(r)||(r=Go,"selectionStart"in r&&gg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xa&&ml(Xa,r)||(Xa=r,r=Lc(Sp,"onSelect"),0<r.length&&(e=new dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Go)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},ud={},Uw={};jr&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Hf(t){if(ud[t])return ud[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uw)return ud[t]=e[n];return t}var Vw=Hf("animationend"),qw=Hf("animationiteration"),Bw=Hf("animationstart"),$w=Hf("transitionend"),zw=new Map,h_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fi(t,e){zw.set(t,e),Ro(e,[t])}for(var cd=0;cd<h_.length;cd++){var fd=h_[cd],lR=fd.toLowerCase(),uR=fd[0].toUpperCase()+fd.slice(1);Fi(lR,"on"+uR)}Fi(Vw,"onAnimationEnd");Fi(qw,"onAnimationIteration");Fi(Bw,"onAnimationStart");Fi("dblclick","onDoubleClick");Fi("focusin","onFocus");Fi("focusout","onBlur");Fi($w,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function d_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lP(r,e,void 0,t),t.currentTarget=null}function Hw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;d_(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;d_(i,a,u),o=l}}}if(Rc)throw t=Ep,Rc=!1,Ep=null,t}function nt(t,e){var n=e[kp];n===void 0&&(n=e[kp]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function hd(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var Du="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[Du]){t[Du]=!0,ZE.forEach(function(n){n!=="selectionchange"&&(cR.has(n)||hd(n,!1,t),hd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Du]||(e[Du]=!0,hd("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(Rw(e)){case 1:var i=SP;break;case 4:i=AP;break;default:i=fg}n=i.bind(null,e,n,t),i=void 0,!_p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=io(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}mw(function(){var u=o,d=ag(n),f=[];e:{var h=zw.get(t);if(h!==void 0){var m=dg,y=t;switch(t){case"keypress":if(rc(n)===0)break e;case"keydown":case"keyup":m=VP;break;case"focusin":y="focus",m=sd;break;case"focusout":y="blur",m=sd;break;case"beforeblur":case"afterblur":m=sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=t_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$P;break;case Vw:case qw:case Bw:m=CP;break;case $w:m=HP;break;case"scroll":m=OP;break;case"wheel":m=KP;break;case"copy":case"cut":case"paste":m=NP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=r_}var v=(e&4)!==0,E=!v&&t==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var p=u,w;p!==null;){w=p;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,g!==null&&(_=cl(p,g),_!=null&&v.push(vl(p,_,w)))),E)break;p=p.return}0<v.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==vp&&(y=n.relatedTarget||n.fromElement)&&(io(y)||y[Fr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?io(y):null,y!==null&&(E=ko(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=t_,_="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=r_,_="onPointerLeave",g="onPointerEnter",p="pointer"),E=m==null?h:Yo(m),w=y==null?h:Yo(y),h=new v(_,p+"leave",m,n,d),h.target=E,h.relatedTarget=w,_=null,io(d)===u&&(v=new v(g,p+"enter",y,n,d),v.target=w,v.relatedTarget=E,_=v),E=_,m&&y)t:{for(v=m,g=y,p=0,w=v;w;w=Vo(w))p++;for(w=0,_=g;_;_=Vo(_))w++;for(;0<p-w;)v=Vo(v),p--;for(;0<w-p;)g=Vo(g),w--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Vo(v),g=Vo(g)}v=null}else v=null;m!==null&&p_(f,h,m,v,!1),y!==null&&E!==null&&p_(f,E,y,v,!0)}}e:{if(h=u?Yo(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var O=eR;else if(s_(h))if(Dw)O=iR;else{O=nR;var C=tR}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=rR);if(O&&(O=O(t,u))){Lw(f,O,n,d);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&hp(h,"number",h.value)}switch(C=u?Yo(u):window,t){case"focusin":(s_(C)||C.contentEditable==="true")&&(Go=C,Sp=u,Xa=null);break;case"focusout":Xa=Sp=Go=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,f_(f,n,d);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":f_(f,n,d)}var A;if(mg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ko?xw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Cw&&n.locale!=="ko"&&(Ko||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ko&&(A=kw()):(pi=d,hg="value"in pi?pi.value:pi.textContent,Ko=!0)),C=Lc(u,b),0<C.length&&(b=new n_(b,t,null,n,d),f.push({event:b,listeners:C}),A?b.data=A:(A=Nw(n),A!==null&&(b.data=A)))),(A=QP?YP(t,n):XP(t,n))&&(u=Lc(u,"onBeforeInput"),0<u.length&&(d=new n_("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}Hw(f,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cl(t,n),o!=null&&r.unshift(vl(t,o,i)),o=cl(t,e),o!=null&&r.push(vl(t,o,i))),t=t.return}return r}function Vo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function p_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,o),l!=null&&s.unshift(vl(n,l,a))):i||(l=cl(n,o),l!=null&&s.push(vl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var fR=/\r\n?/g,hR=/\u0000|\uFFFD/g;function m_(t){return(typeof t=="string"?t:""+t).replace(fR,`
`).replace(hR,"")}function Mu(t,e,n){if(e=m_(e),m_(t)!==e&&n)throw Error(le(425))}function Dc(){}var Op=null,Ip=null;function Pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rp=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(t){return g_.resolve(null).then(t).catch(mR)}:Rp;function mR(t){setTimeout(function(){throw t})}function pd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dl(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function v_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),hr="__reactFiber$"+Bs,yl="__reactProps$"+Bs,Fr="__reactContainer$"+Bs,kp="__reactEvents$"+Bs,gR="__reactListeners$"+Bs,vR="__reactHandles$"+Bs;function io(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=v_(t);t!==null;){if(n=t[hr])return n;t=v_(t)}return e}t=n,n=t.parentNode}return null}function Bl(t){return t=t[hr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Wf(t){return t[yl]||null}var Cp=[],Xo=-1;function Ui(t){return{current:t}}function ot(t){0>Xo||(t.current=Cp[Xo],Cp[Xo]=null,Xo--)}function et(t,e){Xo++,Cp[Xo]=t.current,t.current=e}var Ni={},rn=Ui(Ni),En=Ui(!1),go=Ni;function _s(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Mc(){ot(En),ot(rn)}function y_(t,e,n){if(rn.current!==Ni)throw Error(le(168));et(rn,e),et(En,n)}function Kw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,tP(t)||"Unknown",i));return ht({},n,r)}function jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,go=rn.current,et(rn,t),et(En,En.current),!0}function __(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=Kw(t,e,go),r.__reactInternalMemoizedMergedChildContext=t,ot(En),ot(rn),et(rn,t)):ot(En),et(En,n)}var Ir=null,Kf=!1,md=!1;function Gw(t){Ir===null?Ir=[t]:Ir.push(t)}function yR(t){Kf=!0,Gw(t)}function Vi(){if(!md&&Ir!==null){md=!0;var t=0,e=Ge;try{var n=Ir;for(Ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Kf=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),_w(lg,Vi),i}finally{Ge=e,md=!1}}return null}var Jo=[],Zo=0,Fc=null,Uc=0,Fn=[],Un=0,vo=null,Pr=1,Rr="";function Zi(t,e){Jo[Zo++]=Uc,Jo[Zo++]=Fc,Fc=t,Uc=e}function Qw(t,e,n){Fn[Un++]=Pr,Fn[Un++]=Rr,Fn[Un++]=vo,vo=t;var r=Pr;t=Rr;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var o=32-Zn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Pr=1<<32-Zn(e)+i|n<<i|r,Rr=o+t}else Pr=1<<o|n<<i|r,Rr=t}function vg(t){t.return!==null&&(Zi(t,1),Qw(t,1,0))}function yg(t){for(;t===Fc;)Fc=Jo[--Zo],Jo[Zo]=null,Uc=Jo[--Zo],Jo[Zo]=null;for(;t===vo;)vo=Fn[--Un],Fn[Un]=null,Rr=Fn[--Un],Fn[Un]=null,Pr=Fn[--Un],Fn[Un]=null}var kn=null,Pn=null,at=!1,Jn=null;function Yw(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function E_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Pn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vo!==null?{id:Pr,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Pn=null,!0):!1;default:return!1}}function xp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Np(t){if(at){var e=Pn;if(e){var n=e;if(!E_(t,e)){if(xp(t))throw Error(le(418));e=wi(n.nextSibling);var r=kn;e&&E_(t,e)?Yw(r,n):(t.flags=t.flags&-4097|2,at=!1,kn=t)}}else{if(xp(t))throw Error(le(418));t.flags=t.flags&-4097|2,at=!1,kn=t}}}function w_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function ju(t){if(t!==kn)return!1;if(!at)return w_(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pp(t.type,t.memoizedProps)),e&&(e=Pn)){if(xp(t))throw Xw(),Error(le(418));for(;e;)Yw(t,e),e=wi(e.nextSibling)}if(w_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=kn?wi(t.stateNode.nextSibling):null;return!0}function Xw(){for(var t=Pn;t;)t=wi(t.nextSibling)}function Es(){Pn=kn=null,at=!1}function _g(t){Jn===null?Jn=[t]:Jn.push(t)}var _R=Hr.ReactCurrentBatchConfig;function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T_(t){var e=t._init;return e(t._payload)}function Jw(t){function e(g,p){if(t){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ai(g,p),g.index=0,g.sibling=null,g}function o(g,p,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,w,_){return p===null||p.tag!==6?(p=Td(w,g.mode,_),p.return=g,p):(p=i(p,w),p.return=g,p)}function l(g,p,w,_){var O=w.type;return O===Wo?d(g,p,w.props.children,_,w.key):p!==null&&(p.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&T_(O)===p.type)?(_=i(p,w.props),_.ref=Aa(g,p,w),_.return=g,_):(_=cc(w.type,w.key,w.props,null,g.mode,_),_.ref=Aa(g,p,w),_.return=g,_)}function u(g,p,w,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=bd(w,g.mode,_),p.return=g,p):(p=i(p,w.children||[]),p.return=g,p)}function d(g,p,w,_,O){return p===null||p.tag!==7?(p=ho(w,g.mode,_,O),p.return=g,p):(p=i(p,w),p.return=g,p)}function f(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Td(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Iu:return w=cc(p.type,p.key,p.props,null,g.mode,w),w.ref=Aa(g,null,p),w.return=g,w;case Ho:return p=bd(p,g.mode,w),p.return=g,p;case ii:var _=p._init;return f(g,_(p._payload),w)}if(Fa(p)||Ea(p))return p=ho(p,g.mode,w,null),p.return=g,p;Fu(g,p)}return null}function h(g,p,w,_){var O=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(g,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Iu:return w.key===O?l(g,p,w,_):null;case Ho:return w.key===O?u(g,p,w,_):null;case ii:return O=w._init,h(g,p,O(w._payload),_)}if(Fa(w)||Ea(w))return O!==null?null:d(g,p,w,_,null);Fu(g,w)}return null}function m(g,p,w,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(w)||null,a(p,g,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Iu:return g=g.get(_.key===null?w:_.key)||null,l(p,g,_,O);case Ho:return g=g.get(_.key===null?w:_.key)||null,u(p,g,_,O);case ii:var C=_._init;return m(g,p,w,C(_._payload),O)}if(Fa(_)||Ea(_))return g=g.get(w)||null,d(p,g,_,O,null);Fu(p,_)}return null}function y(g,p,w,_){for(var O=null,C=null,A=p,b=p=0,P=null;A!==null&&b<w.length;b++){A.index>b?(P=A,A=null):P=A.sibling;var T=h(g,A,w[b],_);if(T===null){A===null&&(A=P);break}t&&A&&T.alternate===null&&e(g,A),p=o(T,p,b),C===null?O=T:C.sibling=T,C=T,A=P}if(b===w.length)return n(g,A),at&&Zi(g,b),O;if(A===null){for(;b<w.length;b++)A=f(g,w[b],_),A!==null&&(p=o(A,p,b),C===null?O=A:C.sibling=A,C=A);return at&&Zi(g,b),O}for(A=r(g,A);b<w.length;b++)P=m(A,g,b,w[b],_),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?b:P.key),p=o(P,p,b),C===null?O=P:C.sibling=P,C=P);return t&&A.forEach(function(S){return e(g,S)}),at&&Zi(g,b),O}function v(g,p,w,_){var O=Ea(w);if(typeof O!="function")throw Error(le(150));if(w=O.call(w),w==null)throw Error(le(151));for(var C=O=null,A=p,b=p=0,P=null,T=w.next();A!==null&&!T.done;b++,T=w.next()){A.index>b?(P=A,A=null):P=A.sibling;var S=h(g,A,T.value,_);if(S===null){A===null&&(A=P);break}t&&A&&S.alternate===null&&e(g,A),p=o(S,p,b),C===null?O=S:C.sibling=S,C=S,A=P}if(T.done)return n(g,A),at&&Zi(g,b),O;if(A===null){for(;!T.done;b++,T=w.next())T=f(g,T.value,_),T!==null&&(p=o(T,p,b),C===null?O=T:C.sibling=T,C=T);return at&&Zi(g,b),O}for(A=r(g,A);!T.done;b++,T=w.next())T=m(A,g,b,T.value,_),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?b:T.key),p=o(T,p,b),C===null?O=T:C.sibling=T,C=T);return t&&A.forEach(function(R){return e(g,R)}),at&&Zi(g,b),O}function E(g,p,w,_){if(typeof w=="object"&&w!==null&&w.type===Wo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Iu:e:{for(var O=w.key,C=p;C!==null;){if(C.key===O){if(O=w.type,O===Wo){if(C.tag===7){n(g,C.sibling),p=i(C,w.props.children),p.return=g,g=p;break e}}else if(C.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&T_(O)===C.type){n(g,C.sibling),p=i(C,w.props),p.ref=Aa(g,C,w),p.return=g,g=p;break e}n(g,C);break}else e(g,C);C=C.sibling}w.type===Wo?(p=ho(w.props.children,g.mode,_,w.key),p.return=g,g=p):(_=cc(w.type,w.key,w.props,null,g.mode,_),_.ref=Aa(g,p,w),_.return=g,g=_)}return s(g);case Ho:e:{for(C=w.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(g,p.sibling),p=i(p,w.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=bd(w,g.mode,_),p.return=g,g=p}return s(g);case ii:return C=w._init,E(g,p,C(w._payload),_)}if(Fa(w))return y(g,p,w,_);if(Ea(w))return v(g,p,w,_);Fu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,w),p.return=g,g=p):(n(g,p),p=Td(w,g.mode,_),p.return=g,g=p),s(g)):n(g,p)}return E}var ws=Jw(!0),Zw=Jw(!1),Vc=Ui(null),qc=null,es=null,Eg=null;function wg(){Eg=es=qc=null}function Tg(t){var e=Vc.current;ot(Vc),t._currentValue=e}function Lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ls(t,e){qc=t,Eg=es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(Eg!==t)if(t={context:t,memoizedValue:e,next:null},es===null){if(qc===null)throw Error(le(308));es=t,qc.dependencies={lanes:0,firstContext:t}}else es=es.next=t;return e}var oo=null;function bg(t){oo===null?oo=[t]:oo.push(t)}function eT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function Sg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ur(t,n)}return i=r.interleaved,i===null?(e.next=e,bg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ur(t,n)}function ic(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ug(t,n)}}function b_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bc(t,e,n,r){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,m=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=ht({},f,h);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);_o|=s,t.lanes=s,t.memoizedState=f}}function S_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var $l={},pr=Ui($l),_l=Ui($l),El=Ui($l);function so(t){if(t===$l)throw Error(le(174));return t}function Ag(t,e){switch(et(El,e),et(_l,t),et(pr,$l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pp(e,t)}ot(pr),et(pr,e)}function Ts(){ot(pr),ot(_l),ot(El)}function nT(t){so(El.current);var e=so(pr.current),n=pp(e,t.type);e!==n&&(et(_l,t),et(pr,n))}function Og(t){_l.current===t&&(ot(pr),ot(_l))}var ct=Ui(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function Ig(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var oc=Hr.ReactCurrentDispatcher,vd=Hr.ReactCurrentBatchConfig,yo=0,ft=null,It=null,Lt=null,zc=!1,Ja=!1,wl=0,ER=0;function Qt(){throw Error(le(321))}function Pg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function Rg(t,e,n,r,i,o){if(yo=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oc.current=t===null||t.memoizedState===null?SR:AR,t=n(r,i),Ja){o=0;do{if(Ja=!1,wl=0,25<=o)throw Error(le(301));o+=1,Lt=It=null,e.updateQueue=null,oc.current=OR,t=n(r,i)}while(Ja)}if(oc.current=Hc,e=It!==null&&It.next!==null,yo=0,Lt=It=ft=null,zc=!1,e)throw Error(le(300));return t}function kg(){var t=wl!==0;return wl=0,t}function fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function $n(){if(It===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Lt===null?ft.memoizedState:Lt.next;if(e!==null)Lt=e,It=t;else{if(t===null)throw Error(le(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Lt===null?ft.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Tl(t,e){return typeof e=="function"?e(t):e}function yd(t){var e=$n(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=It,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((yo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=d,_o|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,nr(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,_o|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _d(t){var e=$n(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);nr(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function rT(){}function iT(t,e){var n=ft,r=$n(),i=e(),o=!nr(r.memoizedState,i);if(o&&(r.memoizedState=i,_n=!0),r=r.queue,Cg(aT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Lt!==null&&Lt.memoizedState.tag&1){if(n.flags|=2048,bl(9,sT.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(le(349));yo&30||oT(n,e,i)}return i}function oT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sT(t,e,n,r){e.value=n,e.getSnapshot=r,lT(e)&&uT(t)}function aT(t,e,n){return n(function(){lT(e)&&uT(t)})}function lT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function uT(t){var e=Ur(t,1);e!==null&&er(e,t,1,-1)}function A_(t){var e=fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=bR.bind(null,ft,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cT(){return $n().memoizedState}function sc(t,e,n,r){var i=fr();ft.flags|=t,i.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function Gf(t,e,n,r){var i=$n();r=r===void 0?null:r;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,r!==null&&Pg(r,s.deps)){i.memoizedState=bl(e,n,o,r);return}}ft.flags|=t,i.memoizedState=bl(1|e,n,o,r)}function O_(t,e){return sc(8390656,8,t,e)}function Cg(t,e){return Gf(2048,8,t,e)}function fT(t,e){return Gf(4,2,t,e)}function hT(t,e){return Gf(4,4,t,e)}function dT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pT(t,e,n){return n=n!=null?n.concat([t]):null,Gf(4,4,dT.bind(null,e,t),n)}function xg(){}function mT(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gT(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vT(t,e,n){return yo&21?(nr(n,e)||(n=Tw(),ft.lanes|=n,_o|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function wR(t,e){var n=Ge;Ge=n!==0&&4>n?n:4,t(!0);var r=vd.transition;vd.transition={};try{t(!1),e()}finally{Ge=n,vd.transition=r}}function yT(){return $n().memoizedState}function TR(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_T(t))ET(e,n);else if(n=eT(t,e,n,r),n!==null){var i=un();er(n,t,r,i),wT(n,e,r)}}function bR(t,e,n){var r=Si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_T(t))ET(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,nr(a,s)){var l=e.interleaved;l===null?(i.next=i,bg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eT(t,e,i,r),n!==null&&(i=un(),er(n,t,r,i),wT(n,e,r))}}function _T(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function ET(t,e){Ja=zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ug(t,n)}}var Hc={readContext:Bn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},SR={readContext:Bn,useCallback:function(t,e){return fr().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:O_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sc(4194308,4,dT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return sc(4,2,t,e)},useMemo:function(t,e){var n=fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TR.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=fr();return t={current:t},e.memoizedState=t},useState:A_,useDebugValue:xg,useDeferredValue:function(t){return fr().memoizedState=t},useTransition:function(){var t=A_(!1),e=t[0];return t=wR.bind(null,t[1]),fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=fr();if(at){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Dt===null)throw Error(le(349));yo&30||oT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,O_(aT.bind(null,r,o,t),[t]),r.flags|=2048,bl(9,sT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=fr(),e=Dt.identifierPrefix;if(at){var n=Rr,r=Pr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ER++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AR={readContext:Bn,useCallback:mT,useContext:Bn,useEffect:Cg,useImperativeHandle:pT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:yd,useRef:cT,useState:function(){return yd(Tl)},useDebugValue:xg,useDeferredValue:function(t){var e=$n();return vT(e,It.memoizedState,t)},useTransition:function(){var t=yd(Tl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:yT,unstable_isNewReconciler:!1},OR={readContext:Bn,useCallback:mT,useContext:Bn,useEffect:Cg,useImperativeHandle:pT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:_d,useRef:cT,useState:function(){return _d(Tl)},useDebugValue:xg,useDeferredValue:function(t){var e=$n();return It===null?e.memoizedState=t:vT(e,It.memoizedState,t)},useTransition:function(){var t=_d(Tl)[0],e=$n().memoizedState;return[t,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:yT,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qf={isMounted:function(t){return(t=t._reactInternals)?ko(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=Si(t),o=Lr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(er(e,t,i,r),ic(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=Si(t),o=Lr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(er(e,t,i,r),ic(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=Si(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(er(e,t,r,n),ic(e,t,r))}};function I_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,o):!0}function TT(t,e,n){var r=!1,i=Ni,o=e.contextType;return typeof o=="object"&&o!==null?o=Bn(o):(i=wn(e)?go:rn.current,r=e.contextTypes,o=(r=r!=null)?_s(t,i):Ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function P_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qf.enqueueReplaceState(e,e.state,null)}function Mp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Sg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Bn(o):(o=wn(e)?go:rn.current,i.context=_s(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Dp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qf.enqueueReplaceState(i,i.state,null),Bc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e){try{var n="",r=e;do n+=eP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IR=typeof WeakMap=="function"?WeakMap:Map;function bT(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kc||(Kc=!0,Kp=r),jp(t,e)},n}function ST(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jp(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function R_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qR.bind(null,t,e,n),e.then(t,t))}function k_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function C_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var PR=Hr.ReactCurrentOwner,_n=!1;function ln(t,e,n,r){e.child=t===null?Zw(e,null,n,r):ws(e,t.child,n,r)}function x_(t,e,n,r,i){n=n.render;var o=e.ref;return ls(e,i),r=Rg(t,e,n,r,o,i),n=kg(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(at&&n&&vg(e),e.flags|=1,ln(t,e,r,i),e.child)}function N_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AT(t,e,o,r,i)):(t=cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(s,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=Ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function AT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ml(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return Fp(t,e,n,r,i)}function OT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(ns,In),In|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(ns,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(ns,In),In|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(ns,In),In|=r;return ln(t,e,i,n),e.child}function IT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fp(t,e,n,r,i){var o=wn(n)?go:rn.current;return o=_s(e,o),ls(e,i),n=Rg(t,e,n,r,o,i),r=kg(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(at&&r&&vg(e),e.flags|=1,ln(t,e,n,i),e.child)}function L_(t,e,n,r,i){if(wn(n)){var o=!0;jc(e)}else o=!1;if(ls(e,i),e.stateNode===null)ac(t,e),TT(e,n,r),Mp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=wn(n)?go:rn.current,u=_s(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&P_(e,s,r,u),oi=!1;var h=e.memoizedState;s.state=h,Bc(e,r,s,i),l=e.memoizedState,a!==r||h!==l||En.current||oi?(typeof d=="function"&&(Dp(e,n,d,r),l=e.memoizedState),(a=oi||I_(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,tT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=wn(n)?go:rn.current,l=_s(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&P_(e,s,r,l),oi=!1,h=e.memoizedState,s.state=h,Bc(e,r,s,i);var y=e.memoizedState;a!==f||h!==y||En.current||oi?(typeof m=="function"&&(Dp(e,n,m,r),y=e.memoizedState),(u=oi||I_(e,n,u,r,h,y,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Up(t,e,n,r,o,i)}function Up(t,e,n,r,i,o){IT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&__(e,n,!1),Vr(t,e,o);r=e.stateNode,PR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ws(e,t.child,null,o),e.child=ws(e,null,a,o)):ln(t,e,a,o),e.memoizedState=r.state,i&&__(e,n,!0),e.child}function PT(t){var e=t.stateNode;e.pendingContext?y_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y_(t,e.context,!1),Ag(t,e.containerInfo)}function D_(t,e,n,r,i){return Es(),_g(i),e.flags|=256,ln(t,e,n,r),e.child}var Vp={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function RT(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(ct,i&1),t===null)return Np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Jf(s,r,0,null),t=ho(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qp(n),e.memoizedState=Vp,t):Ng(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ai(a,o):(o=ho(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Vp,r}return o=t.child,t=o.sibling,r=Ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ng(t,e){return e=Jf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&_g(r),ws(e,t.child,null,n),t=Ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ed(Error(le(422))),Uu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Jf({mode:"visible",children:r.children},i,0,null),o=ho(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ws(e,t.child,null,s),e.child.memoizedState=qp(s),e.memoizedState=Vp,o);if(!(e.mode&1))return Uu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(le(419)),r=Ed(o,r,void 0),Uu(t,e,s,r)}if(a=(s&t.childLanes)!==0,_n||a){if(r=Dt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ur(t,i),er(r,t,i,-1))}return Ug(),r=Ed(Error(le(421))),Uu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pn=wi(i.nextSibling),kn=e,at=!0,Jn=null,t!==null&&(Fn[Un++]=Pr,Fn[Un++]=Rr,Fn[Un++]=vo,Pr=t.id,Rr=t.overflow,vo=e),e=Ng(e,r.children),e.flags|=4096,e)}function M_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lp(t.return,e,n)}function wd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ln(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&M_(t,n,e);else if(t.tag===19)M_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wd(e,!0,n,null,o);break;case"together":wd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ac(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kR(t,e,n){switch(e.tag){case 3:PT(e),Es();break;case 5:nT(e);break;case 1:wn(e.type)&&jc(e);break;case 4:Ag(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(Vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?RT(t,e,n):(et(ct,ct.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);et(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,OT(t,e,n)}return Vr(t,e,n)}var CT,Bp,xT,NT;CT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};xT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,so(pr.current);var o=null;switch(n){case"input":i=cp(t,i),r=cp(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=dp(t,i),r=dp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dc)}mp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};NT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CR(t,e,n){var r=e.pendingProps;switch(yg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return wn(e.type)&&Mc(),Yt(e),null;case 3:return r=e.stateNode,Ts(),ot(En),ot(rn),Ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(Yp(Jn),Jn=null))),Bp(t,e),Yt(e),null;case 5:Og(e);var i=so(El.current);if(n=e.type,t!==null&&e.stateNode!=null)xT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Yt(e),null}if(t=so(pr.current),ju(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[hr]=e,r[yl]=o,t=(e.mode&1)!==0,n){case"dialog":nt("cancel",r),nt("close",r);break;case"iframe":case"object":case"embed":nt("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)nt(Va[i],r);break;case"source":nt("error",r);break;case"img":case"image":case"link":nt("error",r),nt("load",r);break;case"details":nt("toggle",r);break;case"input":Hy(r,o),nt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},nt("invalid",r);break;case"textarea":Ky(r,o),nt("invalid",r)}mp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nt("scroll",r)}switch(n){case"input":Pu(r),Wy(r,o,!0);break;case"textarea":Pu(r),Gy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[hr]=e,t[yl]=r,CT(t,e,!1,!1),e.stateNode=t;e:{switch(s=gp(n,r),n){case"dialog":nt("cancel",t),nt("close",t),i=r;break;case"iframe":case"object":case"embed":nt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)nt(Va[i],t);i=r;break;case"source":nt("error",t),i=r;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=r;break;case"details":nt("toggle",t),i=r;break;case"input":Hy(t,r),i=cp(t,r),nt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),nt("invalid",t);break;case"textarea":Ky(t,r),i=dp(t,r),nt("invalid",t);break;default:i=r}mp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?cw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ll.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nt("scroll",t):l!=null&&rg(t,o,l,s))}switch(n){case"input":Pu(t),Wy(t,r,!1);break;case"textarea":Pu(t),Gy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?is(t,!!r.multiple,o,!1):r.defaultValue!=null&&is(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)NT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=so(El.current),so(pr.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(o=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Mu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Yt(e),null;case 13:if(ot(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Pn!==null&&e.mode&1&&!(e.flags&128))Xw(),Es(),e.flags|=98560,o=!1;else if(o=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[hr]=e}else Es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else Jn!==null&&(Yp(Jn),Jn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Pt===0&&(Pt=3):Ug())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Ts(),Bp(t,e),t===null&&gl(e.stateNode.containerInfo),Yt(e),null;case 10:return Tg(e.type._context),Yt(e),null;case 17:return wn(e.type)&&Mc(),Yt(e),null;case 19:if(ot(ct),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Oa(o,!1);else{if(Pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=$c(t),s!==null){for(e.flags|=128,Oa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&wt()>Ss&&(e.flags|=128,r=!0,Oa(o,!1),e.lanes=4194304)}else{if(!r)if(t=$c(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Yt(e),null}else 2*wt()-o.renderingStartTime>Ss&&n!==1073741824&&(e.flags|=128,r=!0,Oa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wt(),e.sibling=null,n=ct.current,et(ct,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Fg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?In&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function xR(t,e){switch(yg(e),e.tag){case 1:return wn(e.type)&&Mc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ts(),ot(En),ot(rn),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Og(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Ts(),null;case 10:return Tg(e.type._context),null;case 22:case 23:return Fg(),null;case 24:return null;default:return null}}var Vu=!1,en=!1,NR=typeof WeakSet=="function"?WeakSet:Set,me=null;function ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function $p(t,e,n){try{n()}catch(r){vt(t,e,r)}}var j_=!1;function LR(t,e){if(Op=xc,t=Fw(),gg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ip={focusedElem:t,selectionRange:n},xc=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,E=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yn(e.type,v),E);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(_){vt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return y=j_,j_=!1,y}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&$p(e,n,o)}i=i.next}while(i!==r)}}function Yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LT(t){var e=t.alternate;e!==null&&(t.alternate=null,LT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[yl],delete e[kp],delete e[gR],delete e[vR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DT(t){return t.tag===5||t.tag===3||t.tag===4}function F_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dc));else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}function Wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wp(t,e,n),t=t.sibling;t!==null;)Wp(t,e,n),t=t.sibling}var Ft=null,Xn=!1;function ei(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Bf,n)}catch{}switch(n.tag){case 5:en||ts(n,e);case 6:var r=Ft,i=Xn;Ft=null,ei(t,e,n),Ft=r,Xn=i,Ft!==null&&(Xn?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Xn?(t=Ft,n=n.stateNode,t.nodeType===8?pd(t.parentNode,n):t.nodeType===1&&pd(t,n),dl(t)):pd(Ft,n.stateNode));break;case 4:r=Ft,i=Xn,Ft=n.stateNode.containerInfo,Xn=!0,ei(t,e,n),Ft=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&$p(n,e,s),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!en&&(ts(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,ei(t,e,n),en=r):ei(t,e,n);break;default:ei(t,e,n)}}function U_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NR),e.forEach(function(r){var i=$R.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,Xn=!1;break e;case 3:Ft=a.stateNode.containerInfo,Xn=!0;break e;case 4:Ft=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(Ft===null)throw Error(le(160));MT(o,s,i),Ft=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jT(e,t),e=e.sibling}function jT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gn(e,t),ur(t),r&4){try{Za(3,t,t.return),Yf(3,t)}catch(v){vt(t,t.return,v)}try{Za(5,t,t.return)}catch(v){vt(t,t.return,v)}}break;case 1:Gn(e,t),ur(t),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Gn(e,t),ur(t),r&512&&n!==null&&ts(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(v){vt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ow(i,o),gp(a,s);var u=gp(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?cw(i,f):d==="dangerouslySetInnerHTML"?lw(i,f):d==="children"?ul(i,f):rg(i,d,f,u)}switch(a){case"input":fp(i,o);break;case"textarea":sw(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?is(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?is(i,!!o.multiple,o.defaultValue,!0):is(i,!!o.multiple,o.multiple?[]:"",!1))}i[yl]=o}catch(v){vt(t,t.return,v)}}break;case 6:if(Gn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){vt(t,t.return,v)}}break;case 3:if(Gn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(v){vt(t,t.return,v)}break;case 4:Gn(e,t),ur(t);break;case 13:Gn(e,t),ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Mg=wt())),r&4&&U_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||d,Gn(e,t),en=u):Gn(e,t),ur(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(f=me=d;me!==null;){switch(h=me,m=h.child,h.tag){case 0:case 11:case 14:case 15:Za(4,h,h.return);break;case 1:ts(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){vt(r,n,v)}}break;case 5:ts(h,h.return);break;case 22:if(h.memoizedState!==null){q_(f);continue}}m!==null?(m.return=h,me=m):q_(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uw("display",s))}catch(v){vt(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){vt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gn(e,t),ur(t),r&4&&U_(t);break;case 21:break;default:Gn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DT(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var o=F_(t);Wp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=F_(t);Hp(t,a,s);break;default:throw Error(le(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DR(t,e,n){me=t,FT(t)}function FT(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Vu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=Vu;var u=en;if(Vu=s,(en=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?B_(i):l!==null?(l.return=s,me=l):B_(i);for(;o!==null;)me=o,FT(o),o=o.sibling;me=i,Vu=a,en=u}V_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):V_(t)}}function V_(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&S_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}S_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&dl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}en||e.flags&512&&zp(e)}catch(h){vt(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function q_(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function B_(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yf(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var o=e.return;try{zp(e)}catch(l){vt(e,o,l)}break;case 5:var s=e.return;try{zp(e)}catch(l){vt(e,s,l)}}}catch(l){vt(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var MR=Math.ceil,Wc=Hr.ReactCurrentDispatcher,Lg=Hr.ReactCurrentOwner,qn=Hr.ReactCurrentBatchConfig,Be=0,Dt=null,St=null,Bt=0,In=0,ns=Ui(0),Pt=0,Sl=null,_o=0,Xf=0,Dg=0,el=null,vn=null,Mg=0,Ss=1/0,Or=null,Kc=!1,Kp=null,bi=null,qu=!1,mi=null,Gc=0,tl=0,Gp=null,lc=-1,uc=0;function un(){return Be&6?wt():lc!==-1?lc:lc=wt()}function Si(t){return t.mode&1?Be&2&&Bt!==0?Bt&-Bt:_R.transition!==null?(uc===0&&(uc=Tw()),uc):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:Rw(t.type)),t):1}function er(t,e,n,r){if(50<tl)throw tl=0,Gp=null,Error(le(185));Vl(t,n,r),(!(Be&2)||t!==Dt)&&(t===Dt&&(!(Be&2)&&(Xf|=n),Pt===4&&ui(t,Bt)),Tn(t,r),n===1&&Be===0&&!(e.mode&1)&&(Ss=wt()+500,Kf&&Vi()))}function Tn(t,e){var n=t.callbackNode;_P(t,e);var r=Cc(t,t===Dt?Bt:0);if(r===0)n!==null&&Xy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xy(n),e===1)t.tag===0?yR($_.bind(null,t)):Gw($_.bind(null,t)),pR(function(){!(Be&6)&&Vi()}),n=null;else{switch(bw(r)){case 1:n=lg;break;case 4:n=Ew;break;case 16:n=kc;break;case 536870912:n=ww;break;default:n=kc}n=WT(n,UT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UT(t,e){if(lc=-1,uc=0,Be&6)throw Error(le(327));var n=t.callbackNode;if(us()&&t.callbackNode!==n)return null;var r=Cc(t,t===Dt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var i=Be;Be|=2;var o=qT();(Dt!==t||Bt!==e)&&(Or=null,Ss=wt()+500,fo(t,e));do try{UR();break}catch(a){VT(t,a)}while(!0);wg(),Wc.current=o,Be=i,St!==null?e=0:(Dt=null,Bt=0,e=Pt)}if(e!==0){if(e===2&&(i=wp(t),i!==0&&(r=i,e=Qp(t,i))),e===1)throw n=Sl,fo(t,0),ui(t,r),Tn(t,wt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!jR(i)&&(e=Qc(t,r),e===2&&(o=wp(t),o!==0&&(r=o,e=Qp(t,o))),e===1))throw n=Sl,fo(t,0),ui(t,r),Tn(t,wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:eo(t,vn,Or);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=Mg+500-wt(),10<e)){if(Cc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rp(eo.bind(null,t,vn,Or),e);break}eo(t,vn,Or);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Zn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MR(r/1960))-r,10<r){t.timeoutHandle=Rp(eo.bind(null,t,vn,Or),r);break}eo(t,vn,Or);break;case 5:eo(t,vn,Or);break;default:throw Error(le(329))}}}return Tn(t,wt()),t.callbackNode===n?UT.bind(null,t):null}function Qp(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(fo(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=vn,vn=n,e!==null&&Yp(e)),t}function Yp(t){vn===null?vn=t:vn.push.apply(vn,t)}function jR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!nr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~Dg,e&=~Xf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function $_(t){if(Be&6)throw Error(le(327));us();var e=Cc(t,0);if(!(e&1))return Tn(t,wt()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=wp(t);r!==0&&(e=r,n=Qp(t,r))}if(n===1)throw n=Sl,fo(t,0),ui(t,e),Tn(t,wt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,eo(t,vn,Or),Tn(t,wt()),null}function jg(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(Ss=wt()+500,Kf&&Vi())}}function Eo(t){mi!==null&&mi.tag===0&&!(Be&6)&&us();var e=Be;Be|=1;var n=qn.transition,r=Ge;try{if(qn.transition=null,Ge=1,t)return t()}finally{Ge=r,qn.transition=n,Be=e,!(Be&6)&&Vi()}}function Fg(){In=ns.current,ot(ns)}function fo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dR(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(yg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mc();break;case 3:Ts(),ot(En),ot(rn),Ig();break;case 5:Og(r);break;case 4:Ts();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:Tg(r.type._context);break;case 22:case 23:Fg()}n=n.return}if(Dt=t,St=t=Ai(t.current,null),Bt=In=e,Pt=0,Sl=null,Dg=Xf=_o=0,vn=el=null,oo!==null){for(e=0;e<oo.length;e++)if(n=oo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}oo=null}return t}function VT(t,e){do{var n=St;try{if(wg(),oc.current=Hc,zc){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zc=!1}if(yo=0,Lt=It=ft=null,Ja=!1,wl=0,Lg.current=null,n===null||n.return===null){Pt=1,Sl=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=k_(s);if(m!==null){m.flags&=-257,C_(m,s,a,o,e),m.mode&1&&R_(o,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){R_(o,u,e),Ug();break e}l=Error(le(426))}}else if(at&&a.mode&1){var E=k_(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),C_(E,s,a,o,e),_g(bs(l,a));break e}}o=l=bs(l,a),Pt!==4&&(Pt=2),el===null?el=[o]:el.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=bT(o,l,e);b_(o,g);break e;case 1:a=l;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(bi===null||!bi.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var _=ST(o,a,e);b_(o,_);break e}}o=o.return}while(o!==null)}$T(n)}catch(O){e=O,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function qT(){var t=Wc.current;return Wc.current=Hc,t===null?Hc:t}function Ug(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Dt===null||!(_o&268435455)&&!(Xf&268435455)||ui(Dt,Bt)}function Qc(t,e){var n=Be;Be|=2;var r=qT();(Dt!==t||Bt!==e)&&(Or=null,fo(t,e));do try{FR();break}catch(i){VT(t,i)}while(!0);if(wg(),Be=n,Wc.current=r,St!==null)throw Error(le(261));return Dt=null,Bt=0,Pt}function FR(){for(;St!==null;)BT(St)}function UR(){for(;St!==null&&!cP();)BT(St)}function BT(t){var e=HT(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?$T(t):St=e,Lg.current=null}function $T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xR(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pt=6,St=null;return}}else if(n=CR(n,e,In),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Pt===0&&(Pt=5)}function eo(t,e,n){var r=Ge,i=qn.transition;try{qn.transition=null,Ge=1,VR(t,e,n,r)}finally{qn.transition=i,Ge=r}return null}function VR(t,e,n,r){do us();while(mi!==null);if(Be&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(EP(t,o),t===Dt&&(St=Dt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,WT(kc,function(){return us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qn.transition,qn.transition=null;var s=Ge;Ge=1;var a=Be;Be|=4,Lg.current=null,LR(t,n),jT(n,t),sR(Ip),xc=!!Op,Ip=Op=null,t.current=n,DR(n),fP(),Be=a,Ge=s,qn.transition=o}else t.current=n;if(qu&&(qu=!1,mi=t,Gc=i),o=t.pendingLanes,o===0&&(bi=null),pP(n.stateNode),Tn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,t=Kp,Kp=null,t;return Gc&1&&t.tag!==0&&us(),o=t.pendingLanes,o&1?t===Gp?tl++:(tl=0,Gp=t):tl=0,Vi(),null}function us(){if(mi!==null){var t=bw(Gc),e=qn.transition,n=Ge;try{if(qn.transition=null,Ge=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,Gc=0,Be&6)throw Error(le(331));var i=Be;for(Be|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Za(8,d,o)}var f=d.child;if(f!==null)f.return=d,me=f;else for(;me!==null;){d=me;var h=d.sibling,m=d.return;if(LT(d),d===u){me=null;break}if(h!==null){h.return=m,me=h;break}me=m}}}var y=o.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Za(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,me=g;break e}me=o.return}}var p=t.current;for(me=p;me!==null;){s=me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,me=w;else e:for(s=p;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yf(9,a)}}catch(O){vt(a,a.return,O)}if(a===s){me=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,me=_;break e}me=a.return}}if(Be=i,Vi(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Bf,t)}catch{}r=!0}return r}finally{Ge=n,qn.transition=e}}return!1}function z_(t,e,n){e=bs(n,e),e=bT(t,e,1),t=Ti(t,e,1),e=un(),t!==null&&(Vl(t,1,e),Tn(t,e))}function vt(t,e,n){if(t.tag===3)z_(t,t,n);else for(;e!==null;){if(e.tag===3){z_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=bs(n,t),t=ST(e,t,1),e=Ti(e,t,1),t=un(),e!==null&&(Vl(e,1,t),Tn(e,t));break}}e=e.return}}function qR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Bt&n)===n&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>wt()-Mg?fo(t,0):Dg|=n),Tn(t,e)}function zT(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=un();t=Ur(t,e),t!==null&&(Vl(t,e,n),Tn(t,n))}function BR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zT(t,n)}function $R(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),zT(t,n)}var HT;HT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,kR(t,e,n);_n=!!(t.flags&131072)}else _n=!1,at&&e.flags&1048576&&Qw(e,Uc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ac(t,e),t=e.pendingProps;var i=_s(e,rn.current);ls(e,n),i=Rg(null,e,r,t,i,n);var o=kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,jc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sg(e),i.updater=Qf,e.stateNode=i,i._reactInternals=e,Mp(e,r,t,n),e=Up(null,e,r,!0,o,n)):(e.tag=0,at&&o&&vg(e),ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ac(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HR(r),t=Yn(r,t),i){case 0:e=Fp(null,e,r,t,n);break e;case 1:e=L_(null,e,r,t,n);break e;case 11:e=x_(null,e,r,t,n);break e;case 14:e=N_(null,e,r,Yn(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Fp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),L_(t,e,r,i,n);case 3:e:{if(PT(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,i=o.element,tT(t,e),Bc(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bs(Error(le(423)),e),e=D_(t,e,r,n,i);break e}else if(r!==i){i=bs(Error(le(424)),e),e=D_(t,e,r,n,i);break e}else for(Pn=wi(e.stateNode.containerInfo.firstChild),kn=e,at=!0,Jn=null,n=Zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===i){e=Vr(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return nT(e),t===null&&Np(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Pp(r,i)?s=null:o!==null&&Pp(r,o)&&(e.flags|=32),IT(t,e),ln(t,e,s,n),e.child;case 6:return t===null&&Np(e),null;case 13:return RT(t,e,n);case 4:return Ag(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ws(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),x_(t,e,r,i,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,et(Vc,r._currentValue),r._currentValue=s,o!==null)if(nr(o.value,s)){if(o.children===i.children&&!En.current){e=Vr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Lp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(le(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Lp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ls(e,n),i=Bn(i),r=r(i),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),N_(t,e,r,i,n);case 15:return AT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),ac(t,e),e.tag=1,wn(r)?(t=!0,jc(e)):t=!1,ls(e,n),TT(e,r,i),Mp(e,r,i,n),Up(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return OT(t,e,n)}throw Error(le(156,e.tag))};function WT(t,e){return _w(t,e)}function zR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new zR(t,e,n,r)}function Vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HR(t){if(typeof t=="function")return Vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===og)return 11;if(t===sg)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wo:return ho(n.children,i,o,e);case ig:s=8,i|=8;break;case sp:return t=Vn(12,n,e,i|2),t.elementType=sp,t.lanes=o,t;case ap:return t=Vn(13,n,e,i),t.elementType=ap,t.lanes=o,t;case lp:return t=Vn(19,n,e,i),t.elementType=lp,t.lanes=o,t;case nw:return Jf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ew:s=10;break e;case tw:s=9;break e;case og:s=11;break e;case sg:s=14;break e;case ii:s=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Vn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ho(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Jf(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=nw,t.lanes=n,t.stateNode={isHidden:!1},t}function Td(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function bd(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qg(t,e,n,r,i,o,s,a,l){return t=new WR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sg(o),t}function KR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KT(t){if(!t)return Ni;t=t._reactInternals;e:{if(ko(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(wn(n))return Kw(t,n,e)}return e}function GT(t,e,n,r,i,o,s,a,l){return t=qg(n,r,!0,t,i,o,s,a,l),t.context=KT(null),n=t.current,r=un(),i=Si(n),o=Lr(r,i),o.callback=e??null,Ti(n,o,i),t.current.lanes=i,Vl(t,i,r),Tn(t,r),t}function Zf(t,e,n,r){var i=e.current,o=un(),s=Si(i);return n=KT(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,s),t!==null&&(er(t,i,s,o),ic(t,i,s)),s}function Yc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bg(t,e){H_(t,e),(t=t.alternate)&&H_(t,e)}function GR(){return null}var QT=typeof reportError=="function"?reportError:function(t){console.error(t)};function $g(t){this._internalRoot=t}eh.prototype.render=$g.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Zf(t,e,null,null)};eh.prototype.unmount=$g.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Zf(null,t,null,null)}),e[Fr]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ow();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&Pw(t)}};function zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W_(){}function QR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Yc(s);o.call(u)}}var s=GT(e,r,t,0,null,!1,!1,"",W_);return t._reactRootContainer=s,t[Fr]=s.current,gl(t.nodeType===8?t.parentNode:t),Eo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Yc(l);a.call(u)}}var l=qg(t,0,!1,null,null,!1,!1,"",W_);return t._reactRootContainer=l,t[Fr]=l.current,gl(t.nodeType===8?t.parentNode:t),Eo(function(){Zf(e,l,n,r)}),l}function nh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Yc(s);a.call(l)}}Zf(e,s,t,i)}else s=QR(n,e,t,i,r);return Yc(s)}Sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ua(e.pendingLanes);n!==0&&(ug(e,n|1),Tn(e,wt()),!(Be&6)&&(Ss=wt()+500,Vi()))}break;case 13:Eo(function(){var r=Ur(t,1);if(r!==null){var i=un();er(r,t,1,i)}}),Bg(t,1)}};cg=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=un();er(e,t,134217728,n)}Bg(t,134217728)}};Aw=function(t){if(t.tag===13){var e=Si(t),n=Ur(t,e);if(n!==null){var r=un();er(n,t,e,r)}Bg(t,e)}};Ow=function(){return Ge};Iw=function(t,e){var n=Ge;try{return Ge=t,e()}finally{Ge=n}};yp=function(t,e,n){switch(e){case"input":if(fp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wf(r);if(!i)throw Error(le(90));iw(r),fp(r,i)}}}break;case"textarea":sw(t,n);break;case"select":e=n.value,e!=null&&is(t,!!n.multiple,e,!1)}};dw=jg;pw=Eo;var YR={usingClientEntryPoint:!1,Events:[Bl,Yo,Wf,fw,hw,jg]},Ia={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XR={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{Bf=Bu.inject(XR),dr=Bu}catch{}}Ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR;Ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(e))throw Error(le(200));return KR(t,e,null,n)};Ln.createRoot=function(t,e){if(!zg(t))throw Error(le(299));var n=!1,r="",i=QT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qg(t,1,!1,null,null,n,!1,r,i),t[Fr]=e.current,gl(t.nodeType===8?t.parentNode:t),new $g(e)};Ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=vw(e),t=t===null?null:t.stateNode,t};Ln.flushSync=function(t){return Eo(t)};Ln.hydrate=function(t,e,n){if(!th(e))throw Error(le(200));return nh(null,t,e,!0,n)};Ln.hydrateRoot=function(t,e,n){if(!zg(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=GT(e,null,t,1,n??null,i,!1,o,s),t[Fr]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eh(e)};Ln.render=function(t,e,n){if(!th(e))throw Error(le(200));return nh(null,t,e,!1,n)};Ln.unmountComponentAtNode=function(t){if(!th(t))throw Error(le(40));return t._reactRootContainer?(Eo(function(){nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};Ln.unstable_batchedUpdates=jg;Ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!th(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return nh(t,e,n,!1,r)};Ln.version="18.3.1-next-f1338f8080-20240426";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(t){console.error(t)}}YT(),YE.exports=Ln;var Hg=YE.exports;const JR=qf(Hg);var K_=Hg;ip.createRoot=K_.createRoot,ip.hydrateRoot=K_.hydrateRoot;var XT={exports:{}},rh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=oe,ek=Symbol.for("react.element"),tk=Symbol.for("react.fragment"),nk=Object.prototype.hasOwnProperty,rk=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ik={key:!0,ref:!0,__self:!0,__source:!0};function JT(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nk.call(e,r)&&!ik.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ek,type:t,key:o,ref:s,props:i,_owner:rk.current}}rh.Fragment=tk;rh.jsx=JT;rh.jsxs=JT;XT.exports=rh;var q=XT.exports;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}var gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gi||(gi={}));const G_="popstate";function ok(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Xp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xc(i)}return ak(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sk(){return Math.random().toString(36).substr(2,8)}function Q_(t,e){return{usr:t.state,key:t.key,idx:e}}function Xp(t,e,n,r){return n===void 0&&(n=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$s(e):e,{state:n,key:e&&e.key||r||sk()})}function Xc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ak(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=gi.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Al({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){a=gi.Pop;let E=d(),g=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:g})}function h(E,g){a=gi.Push;let p=Xp(v.location,E,g);u=d()+1;let w=Q_(p,u),_=v.createHref(p);try{s.pushState(w,"",_)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(_)}o&&l&&l({action:a,location:v.location,delta:1})}function m(E,g){a=gi.Replace;let p=Xp(v.location,E,g);u=d();let w=Q_(p,u),_=v.createHref(p);s.replaceState(w,"",_),o&&l&&l({action:a,location:v.location,delta:0})}function y(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:Xc(E);return p=p.replace(/ $/,"%20"),Tt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(G_,f),l=E,()=>{i.removeEventListener(G_,f),l=null}},createHref(E){return e(i,E)},createURL:y,encodeLocation(E){let g=y(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(E){return s.go(E)}};return v}var Y_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Y_||(Y_={}));function lk(t,e,n){return n===void 0&&(n="/"),uk(t,e,n,!1)}function uk(t,e,n,r){let i=typeof e=="string"?$s(e):e,o=Wg(i.pathname||"/",n);if(o==null)return null;let s=eb(t);ck(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=wk(o);a=_k(s[l],u,r)}return a}function eb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eb(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:vk(u,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of tb(o.path))i(o,s,l)}),e}function tb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=tb(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ck(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fk=/^:[\w-]+$/,hk=3,dk=2,pk=1,mk=10,gk=-2,X_=t=>t==="*";function vk(t,e){let n=t.split("/"),r=n.length;return n.some(X_)&&(r+=gk),e&&(r+=dk),n.filter(i=>!X_(i)).reduce((i,o)=>i+(fk.test(o)?hk:o===""?pk:mk),r)}function yk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _k(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=J_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=J_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Oi([o,f.pathname]),pathnameBase:Ak(Oi([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Oi([o,f.pathnameBase]))}return s}function J_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ek(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Ek(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Tk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$s(t):t;return{pathname:n?n.startsWith("/")?n:bk(n,e):e,search:Ok(r),hash:Ik(i)}}function bk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kg(t,e){let n=Sk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Gg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$s(t):(i=Al({},t),Tt(!i.pathname||!i.pathname.includes("?"),Sd("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Sd("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Sd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=Tk(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),Ak=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ok=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ik=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nb=["post","put","patch","delete"];new Set(nb);const Rk=["get",...nb];new Set(Rk);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}const Qg=oe.createContext(null),kk=oe.createContext(null),qi=oe.createContext(null),ih=oe.createContext(null),Wr=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),rb=oe.createContext(null);function Ck(t,e){let{relative:n}=e===void 0?{}:e;zs()||Tt(!1);let{basename:r,navigator:i}=oe.useContext(qi),{hash:o,pathname:s,search:a}=sb(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Oi([r,s])),i.createHref({pathname:l,search:a,hash:o})}function zs(){return oe.useContext(ih)!=null}function zl(){return zs()||Tt(!1),oe.useContext(ih).location}function ib(t){oe.useContext(qi).static||oe.useLayoutEffect(t)}function Bi(){let{isDataRoute:t}=oe.useContext(Wr);return t?zk():xk()}function xk(){zs()||Tt(!1);let t=oe.useContext(Qg),{basename:e,future:n,navigator:r}=oe.useContext(qi),{matches:i}=oe.useContext(Wr),{pathname:o}=zl(),s=JSON.stringify(Kg(i,n.v7_relativeSplatPath)),a=oe.useRef(!1);return ib(()=>{a.current=!0}),oe.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Gg(u,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Oi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,s,o,t])}function ob(){let{matches:t}=oe.useContext(Wr),e=t[t.length-1];return e?e.params:{}}function sb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=oe.useContext(qi),{matches:i}=oe.useContext(Wr),{pathname:o}=zl(),s=JSON.stringify(Kg(i,r.v7_relativeSplatPath));return oe.useMemo(()=>Gg(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Nk(t,e){return Lk(t,e)}function Lk(t,e,n,r){zs()||Tt(!1);let{navigator:i}=oe.useContext(qi),{matches:o}=oe.useContext(Wr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=zl(),d;if(e){var f;let E=typeof e=="string"?$s(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||Tt(!1),d=E}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=lk(t,{pathname:m}),v=Uk(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Oi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Oi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&v?oe.createElement(ih.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:gi.Pop}},v):v}function Dk(){let t=$k(),e=Pk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:i},n):null,null)}const Mk=oe.createElement(Dk,null);class jk extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(Wr.Provider,{value:this.props.routeContext},oe.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fk(t){let{routeContext:e,match:n,children:r}=t,i=oe.useContext(Qg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(Wr.Provider,{value:e},r)}function Uk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Tt(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let m,y=!1,v=null,E=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||Mk,l&&(u<0&&h===0?(y=!0,E=null):u===h&&(y=!0,E=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,h+1)),p=()=>{let w;return m?w=v:y?w=E:f.route.Component?w=oe.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,oe.createElement(Fk,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?oe.createElement(jk,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var ab=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ab||{}),Jc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jc||{});function Vk(t){let e=oe.useContext(Qg);return e||Tt(!1),e}function qk(t){let e=oe.useContext(kk);return e||Tt(!1),e}function Bk(t){let e=oe.useContext(Wr);return e||Tt(!1),e}function lb(t){let e=Bk(),n=e.matches[e.matches.length-1];return n.route.id||Tt(!1),n.route.id}function $k(){var t;let e=oe.useContext(rb),n=qk(Jc.UseRouteError),r=lb(Jc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zk(){let{router:t}=Vk(ab.UseNavigateStable),e=lb(Jc.UseNavigateStable),n=oe.useRef(!1);return ib(()=>{n.current=!0}),oe.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ol({fromRouteId:e},o)))},[t,e])}function Hk(t){let{to:e,replace:n,state:r,relative:i}=t;zs()||Tt(!1);let{future:o,static:s}=oe.useContext(qi),{matches:a}=oe.useContext(Wr),{pathname:l}=zl(),u=Bi(),d=Gg(e,Kg(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return oe.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function jn(t){Tt(!1)}function Wk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gi.Pop,navigator:o,static:s=!1,future:a}=t;zs()&&Tt(!1);let l=e.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:l,navigator:o,static:s,future:Ol({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=$s(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=r,v=oe.useMemo(()=>{let E=Wg(d,l);return E==null?null:{location:{pathname:E,search:f,hash:h,state:m,key:y},navigationType:i}},[l,d,f,h,m,y,i]);return v==null?null:oe.createElement(qi.Provider,{value:u},oe.createElement(ih.Provider,{children:n,value:v}))}function Kk(t){let{children:e,location:n}=t;return Nk(Jp(e),n)}new Promise(()=>{});function Jp(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(r,i)=>{if(!oe.isValidElement(r))return;let o=[...e,i];if(r.type===oe.Fragment){n.push.apply(n,Jp(r.props.children,o));return}r.type!==jn&&Tt(!1),!r.props.index||!r.props.children||Tt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Jp(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(this,arguments)}function Gk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Qk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yk(t,e){return t.button===0&&(!e||e==="_self")&&!Qk(t)}const Xk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Jk="6";try{window.__reactRouterVersion=Jk}catch{}const Zk="startTransition",Z_=KI[Zk];function eC(t){let{basename:e,children:n,future:r,window:i}=t,o=oe.useRef();o.current==null&&(o.current=ok({window:i,v5Compat:!0}));let s=o.current,[a,l]=oe.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},d=oe.useCallback(f=>{u&&Z_?Z_(()=>l(f)):l(f)},[l,u]);return oe.useLayoutEffect(()=>s.listen(d),[s,d]),oe.createElement(Wk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const tC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=oe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,h=Gk(e,Xk),{basename:m}=oe.useContext(qi),y,v=!1;if(typeof u=="string"&&nC.test(u)&&(y=u,tC))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),O=Wg(_.pathname,m);_.origin===w.origin&&O!=null?u=O+_.search+_.hash:v=!0}catch{}let E=Ck(u,{relative:i}),g=rC(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function p(w){r&&r(w),w.defaultPrevented||g(w)}return oe.createElement("a",Zp({},h,{href:y||E,onClick:v||o?r:p,ref:n,target:l}))});var e0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e0||(e0={}));var t0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t0||(t0={}));function rC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Bi(),u=zl(),d=sb(t,{relative:s});return oe.useCallback(f=>{if(Yk(f,n)){f.preventDefault();let h=r!==void 0?r:Xc(u)===Xc(d);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,o,s,a])}function em(t,e){return em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},em(t,e)}function Hl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,em(t,e)}var Wl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function We(){return We=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},We.apply(null,arguments)}var Zc=typeof window>"u";function Jt(){}function iC(t,e){return typeof t=="function"?t(e):t}function tm(t){return typeof t=="number"&&t>=0&&t!==1/0}function ef(t){return Array.isArray(t)?t:[t]}function ub(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fc(t,e,n){return oh(t)?typeof e=="function"?We({},n,{queryKey:t,queryFn:e}):We({},e,{queryKey:t}):t}function si(t,e,n){return oh(t)?[We({},e,{queryKey:t}),n]:[t||{},e]}function oC(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function n0(t,e){var n=t.active,r=t.exact,i=t.fetching,o=t.inactive,s=t.predicate,a=t.queryKey,l=t.stale;if(oh(a)){if(r){if(e.queryHash!==Yg(a,e.options))return!1}else if(!tf(e.queryKey,a))return!1}var u=oC(n,o);if(u==="none")return!1;if(u!=="all"){var d=e.isActive();if(u==="active"&&!d||u==="inactive"&&d)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function r0(t,e){var n=t.exact,r=t.fetching,i=t.predicate,o=t.mutationKey;if(oh(o)){if(!e.options.mutationKey)return!1;if(n){if(ao(e.options.mutationKey)!==ao(o))return!1}else if(!tf(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Yg(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||ao;return n(t)}function ao(t){var e=ef(t);return sC(e)}function sC(t){return JSON.stringify(t,function(e,n){return nm(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function tf(t,e){return cb(ef(t),ef(e))}function cb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!cb(t[n],e[n])}):!1}function nf(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||nm(t)&&nm(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),o=i.length,s=n?[]:{},a=0,l=0;l<o;l++){var u=n?l:i[l];s[u]=nf(t[u],e[u]),s[u]===t[u]&&a++}return r===o&&a===r?t:s}return e}function aC(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function nm(t){if(!i0(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!i0(n)||!n.hasOwnProperty("isPrototypeOf"))}function i0(t){return Object.prototype.toString.call(t)==="[object Object]"}function oh(t){return typeof t=="string"||Array.isArray(t)}function lC(t){return new Promise(function(e){setTimeout(e,t)})}function o0(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function fb(){if(typeof AbortController=="function")return new AbortController}var uC=function(t){Hl(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!Zc&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setFocused(a):s.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Wl),nl=new uC,cC=function(t){Hl(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!Zc&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setOnline(a):s.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Wl),hc=new cC;function fC(t){return Math.min(1e3*Math.pow(2,t),3e4)}function rf(t){return typeof(t==null?void 0:t.cancel)=="function"}var hb=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function dc(t){return t instanceof hb}var db=function(e){var n=this,r=!1,i,o,s,a;this.abort=e.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,m){s=h,a=m});var l=function(m){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(m),o==null||o(),s(m))},u=function(m){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(m),o==null||o(),a(m))},d=function(){return new Promise(function(m){o=m,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},f=function h(){if(!n.isResolved){var m;try{m=e.fn()}catch(y){m=Promise.reject(y)}i=function(v){if(!n.isResolved&&(u(new hb(v)),n.abort==null||n.abort(),rf(m)))try{m.cancel()}catch{}},n.isTransportCancelable=rf(m),Promise.resolve(m).then(l).catch(function(y){var v,E;if(!n.isResolved){var g=(v=e.retry)!=null?v:3,p=(E=e.retryDelay)!=null?E:fC,w=typeof p=="function"?p(n.failureCount,y):p,_=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,y);if(r||!_){u(y);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,y),lC(w).then(function(){if(!nl.isFocused()||!hc.isOnline())return d()}).then(function(){r?u(y):h()})}})}};f()},hC=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):o0(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.schedule(function(){r.apply(void 0,s)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&o0(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),yt=new hC,pb=console;function of(){return pb}function dC(t){pb=t}var pC=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=We({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),tm(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var o,s,a=this.state.data,l=iC(r,a);return(o=(s=this.options).isDataEqual)!=null&&o.call(s,a,l)?l=a:this.options.structuralSharing!==!1&&(l=nf(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(Jt).catch(Jt):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!ub(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var o=this,s,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(p){return p.options.queryFn});d&&this.setOptions(d.options)}var f=ef(this.queryKey),h=fb(),m={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(h)return o.abortSignalConsumed=!0,h.signal}});var y=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(m)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:y,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var E;(E=this.options.behavior)==null||E.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=v.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=v.fetchOptions)==null?void 0:g.meta})}return this.retryer=new db({fn:v.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(w){o.setData(w),o.cache.config.onSuccess==null||o.cache.config.onSuccess(w,o),o.cacheTime===0&&o.optionalRemove()},onError:function(w){dc(w)&&w.silent||o.dispatch({type:"error",error:w}),dc(w)||(o.cache.config.onError==null||o.cache.config.onError(w,o),of().error(w)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),yt.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",s=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var o,s;switch(i.type){case"failed":return We({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return We({},r,{isPaused:!0});case"continue":return We({},r,{isPaused:!1});case"fetch":return We({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return We({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return dc(a)&&a.revert&&this.revertState?We({},this.revertState):We({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return We({},r,{isInvalidated:!0});case"setState":return We({},r,i.state);default:return r}},t}(),mC=function(t){Hl(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,o,s){var a,l=o.queryKey,u=(a=o.queryHash)!=null?a:Yg(l,o),d=this.get(u);return d||(d=new pC({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(o),state:s,defaultOptions:i.getQueryDefaults(l),meta:o.meta}),this.add(d)),d},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;yt.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,o){var s=si(i,o),a=s[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return n0(a,l)})},n.findAll=function(i,o){var s=si(i,o),a=s[0];return Object.keys(a).length>0?this.queries.filter(function(l){return n0(a,l)}):this.queries},n.notify=function(i){var o=this;yt.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){var i=this;yt.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},n.onOnline=function(){var i=this;yt.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},e}(Wl),gC=function(){function t(n){this.options=We({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||vC(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Jt).catch(Jt)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,o=this.state.status==="loading",s=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),s.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),of().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new db({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=yC(this.state,r),yt.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function vC(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function yC(t,e){switch(e.type){case"failed":return We({},t,{failureCount:t.failureCount+1});case"pause":return We({},t,{isPaused:!0});case"continue":return We({},t,{isPaused:!1});case"loading":return We({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return We({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return We({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return We({},t,e.state);default:return t}}var _C=function(t){Hl(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,o,s){var a=new gC({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:s,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;yt.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return r0(i,o)})},n.findAll=function(i){return this.mutations.filter(function(o){return r0(i,o)})},n.notify=function(i){var o=this;yt.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return yt.batch(function(){return i.reduce(function(o,s){return o.then(function(){return s.continue().catch(Jt)})},Promise.resolve())})},e}(Wl);function EC(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,o,s,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",m=((s=e.state.data)==null?void 0:s.pages)||[],y=((a=e.state.data)==null?void 0:a.pageParams)||[],v=fb(),E=v==null?void 0:v.signal,g=y,p=!1,w=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},_=function(L,V,H,K){return g=K?[V].concat(g):[].concat(g,[V]),K?[H].concat(L):[].concat(L,[H])},O=function(L,V,H,K){if(p)return Promise.reject("Cancelled");if(typeof H>"u"&&!V&&L.length)return Promise.resolve(L);var G={queryKey:e.queryKey,signal:E,pageParam:H,meta:e.meta},B=w(G),F=Promise.resolve(B).then(function(M){return _(L,H,M,K)});if(rf(B)){var N=F;N.cancel=B.cancel}return F},C;if(!m.length)C=O([]);else if(f){var A=typeof d<"u",b=A?d:s0(e.options,m);C=O(m,A,b)}else if(h){var P=typeof d<"u",T=P?d:wC(e.options,m);C=O(m,P,T,!0)}else(function(){g=[];var k=typeof e.options.getNextPageParam>"u",L=l&&m[0]?l(m[0],0,m):!0;C=L?O([],k,y[0]):Promise.resolve(_([],y[0],m[0]));for(var V=function(G){C=C.then(function(B){var F=l&&m[G]?l(m[G],G,m):!0;if(F){var N=k?y[G]:s0(e.options,B);return O(B,k,N)}return Promise.resolve(_(B,y[G],m[G]))})},H=1;H<m.length;H++)V(H)})();var S=C.then(function(k){return{pages:k,pageParams:g}}),R=S;return R.cancel=function(){p=!0,v==null||v.abort(),rf(C)&&C.cancel()},S}}}}function s0(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function wC(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var TC=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new mC,this.mutationCache=n.mutationCache||new _C,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=nl.subscribe(function(){nl.isFocused()&&hc.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=hc.subscribe(function(){nl.isFocused()&&hc.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var o=si(r,i),s=o[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(r){return this.mutationCache.findAll(We({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,s=i.state,a=s.data;return[o,a]})},e.setQueryData=function(r,i,o){var s=fc(r),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(i,o)},e.setQueriesData=function(r,i,o){var s=this;return yt.batch(function(){return s.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,s.setQueryData(l,i,o)]})})},e.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},e.removeQueries=function(r,i){var o=si(r,i),s=o[0],a=this.queryCache;yt.batch(function(){a.findAll(s).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,o){var s=this,a=si(r,i,o),l=a[0],u=a[1],d=this.queryCache,f=We({},l,{active:!0});return yt.batch(function(){return d.findAll(l).forEach(function(h){h.reset()}),s.refetchQueries(f,u)})},e.cancelQueries=function(r,i,o){var s=this,a=si(r,i,o),l=a[0],u=a[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=yt.batch(function(){return s.queryCache.findAll(l).map(function(h){return h.cancel(d)})});return Promise.all(f).then(Jt).catch(Jt)},e.invalidateQueries=function(r,i,o){var s,a,l,u=this,d=si(r,i,o),f=d[0],h=d[1],m=We({},f,{active:(s=(a=f.refetchActive)!=null?a:f.active)!=null?s:!0,inactive:(l=f.refetchInactive)!=null?l:!1});return yt.batch(function(){return u.queryCache.findAll(f).forEach(function(y){y.invalidate()}),u.refetchQueries(m,h)})},e.refetchQueries=function(r,i,o){var s=this,a=si(r,i,o),l=a[0],u=a[1],d=yt.batch(function(){return s.queryCache.findAll(l).map(function(h){return h.fetch(void 0,We({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),f=Promise.all(d).then(Jt);return u!=null&&u.throwOnError||(f=f.catch(Jt)),f},e.fetchQuery=function(r,i,o){var s=fc(r,i,o),a=this.defaultQueryOptions(s);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(Jt).catch(Jt)},e.fetchInfiniteQuery=function(r,i,o){var s=fc(r,i,o);return s.behavior=EC(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(Jt).catch(Jt)},e.cancelMutations=function(){var r=this,i=yt.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(Jt).catch(Jt)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(s){return ao(r)===ao(s.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return tf(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(s){return ao(r)===ao(s.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return tf(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=We({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Yg(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:We({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),bC=function(t){Hl(e,t);function e(r,i){var o;return o=t.call(this)||this,o.client=r,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),a0(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return rm(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return rm(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,o){var s=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();var l=this.hasListeners();l&&l0(this.currentQuery,a,this.options,s)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==a||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==s.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,o);return this.createResult(s,o)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,o){var s=this,a={},l=function(d){s.trackedProps.includes(d)||s.trackedProps.push(d)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),a},n.getNextResult=function(i){var o=this;return new Promise(function(s,a){var l=o.subscribe(function(u){u.isFetching||(l(),u.isError&&(i!=null&&i.throwOnError)?a(u.error):s(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(We({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var o=this,s=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,s);return a.fetch().then(function(){return o.createResult(a,s)})},n.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},n.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(o=o.catch(Jt)),o},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Zc||this.currentResult.isStale||!tm(this.options.staleTime))){var o=ub(this.currentResult.dataUpdatedAt,this.options.staleTime),s=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},s)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Zc||this.options.enabled===!1||!tm(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||nl.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,o){var s=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=i!==s,h=f?i.state:this.currentQueryInitialState,m=f?this.currentResult:this.previousQueryResult,y=i.state,v=y.dataUpdatedAt,E=y.error,g=y.errorUpdatedAt,p=y.isFetching,w=y.status,_=!1,O=!1,C;if(o.optimisticResults){var A=this.hasListeners(),b=!A&&a0(i,o),P=A&&l0(i,s,o,a);(b||P)&&(p=!0,v||(w="loading"))}if(o.keepPreviousData&&!y.dataUpdateCount&&(m!=null&&m.isSuccess)&&w!=="error")C=m.data,v=m.dataUpdatedAt,w=m.status,_=!0;else if(o.select&&typeof y.data<"u")if(l&&y.data===(u==null?void 0:u.data)&&o.select===this.selectFn)C=this.selectResult;else try{this.selectFn=o.select,C=o.select(y.data),o.structuralSharing!==!1&&(C=nf(l==null?void 0:l.data,C)),this.selectResult=C,this.selectError=null}catch(R){of().error(R),this.selectError=R}else C=y.data;if(typeof o.placeholderData<"u"&&typeof C>"u"&&(w==="loading"||w==="idle")){var T;if(l!=null&&l.isPlaceholderData&&o.placeholderData===(d==null?void 0:d.placeholderData))T=l.data;else if(T=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof T<"u")try{T=o.select(T),o.structuralSharing!==!1&&(T=nf(l==null?void 0:l.data,T)),this.selectError=null}catch(R){of().error(R),this.selectError=R}typeof T<"u"&&(w="success",C=T,O=!0)}this.selectError&&(E=this.selectError,C=this.selectResult,g=Date.now(),w="error");var S={status:w,isLoading:w==="loading",isSuccess:w==="success",isError:w==="error",isIdle:w==="idle",data:C,dataUpdatedAt:v,error:E,errorUpdatedAt:g,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:p,isRefetching:p&&w!=="loading",isLoadingError:w==="error"&&y.dataUpdatedAt===0,isPlaceholderData:O,isPreviousData:_,isRefetchError:w==="error"&&y.dataUpdatedAt!==0,isStale:Xg(i,o),refetch:this.refetch,remove:this.remove};return S},n.shouldNotifyListeners=function(i,o){if(!o)return!0;var s=this.options,a=s.notifyOnChangeProps,l=s.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(d){var f=d,h=i[f]!==o[f],m=u==null?void 0:u.some(function(v){return v===d}),y=l==null?void 0:l.some(function(v){return v===d});return h&&!y&&(!u||m)})},n.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!aC(this.currentResult,o)){var s={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(s.listeners=!0),this.notify(We({},s,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o==null||o.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!dc(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var o=this;yt.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(s){s(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},e}(Wl);function SC(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function a0(t,e){return SC(t,e)||t.state.dataUpdatedAt>0&&rm(t,e,e.refetchOnMount)}function rm(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Xg(t,e)}return!1}function l0(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Xg(t,n)}function Xg(t,e){return t.isStaleByTime(e.staleTime)}var AC=JR.unstable_batchedUpdates;yt.setBatchNotifyFunction(AC);var OC=console;dC(OC);var u0=nn.createContext(void 0),mb=nn.createContext(!1);function gb(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=u0),window.ReactQueryClientContext):u0}var vb=function(){var e=nn.useContext(gb(nn.useContext(mb)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},yb=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,o=e.children;nn.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var s=gb(i);return nn.createElement(mb.Provider,{value:i},nn.createElement(s.Provider,{value:n},o))};function IC(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var PC=nn.createContext(IC()),RC=function(){return nn.useContext(PC)};function kC(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function CC(t,e){var n=nn.useRef(!1),r=nn.useState(0),i=r[1],o=vb(),s=RC(),a=o.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=yt.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=yt.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=yt.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(s.isReset()||(a.retryOnMount=!1));var l=nn.useState(function(){return new e(o,a)}),u=l[0],d=u.getOptimisticResult(a);if(nn.useEffect(function(){n.current=!0,s.clearReset();var f=u.subscribe(yt.batchCalls(function(){n.current&&i(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,f()}},[s,u]),nn.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&d.isLoading)throw u.fetchOptimistic(a).then(function(f){var h=f.data;a.onSuccess==null||a.onSuccess(h),a.onSettled==null||a.onSettled(h,null)}).catch(function(f){s.clearReset(),a.onError==null||a.onError(f),a.onSettled==null||a.onSettled(void 0,f)});if(d.isError&&!s.isReset()&&!d.isFetching&&kC(a.suspense,a.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,a)),d}function Jg(t,e,n){var r=fc(t,e,n);return CC(r,bC)}var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_b(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new NC;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LC=function(t){const e=_b(t);return Eb.encodeByteArray(e,!0)},sf=function(t){return LC(t).replace(/\./g,"")},wb=function(t){try{return Eb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=()=>DC().__FIREBASE_DEFAULTS__,jC=()=>{if(typeof process>"u"||typeof c0>"u")return;const t=c0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wb(t[1]);return e&&JSON.parse(e)},sh=()=>{try{return MC()||jC()||FC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tb=t=>{var e,n;return(n=(e=sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UC=t=>{const e=Tb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bb=()=>{var t;return(t=sh())===null||t===void 0?void 0:t.config},Sb=t=>{var e;return(e=sh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sf(JSON.stringify(n)),sf(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function $C(){var t;const e=(t=sh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){const t=on();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GC(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QC(){try{return typeof indexedDB=="object"}catch{return!1}}function YC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XC,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JC(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kr(i,a,r)}}function JC(t,e){return t.replace(ZC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZC=/\{\$([^}]+)}/g;function ex(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function af(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(f0(o)&&f0(s)){if(!af(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ba(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tx(t,e){const n=new nx(t,e);return n.subscribe.bind(n)}class nx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ad),i.error===void 0&&(i.error=Ad),i.complete===void 0&&(i.complete=Ad);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sx(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ox(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ox(t){return t===to?void 0:t}function sx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ix(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const lx={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},ux=Ve.INFO,cx={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},fx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=ux,this._logHandler=fx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const hx=(t,e)=>e.some(n=>t instanceof n);let h0,d0;function dx(){return h0||(h0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function px(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ab=new WeakMap,im=new WeakMap,Ob=new WeakMap,Od=new WeakMap,ev=new WeakMap;function mx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ii(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ab.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function gx(t){if(im.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});im.set(t,e)}let om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ob.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vx(t){om=t(om)}function yx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Id(this),e,...n);return Ob.set(r,e.sort?e.sort():[e]),Ii(r)}:px().includes(t)?function(...e){return t.apply(Id(this),e),Ii(Ab.get(this))}:function(...e){return Ii(t.apply(Id(this),e))}}function _x(t){return typeof t=="function"?yx(t):(t instanceof IDBTransaction&&gx(t),hx(t,dx())?new Proxy(t,om):t)}function Ii(t){if(t instanceof IDBRequest)return mx(t);if(Od.has(t))return Od.get(t);const e=_x(t);return e!==t&&(Od.set(t,e),ev.set(e,t)),e}const Id=t=>ev.get(t);function Ex(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ii(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ii(s.result),l.oldVersion,l.newVersion,Ii(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const wx=["get","getKey","getAll","getAllKeys","count"],Tx=["put","add","delete","clear"],Pd=new Map;function p0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Tx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Pd.set(e,o),o}vx(t=>({...t,get:(e,n,r)=>p0(e,n)||t.get(e,n,r),has:(e,n)=>!!p0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Sx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sm="@firebase/app",m0="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Zg("@firebase/app"),Ax="@firebase/app-compat",Ox="@firebase/analytics-compat",Ix="@firebase/analytics",Px="@firebase/app-check-compat",Rx="@firebase/app-check",kx="@firebase/auth",Cx="@firebase/auth-compat",xx="@firebase/database",Nx="@firebase/database-compat",Lx="@firebase/functions",Dx="@firebase/functions-compat",Mx="@firebase/installations",jx="@firebase/installations-compat",Fx="@firebase/messaging",Ux="@firebase/messaging-compat",Vx="@firebase/performance",qx="@firebase/performance-compat",Bx="@firebase/remote-config",$x="@firebase/remote-config-compat",zx="@firebase/storage",Hx="@firebase/storage-compat",Wx="@firebase/firestore",Kx="@firebase/vertexai-preview",Gx="@firebase/firestore-compat",Qx="firebase",Yx="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="[DEFAULT]",Xx={[sm]:"fire-core",[Ax]:"fire-core-compat",[Ix]:"fire-analytics",[Ox]:"fire-analytics-compat",[Rx]:"fire-app-check",[Px]:"fire-app-check-compat",[kx]:"fire-auth",[Cx]:"fire-auth-compat",[xx]:"fire-rtdb",[Nx]:"fire-rtdb-compat",[Lx]:"fire-fn",[Dx]:"fire-fn-compat",[Mx]:"fire-iid",[jx]:"fire-iid-compat",[Fx]:"fire-fcm",[Ux]:"fire-fcm-compat",[Vx]:"fire-perf",[qx]:"fire-perf-compat",[Bx]:"fire-rc",[$x]:"fire-rc-compat",[zx]:"fire-gcs",[Hx]:"fire-gcs-compat",[Wx]:"fire-fst",[Gx]:"fire-fst-compat",[Kx]:"fire-vertex","fire-js":"fire-js",[Qx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,Jx=new Map,lm=new Map;function g0(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function As(t){const e=t.name;if(lm.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;lm.set(e,t);for(const n of lf.values())g0(n,t);for(const n of Jx.values())g0(n,t);return!0}function tv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function kr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Kl("app","Firebase",Zx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=Yx;function Ib(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:am,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=bb()),!n)throw Pi.create("no-options");const o=lf.get(i);if(o){if(af(n,o.options)&&af(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}const s=new ax(i);for(const l of lm.values())s.addComponent(l);const a=new eN(n,r,s);return lf.set(i,a),a}function Pb(t=am){const e=lf.get(t);if(!e&&t===am&&bb())return Ib();if(!e)throw Pi.create("no-app",{appName:t});return e}function Ri(t,e,n){var r;let i=(r=Xx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}As(new wo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="firebase-heartbeat-database",nN=1,Il="firebase-heartbeat-store";let Rd=null;function Rb(){return Rd||(Rd=Ex(tN,nN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),Rd}async function rN(t){try{const n=(await Rb()).transaction(Il),r=await n.objectStore(Il).get(kb(t));return await n.done,r}catch(e){if(e instanceof Kr)qr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function v0(t,e){try{const r=(await Rb()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,kb(t)),await r.done}catch(n){if(n instanceof Kr)qr.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function kb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1024,oN=30*24*60*60*1e3;class sN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=y0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=oN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:r,unsentEntries:i}=aN(this._heartbeatsCache.heartbeats),o=sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qr.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function aN(t,e=iN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QC()?YC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _0(t){return sf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){As(new wo("platform-logger",e=>new bx(e),"PRIVATE")),As(new wo("heartbeat",e=>new sN(e),"PRIVATE")),Ri(sm,m0,t),Ri(sm,m0,"esm2017"),Ri("fire-js","")}uN("");function nv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cN=Cb,xb=new Kl("auth","Firebase",Cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Zg("@firebase/auth");function fN(t,...e){uf.logLevel<=Ve.WARN&&uf.warn(`Auth (${Hs}): ${t}`,...e)}function pc(t,...e){uf.logLevel<=Ve.ERROR&&uf.error(`Auth (${Hs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw rv(t,...e)}function mr(t,...e){return rv(t,...e)}function Nb(t,e,n){const r=Object.assign(Object.assign({},cN()),{[e]:n});return new Kl("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return Nb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xb.create(t,...e)}function Ae(t,e,...n){if(!t)throw rv(e,...n)}function Cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pc(e),new Error(e)}function Br(t,e){t||Cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hN(){return E0()==="http:"||E0()==="https:"}function E0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||HC()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=BC()||WC()}get(){return dN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Ql(3e4,6e4);function Co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $i(t,e,n,r,i={}){return Db(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return zC()||(u.referrerPolicy="no-referrer"),Lb.fetch()(Mb(t,t.config.apiHost,n,a),u)})}async function Db(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mN),e);try{const i=new yN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw $u(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $u(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw $u(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw $u(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Nb(t,d,u);rr(t,d)}}catch(i){if(i instanceof Kr)throw i;rr(t,"network-request-failed",{message:String(i)})}}async function ah(t,e,n,r,i={}){const o=await $i(t,e,n,r,i);return"mfaPendingCredential"in o&&rr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Mb(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?iv(t.config,i):`${t.config.apiScheme}://${i}`}function vN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),gN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(t,e,r);return i.customData._tokenResponse=n,i}function w0(t){return t!==void 0&&t.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function EN(t,e){return $i(t,"GET","/v2/recaptchaConfig",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e){return $i(t,"POST","/v1/accounts:delete",e)}async function jb(t,e){return $i(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TN(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=ov(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:rl(kd(i.auth_time)),issuedAtTime:rl(kd(i.iat)),expirationTime:rl(kd(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function kd(t){return Number(t)*1e3}function ov(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const i=wb(n);return i?JSON.parse(i):(pc("Failed to decode base64 JWT payload"),null)}catch(i){return pc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function T0(t){const e=ov(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&bN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pl(t,jb(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Fb(o.providerUserInfo):[],a=ON(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cm(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function AN(t){const e=kt(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ON(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fb(t){return t.map(e=>{var{providerId:n}=e,r=nv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){const n=await Db(t,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Mb(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PN(t,e){return $i(t,"POST","/v2/accounts:revokeToken",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=T0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await IN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new cs;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cs,this.toJSON())}_performRefresh(){return Cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TN(this,e)}reload(){return AN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await Pl(this,wN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:_,isAnonymous:O,providerData:C,stsTokenManager:A}=n;Ae(w&&A,e,"internal-error");const b=cs.fromJSON(this.name,A);Ae(typeof w=="string",e,"internal-error"),ti(f,e.name),ti(h,e.name),Ae(typeof _=="boolean",e,"internal-error"),Ae(typeof O=="boolean",e,"internal-error"),ti(m,e.name),ti(y,e.name),ti(v,e.name),ti(E,e.name),ti(g,e.name),ti(p,e.name);const P=new xr({uid:w,auth:e,email:h,emailVerified:_,displayName:f,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:b,createdAt:g,lastLoginAt:p});return C&&Array.isArray(C)&&(P.providerData=C.map(T=>Object.assign({},T))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new cs;i.updateFromServerResponse(n);const o=new xr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cf(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Fb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new cs;a.updateFromIdToken(r);const l=new xr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;function Nr(t){Br(t instanceof Function,"Expected a class definition");let e=b0.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ub.type="NONE";const S0=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class fs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=mc(this.userKey,i.apiKey,o),this.fullPersistenceKey=mc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fs(Nr(S0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Nr(S0);const s=mc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=xr._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new fs(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new fs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($b(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hb(e))return"Blackberry";if(Wb(e))return"Webos";if(qb(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if(zb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vb(t=on()){return/firefox\//i.test(t)}function qb(t=on()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(t=on()){return/crios\//i.test(t)}function $b(t=on()){return/iemobile/i.test(t)}function zb(t=on()){return/android/i.test(t)}function Hb(t=on()){return/blackberry/i.test(t)}function Wb(t=on()){return/webos/i.test(t)}function sv(t=on()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RN(t=on()){var e;return sv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kN(){return KC()&&document.documentMode===10}function Kb(t=on()){return sv(t)||zb(t)||Wb(t)||Hb(t)||/windows phone/i.test(t)||$b(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e=[]){let n;switch(t){case"Browser":n=A0(on());break;case"Worker":n=`${A0(on())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(t,e={}){return $i(t,"GET","/v2/passwordPolicy",Co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=6;class LN{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:NN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new CN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await fs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await jb(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(kr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kr(this.app))return Promise.reject(ki(this));const n=e?kt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xN(this),n=new LN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await fs.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ws(t){return kt(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=tx(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MN(t){lh=t}function Qb(t){return lh.loadJS(t)}function jN(){return lh.recaptchaEnterpriseScript}function FN(){return lh.gapiScript}function UN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const VN="recaptcha-enterprise",qN="NO_RECAPTCHA";class BN{constructor(e){this.type=VN,this.auth=Ws(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{EN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _N(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;w0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(qN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&w0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jN();l.length!==0&&(l+=a),Qb(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function I0(t,e,n,r=!1){const i=new BN(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function P0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await I0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await I0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e){const n=tv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(af(o,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function zN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function HN(t,e,n){const r=Ws(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Yb(e),{host:s,port:a}=WN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),KN()}function Yb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WN(t){const e=Yb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:R0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:R0(s)}}}function R0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,n){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function GN(t,e){return $i(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e){return ah(t,"POST","/v1/accounts:signInWithPassword",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e){return ah(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))}async function XN(t,e){return ah(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends av{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,n,"signInWithPassword",QN);case"emailLink":return YN(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,r,"signUpPassword",GN);case"emailLink":return XN(e,{idToken:n,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t,e){return ah(t,"POST","/v1/accounts:signInWithIdp",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="http://localhost";class To extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new To(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nv(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new To(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hs(e,n)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e2(t){const e=qa(Ba(t)).link,n=e?qa(Ba(e)).deep_link_id:null,r=qa(Ba(t)).deep_link_id;return(r?qa(Ba(r)).link:null)||r||n||e||t}class lv{constructor(e){var n,r,i,o,s,a;const l=qa(Ba(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=ZN((i=l.mode)!==null&&i!==void 0?i:null);Ae(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=e2(e);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.providerId=Ks.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lv.parseLink(n);return Ae(r,"argument-error"),Rl._fromEmailAndCode(e,r.code,r.tenantId)}}Ks.PROVIDER_ID="password";Ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Yl{constructor(){super("facebook.com")}static credential(e){return To._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return To._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Yl{constructor(){super("github.com")}static credential(e){return To._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Yl{constructor(){super("twitter.com")}static credential(e,n){return To._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await xr._fromIdTokenResponse(e,r,i),s=k0(r);return new Os({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=k0(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function k0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Kr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ff(e,n,r,i)}}function Jb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(t,o,e,r):o})}async function t2(t,e,n=!1){const r=await Pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t,e,n=!1){const{auth:r}=t;if(kr(r.app))return Promise.reject(ki(r));const i="reauthenticate";try{const o=await Pl(t,Jb(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const s=ov(o.idToken);Ae(s,r,"internal-error");const{sub:a}=s;return Ae(t.uid===a,r,"user-mismatch"),Os._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,e,n=!1){if(kr(t.app))return Promise.reject(ki(t));const r="signIn",i=await Jb(t,r,e),o=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function r2(t,e){return Zb(Ws(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(t){const e=Ws(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function o2(t,e,n){return kr(t.app)?Promise.reject(ki(t)):r2(kt(t),Ks.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i2(t),r})}function s2(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function a2(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function l2(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function eS(t){return kt(t).signOut()}const hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1e3,c2=10;class nS extends tS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);kN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,c2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nS.type="LOCAL";const f2=nS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends tS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rS.type="SESSION";const iS=rS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await h2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=uv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function p2(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function m2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function v2(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebaseLocalStorageDb",y2=1,df="firebaseLocalStorage",aS="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ch(t,e){return t.transaction([df],e?"readwrite":"readonly").objectStore(df)}function _2(){const t=indexedDB.deleteDatabase(sS);return new Xl(t).toPromise()}function fm(){const t=indexedDB.open(sS,y2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(df,{keyPath:aS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(df)?e(r):(r.close(),await _2(),e(await fm()))})})}async function C0(t,e,n){const r=ch(t,!0).put({[aS]:e,value:n});return new Xl(r).toPromise()}async function E2(t,e){const n=ch(t,!1).get(e),r=await new Xl(n).toPromise();return r===void 0?null:r.value}function x0(t,e){const n=ch(t,!0).delete(e);return new Xl(n).toPromise()}const w2=800,T2=3;class lS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(v2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await m2(),!this.activeServiceWorker)return;this.sender=new d2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await C0(e,hf,"1"),await x0(e,hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>E2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>x0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ch(i,!1).getAll();return new Xl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lS.type="LOCAL";const b2=lS;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t,e){return e?Nr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function A2(t){return Zb(t.auth,new cv(t),t.bypassAuthState)}function O2(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),n2(n,new cv(t),t.bypassAuthState)}async function I2(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),t2(n,new cv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return O2;default:rr(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new Ql(2e3,1e4);class rs extends uS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,rs.currentPopupAction&&rs.currentPopupAction.cancel(),rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P2.get())};e()}}rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="pendingRedirect",gc=new Map;class k2 extends uS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gc.get(this.auth._key());if(!e){try{const r=await C2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gc.set(this.auth._key(),e)}return this.bypassAuthState||gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C2(t,e){const n=L2(e),r=N2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function x2(t,e){gc.set(t._key(),e)}function N2(t){return Nr(t._redirectPersistence)}function L2(t){return mc(R2,t.config.apiKey,t.name)}async function D2(t,e,n=!1){if(kr(t.app))return Promise.reject(ki(t));const r=Ws(t),i=S2(r,e),s=await new k2(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=10*60*1e3;class j2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M2&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e={}){return $i(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q2=/^https?/;async function B2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U2(t);for(const n of e)try{if($2(n))return}catch{}rr(t,"unauthorized-domain")}function $2(t){const e=um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!q2.test(n))return!1;if(V2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Ql(3e4,6e4);function L0(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function H2(t){return new Promise((e,n)=>{var r,i,o;function s(){L0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L0(),n(mr(t,"network-request-failed"))},timeout:z2.get()})}if(!((i=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=gr().gapi)===null||o===void 0)&&o.load)s();else{const a=UN("iframefcb");return gr()[a]=()=>{gapi.load?s():n(mr(t,"network-request-failed"))},Qb(`${FN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vc=null,e})}let vc=null;function W2(t){return vc=vc||H2(t),vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Ql(5e3,15e3),G2="__/auth/iframe",Q2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J2(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iv(e,Q2):`https://${t.config.authDomain}/${G2}`,r={apiKey:e.apiKey,appName:t.name,v:Hs},i=X2.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gl(r).slice(1)}`}async function Z2(t){const e=await W2(t),n=gr().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:J2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{o(s)},K2.get());function l(){gr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tL=500,nL=600,rL="_blank",iL="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oL(t,e,n,r=tL,i=nL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},eL),{width:r.toString(),height:i.toString(),top:o,left:s}),u=on().toLowerCase();n&&(a=Bb(u)?rL:n),Vb(u)&&(e=e||iL,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(RN(u)&&a!=="_self")return sL(e||"",a),new D0(null);const f=window.open(e||"",a,d);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new D0(f)}function sL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="__/auth/handler",lL="emulator/auth/handler",uL=encodeURIComponent("fac");async function M0(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hs,eventId:i};if(e instanceof Xb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ex(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof Yl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${uL}=${encodeURIComponent(l)}`:"";return`${cL(t)}?${Gl(a).slice(1)}${u}`}function cL({config:t}){return t.emulator?iv(t,lL):`https://${t.authDomain}/${aL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class fL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=D2,this._overrideRedirectResult=x2}async _openPopup(e,n,r,i){var o;Br((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await M0(e,n,r,um(),i);return oL(e,s,uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await M0(e,n,r,um(),i);return p2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Br(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z2(e),r=new j2(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cd,{type:Cd},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Cd];s!==void 0&&n(!!s),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=B2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Kb()||qb()||sv()}}const hL=fL;var j0="@firebase/auth",F0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mL(t){As(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gb(t)},u=new DN(r,i,o,l);return zN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),As(new wo("auth-internal",e=>{const n=Ws(e.getProvider("auth").getImmediate());return(r=>new dL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(j0,F0,pL(t)),Ri(j0,F0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=5*60,vL=Sb("authIdTokenMaxAge")||gL;let U0=null;const yL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vL)return;const i=n==null?void 0:n.token;U0!==i&&(U0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _L(t=Pb()){const e=tv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$N(t,{popupRedirectResolver:hL,persistence:[b2,f2,iS]}),r=Sb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=yL(o.toString());a2(n,s,()=>s(n.currentUser)),s2(n,a=>s(a))}}const i=Tb("auth");return i&&HN(n,`http://${i}`),n}function EL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",EL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mL("Browser");var wL="firebase",TL="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(wL,TL,"app");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var po,fS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,b){function P(){}P.prototype=b.prototype,A.D=b.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(T,S,R){for(var k=Array(arguments.length-2),L=2;L<arguments.length;L++)k[L-2]=arguments[L];return b.prototype[S].apply(T,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,b,P){P||(P=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(S=0;16>S;++S)T[S]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=A.g[0],P=A.g[1],S=A.g[2];var R=A.g[3],k=b+(R^P&(S^R))+T[0]+3614090360&4294967295;b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[1]+3905402710&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[2]+606105819&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[3]+3250441966&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(R^P&(S^R))+T[4]+4118548399&4294967295,b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[5]+1200080426&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[6]+2821735955&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[7]+4249261313&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(R^P&(S^R))+T[8]+1770035416&4294967295,b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[9]+2336552879&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[10]+4294925233&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[11]+2304563134&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(R^P&(S^R))+T[12]+1804603682&4294967295,b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[13]+4254626195&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[14]+2792965006&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[15]+1236535329&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(S^R&(P^S))+T[1]+4129170786&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[6]+3225465664&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[11]+643717713&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[0]+3921069994&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(S^R&(P^S))+T[5]+3593408605&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[10]+38016083&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[15]+3634488961&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[4]+3889429448&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(S^R&(P^S))+T[9]+568446438&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[14]+3275163606&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[3]+4107603335&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[8]+1163531501&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(S^R&(P^S))+T[13]+2850285829&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[2]+4243563512&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[7]+1735328473&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[12]+2368359562&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(P^S^R)+T[5]+4294588738&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[8]+2272392833&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[11]+1839030562&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[14]+4259657740&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(P^S^R)+T[1]+2763975236&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[4]+1272893353&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[7]+4139469664&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[10]+3200236656&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(P^S^R)+T[13]+681279174&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[0]+3936430074&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[3]+3572445317&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[6]+76029189&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(P^S^R)+T[9]+3654602809&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[12]+3873151461&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[15]+530742520&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[2]+3299628645&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(S^(P|~R))+T[0]+4096336452&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[7]+1126891415&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[14]+2878612391&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[5]+4237533241&4294967295,P=S+(k<<21&4294967295|k>>>11),k=b+(S^(P|~R))+T[12]+1700485571&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[3]+2399980690&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[10]+4293915773&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[1]+2240044497&4294967295,P=S+(k<<21&4294967295|k>>>11),k=b+(S^(P|~R))+T[8]+1873313359&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[15]+4264355552&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[6]+2734768916&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[13]+1309151649&4294967295,P=S+(k<<21&4294967295|k>>>11),k=b+(S^(P|~R))+T[4]+4149444226&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[11]+3174756917&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[2]+718787259&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(S+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+S&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,b){b===void 0&&(b=A.length);for(var P=b-this.blockSize,T=this.B,S=this.h,R=0;R<b;){if(S==0)for(;R<=P;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<b;)if(T[S++]=A.charCodeAt(R++),S==this.blockSize){i(this,T),S=0;break}}else for(;R<b;)if(T[S++]=A[R++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=b},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;var P=8*this.o;for(b=A.length-8;b<A.length;++b)A[b]=P&255,P/=256;for(this.u(A),A=Array(16),b=P=0;4>b;++b)for(var T=0;32>T;T+=8)A[P++]=this.g[b]>>>T&255;return A};function o(A,b){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=b(A)}function s(A,b){this.h=b;for(var P=[],T=!0,S=A.length-1;0<=S;S--){var R=A[S]|0;T&&R==b||(P[S]=R,T=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?o(A,function(b){return new s([b|0],0>b?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return E(u(-A));for(var b=[],P=1,T=0;A>=P;T++)b[T]=A/P|0,P*=4294967296;return new s(b,0)}function d(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return E(d(A.substring(1),b));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(b,8)),T=f,S=0;S<A.length;S+=8){var R=Math.min(8,A.length-S),k=parseInt(A.substring(S,S+R),b);8>R?(R=u(Math.pow(b,R)),T=T.j(R).add(u(k))):(T=T.j(P),T=T.add(u(k)))}return T}var f=l(0),h=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var A=0,b=1,P=0;P<this.g.length;P++){var T=this.i(P);A+=(0<=T?T:4294967296+T)*b,b*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+E(this).toString(A);for(var b=u(Math.pow(A,6)),P=this,T="";;){var S=_(P,b).g;P=g(P,S.j(b));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=S,y(P))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=g(this,A),v(A)?-1:y(A)?0:1};function E(A){for(var b=A.g.length,P=[],T=0;T<b;T++)P[T]=~A.g[T];return new s(P,~A.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0,S=0;S<=b;S++){var R=T+(this.i(S)&65535)+(A.i(S)&65535),k=(R>>>16)+(this.i(S)>>>16)+(A.i(S)>>>16);T=k>>>16,R&=65535,k&=65535,P[S]=k<<16|R}return new s(P,P[P.length-1]&-2147483648?-1:0)};function g(A,b){return A.add(E(b))}t.j=function(A){if(y(this)||y(A))return f;if(v(this))return v(A)?E(this).j(E(A)):E(E(this).j(A));if(v(A))return E(this.j(E(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var b=this.g.length+A.g.length,P=[],T=0;T<2*b;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<A.g.length;S++){var R=this.i(T)>>>16,k=this.i(T)&65535,L=A.i(S)>>>16,V=A.i(S)&65535;P[2*T+2*S]+=k*V,p(P,2*T+2*S),P[2*T+2*S+1]+=R*V,p(P,2*T+2*S+1),P[2*T+2*S+1]+=k*L,p(P,2*T+2*S+1),P[2*T+2*S+2]+=R*L,p(P,2*T+2*S+2)}for(T=0;T<b;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=b;T<2*b;T++)P[T]=0;return new s(P,0)};function p(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function w(A,b){this.g=A,this.h=b}function _(A,b){if(y(b))throw Error("division by zero");if(y(A))return new w(f,f);if(v(A))return b=_(E(A),b),new w(E(b.g),E(b.h));if(v(b))return b=_(A,E(b)),new w(E(b.g),b.h);if(30<A.g.length){if(v(A)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var P=h,T=b;0>=T.l(A);)P=O(P),T=O(T);var S=C(P,1),R=C(T,1);for(T=C(T,2),P=C(P,2);!y(T);){var k=R.add(T);0>=k.l(A)&&(S=S.add(P),R=k),T=C(T,1),P=C(P,1)}return b=g(A,S.j(b)),new w(S,b)}for(S=f;0<=A.l(b);){for(P=Math.max(1,Math.floor(A.m()/b.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=u(P),k=R.j(b);v(k)||0<k.l(A);)P-=T,R=u(P),k=R.j(b);y(R)&&(R=h),S=S.add(R),A=g(A,k)}return new w(S,A)}t.A=function(A){return _(this,A).h},t.and=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0;T<b;T++)P[T]=this.i(T)&A.i(T);return new s(P,this.h&A.h)},t.or=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0;T<b;T++)P[T]=this.i(T)|A.i(T);return new s(P,this.h|A.h)},t.xor=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0;T<b;T++)P[T]=this.i(T)^A.i(T);return new s(P,this.h^A.h)};function O(A){for(var b=A.g.length+1,P=[],T=0;T<b;T++)P[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(P,A.h)}function C(A,b){var P=b>>5;b%=32;for(var T=A.g.length-P,S=[],R=0;R<T;R++)S[R]=0<b?A.i(R+P)>>>b|A.i(R+P+1)<<32-b:A.i(R+P);return new s(S,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,po=s}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hS,dS,$a,pS,yc,hm,mS,gS,vS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,I,x){return c==Array.prototype||c==Object.prototype||(c[I]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var I=0;I<c.length;++I){var x=c[I];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,I){if(I)e:{var x=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var Y=c[D];if(!(Y in x))break e;x=x[Y]}c=c[c.length-1],D=x[c],I=I(D),I!=D&&I!=null&&e(x,c,{configurable:!0,writable:!0,value:I})}}function o(c,I){c instanceof String&&(c+="");var x=0,D=!1,Y={next:function(){if(!D&&x<c.length){var Z=x++;return{value:I(Z,c[Z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(c){return c||function(){return o(this,function(I,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var I=typeof c;return I=I!="object"?I:c?Array.isArray(c)?"array":I:"null",I=="array"||I=="object"&&typeof c.length=="number"}function u(c){var I=typeof c;return I=="object"&&c!=null||I=="function"}function d(c,I,x){return c.call.apply(c.bind,arguments)}function f(c,I,x){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,D),c.apply(I,Y)}}return function(){return c.apply(I,arguments)}}function h(c,I,x){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(c,I){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function y(c,I){function x(){}x.prototype=I.prototype,c.aa=I.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(D,Y,Z){for(var fe=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)fe[Je-2]=arguments[Je];return I.prototype[Y].apply(D,fe)}}function v(c){const I=c.length;if(0<I){const x=Array(I);for(let D=0;D<I;D++)x[D]=c[D];return x}return[]}function E(c,I){for(let x=1;x<arguments.length;x++){const D=arguments[x];if(l(D)){const Y=c.length||0,Z=D.length||0;c.length=Y+Z;for(let fe=0;fe<Z;fe++)c[Y+fe]=D[fe]}else c.push(D)}}class g{constructor(I,x){this.i=I,this.j=x,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function p(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function _(c){return _[" "](c),c}_[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function C(c,I,x){for(const D in c)I.call(x,c[D],D,c)}function A(c,I){for(const x in c)I.call(void 0,c[x],x,c)}function b(c){const I={};for(const x in c)I[x]=c[x];return I}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,I){let x,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(x in D)c[x]=D[x];for(let Z=0;Z<P.length;Z++)x=P[Z],Object.prototype.hasOwnProperty.call(D,x)&&(c[x]=D[x])}}function S(c){var I=1;c=c.split(":");const x=[];for(;0<I&&c.length;)x.push(c.shift()),I--;return c.length&&x.push(c.join(":")),x}function R(c){a.setTimeout(()=>{throw c},0)}function k(){var c=B;let I=null;return c.g&&(I=c.g,c.g=c.g.next,c.g||(c.h=null),I.next=null),I}class L{constructor(){this.h=this.g=null}add(I,x){const D=V.get();D.set(I,x),this.h?this.h.next=D:this.g=D,this.h=D}}var V=new g(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(I,x){this.h=I,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let K,G=!1,B=new L,F=()=>{const c=a.Promise.resolve(void 0);K=()=>{c.then(N)}};var N=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(x){R(x)}var I=V;I.j(c),100>I.h&&(I.h++,c.next=I.g,I.g=c)}G=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(c,I){this.type=c,this.g=this.target=I,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,I=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};a.addEventListener("test",x,I),a.removeEventListener("test",x,I)}catch{}return c}();function $(c,I){if(U.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=I,I=c.relatedTarget){if(O){e:{try{_(I.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(I=null)}}else x=="mouseover"?I=c.fromElement:x=="mouseout"&&(I=c.toElement);this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:j[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&$.aa.h.call(this)}}y($,U);var j={2:"touch",3:"pen",4:"mouse"};$.prototype.h=function(){$.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),J=0;function X(c,I,x,D,Y){this.listener=c,this.proxy=null,this.src=I,this.type=x,this.capture=!!D,this.ha=Y,this.key=++J,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,I,x,D,Y){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=Te(c,I,D,Y);return-1<fe?(I=c[fe],x||(I.fa=!1)):(I=new X(I,this.src,Z,!!D,Y),I.fa=x,c.push(I)),I};function Ee(c,I){var x=I.type;if(x in c.g){var D=c.g[x],Y=Array.prototype.indexOf.call(D,I,void 0),Z;(Z=0<=Y)&&Array.prototype.splice.call(D,Y,1),Z&&(re(I),c.g[x].length==0&&(delete c.g[x],c.h--))}}function Te(c,I,x,D){for(var Y=0;Y<c.length;++Y){var Z=c[Y];if(!Z.da&&Z.listener==I&&Z.capture==!!x&&Z.ha==D)return Y}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Ne={};function _t(c,I,x,D,Y){if(Array.isArray(I)){for(var Z=0;Z<I.length;Z++)_t(c,I[Z],x,D,Y);return null}return x=Ie(x),c&&c[z]?c.K(I,x,u(D)?!!D.capture:!!D,Y):Qe(c,I,x,!1,D,Y)}function Qe(c,I,x,D,Y,Z){if(!I)throw Error("Invalid event type");var fe=u(Y)?!!Y.capture:!!Y,Je=Pe(c);if(Je||(c[Oe]=Je=new pe(c)),x=Je.add(I,x,D,fe,Z),x.proxy)return x;if(D=te(),x.proxy=D,D.src=c,D.listener=x,c.addEventListener)Q||(Y=fe),Y===void 0&&(Y=!1),c.addEventListener(I.toString(),D,Y);else if(c.attachEvent)c.attachEvent(de(I.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function te(){function c(x){return I.call(c.src,c.listener,x)}const I=se;return c}function ne(c,I,x,D,Y){if(Array.isArray(I))for(var Z=0;Z<I.length;Z++)ne(c,I[Z],x,D,Y);else D=u(D)?!!D.capture:!!D,x=Ie(x),c&&c[z]?(c=c.i,I=String(I).toString(),I in c.g&&(Z=c.g[I],x=Te(Z,x,D,Y),-1<x&&(re(Z[x]),Array.prototype.splice.call(Z,x,1),Z.length==0&&(delete c.g[I],c.h--)))):c&&(c=Pe(c))&&(I=c.g[I.toString()],c=-1,I&&(c=Te(I,x,D,Y)),(x=-1<c?I[c]:null)&&ce(x))}function ce(c){if(typeof c!="number"&&c&&!c.da){var I=c.src;if(I&&I[z])Ee(I.i,c);else{var x=c.type,D=c.proxy;I.removeEventListener?I.removeEventListener(x,D,c.capture):I.detachEvent?I.detachEvent(de(x),D):I.addListener&&I.removeListener&&I.removeListener(D),(x=Pe(I))?(Ee(x,c),x.h==0&&(x.src=null,I[Oe]=null)):re(c)}}}function de(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function se(c,I){if(c.da)c=!0;else{I=new $(I,this);var x=c.listener,D=c.ha||c.src;c.fa&&ce(c),c=x.call(D,I)}return c}function Pe(c){return c=c[Oe],c instanceof pe?c:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(c){return typeof c=="function"?c:(c[Se]||(c[Se]=function(I){return c.handleEvent(I)}),c[Se])}function Fe(){M.call(this),this.i=new pe(this),this.M=this,this.F=null}y(Fe,M),Fe.prototype[z]=!0,Fe.prototype.removeEventListener=function(c,I,x,D){ne(this,c,I,x,D)};function Ye(c,I){var x,D=c.F;if(D)for(x=[];D;D=D.F)x.push(D);if(c=c.M,D=I.type||I,typeof I=="string")I=new U(I,c);else if(I instanceof U)I.target=I.target||c;else{var Y=I;I=new U(D,c),T(I,Y)}if(Y=!0,x)for(var Z=x.length-1;0<=Z;Z--){var fe=I.g=x[Z];Y=He(fe,D,!0,I)&&Y}if(fe=I.g=c,Y=He(fe,D,!0,I)&&Y,Y=He(fe,D,!1,I)&&Y,x)for(Z=0;Z<x.length;Z++)fe=I.g=x[Z],Y=He(fe,D,!1,I)&&Y}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var c=this.i,I;for(I in c.g){for(var x=c.g[I],D=0;D<x.length;D++)re(x[D]);delete c.g[I],c.h--}}this.F=null},Fe.prototype.K=function(c,I,x,D){return this.i.add(String(c),I,!1,x,D)},Fe.prototype.L=function(c,I,x,D){return this.i.add(String(c),I,!0,x,D)};function He(c,I,x,D){if(I=c.i.g[String(I)],!I)return!0;I=I.concat();for(var Y=!0,Z=0;Z<I.length;++Z){var fe=I[Z];if(fe&&!fe.da&&fe.capture==x){var Je=fe.listener,jt=fe.ha||fe.src;fe.fa&&Ee(c.i,fe),Y=Je.call(jt,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Wi(c,I,x){if(typeof c=="function")x&&(c=h(c,x));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(c,I||0)}function Xe(c){c.g=Wi(()=>{c.g=null,c.i&&(c.i=!1,Xe(c))},c.l);const I=c.h;c.h=null,c.m.apply(null,I)}class An extends M{constructor(I,x){super(),this.m=I,this.l=x,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sr(c){M.call(this),this.h=c,this.g={}}y(sr,M);var Ki=[];function Mn(c){C(c.g,function(I,x){this.g.hasOwnProperty(x)&&ce(I)},c),c.g={}}sr.prototype.N=function(){sr.aa.N.call(this),Mn(this)},sr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=a.JSON.stringify,oa=a.JSON.parse,sa=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function aa(){}aa.prototype.h=null;function Qr(c){return c.h||(c.h=c.i())}function uu(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){U.call(this,"d")}y(pt,U);function lr(){U.call(this,"c")}y(lr,U);var wr={},la=null;function Yr(){return la=la||new Fe}wr.La="serverreachability";function ua(c){U.call(this,wr.La,c)}y(ua,U);function Xr(c){const I=Yr();Ye(I,new ua(I))}wr.STAT_EVENT="statevent";function cu(c,I){U.call(this,wr.STAT_EVENT,c),this.stat=I}y(cu,U);function Ct(c){const I=Yr();Ye(I,new cu(I,c))}wr.Ma="timingevent";function ca(c,I){U.call(this,wr.Ma,c),this.size=I}y(ca,U);function Qi(c,I){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},I)}function Wt(){this.g=!0}Wt.prototype.xa=function(){this.g=!1};function Lo(c,I,x,D,Y,Z){c.info(function(){if(c.g)if(Z)for(var fe="",Je=Z.split("&"),jt=0;jt<Je.length;jt++){var $e=Je[jt].split("=");if(1<$e.length){var Kt=$e[0];$e=$e[1];var Gt=Kt.split("_");fe=2<=Gt.length&&Gt[1]=="type"?fe+(Kt+"="+$e+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+I+`
`+x+`
`+fe})}function fu(c,I,x,D,Y,Z,fe){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+I+`
`+x+`
`+Z+" "+fe})}function Tr(c,I,x,D){c.info(function(){return"XMLHTTP TEXT ("+I+"): "+du(c,x)+(D?" "+D:"")})}function hu(c,I){c.info(function(){return"TIMEOUT: "+I})}Wt.prototype.info=function(){};function du(c,I){if(!c.g)return I;if(!I)return null;try{var x=JSON.parse(I);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var D=x[c];if(!(2>D.length)){var Y=D[1];if(Array.isArray(Y)&&!(1>Y.length)){var Z=Y[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<Y.length;fe++)Y[fe]=""}}}}return ar(x)}catch{return I}}var pn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Do;function Yi(){}y(Yi,aa),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},Do=new Yi;function Hn(c,I,x,D){this.j=c,this.i=I,this.l=x,this.R=D||1,this.U=new sr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}var _e={},W={};function ue(c,I,x){c.L=1,c.v=yu(br(I)),c.m=x,c.P=!0,ve(c,null)}function ve(c,I){c.F=Date.now(),mt(c),c.A=br(c.v);var x=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),vy(x.i,"t",D),c.C=0,x=c.j.J,c.h=new pu,c.g=Dy(c.j,x?I:null,!c.m),0<c.O&&(c.M=new An(h(c.Y,c,c.g),c.O)),I=c.U,x=c.g,D=c.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ki[0]=Y.toString()),Y=Ki);for(var Z=0;Z<Y.length;Z++){var fe=_t(x,Y[Z],D||I.handleEvent,!1,I.h||I);if(!fe)break;I.g[fe.key]=fe}I=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,I)):(c.u="GET",c.g.ea(c.A,c.u,null,I)),Xr(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}Hn.prototype.ca=function(c){c=c.target;const I=this.M;I&&Sr(c)==3?I.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=Sr(this.g);var I=this.g.Ba();const Uo=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Sy(this.g)))){this.J||Gt!=4||I==7||(I==8||0>=Uo?Xr(3):Xr(2)),mn(this);var x=this.g.Z();this.X=x;t:if(Ke(this)){var D=Sy(this.g);c="";var Y=D.length,Z=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),Wn(this);var fe="";break t}this.h.i=new a.TextDecoder}for(I=0;I<Y;I++)this.h.h=!0,c+=this.h.i.decode(D[I],{stream:!(Z&&I==Y-1)});D.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=x==200,fu(this.i,this.u,this.A,this.l,this.R,Gt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,jt=this.g;if((Je=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(Je)){var $e=Je;break t}}$e=null}if(x=$e)Tr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,x);else{this.o=!1,this.s=3,Ct(12),lt(this),Wn(this);break e}}if(this.P){x=!0;let Kn;for(;!this.J&&this.C<fe.length;)if(Kn=xt(this,fe),Kn==W){Gt==4&&(this.s=4,Ct(14),x=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==_e){this.s=4,Ct(15),Tr(this.i,this.l,fe,"[Invalid Chunk]"),x=!1;break}else Tr(this.i,this.l,Kn,null),Mo(this,Kn);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||fe.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)Tr(this.i,this.l,fe,"[Invalid Chunked Response]"),lt(this),Wn(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Yh(Kt),Kt.M=!0,Ct(11))}}else Tr(this.i,this.l,fe,null),Mo(this,fe);Gt==4&&lt(this),this.o&&!this.J&&(Gt==4?Cy(this.j,this):(this.o=!1,mt(this)))}else PI(this.g),x==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),lt(this),Wn(this)}}}catch{}finally{}};function Ke(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xt(c,I){var x=c.C,D=I.indexOf(`
`,x);return D==-1?W:(x=Number(I.substring(x,D)),isNaN(x)?_e:(D+=1,D+x>I.length?W:(I=I.slice(D,D+x),c.C=D+x,I)))}Hn.prototype.cancel=function(){this.J=!0,lt(this)};function mt(c){c.S=Date.now()+c.I,Mt(c,c.I)}function Mt(c,I){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Qi(h(c.ba,c),I)}function mn(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Hn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(hu(this.i,this.A),this.L!=2&&(Xr(),Ct(17)),lt(this),this.s=2,Wn(this)):Mt(this,this.S-c)};function Wn(c){c.j.G==0||c.J||Cy(c.j,c)}function lt(c){mn(c);var I=c.M;I&&typeof I.ma=="function"&&I.ma(),c.M=null,Mn(c.U),c.g&&(I=c.g,c.g=null,I.abort(),I.ma())}function Mo(c,I){try{var x=c.j;if(x.G!=0&&(x.g==c||Hh(x.h,c))){if(!c.K&&Hh(x.h,c)&&x.G==3){try{var D=x.Da.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)bu(x),wu(x);else break e;Qh(x),Ct(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=Qi(h(x.Za,x),6e3));if(1>=ly(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ji(x,11)}else if((c.K||x.g==c)&&bu(x),!p(I))for(Y=x.Da.g.parse(I),I=0;I<Y.length;I++){let $e=Y[I];if(x.T=$e[0],$e=$e[1],x.G==2)if($e[0]=="c"){x.K=$e[1],x.ia=$e[2];const Kt=$e[3];Kt!=null&&(x.la=Kt,x.j.info("VER="+x.la));const Gt=$e[4];Gt!=null&&(x.Aa=Gt,x.j.info("SVER="+x.Aa));const Uo=$e[5];Uo!=null&&typeof Uo=="number"&&0<Uo&&(D=1.5*Uo,x.L=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Kn=c.g;if(Kn){const Au=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Au){var Z=D.h;Z.g||Au.indexOf("spdy")==-1&&Au.indexOf("quic")==-1&&Au.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Wh(Z,Z.h),Z.h=null))}if(D.D){const Xh=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xh&&(D.ya=Xh,tt(D.I,D.D,Xh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),D=x;var fe=c;if(D.qa=Ly(D,D.J?D.ia:null,D.W),fe.K){uy(D.h,fe);var Je=fe,jt=D.L;jt&&(Je.I=jt),Je.B&&(mn(Je),mt(Je)),D.g=fe}else Ry(D);0<x.i.length&&Tu(x)}else $e[0]!="stop"&&$e[0]!="close"||Ji(x,7);else x.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ji(x,7):Gh(x):$e[0]!="noop"&&x.l&&x.l.ta($e),x.v=0)}}Xr(4)}catch{}}var mu=class{constructor(c,I){this.g=c,this.map=I}};function sy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ay(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ly(c){return c.h?1:c.g?c.g.size:0}function Hh(c,I){return c.h?c.h==I:c.g?c.g.has(I):!1}function Wh(c,I){c.g?c.g.add(I):c.h=I}function uy(c,I){c.h&&c.h==I?c.h=null:c.g&&c.g.has(I)&&c.g.delete(I)}sy.prototype.cancel=function(){if(this.i=cy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let I=c.i;for(const x of c.g.values())I=I.concat(x.D);return I}return v(c.i)}function dI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var I=[],x=c.length,D=0;D<x;D++)I.push(c[D]);return I}I=[],x=0;for(D in c)I[x++]=c[D];return I}function pI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var I=[];c=c.length;for(var x=0;x<c;x++)I.push(x);return I}I=[],x=0;for(const D in c)I[x++]=D;return I}}}function fy(c,I){if(c.forEach&&typeof c.forEach=="function")c.forEach(I,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,I,void 0);else for(var x=pI(c),D=dI(c),Y=D.length,Z=0;Z<Y;Z++)I.call(void 0,D[Z],x&&x[Z],c)}var hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mI(c,I){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var D=c[x].indexOf("="),Y=null;if(0<=D){var Z=c[x].substring(0,D);Y=c[x].substring(D+1)}else Z=c[x];I(Z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xi){this.h=c.h,gu(this,c.j),this.o=c.o,this.g=c.g,vu(this,c.s),this.l=c.l;var I=c.i,x=new pa;x.i=I.i,I.g&&(x.g=new Map(I.g),x.h=I.h),dy(this,x),this.m=c.m}else c&&(I=String(c).match(hy))?(this.h=!1,gu(this,I[1]||"",!0),this.o=ha(I[2]||""),this.g=ha(I[3]||"",!0),vu(this,I[4]),this.l=ha(I[5]||"",!0),dy(this,I[6]||"",!0),this.m=ha(I[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}Xi.prototype.toString=function(){var c=[],I=this.j;I&&c.push(da(I,py,!0),":");var x=this.g;return(x||I=="file")&&(c.push("//"),(I=this.o)&&c.push(da(I,py,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(da(x,x.charAt(0)=="/"?yI:vI,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",da(x,EI)),c.join("")};function br(c){return new Xi(c)}function gu(c,I,x){c.j=x?ha(I,!0):I,c.j&&(c.j=c.j.replace(/:$/,""))}function vu(c,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);c.s=I}else c.s=null}function dy(c,I,x){I instanceof pa?(c.i=I,wI(c.i,c.h)):(x||(I=da(I,_I)),c.i=new pa(I,c.h))}function tt(c,I,x){c.i.set(I,x)}function yu(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ha(c,I){return c?I?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function da(c,I,x){return typeof c=="string"?(c=encodeURI(c).replace(I,gI),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var py=/[#\/\?@]/g,vI=/[#\?:]/g,yI=/[#\?]/g,_I=/[#\?@]/g,EI=/#/g;function pa(c,I){this.h=this.g=null,this.i=c||null,this.j=!!I}function Jr(c){c.g||(c.g=new Map,c.h=0,c.i&&mI(c.i,function(I,x){c.add(decodeURIComponent(I.replace(/\+/g," ")),x)}))}t=pa.prototype,t.add=function(c,I){Jr(this),this.i=null,c=jo(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(I),this.h+=1,this};function my(c,I){Jr(c),I=jo(c,I),c.g.has(I)&&(c.i=null,c.h-=c.g.get(I).length,c.g.delete(I))}function gy(c,I){return Jr(c),I=jo(c,I),c.g.has(I)}t.forEach=function(c,I){Jr(this),this.g.forEach(function(x,D){x.forEach(function(Y){c.call(I,Y,D,this)},this)},this)},t.na=function(){Jr(this);const c=Array.from(this.g.values()),I=Array.from(this.g.keys()),x=[];for(let D=0;D<I.length;D++){const Y=c[D];for(let Z=0;Z<Y.length;Z++)x.push(I[D])}return x},t.V=function(c){Jr(this);let I=[];if(typeof c=="string")gy(this,c)&&(I=I.concat(this.g.get(jo(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)I=I.concat(c[x])}return I},t.set=function(c,I){return Jr(this),this.i=null,c=jo(this,c),gy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[I]),this.h+=1,this},t.get=function(c,I){return c?(c=this.V(c),0<c.length?String(c[0]):I):I};function vy(c,I,x){my(c,I),0<x.length&&(c.i=null,c.g.set(jo(c,I),v(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],I=Array.from(this.g.keys());for(var x=0;x<I.length;x++){var D=I[x];const Z=encodeURIComponent(String(D)),fe=this.V(D);for(D=0;D<fe.length;D++){var Y=Z;fe[D]!==""&&(Y+="="+encodeURIComponent(String(fe[D]))),c.push(Y)}}return this.i=c.join("&")};function jo(c,I){return I=String(I),c.j&&(I=I.toLowerCase()),I}function wI(c,I){I&&!c.j&&(Jr(c),c.i=null,c.g.forEach(function(x,D){var Y=D.toLowerCase();D!=Y&&(my(this,D),vy(this,Y,x))},c)),c.j=I}function TI(c,I){const x=new Wt;if(a.Image){const D=new Image;D.onload=m(Zr,x,"TestLoadImage: loaded",!0,I,D),D.onerror=m(Zr,x,"TestLoadImage: error",!1,I,D),D.onabort=m(Zr,x,"TestLoadImage: abort",!1,I,D),D.ontimeout=m(Zr,x,"TestLoadImage: timeout",!1,I,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else I(!1)}function bI(c,I){const x=new Wt,D=new AbortController,Y=setTimeout(()=>{D.abort(),Zr(x,"TestPingServer: timeout",!1,I)},1e4);fetch(c,{signal:D.signal}).then(Z=>{clearTimeout(Y),Z.ok?Zr(x,"TestPingServer: ok",!0,I):Zr(x,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Y),Zr(x,"TestPingServer: error",!1,I)})}function Zr(c,I,x,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(x)}catch{}}function SI(){this.g=new sa}function AI(c,I,x){const D=x||"";try{fy(c,function(Y,Z){let fe=Y;u(Y)&&(fe=ar(Y)),I.push(D+Z+"="+encodeURIComponent(fe))})}catch(Y){throw I.push(D+"type="+encodeURIComponent("_badmap")),Y}}function ma(c){this.l=c.Ub||null,this.j=c.eb||!1}y(ma,aa),ma.prototype.g=function(){return new _u(this.l,this.j)},ma.prototype.i=function(c){return function(){return c}}({});function _u(c,I){Fe.call(this),this.D=c,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(_u,Fe),t=_u.prototype,t.open=function(c,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=I,this.readyState=1,va(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(I.body=c),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ga(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var I=c.value?c.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!c.done}))&&(this.response=this.responseText+=I)}c.done?ga(this):va(this),this.readyState==3&&yy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ga(this))},t.Qa=function(c){this.g&&(this.response=c,ga(this))},t.ga=function(){this.g&&ga(this)};function ga(c){c.readyState=4,c.l=null,c.j=null,c.v=null,va(c)}t.setRequestHeader=function(c,I){this.u.append(c,I)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],I=this.h.entries();for(var x=I.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=I.next();return c.join(`\r
`)};function va(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _y(c){let I="";return C(c,function(x,D){I+=D,I+=":",I+=x,I+=`\r
`}),I}function Kh(c,I,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=_y(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):tt(c,I,x))}function gt(c){Fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(gt,Fe);var OI=/^https?$/i,II=["POST","PUT"];t=gt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,I,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);I=I?I.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Do.g(),this.v=this.o?Qr(this.o):Qr(Do),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(I,String(c),!0),this.B=!1}catch(Z){Ey(this,Z);return}if(c=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)x.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Z of D.keys())x.set(Z,D.get(Z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(II,I,void 0))||D||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of x)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{by(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Ey(this,Z)}};function Ey(c,I){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=I,c.m=5,wy(c),Eu(c)}function wy(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),Eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Eu(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ty(this):this.bb())},t.bb=function(){Ty(this)};function Ty(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)Wi(c.Ea,0,c);else if(Ye(c,"readystatechange"),Sr(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var x;if(!(x=I)){var D;if(D=fe===0){var Y=String(c.D).match(hy)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),D=!OI.test(Y?Y.toLowerCase():"")}x=D}if(x)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Z=2<Sr(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",wy(c)}}finally{Eu(c)}}}}function Eu(c,I){if(c.g){by(c);const x=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,I||Ye(c,"ready");try{x.onreadystatechange=D}catch{}}}function by(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var I=this.g.responseText;return c&&I.indexOf(c)==0&&(I=I.substring(c.length)),oa(I)}};function Sy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function PI(c){const I={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(p(c[D]))continue;var x=S(c[D]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Z=I[Y]||[];I[Y]=Z,Z.push(x)}A(I,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(c,I,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||I}function Ay(c){this.Aa=0,this.i=[],this.j=new Wt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,c),this.cb=ya("retryDelaySeedMs",1e4,c),this.Wa=ya("forwardChannelMaxRetries",2,c),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new sy(c&&c.concurrentRequestLimit),this.Da=new SI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ay.prototype,t.la=8,t.G=1,t.connect=function(c,I,x,D){Ct(0),this.W=c,this.H=I||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.I=Ly(this,null,this.W),Tu(this)};function Gh(c){if(Oy(c),c.G==3){var I=c.U++,x=br(c.I);if(tt(x,"SID",c.K),tt(x,"RID",I),tt(x,"TYPE","terminate"),_a(c,x),I=new Hn(c,c.j,I),I.L=2,I.v=yu(br(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=I.v,x=!0),x||(I.g=Dy(I.j,null),I.g.ea(I.v)),I.F=Date.now(),mt(I)}Ny(c)}function wu(c){c.g&&(Yh(c),c.g.cancel(),c.g=null)}function Oy(c){wu(c),c.u&&(a.clearTimeout(c.u),c.u=null),bu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Tu(c){if(!ay(c.h)&&!c.s){c.s=!0;var I=c.Ga;K||F(),G||(K(),G=!0),B.add(I,c),c.B=0}}function RI(c,I){return ly(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=I.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Qi(h(c.Ga,c,I),xy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Y=new Hn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=b(Z),T(Z,this.S)):Z=this.S),this.m!==null||this.O||(Y.H=Z,Z=null),this.P)e:{for(var I=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,4096<I){I=x;break e}if(I===4096||x===this.i.length-1){I=x+1;break e}}I=1e3}else I=1e3;I=Py(this,Y,I),x=br(this.I),tt(x,"RID",c),tt(x,"CVER",22),this.D&&tt(x,"X-HTTP-Session-Id",this.D),_a(this,x),Z&&(this.O?I="headers="+encodeURIComponent(String(_y(Z)))+"&"+I:this.m&&Kh(x,this.m,Z)),Wh(this.h,Y),this.Ua&&tt(x,"TYPE","init"),this.P?(tt(x,"$req",I),tt(x,"SID","null"),Y.T=!0,ue(Y,x,null)):ue(Y,x,I),this.G=2}}else this.G==3&&(c?Iy(this,c):this.i.length==0||ay(this.h)||Iy(this))};function Iy(c,I){var x;I?x=I.l:x=c.U++;const D=br(c.I);tt(D,"SID",c.K),tt(D,"RID",x),tt(D,"AID",c.T),_a(c,D),c.m&&c.o&&Kh(D,c.m,c.o),x=new Hn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),I&&(c.i=I.D.concat(c.i)),I=Py(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wh(c.h,x),ue(x,D,I)}function _a(c,I){c.H&&C(c.H,function(x,D){tt(I,D,x)}),c.l&&fy({},function(x,D){tt(I,D,x)})}function Py(c,I,x){x=Math.min(c.i.length,x);var D=c.l?h(c.l.Na,c.l,c):null;e:{var Y=c.i;let Z=-1;for(;;){const fe=["count="+x];Z==-1?0<x?(Z=Y[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let Je=!0;for(let jt=0;jt<x;jt++){let $e=Y[jt].g;const Kt=Y[jt].map;if($e-=Z,0>$e)Z=Math.max(0,Y[jt].g-100),Je=!1;else try{AI(Kt,fe,"req"+$e+"_")}catch{D&&D(Kt)}}if(Je){D=fe.join("&");break e}}}return c=c.i.splice(0,x),I.D=c,D}function Ry(c){if(!c.g&&!c.u){c.Y=1;var I=c.Fa;K||F(),G||(K(),G=!0),B.add(I,c),c.v=0}}function Qh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Qi(h(c.Fa,c),xy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ky(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Qi(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),wu(this),ky(this))};function Yh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ky(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var I=br(c.qa);tt(I,"RID","rpc"),tt(I,"SID",c.K),tt(I,"AID",c.T),tt(I,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(I,"TO",c.ja),tt(I,"TYPE","xmlhttp"),_a(c,I),c.m&&c.o&&Kh(I,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=yu(br(I)),x.m=null,x.P=!0,ve(x,c)}t.Za=function(){this.C!=null&&(this.C=null,wu(this),Qh(this),Ct(19))};function bu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Cy(c,I){var x=null;if(c.g==I){bu(c),Yh(c),c.g=null;var D=2}else if(Hh(c.h,I))x=I.D,uy(c.h,I),D=1;else return;if(c.G!=0){if(I.o)if(D==1){x=I.m?I.m.length:0,I=Date.now()-I.F;var Y=c.B;D=Yr(),Ye(D,new ca(D,x)),Tu(c)}else Ry(c);else if(Y=I.s,Y==3||Y==0&&0<I.X||!(D==1&&RI(c,I)||D==2&&Qh(c)))switch(x&&0<x.length&&(I=c.h,I.i=I.i.concat(x)),Y){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function xy(c,I){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*I}function Ji(c,I){if(c.j.info("Error code "+I),I==2){var x=h(c.fb,c),D=c.Xa;const Y=!D;D=new Xi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gu(D,"https"),yu(D),Y?TI(D.toString(),x):bI(D.toString(),x)}else Ct(2);c.G=0,c.l&&c.l.sa(I),Ny(c),Oy(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Ny(c){if(c.G=0,c.ka=[],c.l){const I=cy(c.h);(I.length!=0||c.i.length!=0)&&(E(c.ka,I),E(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Ly(c,I,x){var D=x instanceof Xi?br(x):new Xi(x);if(D.g!="")I&&(D.g=I+"."+D.g),vu(D,D.s);else{var Y=a.location;D=Y.protocol,I=I?I+"."+Y.hostname:Y.hostname,Y=+Y.port;var Z=new Xi(null);D&&gu(Z,D),I&&(Z.g=I),Y&&vu(Z,Y),x&&(Z.l=x),D=Z}return x=c.D,I=c.ya,x&&I&&tt(D,x,I),tt(D,"VER",c.la),_a(c,D),D}function Dy(c,I,x){if(I&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=c.Ca&&!c.pa?new gt(new ma({eb:x})):new gt(c.pa),I.Ha(c.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function My(){}t=My.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Su(){}Su.prototype.g=function(c,I){return new On(c,I)};function On(c,I){Fe.call(this),this.g=new Ay(I),this.l=c,this.h=I&&I.messageUrlParams||null,c=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(c?c["X-WebChannel-Content-Type"]=I.messageContentType:c={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(c?c["X-WebChannel-Client-Profile"]=I.va:c={"X-WebChannel-Client-Profile":I.va}),this.g.S=c,(c=I&&I.Sb)&&!p(c)&&(this.g.m=c),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!p(I)&&(this.g.D=I,c=this.h,c!==null&&I in c&&(c=this.h,I in c&&delete c[I])),this.j=new Fo(this)}y(On,Fe),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){Gh(this.g)},On.prototype.o=function(c){var I=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=ar(c),c=x);I.i.push(new mu(I.Ya++,c)),I.G==3&&Tu(I)},On.prototype.N=function(){this.g.l=null,delete this.j,Gh(this.g),delete this.g,On.aa.N.call(this)};function jy(c){pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var I=c.__sm__;if(I){e:{for(const x in I){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,I=I!==null&&c in I?I[c]:void 0),this.data=I}else this.data=c}y(jy,pt);function Fy(){lr.call(this),this.status=1}y(Fy,lr);function Fo(c){this.g=c}y(Fo,My),Fo.prototype.ua=function(){Ye(this.g,"a")},Fo.prototype.ta=function(c){Ye(this.g,new jy(c))},Fo.prototype.sa=function(c){Ye(this.g,new Fy)},Fo.prototype.ra=function(){Ye(this.g,"b")},Su.prototype.createWebChannel=Su.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,vS=function(){return new Su},gS=function(){return Yr()},mS=wr,hm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,yc=pn,fa.COMPLETE="complete",pS=fa,uu.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,$a=uu,dS=ma,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,hS=gt}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Zg("@firebase/firestore");function Pa(){return bo.logLevel}function ye(t,...e){if(bo.logLevel<=Ve.DEBUG){const n=e.map(fv);bo.debug(`Firestore (${Gs}): ${t}`,...n)}}function $r(t,...e){if(bo.logLevel<=Ve.ERROR){const n=e.map(fv);bo.error(`Firestore (${Gs}): ${t}`,...n)}}function Is(t,...e){if(bo.logLevel<=Ve.WARN){const n=e.map(fv);bo.warn(`Firestore (${Gs}): ${t}`,...n)}}function fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Ze(t,e){t||Re()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class SL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AL{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new yS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new Zt(e)}}class OL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class IL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new PL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Rt(0,0))}static max(){return new ke(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends kl{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const CL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends kl{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return CL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(it.fromString(e))}static fromName(e){return new we(it.fromString(e).popFirst(5))}static empty(){return new we(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new it(e.slice()))}}function xL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Li(i,we.empty(),e)}function NL(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(ke.min(),we.empty(),-1)}static max(){return new Li(ke.max(),we.empty(),-1)}}function LL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ML{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==DL)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ae((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function jL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hv.oe=-1;function fh(t){return t==null}function pf(t){return t===0&&1/t==-1/0}function FL(t){return typeof t=="number"&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ES(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=o??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $0(this.data.getIterator())}getIteratorFrom(e){return new $0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class $0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new $t(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wS("Invalid base64 string: "+o):o}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const UL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=UL.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pv(t){const e=t.mapValue.fields.__previous_value__;return dv(e)?pv(e):e}function Cl(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dv(t)?4:BL(t)?9007199254740991:qL(t)?10:11:Re()}function Er(t,e){if(t===e)return!0;const n=Ao(t);if(n!==Ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Di(i.timestampValue),a=Di(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return So(i.bytesValue).isEqual(So(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Et(i.doubleValue),a=Et(o.doubleValue);return s===a?pf(s)===pf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ps(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(B0(s)!==B0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Er(s[l],a[l])))return!1;return!0}(t,e);default:return Re()}}function Nl(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;const n=Ao(t),r=Ao(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Et(o.integerValue||o.doubleValue),l=Et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return z0(t.timestampValue,e.timestampValue);case 4:return z0(Cl(t),Cl(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(o,s){const a=So(o),l=So(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ze(a[u],l[u]);if(d!==0)return d}return ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ze(Et(o.latitude),Et(s.latitude));return a!==0?a:ze(Et(o.longitude),Et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return H0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,d;const f=o.fields||{},h=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,v=ze(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:H0(m,y)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Wu.mapValue&&s===Wu.mapValue)return 0;if(o===Wu.mapValue)return 1;if(s===Wu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=ze(l[f],d[f]);if(h!==0)return h;const m=Rs(a[l[f]],u[d[f]]);if(m!==0)return m}return ze(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Re()}}function z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Di(t),r=Di(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function H0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Rs(n[i],r[i]);if(o)return o}return ze(n.length,r.length)}function ks(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return So(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=dm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${dm(n.fields[s])}`;return i+"}"}(t.mapValue):Re()}function W0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pm(t){return!!t&&"integerValue"in t}function mv(t){return!!t&&"arrayValue"in t}function K0(t){return!!t&&"nullValue"in t}function G0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _c(t){return!!t&&"mapValue"in t}function qL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_c(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=il(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_c(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_c(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yn(il(this.value))}}function TS(t){const e=[];return xo(t.fields,(n,r)=>{const i=new Vt([n]);if(_c(r)){const o=TS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,ke.min(),ke.min(),ke.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,ke.min(),ke.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,ke.min(),ke.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.position=e,this.inclusive=n}}function Q0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=Rs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n="asc"){this.field=e,this.dir=n}}function $L(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class At extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HL(e,n,r):n==="array-contains"?new GL(e,r):n==="in"?new QL(e,r):n==="not-in"?new YL(e,r):n==="array-contains-any"?new XL(e,r):new At(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WL(e,r):new KL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rs(n,this.value)):n!==null&&Ao(this.value)===Ao(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ir(e,n)}matches(e){return SS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function SS(t){return t.op==="and"}function AS(t){return zL(t)&&SS(t)}function zL(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function mm(t){if(t instanceof At)return t.field.canonicalString()+t.op.toString()+ks(t.value);if(AS(t))return t.filters.map(e=>mm(e)).join(",");{const e=t.filters.map(n=>mm(n)).join(",");return`${t.op}(${e})`}}function OS(t,e){return t instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof ir?function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&OS(s,i.filters[a]),!0):!1}(t,e):void Re()}function IS(t){return t instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${ks(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(IS).join(" ,")+"}"}(t):"Filter"}class HL extends At{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class WL extends At{constructor(e,n){super(e,"in",n),this.keys=PS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KL extends At{constructor(e,n){super(e,"not-in",n),this.keys=PS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class GL extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mv(n)&&Nl(n.arrayValue,this.value)}}class QL extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class YL extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nl(this.value.arrayValue,n)}}class XL extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function X0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new JL(t,e,n,r,i,o,s)}function gv(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ks(r)).join(",")),e.ue=n}return e.ue}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$L(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y0(t.startAt,e.startAt)&&Y0(t.endAt,e.endAt)}function gm(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ZL(t,e,n,r,i,o,s,a){return new eu(t,e,n,r,i,o,s,a)}function hh(t){return new eu(t)}function J0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function RS(t){return t.collectionGroup!==null}function ol(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new $t(Vt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new gf(o,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new gf(Vt.keyField(),r))}return e.ce}function vr(t){const e=Ce(t);return e.le||(e.le=eD(e,ol(t))),e.le}function eD(t,e){if(t.limitType==="F")return X0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new gf(i.field,o)});const n=t.endAt?new mf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mf(t.startAt.position,t.startAt.inclusive):null;return X0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vm(t,e){const n=t.filters.concat([e]);return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vf(t,e,n){return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return vv(vr(t),vr(e))&&t.limitType===e.limitType}function kS(t){return`${gv(vr(t))}|lt:${t.limitType}`}function Bo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>IS(i)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(vr(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ol(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Q0(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ol(r),i)||r.endAt&&!function(s,a,l){const u=Q0(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ol(r),i))}(t,e)}function tD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CS(t){return(e,n)=>{let r=!1;for(const i of ol(t)){const o=nD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nD(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Rs(l,u):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return ES(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new dt(we.comparator);function zr(){return rD}const xS=new dt(we.comparator);function za(...t){let e=xS;for(const n of t)e=e.insert(n.key,n);return e}function NS(t){let e=xS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lo(){return sl()}function LS(){return sl()}function sl(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const iD=new dt(we.comparator),oD=new $t(we.comparator);function Ue(...t){let e=oD;for(const n of t)e=e.add(n);return e}const sD=new $t(ze);function aD(){return sD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function DS(t){return{integerValue:""+t}}function lD(t,e){return FL(e)?DS(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function uD(t,e,n){return t instanceof Ll?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dv(o)&&(o=pv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Dl?jS(t,e):t instanceof Ml?FS(t,e):function(i,o){const s=MS(i,o),a=Z0(s)+Z0(i.Pe);return pm(s)&&pm(i.Pe)?DS(a):yv(i.serializer,a)}(t,e)}function cD(t,e,n){return t instanceof Dl?jS(t,e):t instanceof Ml?FS(t,e):n}function MS(t,e){return t instanceof yf?function(r){return pm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ll extends mh{}class Dl extends mh{constructor(e){super(),this.elements=e}}function jS(t,e){const n=US(e);for(const r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends mh{constructor(e){super(),this.elements=e}}function FS(t,e){let n=US(e);for(const r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class yf extends mh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Z0(t){return Et(t.integerValue||t.doubleValue)}function US(t){return mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n){this.field=e,this.transform=n}}function hD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dl&&i instanceof Dl||r instanceof Ml&&i instanceof Ml?Ps(r.elements,i.elements,Er):r instanceof yf&&i instanceof yf?Er(r.Pe,i.Pe):r instanceof Ll&&i instanceof Ll}(t.transform,e.transform)}class dD{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function VS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BS(t.key,yr.none()):new tu(t.key,t.data,yr.none());{const n=t.data,r=yn.empty();let i=new $t(Vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new zi(t.key,r,new Rn(i.toArray()),yr.none())}}function pD(t,e,n){t instanceof tu?function(i,o,s){const a=i.value.clone(),l=t1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zi?function(i,o,s){if(!Ec(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=t1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof tu?function(o,s,a,l){if(!Ec(o.precondition,s))return a;const u=o.value.clone(),d=n1(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zi?function(o,s,a,l){if(!Ec(o.precondition,s))return a;const u=n1(o.fieldTransforms,l,s),d=s.data;return d.setAll(qS(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Ec(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=MS(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function e1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ps(r,i,(o,s)=>hD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zi extends gh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function t1(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cD(s,a,n[i]))}return r}function n1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,uD(o,s,e))}return r}class BS extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gD extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&pD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=VS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(n,r)=>e1(n,r))&&Ps(this.baseMutations,e.baseMutations,(n,r)=>e1(n,r))}}class _v{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=function(){return iD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _v(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,qe;function ED(t){switch(t){default:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function $S(t){if(t===void 0)return $r("GRPC error has no .code"),ie.UNKNOWN;switch(t){case bt.OK:return ie.OK;case bt.CANCELLED:return ie.CANCELLED;case bt.UNKNOWN:return ie.UNKNOWN;case bt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case bt.INTERNAL:return ie.INTERNAL;case bt.UNAVAILABLE:return ie.UNAVAILABLE;case bt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case bt.NOT_FOUND:return ie.NOT_FOUND;case bt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case bt.ABORTED:return ie.ABORTED;case bt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case bt.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}(qe=bt||(bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new po([4294967295,4294967295],0);function r1(t){const e=wD().encode(t),n=new fS;return n.update(e),new Uint8Array(n.digest())}function i1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new po([n,r],0),new po([i,o],0)]}class Ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=po.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(po.fromNumber(r)));return i.compare(TD)===1&&(i=new po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=r1(e),[r,i]=i1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ev(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=r1(e),[r,i]=i1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(ke.min(),i,new dt(ze),zr(),Ue())}}class nu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class zS{constructor(e,n){this.targetId=e,this.me=n}}class HS{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class o1{constructor(){this.fe=0,this.ge=a1(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new nu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=a1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bD{constructor(e){this.Le=e,this.Be=new Map,this.ke=zr(),this.qe=s1(),this.Qe=new dt(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(gm(o))if(r===0){const s=new we(o.path);this.Ue(n,s,tn.newNoDocument(s,ke.min()))}else Ze(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=So(r).toUint8Array()}catch(l){if(l instanceof wS)return Is("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ev(s,i,o)}catch(l){return Is(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&gm(a.target)){const l=new we(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,tn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ue();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new vh(e,n,this.Qe,this.ke,r);return this.ke=zr(),this.qe=s1(),this.Qe=new dt(ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new $t(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function s1(){return new dt(we.comparator)}function a1(){return new dt(we.comparator)}const SD={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"};class ID{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ym(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function _f(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PD(t,e){return _f(t,e.toTimestamp())}function _r(t){return Ze(!!t),ke.fromTimestamp(function(n){const r=Di(n);return new Rt(r.seconds,r.nanos)}(t))}function wv(t,e){return _m(t,e).canonicalString()}function _m(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KS(t){const e=it.fromString(t);return Ze(JS(e)),e}function Em(t,e){return wv(t.databaseId,e.path)}function xd(t,e){const n=KS(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(QS(n))}function GS(t,e){return wv(t.databaseId,e)}function RD(t){const e=KS(t);return e.length===4?it.emptyPath():QS(e)}function wm(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QS(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l1(t,e,n){return{name:Em(t,e),fields:n.value.mapValue.fields}}function kD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Ze(d===void 0||typeof d=="string"),Ht.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ht.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?ie.UNKNOWN:$S(u.code);return new ge(d,u.message||"")}(s);n=new HS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xd(t,r.document.name),o=_r(r.document.updateTime),s=r.document.createTime?_r(r.document.createTime):ke.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new wc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xd(t,r.document),o=r.readTime?_r(r.readTime):ke.min(),s=tn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xd(t,r.document),o=r.removedTargetIds||[];n=new wc([],o,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new _D(i,o),a=r.targetId;n=new zS(a,s)}}return n}function CD(t,e){let n;if(e instanceof tu)n={update:l1(t,e.key,e.value)};else if(e instanceof BS)n={delete:Em(t,e.key)};else if(e instanceof zi)n={update:l1(t,e.key,e.data),updateMask:VD(e.fieldMask)};else{if(!(e instanceof gD))return Re();n={verify:Em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ll)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yf)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:PD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function xD(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?_r(i.updateTime):_r(o);return s.isEqual(ke.min())&&(s=_r(o)),new dD(s,i.transformResults||[])}(n,e))):[]}function ND(t,e){return{documents:[GS(t,e.path)]}}function LD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GS(t,i);const o=function(u){if(u.length!==0)return XS(ir.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:$o(h.field),direction:jD(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ym(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function DD(t){let e=RD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=YS(f);return h instanceof ir&&AS(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(y){return new gf(zo(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,fh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new mf(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new mf(m,h)}(n.endAt)),ZL(e,i,s,o,a,"F",l,u)}function MD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zo(n.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zo(n.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zo(n.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zo(n.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return At.create(zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>YS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function jD(t){return SD[t]}function FD(t){return AD[t]}function UD(t){return OD[t]}function $o(t){return{fieldPath:t.canonicalString()}}function zo(t){return Vt.fromServerFormat(t.fieldPath)}function XS(t){return t instanceof At?function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NAN"}};if(K0(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NAN"}};if(K0(n.value))return{unaryFilter:{field:$o(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(n.field),op:FD(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(i=>XS(i));return r.length===1?r[0]:{compositeFilter:{op:UD(n.op),filters:r}}}(t):Re()}function VD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,o=ke.min(),s=ke.min(),a=Ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.ct=e}}function BD(t){const e=DD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.un=new zD}addToCollectionParentIndex(e,n){return this.un.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Li.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class zD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $t(it.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $t(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cs(0)}static kn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,Rn.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=za();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=zr();const s=sl(),a=function(){return sl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof zi)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),al(d.mutation,u,d.mutation.getFieldMask(),Rt.now())):s.set(u.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new WD(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sl();let i=new dt((s,a)=>s-a),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Rn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=LS();d.forEach(h=>{if(!o.has(h)){const m=VS(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ae.resolve(lo());let a=-1,l=o;return s.next(u=>ae.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ue())).next(d=>({batchId:a,changes:NS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=za();return this.indexManager.getCollectionParents(e,o).next(a=>ae.forEach(a,l=>{const u=function(f,h){return new eu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,tn.newInvalidDocument(d)))});let a=za();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&al(d.mutation,u,Rn.empty(),Rt.now()),ph(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:BD(i.bundledQuery),readTime:_r(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.overlays=new dt(we.comparator),this.Ir=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return ae.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=lo(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=lo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=lo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return ae.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yD(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Tr=new $t(Nt.Er),this.dr=new $t(Nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new it([])),r=new Nt(n,e),i=new Nt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new it([])),r=new Nt(n,e),i=new Nt(n,e+1);let o=Ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new $t(Nt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new vD(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(s)}lookupMutationBatch(e,n){return ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $t(ze);return n.forEach(i=>{const o=new Nt(i,0),s=new Nt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const s=new Nt(new we(o),0);let a=new $t(ze);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ae.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ae.forEach(n.mutations,i=>{const o=new Nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Nt(n,0),i=this.br.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.Mr=e,this.docs=function(){return new dt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zr();const s=n.path,a=new we(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||LL(NL(d),r)<=0||(i.has(d.key)||ph(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Re()}Or(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ZD(this)}getSize(e){return ae.resolve(this.size)}}class ZD extends HD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.persistence=e,this.Nr=new Qs(n=>gv(n),vv),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tv,this.targetCount=0,this.kr=Cs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Kn(n),ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ae.waitFor(o).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new hv(0),this.Kr=!1,this.Kr=!0,this.$r=new YD,this.referenceDelegate=e(this),this.Ur=new eM(this),this.indexManager=new $D,this.remoteDocumentCache=function(i){return new JD(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new qD(n),this.Gr=new GD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new XD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const i=new nM(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ae.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class nM extends ML{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Jr=new Tv,this.Yr=null}static Zr(e){return new bv(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,r=>{const i=we.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ae.or([()=>ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ue(),i=Ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GC()?8:jL(on())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new rM;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Pa()<=Ve.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(Pa()<=Ve.DEBUG&&ye("QueryEngine","Query:",Bo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Pa()<=Ve.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ae.resolve())}Yi(e,n){if(J0(n))return ae.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vf(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ue(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,vf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return J0(n)||i.isEqual(ke.min())?ae.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ae.resolve(null):(Pa()<=Ve.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bo(n)),this.rs(e,s,n,xL(i,-1)).next(a=>a))})}ts(e,n){let r=new $t(CS(e));return n.forEach((i,o)=>{ph(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Pa()<=Ve.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Li.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(ze),this._s=new Qs(o=>gv(o),vv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function sM(t,e,n,r){return new oM(t,e,n,r)}async function ZS(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ue();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function aM(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=ae.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(v=>{const E=u.docVersions.get(y);Ze(E!==null),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eA(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function lM(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Ht.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(v,E,g){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,m,d)&&a.push(n.Ur.updateTargetData(o,m))});let l=zr(),u=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(uM(o,s,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ke.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return ae.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function uM(t,e,n){let r=Ue(),i=Ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=zr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ye("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function cM(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fM(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ae.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new vi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Tm(t,e,n){const r=Ce(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zl(s))throw s;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function u1(t,e,n){const r=Ce(t);let i=ke.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=Ce(l),h=f._s.get(d);return h!==void 0?ae.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,s,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ke.min(),n?o:Ue())).next(a=>(hM(r,tD(e),a),{documents:a,Ts:o})))}function hM(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class c1{constructor(){this.activeTargetIds=aD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dM{constructor(){this.so=new c1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new c1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Nd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class vM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Nd(),l=this.xo(n,r.toUriEncodedString());ye("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(d=>(ye("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Is("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=mM[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Nd();return new Promise((s,a)=>{const l=new hS;l.setWithCredentials(!0),l.listenOnce(pS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yc.NO_ERROR:const d=l.getResponseJson();ye(Xt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case yc.TIMEOUT:ye(Xt,`RPC '${e}' ${o} timed out`),a(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const f=l.getStatus();if(ye(Xt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(E){const g=E.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(g)>=0?g:ie.UNKNOWN}(m.status);a(new ge(y,m.message))}else a(new ge(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ye(Xt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ye(Xt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Nd(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vS(),a=gS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new dS({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");ye(Xt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);let h=!1,m=!1;const y=new gM({Io:E=>{m?ye(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(ye(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ye(Xt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},To:()=>f.close()}),v=(E,g,p)=>{E.listen(g,w=>{try{p(w)}catch(_){setTimeout(()=>{throw _},0)}})};return v(f,$a.EventType.OPEN,()=>{m||(ye(Xt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),v(f,$a.EventType.CLOSE,()=>{m||(m=!0,ye(Xt,`RPC '${e}' stream ${i} transport closed`),y.So())}),v(f,$a.EventType.ERROR,E=>{m||(m=!0,Is(Xt,`RPC '${e}' stream ${i} transport errored:`,E),y.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),v(f,$a.EventType.MESSAGE,E=>{var g;if(!m){const p=E.data[0];Ze(!!p);const w=p,_=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(_){ye(Xt,`RPC '${e}' stream ${i} received error:`,_);const O=_.status;let C=function(P){const T=bt[P];if(T!==void 0)return $S(T)}(O),A=_.message;C===void 0&&(C=ie.INTERNAL,A="Unknown error status: "+O+" with message "+_.message),m=!0,y.So(new ge(C,A)),f.close()}else ye(Xt,`RPC '${e}' stream ${i} received:`,p),y.bo(p)}}),v(a,mS.STAT_EVENT,E=>{E.stat===hm.PROXY?ye(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===hm.NOPROXY&&ye(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new ID(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yM extends nA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=kD(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?_r(s.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wm(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=gm(l)?{documents:ND(o,l)}:{query:LD(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WS(o,s.resumeToken);const u=ym(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=_f(o,s.snapshotVersion.toTimestamp());const u=ym(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=MD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.a_(n)}}class _M extends nA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=xD(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,_m(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,_m(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class wM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):ye("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{No(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await ru(u),u.q_.set("Unknown"),u.L_.delete(4),await _h(u)}(this))})}),this.q_=new wM(r,i)}}async function _h(t){if(No(t))for(const e of t.B_)await e(!0)}async function ru(t){for(const e of t.B_)await e(!1)}function rA(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pv(n)?Iv(n):Ys(n).r_()&&Ov(n,e))}function Av(t,e){const n=Ce(t),r=Ys(n);n.N_.delete(e),r.r_()&&iA(n,e),n.N_.size===0&&(r.r_()?r.o_():No(n)&&n.q_.set("Unknown"))}function Ov(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(t).A_(e)}function iA(t,e){t.Q_.xe(e),Ys(t).R_(e)}function Iv(t){t.Q_=new bD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ys(t).start(),t.q_.v_()}function Pv(t){return No(t)&&!Ys(t).n_()&&t.N_.size>0}function No(t){return Ce(t).L_.size===0}function oA(t){t.Q_=void 0}async function bM(t){t.q_.set("Online")}async function SM(t){t.N_.forEach((e,n)=>{Ov(t,e)})}async function AM(t,e){oA(t),Pv(t)?(t.q_.M_(e),Iv(t)):t.q_.set("Unknown")}async function OM(t,e,n){if(t.q_.set("Online"),e instanceof HS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ef(t,r)}else if(e instanceof wc?t.Q_.Ke(e):e instanceof zS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await eA(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),iA(o,l);const f=new vi(d.target,l,u,d.sequenceNumber);Ov(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ye("RemoteStore","Failed to raise snapshot:",r),await Ef(t,r)}}async function Ef(t,e,n){if(!Zl(e))throw e;t.L_.add(1),await ru(t),t.q_.set("Offline"),n||(n=()=>eA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await _h(t)})}function sA(t,e){return e().catch(n=>Ef(t,n,e))}async function Eh(t){const e=Ce(t),n=Mi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;IM(e);)try{const i=await cM(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,PM(e,i)}catch(i){await Ef(e,i)}aA(e)&&lA(e)}function IM(t){return No(t)&&t.O_.length<10}function PM(t,e){t.O_.push(e);const n=Mi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function aA(t){return No(t)&&!Mi(t).n_()&&t.O_.length>0}function lA(t){Mi(t).start()}async function RM(t){Mi(t).p_()}async function kM(t){const e=Mi(t);for(const n of t.O_)e.m_(n.mutations)}async function CM(t,e,n){const r=t.O_.shift(),i=_v.from(r,e,n);await sA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Eh(t)}async function xM(t,e){e&&Mi(t).V_&&await async function(r,i){if(function(s){return ED(s)&&s!==ie.ABORTED}(i.code)){const o=r.O_.shift();Mi(r).s_(),await sA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Eh(r)}}(t,e),aA(t)&&lA(t)}async function h1(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const r=No(n);n.L_.add(3),await ru(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await _h(n)}async function NM(t,e){const n=Ce(t);e?(n.L_.delete(2),await _h(n)):e||(n.L_.add(2),await ru(n),n.q_.set("Unknown"))}function Ys(t){return t.K_||(t.K_=function(n,r,i){const o=Ce(n);return o.w_(),new yM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bM.bind(null,t),Ro:SM.bind(null,t),mo:AM.bind(null,t),d_:OM.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pv(t)?Iv(t):t.q_.set("Unknown")):(await t.K_.stop(),oA(t))})),t.K_}function Mi(t){return t.U_||(t.U_=function(n,r,i){const o=Ce(n);return o.w_(),new _M(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:RM.bind(null,t),mo:xM.bind(null,t),f_:kM.bind(null,t),g_:CM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Eh(t)):(await t.U_.stop(),t.O_.length>0&&(ye("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Rv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if($r("AsyncQueue",`${e}: ${t}`),Zl(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new ds(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.W_=new dt(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xs{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xs(e,n,ds.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class DM{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),o=i.queries;i.queries=p1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function p1(){return new Qs(t=>kS(t),dh)}async function Cv(t,e){const n=Ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new LM,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=kv(s,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Nv(n)}async function xv(t,e){const n=Ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function MM(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Nv(n)}function jM(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Nv(t){t.Y_.forEach(e=>{e.next()})}var bm,m1;(m1=bm||(bm={})).ea="default",m1.Cache="cache";class Lv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.key=e}}class cA{constructor(e){this.key=e}}class FM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=CS(e),this.Ra=new ds(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new d1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=ph(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?y!==v&&(r.track({type:3,doc:m}),E=!0):this.ga(h,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(m?(s=s.add(m),o=v?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,f)=>function(m,y){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return v(m)-v(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new xs(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new d1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new uA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class UM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VM{constructor(e){this.key=e,this.va=!1}}class qM{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Qs(a=>kS(a),dh),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(we.comparator),this.Na=new Map,this.La=new Tv,this.Ba={},this.ka=new Map,this.qa=Cs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function BM(t,e,n=!0){const r=gA(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await fA(r,e,n,!0),i}async function $M(t,e){const n=gA(t);await fA(n,e,!0,!1)}async function fA(t,e,n,r){const i=await fM(t.localStore,vr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await zM(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&rA(t.remoteStore,i),a}async function zM(t,e,n,r,i){t.Ka=(f,h,m)=>async function(v,E,g,p){let w=E.view.ma(g);w.ns&&(w=await u1(v.localStore,E.query,!1).then(({documents:A})=>E.view.ma(A,w)));const _=p&&p.targetChanges.get(E.targetId),O=p&&p.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(w,v.isPrimaryClient,_,O);return v1(v,E.targetId,C.wa),C.snapshot}(t,f,h,m);const o=await u1(t.localStore,e,!0),s=new FM(e,o.Ts),a=s.ma(o.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);v1(t,n,u.wa);const d=new UM(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function HM(t,e,n){const r=Ce(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!dh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Tm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Av(r.remoteStore,i.targetId),Sm(r,i.targetId)}).catch(Jl)):(Sm(r,i.targetId),await Tm(r.localStore,i.targetId,!0))}async function WM(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Av(n.remoteStore,r.targetId))}async function KM(t,e,n){const r=ej(t);try{const i=await function(s,a){const l=Ce(s),u=Rt.now(),d=a.reduce((m,y)=>m.add(y.key),Ue());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=zr(),v=Ue();return l.cs.getEntries(m,d).next(E=>{y=E,y.forEach((g,p)=>{p.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(E=>{f=E;const g=[];for(const p of a){const w=mD(p,f.get(p.key).overlayedDocument);w!=null&&g.push(new zi(p.key,w,TS(w.value.mapValue),yr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(E=>{h=E;const g=E.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,E.batchId,g)})}).then(()=>({batchId:h.batchId,changes:NS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new dt(ze)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await iu(r,i.changes),await Eh(r.remoteStore)}catch(i){const o=kv(i,"Failed to persist write");n.reject(o)}}async function hA(t,e){const n=Ce(t);try{const r=await lM(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ze(s.va):i.removedDocuments.size>0&&(Ze(s.va),s.va=!1))}),await iu(n,r,e)}catch(r){await Jl(r)}}function g1(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&Nv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GM(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new dt(we.comparator);s=s.insert(o,tn.newNoDocument(o,ke.min()));const a=Ue().add(o),l=new vh(ke.min(),new Map,new dt(ze),s,a);await hA(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),Dv(r)}else await Tm(r.localStore,e,!1).then(()=>Sm(r,e,n)).catch(Jl)}async function QM(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await aM(n.localStore,e);pA(n,r,null),dA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,i)}catch(i){await Jl(i)}}async function YM(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ze(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);pA(r,e,n),dA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await iu(r,i)}catch(i){await Jl(i)}}function dA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pA(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||mA(t,r)})}function mA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Av(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dv(t))}function v1(t,e,n){for(const r of n)r instanceof uA?(t.La.addReference(r.key,e),XM(t,r)):r instanceof cA?(ye("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||mA(t,r.key)):Re()}function XM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ye("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dv(t))}function Dv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(it.fromString(e)),r=t.qa.next();t.Na.set(r,new VM(n)),t.Oa=t.Oa.insert(n,r),rA(t.remoteStore,new vi(vr(hh(n.path)),r,"TargetPurposeLimboResolution",hv.oe))}}async function iu(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Sv.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const d=Ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,h=>ae.forEach(h.$i,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ae.forEach(h.Ui,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Zl(f))throw f;ye("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.os.get(h),y=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,v)}}}(r.localStore,o))}async function JM(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const r=await ZS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ge(ie.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(n,r.hs)}}function ZM(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let i=Ue();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function gA(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.Ca.d_=MM.bind(null,e.eventManager),e.Ca.$a=jM.bind(null,e.eventManager),e}function ej(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YM.bind(null,e),e}class y1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sM(this.persistence,new iM,e.initialUser,this.serializer)}createPersistence(e){return new tM(bv.Zr,this.serializer)}createSharedClientState(e){return new dM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JM.bind(null,this.syncEngine),await NM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new DM}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=function(o){return new vM(o)}(e.databaseInfo);return function(o,s,a,l){return new EM(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new TM(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>g1(this.syncEngine,n,0),function(){return f1.D()?new f1:new pM}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new qM(i,o,s,a,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ce(i);ye("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ru(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=_S.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ye("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ye("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dd(t,e){t.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ij(t);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>h1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>h1(e.remoteStore,i)),t._onlineComponents=e}function rj(t){return t.name==="FirebaseError"?t.code===ie.FAILED_PRECONDITION||t.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ij(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rj(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),await Dd(t,new y1)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Dd(t,new y1);return t._offlineComponents}async function vA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await _1(t,t._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await _1(t,new tj))),t._onlineComponents}function oj(t){return vA(t).then(e=>e.syncEngine)}async function wf(t){const e=await vA(t),n=e.eventManager;return n.onListen=BM.bind(null,e.syncEngine),n.onUnlisten=HM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$M.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WM.bind(null,e.syncEngine),n}function sj(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new Mv({next:h=>{s.enqueueAndForget(()=>xv(o,f));const m=h.docs.has(a);!m&&h.fromCache?u.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Lv(hh(a.path),d,{includeMetadataChanges:!0,_a:!0});return Cv(o,f)}(await wf(t),t.asyncQueue,e,n,r)),r.promise}function aj(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new Mv({next:h=>{s.enqueueAndForget(()=>xv(o,f)),h.fromCache&&l.source==="server"?u.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Lv(a,d,{includeMetadataChanges:!0,_a:!0});return Cv(o,f)}(await wf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lj(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w1(t){if(!we.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T1(t){if(we.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bL;switch(r.type){case"firstParty":return new IL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=E1.get(n);r&&(ye("ComponentProvider","Removing Datastore"),E1.delete(n),r.terminate())}(this),Promise.resolve()}}function uj(t,e,n,r={}){var i;const o=(t=tr(t,Th))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zt.MOCK_USER;else{a=qC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zt(u)}t._authCredentials=new SL(new yS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Ci extends Hi{constructor(e,n,r){super(e,n,hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new we(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function Ns(t,e,...n){if(t=kt(t),_A("collection","path",e),t instanceof Th){const r=it.fromString(e,...n);return T1(r),new Ci(t,null,r)}{if(!(t instanceof cn||t instanceof Ci))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return T1(r),new Ci(t.firestore,null,r)}}function Tf(t,e,...n){if(t=kt(t),arguments.length===1&&(e=_S.newId()),_A("doc","path",e),t instanceof Th){const r=it.fromString(e,...n);return w1(r),new cn(t,null,new we(r))}{if(!(t instanceof cn||t instanceof Ci))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return w1(r),new cn(t.firestore,t instanceof Ci?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new tA(this,"async_queue_retry"),this.Eu=()=>{const n=Ld();n&&ye("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Ld();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Dr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Zl(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Rv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Re()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}function S1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Oo extends Th{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new cj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EA(this),this._firestoreClient.terminate()}}function fj(t,e){const n=typeof t=="object"?t:Pb(),r=typeof t=="string"?t:"(default)",i=tv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=UC("firestore");o&&uj(i,...o)}return i}function bh(t){return t._firestoreClient||EA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EA(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,d){return new VL(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nj(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ls(Ht.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ls(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=/^__.*__$/;class dj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class wA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Uv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return bf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(TA(this.wu)&&hj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class pj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}Nu(e,n,r,i=!1){return new Uv({wu:e,methodName:n,Ou:r,path:Vt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new pj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mj(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Bv("Data must be an object, but it was:",s,r);const a=bA(r,s);let l,u;if(o.merge)l=new Rn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Am(e,f,n);if(!s.contains(h))throw new ge(ie.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);AA(d,h)||d.push(h)}l=new Rn(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new dj(new yn(a),l,u)}class Oh extends Ah{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}class qv extends Ah{_toFieldTransform(e){return new fD(e.path,new Ll)}isEqual(e){return e instanceof qv}}function gj(t,e,n,r){const i=t.Nu(1,e,n);Bv("Data must be an object, but it was:",i,r);const o=[],s=yn.empty();xo(r,(l,u)=>{const d=$v(e,l,n);u=kt(u);const f=i.Cu(d);if(u instanceof Oh)o.push(d);else{const h=ou(u,f);h!=null&&(o.push(d),s.set(d,h))}});const a=new Rn(o);return new wA(s,a,i.fieldTransforms)}function vj(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[Am(e,r,n)],l=[i];if(o.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Am(e,o[h])),l.push(o[h+1]);const u=[],d=yn.empty();for(let h=a.length-1;h>=0;--h)if(!AA(u,a[h])){const m=a[h];let y=l[h];y=kt(y);const v=s.Cu(m);if(y instanceof Oh)u.push(m);else{const E=ou(y,v);E!=null&&(u.push(m),d.set(m,E))}}const f=new Rn(u);return new wA(d,f,s.fieldTransforms)}function yj(t,e,n,r=!1){return ou(n,t.Nu(r?4:3,e))}function ou(t,e){if(SA(t=kt(t)))return Bv("Unsupported field value:",e,t),bA(t,e);if(t instanceof Ah)return function(r,i){if(!TA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ou(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:_f(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_f(i.serializer,o)}}if(r instanceof jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ls)return{bytesValue:WS(i.serializer,r._byteString)};if(r instanceof cn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fv)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return yv(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${wh(r)}`)}(t,e)}function bA(t,e){const n={};return ES(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(r,i)=>{const o=ou(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function SA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof jv||t instanceof Ls||t instanceof cn||t instanceof Ah||t instanceof Fv)}function Bv(t,e,n){if(!SA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Am(t,e,n){if((e=kt(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return $v(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const _j=new RegExp("[~\\*/\\[\\]]");function $v(t,e,n){if(e.search(_j)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sh(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ge(ie.INVALID_ARGUMENT,a+t+l)}function AA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ej(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ej extends OA{data(){return super.data()}}function zv(t,e){return typeof e=="string"?$v(t,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class PA extends Hv{}function uo(t,e,...n){let r=[];e instanceof Hv&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Wv).length,a=o.filter(l=>l instanceof Ih).length;if(s>1||s>0&&a>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ih extends PA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ih(e,n,r)}_apply(e){const n=this._parse(e);return RA(e._query,n),new Hi(e.firestore,e.converter,vm(e._query,n))}_parse(e){const n=Vv(e.firestore);return function(o,s,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){O1(f,d);const m=[];for(const y of f)m.push(A1(l,o,y));h={arrayValue:{values:m}}}else h=A1(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||O1(f,d),h=yj(a,s,f,d==="in"||d==="not-in");return At.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ps(t,e,n){const r=e,i=zv("where",t);return Ih._create(i,r,n)}class Wv extends Hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)RA(s,l),s=vm(s,l)}(e._query,n),new Hi(e.firestore,e.converter,vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kv extends PA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Kv(e,n,r)}_apply(e){return new Hi(e.firestore,e.converter,vf(e._query,this._limit,this._limitType))}}function Gu(t){return Kv._create("limit",t,"F")}function A1(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RS(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!we.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W0(t,new we(r))}if(n instanceof cn)return W0(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function O1(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RA(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wj{convertValue(e,n="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Et(s.doubleValue));return new Fv(o)}convertGeoPoint(e){return new jv(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Di(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ze(JS(r));const i=new xl(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||$r(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kA extends OA{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tc extends kA{data(e={}){return super.data(e)}}class CA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tc(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Tc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:bj(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){t=tr(t,cn);const e=tr(t.firestore,Oo);return sj(bh(e),t._key).then(n=>DA(e,t,n))}class Gv extends wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ls(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function Qv(t){t=tr(t,Hi);const e=tr(t.firestore,Oo),n=bh(e),r=new Gv(e);return IA(t._query),aj(n,t._query).then(i=>new CA(e,r,t,i))}function xA(t,e,n,...r){t=tr(t,cn);const i=tr(t.firestore,Oo),o=Vv(i);let s;return s=typeof(e=kt(e))=="string"||e instanceof Sh?vj(o,"updateDoc",t._key,e,n,r):gj(o,"updateDoc",t._key,e),LA(i,[s.toMutation(t._key,yr.exists(!0))])}function NA(t,e){const n=tr(t.firestore,Oo),r=Tf(t),i=Tj(t.converter,e);return LA(n,[mj(Vv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yr.exists(!1))]).then(()=>r)}function Aj(t,...e){var n,r,i;t=kt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||S1(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(S1(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof cn)u=tr(t.firestore,Oo),d=hh(t._key.path),l={next:f=>{e[s]&&e[s](DA(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=tr(t,Hi);u=tr(f.firestore,Oo),d=f._query;const h=new Gv(u);l={next:m=>{e[s]&&e[s](new CA(u,h,f,m))},error:e[s+1],complete:e[s+2]},IA(t._query)}return function(h,m,y,v){const E=new Mv(v),g=new Lv(m,E,y);return h.asyncQueue.enqueueAndForget(async()=>Cv(await wf(h),g)),()=>{E.za(),h.asyncQueue.enqueueAndForget(async()=>xv(await wf(h),g))}}(bh(u),d,a,l)}function LA(t,e){return function(r,i){const o=new Dr;return r.asyncQueue.enqueueAndForget(async()=>KM(await oj(r),i,o)),o.promise}(bh(t),e)}function DA(t,e,n){const r=n.docs.get(e._key),i=new Gv(t);return new kA(t,i,e._key,r,new Wa(n.hasPendingWrites,n.fromCache),e.converter)}function Oj(){return new qv("serverTimestamp")}(function(e,n=!0){(function(i){Gs=i})(Hs),As(new wo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Oo(new AL(r.getProvider("auth-internal")),new RL(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ri(q0,"4.7.2",e),Ri(q0,"4.7.2","esm2017")})();const Ij={apiKey:"AIzaSyDW3pSJuO8cZCE5Xj9E9jtinyzc5jE-6mE",authDomain:"mywebsiteauth-4ecd1.firebaseapp.com",projectId:"mywebsiteauth-4ecd1",storageBucket:"mywebsiteauth-4ecd1.appspot.com",messagingSenderId:"835611860806",appId:"1:835611860806:web:f1c4c8e388e09089984f47"},MA=Ib(Ij),Mr=fj(MA),ms=_L(MA),jA=oe.createContext();function ji(){return oe.useContext(jA)}function FA({children:t}){const[e,n]=oe.useState(null),[r,i]=oe.useState(!0);oe.useEffect(()=>l2(ms,u=>{n(u),i(!1)}),[]);function o(l,u){return o2(ms,l,u)}function s(){return eS(ms)}const a={currentUser:e,login:o,logout:s};return q.jsx(jA.Provider,{value:a,children:!r&&t})}function qo({children:t}){const{currentUser:e}=ji();return e?t:q.jsx(Hk,{to:"/login"})}function Pj(){const[t,e]=oe.useState("expense"),[n,r]=oe.useState(""),[i,o]=oe.useState(""),[s,a]=oe.useState(""),{currentUser:l}=ji(),u=async d=>{d.preventDefault();const f={type:t,amount:parseFloat(n),category:i,description:s,date:new Date,userId:String(l.uid)};try{await NA(Ns(Mr,"transactions"),f),alert("Transaction added successfully!"),r(""),o(""),a("")}catch(h){console.error("Error adding document:",h)}};return q.jsxs("form",{onSubmit:u,className:"transaction-form",children:[q.jsx("h2",{children:"Add a New Transaction"}),q.jsxs("select",{value:t,onChange:d=>e(d.target.value),children:[q.jsx("option",{value:"income",children:"Income"}),q.jsx("option",{value:"expense",children:"Expense"})]}),q.jsx("input",{type:"number",value:n,onChange:d=>r(d.target.value),placeholder:"Amount",required:!0}),q.jsx("input",{type:"text",value:i,onChange:d=>o(d.target.value),placeholder:"Category",required:!0}),q.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),placeholder:"Description"}),q.jsx("button",{type:"submit",children:"Add Transaction"})]})}const Rj=async()=>{try{if(!ms.currentUser){console.error("No user is currently logged in."),setError("User is not authenticated.");return}const t=uo(Ns(Mr,"transactions"),ps("userId","==",ms.currentUser.uid)),e=await Qv(t);if(e.empty)throw new Error("Transactions not found.");return e.docs.map(n=>({...n.data(),id:n.id}))}catch(t){console.error("Error fetching transatcions: ",t),setError(t.message)}},kj=()=>{const{currentUser:t}=useAuth(),{data:e,isLoading:n,error:r}=Jg(["transatcions",t],()=>Rj(),{enabled:!!t||t===null,cacheTime:72e6,staleTime:36e6,refetchOnWindowFocus:!0,refetchOnReconnect:!1,keepPreviousData:!0});return n?q.jsx("div",{children:"Loading transactions..."}):r?q.jsxs("div",{children:["Error: ",r]}):q.jsxs("div",{children:[q.jsx("h2",{children:"Your Transactions"}),q.jsx("ul",{children:e.length>0?e.map(i=>q.jsxs("li",{children:[i.type==="income"?"+":"-","$",i.amount," - ",i.category]},i.id)):q.jsx("p",{children:"No transactions found."})})]})},Cj=()=>{const t=Bi(),e=()=>{eS(ms).then(()=>{console.log("User logged out successfully."),t("/login")}).catch(n=>{console.error("Error logging out:",n)})};return q.jsx("button",{id:"logoutButton",onClick:e,style:xj.logoutButton,children:"Logout"})},xj={logoutButton:{padding:"6px 15px",backgroundColor:"#e06e6e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},Nj=()=>{const t=Bi(),e=()=>{t("/login")};return q.jsx("button",{id:"loginButton",onClick:e,style:Lj.logoutButton,children:"Login"})},Lj={logoutButton:{padding:"6px 15px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}};function Dj(){const{currentUser:t}=ji();return q.jsx("nav",{className:"navigationBar",children:q.jsxs("ul",{children:[q.jsx("li",{children:q.jsx(ri,{to:"/",children:"Home"})}),q.jsx("li",{children:q.jsx(ri,{to:"/portfolio",children:"Portfolio"})}),t?q.jsxs(q.Fragment,{children:[q.jsx("li",{children:q.jsx(ri,{to:"/CV",children:"CV"})}),q.jsx("li",{children:q.jsx(ri,{to:"/todo",children:"TODO List"})}),q.jsx("li",{children:q.jsx(ri,{to:"/finance",children:"Financial Tracker"})}),q.jsx("li",{children:q.jsx(ri,{to:"/weekplanner",children:"Week Planner"})}),q.jsx("li",{children:q.jsx(ri,{to:"/pomodoro",children:"Pomodoro"})}),q.jsxs("p",{id:"loggedInText",children:["Logged in as: ",t.email.split("@website.local")]}),q.jsx(Cj,{})]}):q.jsx(Nj,{})]})})}function Mj(){const t=Bi(),e=()=>{t("/portfolio")};return q.jsxs("div",{children:[q.jsxs("div",{className:"hero-section",children:[q.jsxs("div",{className:"welcome-container",children:[q.jsx("h1",{className:"main-header",children:"Welcome to my personal website"}),q.jsx("p",{className:"main-paragraph",children:"The purpose of this website is to share my projects, skills, and journey as a hobbyist developer."}),q.jsx("div",{className:"portfolio-button",children:q.jsx("button",{onClick:()=>e(),className:"cta-button",children:"Explore My Work"})})]}),q.jsxs("section",{className:"about-section",children:[q.jsx("h2",{className:"about-section-header",children:"About Me"}),q.jsxs("div",{className:"about-section-text",children:[q.jsx("p",{children:"I'm a self-taught hobbyist developer with some experience spread across software, web and game development."}),q.jsx("p",{children:"I have been learning programming and doing personal projects since I was 15 years old (around 2017), using online resources such as Stack Overflow, YouTube tutorials and Quora (see next section)."}),q.jsx("p",{children:"I am motivated to learn about programming and tech related topics and I am pursuing a career where I could apply my skills, while also acquiring new knowledge."})]})]}),q.jsxs("section",{className:"tools-section",children:[q.jsx("h2",{className:"tools-section-header",children:"Tools, Resources & Technologies I Use"}),q.jsxs("ul",{className:"tools-list",children:[q.jsx("li",{children:"HTML"}),q.jsx("li",{children:"CSS"}),q.jsx("li",{children:"JavaScript"}),q.jsx("li",{children:"React"}),q.jsx("li",{children:"Node.js"}),q.jsx("li",{children:"Python"}),q.jsx("li",{children:"C#"}),q.jsx("li",{children:"Godot Engine"}),q.jsx("li",{children:"Unity Engine"}),q.jsx("li",{children:"Visual Studio 2022"}),q.jsx("li",{children:"GitHub"}),q.jsx("li",{children:"Google Firebase"}),q.jsx("li",{children:"cPanel"}),q.jsx("li",{children:"ChatGPT"}),q.jsx("li",{className:"tools-list-link",children:q.jsx("a",{href:"https://www.w3schools.com/",children:"w3schools.com"})}),q.jsx("li",{className:"tools-list-link",children:q.jsx("a",{href:"https://freecodecamp.org/learn",children:"freecodecamp.org"})})]})]}),q.jsxs("section",{className:"featured-projects-section",children:[q.jsx("h2",{className:"featured-projects-title",children:"Featured Projects"}),q.jsx("div",{className:"featured-projects-grid",children:q.jsxs("div",{className:"featured-project-card",children:[q.jsx("img",{className:"featured-project-image",src:"https://wilzzu.xyz/assets/weather_app_card_image.png",alt:"Weather App Featured"}),q.jsx("h3",{className:"featured-project-header",children:"Weather App"}),q.jsx("p",{className:"featured-project-text",children:"Weather app built in Python using Custom Tkinter. API calls are used to get weather based on geolocation."}),q.jsx("a",{className:"featured-project-link",href:"/portfolio/weather-app",children:"Read More"})]})})]})]}),q.jsxs("footer",{className:"footer",children:[q.jsx("div",{className:"footer-item",children:q.jsx("a",{href:"https://github.com/wilzzuu",target:"_blank",children:"GitHub"})}),q.jsx("div",{className:"footer-copyright",children:q.jsx("p",{children:"© 2024 wilzzu.xyz. All Rights Reserved."})})]})]})}function jj(){const{login:t}=ji(),[e,n]=oe.useState(""),[r,i]=oe.useState(!1),{currentUser:o}=ji(),s=Bi(),[a,l]=oe.useState(""),[u,d]=oe.useState("");async function f(h){const m=`${a}@website.local`;h.preventDefault();try{n(""),i(!0),console.log("Current user: ",o),await t(m,u),s("/login")}catch{n("Failed to log in")}i(!1)}return q.jsx("div",{style:Ar.container,children:o?q.jsxs("div",{children:[q.jsxs("h1",{style:Ar.header,children:["Welcome, ",o.email.split("@website.local"),"!"]}),q.jsx("div",{style:Ar.homeButton,children:q.jsx("button",{onClick:()=>s("/"),children:"Got to Home"})})]}):q.jsxs("div",{children:[q.jsx("h2",{style:Ar.header,children:"Log In"}),e&&q.jsx("p",{children:e}),q.jsx("div",{style:Ar.card,children:q.jsxs("form",{onSubmit:f,style:Ar.form,children:[q.jsx("div",{children:q.jsx("input",{style:Ar.username,type:"text",placeholder:"Username",value:a,onChange:h=>l(h.target.value)})}),q.jsx("div",{children:q.jsx("input",{style:Ar.password,type:"password",placeholder:"Password",value:u,onChange:h=>d(h.target.value)})}),q.jsx("div",{children:q.jsx("button",{style:Ar.loginButton,type:"submit",disabled:r,children:"Log In"})})]})})]})})}const Ar={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},homeButton:{textAlign:"center",padding:"20px"},loginButton:{margin:"10px",textAlign:"center"},header:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},card:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"300px",margin:"auto",height:"auto"},form:{textAlign:"center",margin:"auto"},link:{textDecoration:"none",color:"inherit"},image:{width:"100%",height:"150px",objectFit:"cover"},username:{margin:"5px",height:"20px",width:"225px"},password:{margin:"5px",height:"20px",width:"225px"},passwordReset:{margin:"10px",textDecoration:"underline"}},Fj=()=>{const t=Bi(),e=()=>{t("/portfolio/addproject")};return q.jsx("button",{onClick:e,style:Uj.addProjectButton,children:"Add Project"})},Uj={logoutButton:{padding:"6px 10px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},Vj={position:"fixed",bottom:"10px",right:"10px",padding:"10px 20px",backgroundColor:"#333",color:"#fff",borderRadius:"5px",zIndex:1e3,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},qj=({message:t})=>q.jsx("div",{style:Vj,children:t}),Bj=()=>{const{currentUser:t}=ji(),[e,n]=oe.useState(null),[r,i]=oe.useState(),o=vb(),s=oe.useRef([]),{data:a,isLoading:l,error:u}=Jg(["projects",t],async()=>{const h=Ns(Mr,"projects");let m;return t?m=uo(h,Gu(10)):m=uo(h,ps("isPublished","==",!0),Gu(10)),(await Qv(m)).docs.map(v=>({id:v.id,...v.data()}))},{enabled:!!t||t===null,cacheTime:72e6,staleTime:36e6,refetchOnWindowFocus:!1,refetchOnReconnect:!1,keepPreviousData:!0});oe.useEffect(()=>{if(a){const h=Ns(Mr,"projects");let m;t?m=uo(h,Gu(10)):m=uo(h,ps("isPublished","==",!0),Gu(10));const y=Aj(m,v=>{const E=v.docs.map(g=>({id:g.id,...g.data()}));s.current.length&&s.current.length!==E.length&&(n("Projects have been added or updated."),setTimeout(()=>n(null),3e3)),o.setQueryData(["projects",t],E),s.current=E});return()=>y()}},[r,t,o]);const d=async(h,m)=>{const y=Tf(Mr,"projects",h);await xA(y,{isPublished:!m}),i(!m)},f=h=>{window.location.href=`/edit-project/${h}`};return l?q.jsx("div",{children:"Loading projects..."}):u?q.jsxs("p",{children:["Error: ",u.message||JSON.stringify(u)]}):q.jsxs("div",{children:[e&&q.jsx(qj,{message:e}),q.jsxs("div",{className:"portfolio-container",children:[q.jsx("h1",{className:"portfolio-header",children:"My Projects"}),q.jsx("p",{className:"portfolio-header2",children:"Click on a project for details."}),t?q.jsx("div",{className:"add-project-button",children:q.jsx(Fj,{})}):q.jsx(q.Fragment,{}),q.jsx("div",{className:"portfolio-grid",children:a.length>0?a.map(h=>q.jsxs("div",{className:"portfolio-project-card",children:[q.jsxs(ri,{className:"portfolio-project-link",to:`/portfolio/${h.route}`,children:[q.jsx("img",{className:"portfolio-project-image",src:h.cardImage,alt:h.title}),q.jsx("h2",{className:"portfolio-project-title",children:h.title}),q.jsx("p",{className:"portfolio-project-description",children:h.description})]}),q.jsx("div",{className:"portfolio-project-card-buttons",children:t?q.jsxs(q.Fragment,{children:[q.jsx("button",{id:"is-published-button",onClick:()=>d(h.id,h.isPublished),children:h.isPublished?"Hide":"Publish"}),q.jsx("button",{id:"edit-project-button",onClick:()=>f(h.id),children:"Edit"})]}):q.jsx(q.Fragment,{})})]},h.id)):q.jsx("p",{children:"No projects available"})})]})]})};function UA(t,e){return function(){return t.apply(e,arguments)}}const{toString:$j}=Object.prototype,{getPrototypeOf:Yv}=Object,Ph=(t=>e=>{const n=$j.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),or=t=>(t=t.toLowerCase(),e=>Ph(e)===t),Rh=t=>e=>typeof e===t,{isArray:Xs}=Array,jl=Rh("undefined");function zj(t){return t!==null&&!jl(t)&&t.constructor!==null&&!jl(t.constructor)&&Cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const VA=or("ArrayBuffer");function Hj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&VA(t.buffer),e}const Wj=Rh("string"),Cn=Rh("function"),qA=Rh("number"),kh=t=>t!==null&&typeof t=="object",Kj=t=>t===!0||t===!1,bc=t=>{if(Ph(t)!=="object")return!1;const e=Yv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Gj=or("Date"),Qj=or("File"),Yj=or("Blob"),Xj=or("FileList"),Jj=t=>kh(t)&&Cn(t.pipe),Zj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Cn(t.append)&&((e=Ph(t))==="formdata"||e==="object"&&Cn(t.toString)&&t.toString()==="[object FormData]"))},e4=or("URLSearchParams"),[t4,n4,r4,i4]=["ReadableStream","Request","Response","Headers"].map(or),o4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Xs(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function BA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const co=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$A=t=>!jl(t)&&t!==co;function Om(){const{caseless:t}=$A(this)&&this||{},e={},n=(r,i)=>{const o=t&&BA(e,i)||i;bc(e[o])&&bc(r)?e[o]=Om(e[o],r):bc(r)?e[o]=Om({},r):Xs(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&su(arguments[r],n);return e}const s4=(t,e,n,{allOwnKeys:r}={})=>(su(e,(i,o)=>{n&&Cn(i)?t[o]=UA(i,n):t[o]=i},{allOwnKeys:r}),t),a4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),l4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},u4=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Yv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},c4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},f4=t=>{if(!t)return null;if(Xs(t))return t;let e=t.length;if(!qA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},h4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Yv(Uint8Array)),d4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},p4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},m4=or("HTMLFormElement"),g4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),I1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),v4=or("RegExp"),zA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};su(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},y4=t=>{zA(t,(e,n)=>{if(Cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},_4=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Xs(t)?r(t):r(String(t).split(e)),n},E4=()=>{},w4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Md="abcdefghijklmnopqrstuvwxyz",P1="0123456789",HA={DIGIT:P1,ALPHA:Md,ALPHA_DIGIT:Md+Md.toUpperCase()+P1},T4=(t=16,e=HA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function b4(t){return!!(t&&Cn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const S4=t=>{const e=new Array(10),n=(r,i)=>{if(kh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Xs(r)?[]:{};return su(r,(s,a)=>{const l=n(s,i+1);!jl(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},A4=or("AsyncFunction"),O4=t=>t&&(kh(t)||Cn(t))&&Cn(t.then)&&Cn(t.catch),WA=((t,e)=>t?setImmediate:e?((n,r)=>(co.addEventListener("message",({source:i,data:o})=>{i===co&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),co.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cn(co.postMessage)),I4=typeof queueMicrotask<"u"?queueMicrotask.bind(co):typeof process<"u"&&process.nextTick||WA,ee={isArray:Xs,isArrayBuffer:VA,isBuffer:zj,isFormData:Zj,isArrayBufferView:Hj,isString:Wj,isNumber:qA,isBoolean:Kj,isObject:kh,isPlainObject:bc,isReadableStream:t4,isRequest:n4,isResponse:r4,isHeaders:i4,isUndefined:jl,isDate:Gj,isFile:Qj,isBlob:Yj,isRegExp:v4,isFunction:Cn,isStream:Jj,isURLSearchParams:e4,isTypedArray:h4,isFileList:Xj,forEach:su,merge:Om,extend:s4,trim:o4,stripBOM:a4,inherits:l4,toFlatObject:u4,kindOf:Ph,kindOfTest:or,endsWith:c4,toArray:f4,forEachEntry:d4,matchAll:p4,isHTMLForm:m4,hasOwnProperty:I1,hasOwnProp:I1,reduceDescriptors:zA,freezeMethods:y4,toObjectSet:_4,toCamelCase:g4,noop:E4,toFiniteNumber:w4,findKey:BA,global:co,isContextDefined:$A,ALPHABET:HA,generateString:T4,isSpecCompliantForm:b4,toJSONObject:S4,isAsyncFn:A4,isThenable:O4,setImmediate:WA,asap:I4};function xe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const KA=xe.prototype,GA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GA[t]={value:t}});Object.defineProperties(xe,GA);Object.defineProperty(KA,"isAxiosError",{value:!0});xe.from=(t,e,n,r,i,o)=>{const s=Object.create(KA);return ee.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),xe.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const P4=null;function Im(t){return ee.isPlainObject(t)||ee.isArray(t)}function QA(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function R1(t,e,n){return t?t.concat(e).map(function(i,o){return i=QA(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function R4(t){return ee.isArray(t)&&!t.some(Im)}const k4=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Ch(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,E){return!ee.isUndefined(E[v])});const r=n.metaTokens,i=n.visitor||d,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ee.isDate(y))return y.toISOString();if(!l&&ee.isBlob(y))throw new xe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(y)||ee.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,E){let g=y;if(y&&!E&&typeof y=="object"){if(ee.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(ee.isArray(y)&&R4(y)||(ee.isFileList(y)||ee.endsWith(v,"[]"))&&(g=ee.toArray(y)))return v=QA(v),g.forEach(function(w,_){!(ee.isUndefined(w)||w===null)&&e.append(s===!0?R1([v],_,o):s===null?v:v+"[]",u(w))}),!1}return Im(y)?!0:(e.append(R1(E,v,o),u(y)),!1)}const f=[],h=Object.assign(k4,{defaultVisitor:d,convertValue:u,isVisitable:Im});function m(y,v){if(!ee.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),ee.forEach(y,function(g,p){(!(ee.isUndefined(g)||g===null)&&i.call(e,g,ee.isString(p)?p.trim():p,v,h))===!0&&m(g,v?v.concat(p):[p])}),f.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return m(t),e}function k1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Xv(t,e){this._pairs=[],t&&Ch(t,this,e)}const YA=Xv.prototype;YA.append=function(e,n){this._pairs.push([e,n])};YA.toString=function(e){const n=e?function(r){return e.call(this,r,k1)}:k1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function C4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XA(t,e,n){if(!e)return t;const r=n&&n.encode||C4,i=n&&n.serialize;let o;if(i?o=i(e,n):o=ee.isURLSearchParams(e)?e.toString():new Xv(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class C1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x4=typeof URLSearchParams<"u"?URLSearchParams:Xv,N4=typeof FormData<"u"?FormData:null,L4=typeof Blob<"u"?Blob:null,D4={isBrowser:!0,classes:{URLSearchParams:x4,FormData:N4,Blob:L4},protocols:["http","https","file","blob","url","data"]},Jv=typeof window<"u"&&typeof document<"u",Pm=typeof navigator=="object"&&navigator||void 0,M4=Jv&&(!Pm||["ReactNative","NativeScript","NS"].indexOf(Pm.product)<0),j4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F4=Jv&&window.location.href||"http://localhost",U4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jv,hasStandardBrowserEnv:M4,hasStandardBrowserWebWorkerEnv:j4,navigator:Pm,origin:F4},Symbol.toStringTag,{value:"Module"})),bn={...U4,...D4};function V4(t,e){return Ch(t,new bn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return bn.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function q4(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B4(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function ZA(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&ee.isArray(i)?i.length:s,l?(ee.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!ee.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&ee.isArray(i[s])&&(i[s]=B4(i[s])),!a)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(q4(r),i,n,0)}),n}return null}function $4(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const au={transitional:JA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ee.isObject(e);if(o&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(ZA(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return V4(e,this.formSerializer).toString();if((a=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ch(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),$4(e)):e}],transformResponse:[function(e){const n=this.transitional||au.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?xe.from(a,xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{au.headers[t]={}});const z4=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&z4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},x1=Symbol("internals");function Ra(t){return t&&String(t).trim().toLowerCase()}function Sc(t){return t===!1||t==null?t:ee.isArray(t)?t.map(Sc):String(t)}function W4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const K4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jd(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function G4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Q4(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class Sn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const d=Ra(l);if(!d)throw new Error("header name must be a non-empty string");const f=ee.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=Sc(a))}const s=(a,l)=>ee.forEach(a,(u,d)=>o(u,d,l));if(ee.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(ee.isString(e)&&(e=e.trim())&&!K4(e))s(H4(e),n);else if(ee.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ra(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return W4(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ra(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||jd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Ra(s),s){const a=ee.findKey(r,s);a&&(!n||jd(r,r[a],a,n))&&(delete r[a],i=!0)}}return ee.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||jd(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,o)=>{const s=ee.findKey(r,o);if(s){n[s]=Sc(i),delete n[o];return}const a=e?G4(o):String(o).trim();a!==o&&delete n[o],n[a]=Sc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[x1]=this[x1]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Ra(s);r[a]||(Q4(i,s),r[a]=!0)}return ee.isArray(e)?e.forEach(o):o(e),this}}Sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Sn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(Sn);function Fd(t,e){const n=this||au,r=e||n,i=Sn.from(r.headers);let o=r.data;return ee.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function eO(t){return!!(t&&t.__CANCEL__)}function Js(t,e,n){xe.call(this,t??"canceled",xe.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(Js,xe,{__CANCEL__:!0});function tO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Y4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function X4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=r[o];s||(s=u),n[i]=l,r[i]=u;let f=o,h=0;for(;f!==i;)h+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function J4(t,e){let n=0,r=1e3/e,i,o;const s=(u,d=Date.now())=>{n=d,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-n;f>=r?s(u,d):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const Sf=(t,e,n=3)=>{let r=0;const i=X4(50,250);return J4(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),d=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},N1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},L1=t=>(...e)=>ee.asap(()=>t(...e)),Z4=bn.hasStandardBrowserEnv?function(){const e=bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=ee.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),eF=bn.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];ee.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&s.push("path="+r),ee.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nO(t,e){return t&&!tF(e)?nF(t,e):e}const D1=t=>t instanceof Sn?{...t}:t;function Io(t,e){e=e||{};const n={};function r(u,d,f){return ee.isPlainObject(u)&&ee.isPlainObject(d)?ee.merge.call({caseless:f},u,d):ee.isPlainObject(d)?ee.merge({},d):ee.isArray(d)?d.slice():d}function i(u,d,f){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return r(void 0,u,f)}else return r(u,d,f)}function o(u,d){if(!ee.isUndefined(d))return r(void 0,d)}function s(u,d){if(ee.isUndefined(d)){if(!ee.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,f){if(f in e)return r(u,d);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,d)=>i(D1(u),D1(d),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,h=f(t[d],e[d],d);ee.isUndefined(h)&&f!==a||(n[d]=h)}),n}const rO=t=>{const e=Io({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=Sn.from(s),e.url=XA(nO(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ee.isFormData(n)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...d]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...d].join("; "))}}if(bn.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&Z4(e.url))){const u=i&&o&&eF.read(o);u&&s.set(i,u)}return e},rF=typeof XMLHttpRequest<"u",iF=rF&&function(t){return new Promise(function(n,r){const i=rO(t);let o=i.data;const s=Sn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,f,h,m,y;function v(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function g(){if(!E)return;const w=Sn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:w,config:t,request:E};tO(function(A){n(A),v()},function(A){r(A),v()},O),E=null}"onloadend"in E?E.onloadend=g:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(g)},E.onabort=function(){E&&(r(new xe("Request aborted",xe.ECONNABORTED,t,E)),E=null)},E.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,t,E)),E=null},E.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||JA;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new xe(_,O.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,E)),E=null},o===void 0&&s.setContentType(null),"setRequestHeader"in E&&ee.forEach(s.toJSON(),function(_,O){E.setRequestHeader(O,_)}),ee.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),a&&a!=="json"&&(E.responseType=i.responseType),u&&([h,y]=Sf(u,!0),E.addEventListener("progress",h)),l&&E.upload&&([f,m]=Sf(l),E.upload.addEventListener("progress",f),E.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=w=>{E&&(r(!w||w.type?new Js(null,t,E):w),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const p=Y4(i.url);if(p&&bn.protocols.indexOf(p)===-1){r(new xe("Unsupported protocol "+p+":",xe.ERR_BAD_REQUEST,t));return}E.send(o||null)})},oF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;r.abort(d instanceof xe?d:new Js(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,o(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>ee.asap(a),l}},sF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},aF=async function*(t,e){for await(const n of lF(t))yield*sF(n,e)},lF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},M1=(t,e,n,r)=>{const i=aF(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let f=d.byteLength;if(n){let h=o+=f;n(h)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},xh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iO=xh&&typeof ReadableStream=="function",uF=xh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),oO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cF=iO&&oO(()=>{let t=!1;const e=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),j1=64*1024,Rm=iO&&oO(()=>ee.isReadableStream(new Response("").body)),Af={stream:Rm&&(t=>t.body)};xh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Af[e]&&(Af[e]=ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const fF=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(bn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await uF(t)).byteLength},hF=async(t,e)=>{const n=ee.toFiniteNumber(t.getContentLength());return n??fF(e)},dF=xh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=rO(t);u=u?(u+"").toLowerCase():"text";let m=oF([i,o&&o.toAbortSignal()],s),y;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let E;try{if(l&&cF&&n!=="get"&&n!=="head"&&(E=await hF(d,r))!==0){let O=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(ee.isFormData(r)&&(C=O.headers.get("content-type"))&&d.setContentType(C),O.body){const[A,b]=N1(E,Sf(L1(l)));r=M1(O.body,j1,A,b)}}ee.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;y=new Request(e,{...h,signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let p=await fetch(y);const w=Rm&&(u==="stream"||u==="response");if(Rm&&(a||w&&v)){const O={};["status","statusText","headers"].forEach(P=>{O[P]=p[P]});const C=ee.toFiniteNumber(p.headers.get("content-length")),[A,b]=a&&N1(C,Sf(L1(a),!0))||[];p=new Response(M1(p.body,j1,A,()=>{b&&b(),v&&v()}),O)}u=u||"text";let _=await Af[ee.findKey(Af,u)||"text"](p,t);return!w&&v&&v(),await new Promise((O,C)=>{tO(O,C,{data:_,headers:Sn.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:y})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,t,y),{cause:g.cause||g}):xe.from(g,g&&g.code,t,y)}}),km={http:P4,xhr:iF,fetch:dF};ee.forEach(km,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const F1=t=>`- ${t}`,pF=t=>ee.isFunction(t)||t===null||t===!1,sO={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!pF(n)&&(r=km[(s=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(F1).join(`
`):" "+F1(o[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:km};function Ud(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Js(null,t)}function U1(t){return Ud(t),t.headers=Sn.from(t.headers),t.data=Fd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),sO.getAdapter(t.adapter||au.adapter)(t).then(function(r){return Ud(t),r.data=Fd.call(t,t.transformResponse,r),r.headers=Sn.from(r.headers),r},function(r){return eO(r)||(Ud(t),r&&r.response&&(r.response.data=Fd.call(t,t.transformResponse,r.response),r.response.headers=Sn.from(r.response.headers))),Promise.reject(r)})}const aO="1.7.7",Zv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const V1={};Zv.transitional=function(e,n,r){function i(o,s){return"[Axios v"+aO+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new xe(i(s," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!V1[s]&&(V1[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function mF(t,e,n){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new xe("option "+o+" must be "+l,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+o,xe.ERR_BAD_OPTION)}}const Cm={assertOptions:mF,validators:Zv},ni=Cm.validators;class mo{constructor(e){this.defaults=e,this.interceptors={request:new C1,response:new C1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Io(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Cm.assertOptions(r,{silentJSONParsing:ni.transitional(ni.boolean),forcedJSONParsing:ni.transitional(ni.boolean),clarifyTimeoutError:ni.transitional(ni.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:Cm.assertOptions(i,{encode:ni.function,serialize:ni.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&ee.merge(o.common,o[n.method]);o&&ee.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),n.headers=Sn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!l){const y=[U1.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,u),h=y.length,d=Promise.resolve(n);f<h;)d=d.then(y[f++],y[f++]);return d}h=a.length;let m=n;for(f=0;f<h;){const y=a[f++],v=a[f++];try{m=y(m)}catch(E){v.call(this,E);break}}try{d=U1.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Io(this.defaults,e);const n=nO(e.baseURL,e.url);return XA(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){mo.prototype[e]=function(n,r){return this.request(Io(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Io(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}mo.prototype[e]=n(),mo.prototype[e+"Form"]=n(!0)});class ey{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Js(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ey(function(i){e=i}),cancel:e}}}function gF(t){return function(n){return t.apply(null,n)}}function vF(t){return ee.isObject(t)&&t.isAxiosError===!0}const xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xm).forEach(([t,e])=>{xm[e]=t});function lO(t){const e=new mo(t),n=UA(mo.prototype.request,e);return ee.extend(n,mo.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return lO(Io(t,i))},n}const Ot=lO(au);Ot.Axios=mo;Ot.CanceledError=Js;Ot.CancelToken=ey;Ot.isCancel=eO;Ot.VERSION=aO;Ot.toFormData=Ch;Ot.AxiosError=xe;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=gF;Ot.isAxiosError=vF;Ot.mergeConfig=Io;Ot.AxiosHeaders=Sn;Ot.formToJSON=t=>ZA(ee.isHTMLForm(t)?new FormData(t):t);Ot.getAdapter=sO.getAdapter;Ot.HttpStatusCode=xm;Ot.default=Ot;const yF=({onUploadComplete:t})=>{const[e,n]=oe.useState([]),r=o=>{n([...o.target.files])},i=async()=>{const o=new FormData;e.forEach(s=>{o.append("images",s)});try{const a=(await Ot.post("http://localhost:3001/upload",o,{headers:{"Content-Type":"multipart/form-data"}})).data.urls;t(a),alert("Images uploaded successfully!")}catch(s){alert("Failed to upload images."),console.error(s)}};return q.jsxs("div",{children:[q.jsx("h2",{children:"Upload Project Images"}),q.jsx("input",{type:"file",multiple:!0,onChange:r}),q.jsx("button",{onClick:i,children:"Upload Images"})]})};function _F(){this.__data__=[],this.size=0}var EF=_F;function wF(t,e){return t===e||t!==t&&e!==e}var uO=wF,TF=uO;function bF(t,e){for(var n=t.length;n--;)if(TF(t[n][0],e))return n;return-1}var Nh=bF,SF=Nh,AF=Array.prototype,OF=AF.splice;function IF(t){var e=this.__data__,n=SF(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():OF.call(e,n,1),--this.size,!0}var PF=IF,RF=Nh;function kF(t){var e=this.__data__,n=RF(e,t);return n<0?void 0:e[n][1]}var CF=kF,xF=Nh;function NF(t){return xF(this.__data__,t)>-1}var LF=NF,DF=Nh;function MF(t,e){var n=this.__data__,r=DF(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var jF=MF,FF=EF,UF=PF,VF=CF,qF=LF,BF=jF;function Zs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zs.prototype.clear=FF;Zs.prototype.delete=UF;Zs.prototype.get=VF;Zs.prototype.has=qF;Zs.prototype.set=BF;var Lh=Zs,$F=Lh;function zF(){this.__data__=new $F,this.size=0}var HF=zF;function WF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var KF=WF;function GF(t){return this.__data__.get(t)}var QF=GF;function YF(t){return this.__data__.has(t)}var XF=YF,JF=typeof qt=="object"&&qt&&qt.Object===Object&&qt,cO=JF,ZF=cO,eU=typeof self=="object"&&self&&self.Object===Object&&self,tU=ZF||eU||Function("return this")(),Gr=tU,nU=Gr,rU=nU.Symbol,ty=rU,q1=ty,fO=Object.prototype,iU=fO.hasOwnProperty,oU=fO.toString,ka=q1?q1.toStringTag:void 0;function sU(t){var e=iU.call(t,ka),n=t[ka];try{t[ka]=void 0;var r=!0}catch{}var i=oU.call(t);return r&&(e?t[ka]=n:delete t[ka]),i}var aU=sU,lU=Object.prototype,uU=lU.toString;function cU(t){return uU.call(t)}var fU=cU,B1=ty,hU=aU,dU=fU,pU="[object Null]",mU="[object Undefined]",$1=B1?B1.toStringTag:void 0;function gU(t){return t==null?t===void 0?mU:pU:$1&&$1 in Object(t)?hU(t):dU(t)}var Dh=gU;function vU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hO=vU,yU=Dh,_U=hO,EU="[object AsyncFunction]",wU="[object Function]",TU="[object GeneratorFunction]",bU="[object Proxy]";function SU(t){if(!_U(t))return!1;var e=yU(t);return e==wU||e==TU||e==EU||e==bU}var dO=SU,AU=Gr,OU=AU["__core-js_shared__"],IU=OU,Vd=IU,z1=function(){var t=/[^.]+$/.exec(Vd&&Vd.keys&&Vd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PU(t){return!!z1&&z1 in t}var RU=PU,kU=Function.prototype,CU=kU.toString;function xU(t){if(t!=null){try{return CU.call(t)}catch{}try{return t+""}catch{}}return""}var pO=xU,NU=dO,LU=RU,DU=hO,MU=pO,jU=/[\\^$.*+?()[\]{}|]/g,FU=/^\[object .+?Constructor\]$/,UU=Function.prototype,VU=Object.prototype,qU=UU.toString,BU=VU.hasOwnProperty,$U=RegExp("^"+qU.call(BU).replace(jU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zU(t){if(!DU(t)||LU(t))return!1;var e=NU(t)?$U:FU;return e.test(MU(t))}var HU=zU;function WU(t,e){return t==null?void 0:t[e]}var KU=WU,GU=HU,QU=KU;function YU(t,e){var n=QU(t,e);return GU(n)?n:void 0}var ea=YU,XU=ea,JU=Gr,ZU=XU(JU,"Map"),ny=ZU,eV=ea,tV=eV(Object,"create"),Mh=tV,H1=Mh;function nV(){this.__data__=H1?H1(null):{},this.size=0}var rV=nV;function iV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var oV=iV,sV=Mh,aV="__lodash_hash_undefined__",lV=Object.prototype,uV=lV.hasOwnProperty;function cV(t){var e=this.__data__;if(sV){var n=e[t];return n===aV?void 0:n}return uV.call(e,t)?e[t]:void 0}var fV=cV,hV=Mh,dV=Object.prototype,pV=dV.hasOwnProperty;function mV(t){var e=this.__data__;return hV?e[t]!==void 0:pV.call(e,t)}var gV=mV,vV=Mh,yV="__lodash_hash_undefined__";function _V(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vV&&e===void 0?yV:e,this}var EV=_V,wV=rV,TV=oV,bV=fV,SV=gV,AV=EV;function ta(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ta.prototype.clear=wV;ta.prototype.delete=TV;ta.prototype.get=bV;ta.prototype.has=SV;ta.prototype.set=AV;var OV=ta,W1=OV,IV=Lh,PV=ny;function RV(){this.size=0,this.__data__={hash:new W1,map:new(PV||IV),string:new W1}}var kV=RV;function CV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var xV=CV,NV=xV;function LV(t,e){var n=t.__data__;return NV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var jh=LV,DV=jh;function MV(t){var e=DV(this,t).delete(t);return this.size-=e?1:0,e}var jV=MV,FV=jh;function UV(t){return FV(this,t).get(t)}var VV=UV,qV=jh;function BV(t){return qV(this,t).has(t)}var $V=BV,zV=jh;function HV(t,e){var n=zV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var WV=HV,KV=kV,GV=jV,QV=VV,YV=$V,XV=WV;function na(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}na.prototype.clear=KV;na.prototype.delete=GV;na.prototype.get=QV;na.prototype.has=YV;na.prototype.set=XV;var mO=na,JV=Lh,ZV=ny,e3=mO,t3=200;function n3(t,e){var n=this.__data__;if(n instanceof JV){var r=n.__data__;if(!ZV||r.length<t3-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new e3(r)}return n.set(t,e),this.size=n.size,this}var r3=n3,i3=Lh,o3=HF,s3=KF,a3=QF,l3=XF,u3=r3;function ra(t){var e=this.__data__=new i3(t);this.size=e.size}ra.prototype.clear=o3;ra.prototype.delete=s3;ra.prototype.get=a3;ra.prototype.has=l3;ra.prototype.set=u3;var c3=ra,f3="__lodash_hash_undefined__";function h3(t){return this.__data__.set(t,f3),this}var d3=h3;function p3(t){return this.__data__.has(t)}var m3=p3,g3=mO,v3=d3,y3=m3;function Of(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new g3;++e<n;)this.add(t[e])}Of.prototype.add=Of.prototype.push=v3;Of.prototype.has=y3;var _3=Of;function E3(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var w3=E3;function T3(t,e){return t.has(e)}var b3=T3,S3=_3,A3=w3,O3=b3,I3=1,P3=2;function R3(t,e,n,r,i,o){var s=n&I3,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,m=n&P3?new S3:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var y=t[f],v=e[f];if(r)var E=s?r(v,y,f,e,t,o):r(y,v,f,t,e,o);if(E!==void 0){if(E)continue;h=!1;break}if(m){if(!A3(e,function(g,p){if(!O3(m,p)&&(y===g||i(y,g,n,r,o)))return m.push(p)})){h=!1;break}}else if(!(y===v||i(y,v,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var gO=R3,k3=Gr,C3=k3.Uint8Array,x3=C3;function N3(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var L3=N3;function D3(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var M3=D3,K1=ty,G1=x3,j3=uO,F3=gO,U3=L3,V3=M3,q3=1,B3=2,$3="[object Boolean]",z3="[object Date]",H3="[object Error]",W3="[object Map]",K3="[object Number]",G3="[object RegExp]",Q3="[object Set]",Y3="[object String]",X3="[object Symbol]",J3="[object ArrayBuffer]",Z3="[object DataView]",Q1=K1?K1.prototype:void 0,qd=Q1?Q1.valueOf:void 0;function e5(t,e,n,r,i,o,s){switch(n){case Z3:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case J3:return!(t.byteLength!=e.byteLength||!o(new G1(t),new G1(e)));case $3:case z3:case K3:return j3(+t,+e);case H3:return t.name==e.name&&t.message==e.message;case G3:case Y3:return t==e+"";case W3:var a=U3;case Q3:var l=r&q3;if(a||(a=V3),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=B3,s.set(t,e);var d=F3(a(t),a(e),r,i,o,s);return s.delete(t),d;case X3:if(qd)return qd.call(t)==qd.call(e)}return!1}var t5=e5;function n5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var r5=n5,i5=Array.isArray,ry=i5,o5=r5,s5=ry;function a5(t,e,n){var r=e(t);return s5(t)?r:o5(r,n(t))}var l5=a5;function u5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var c5=u5;function f5(){return[]}var h5=f5,d5=c5,p5=h5,m5=Object.prototype,g5=m5.propertyIsEnumerable,Y1=Object.getOwnPropertySymbols,v5=Y1?function(t){return t==null?[]:(t=Object(t),d5(Y1(t),function(e){return g5.call(t,e)}))}:p5,y5=v5;function _5(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var E5=_5;function w5(t){return t!=null&&typeof t=="object"}var Fh=w5,T5=Dh,b5=Fh,S5="[object Arguments]";function A5(t){return b5(t)&&T5(t)==S5}var O5=A5,X1=O5,I5=Fh,vO=Object.prototype,P5=vO.hasOwnProperty,R5=vO.propertyIsEnumerable,k5=X1(function(){return arguments}())?X1:function(t){return I5(t)&&P5.call(t,"callee")&&!R5.call(t,"callee")},C5=k5,If={exports:{}};function x5(){return!1}var N5=x5;If.exports;(function(t,e){var n=Gr,r=N5,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(If,If.exports);var yO=If.exports,L5=9007199254740991,D5=/^(?:0|[1-9]\d*)$/;function M5(t,e){var n=typeof t;return e=e??L5,!!e&&(n=="number"||n!="symbol"&&D5.test(t))&&t>-1&&t%1==0&&t<e}var j5=M5,F5=9007199254740991;function U5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=F5}var _O=U5,V5=Dh,q5=_O,B5=Fh,$5="[object Arguments]",z5="[object Array]",H5="[object Boolean]",W5="[object Date]",K5="[object Error]",G5="[object Function]",Q5="[object Map]",Y5="[object Number]",X5="[object Object]",J5="[object RegExp]",Z5="[object Set]",e9="[object String]",t9="[object WeakMap]",n9="[object ArrayBuffer]",r9="[object DataView]",i9="[object Float32Array]",o9="[object Float64Array]",s9="[object Int8Array]",a9="[object Int16Array]",l9="[object Int32Array]",u9="[object Uint8Array]",c9="[object Uint8ClampedArray]",f9="[object Uint16Array]",h9="[object Uint32Array]",rt={};rt[i9]=rt[o9]=rt[s9]=rt[a9]=rt[l9]=rt[u9]=rt[c9]=rt[f9]=rt[h9]=!0;rt[$5]=rt[z5]=rt[n9]=rt[H5]=rt[r9]=rt[W5]=rt[K5]=rt[G5]=rt[Q5]=rt[Y5]=rt[X5]=rt[J5]=rt[Z5]=rt[e9]=rt[t9]=!1;function d9(t){return B5(t)&&q5(t.length)&&!!rt[V5(t)]}var p9=d9;function m9(t){return function(e){return t(e)}}var g9=m9,Pf={exports:{}};Pf.exports;(function(t,e){var n=cO,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Pf,Pf.exports);var v9=Pf.exports,y9=p9,_9=g9,J1=v9,Z1=J1&&J1.isTypedArray,E9=Z1?_9(Z1):y9,EO=E9,w9=E5,T9=C5,b9=ry,S9=yO,A9=j5,O9=EO,I9=Object.prototype,P9=I9.hasOwnProperty;function R9(t,e){var n=b9(t),r=!n&&T9(t),i=!n&&!r&&S9(t),o=!n&&!r&&!i&&O9(t),s=n||r||i||o,a=s?w9(t.length,String):[],l=a.length;for(var u in t)(e||P9.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||A9(u,l)))&&a.push(u);return a}var k9=R9,C9=Object.prototype;function x9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||C9;return t===n}var N9=x9;function L9(t,e){return function(n){return t(e(n))}}var D9=L9,M9=D9,j9=M9(Object.keys,Object),F9=j9,U9=N9,V9=F9,q9=Object.prototype,B9=q9.hasOwnProperty;function $9(t){if(!U9(t))return V9(t);var e=[];for(var n in Object(t))B9.call(t,n)&&n!="constructor"&&e.push(n);return e}var z9=$9,H9=dO,W9=_O;function K9(t){return t!=null&&W9(t.length)&&!H9(t)}var G9=K9,Q9=k9,Y9=z9,X9=G9;function J9(t){return X9(t)?Q9(t):Y9(t)}var Z9=J9,eq=l5,tq=y5,nq=Z9;function rq(t){return eq(t,nq,tq)}var iq=rq,eE=iq,oq=1,sq=Object.prototype,aq=sq.hasOwnProperty;function lq(t,e,n,r,i,o){var s=n&oq,a=eE(t),l=a.length,u=eE(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:aq.call(e,h)))return!1}var m=o.get(t),y=o.get(e);if(m&&y)return m==e&&y==t;var v=!0;o.set(t,e),o.set(e,t);for(var E=s;++f<l;){h=a[f];var g=t[h],p=e[h];if(r)var w=s?r(p,g,h,e,t,o):r(g,p,h,t,e,o);if(!(w===void 0?g===p||i(g,p,n,r,o):w)){v=!1;break}E||(E=h=="constructor")}if(v&&!E){var _=t.constructor,O=e.constructor;_!=O&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof O=="function"&&O instanceof O)&&(v=!1)}return o.delete(t),o.delete(e),v}var uq=lq,cq=ea,fq=Gr,hq=cq(fq,"DataView"),dq=hq,pq=ea,mq=Gr,gq=pq(mq,"Promise"),vq=gq,yq=ea,_q=Gr,Eq=yq(_q,"Set"),wq=Eq,Tq=ea,bq=Gr,Sq=Tq(bq,"WeakMap"),Aq=Sq,Nm=dq,Lm=ny,Dm=vq,Mm=wq,jm=Aq,wO=Dh,ia=pO,tE="[object Map]",Oq="[object Object]",nE="[object Promise]",rE="[object Set]",iE="[object WeakMap]",oE="[object DataView]",Iq=ia(Nm),Pq=ia(Lm),Rq=ia(Dm),kq=ia(Mm),Cq=ia(jm),no=wO;(Nm&&no(new Nm(new ArrayBuffer(1)))!=oE||Lm&&no(new Lm)!=tE||Dm&&no(Dm.resolve())!=nE||Mm&&no(new Mm)!=rE||jm&&no(new jm)!=iE)&&(no=function(t){var e=wO(t),n=e==Oq?t.constructor:void 0,r=n?ia(n):"";if(r)switch(r){case Iq:return oE;case Pq:return tE;case Rq:return nE;case kq:return rE;case Cq:return iE}return e});var xq=no,Bd=c3,Nq=gO,Lq=t5,Dq=uq,sE=xq,aE=ry,lE=yO,Mq=EO,jq=1,uE="[object Arguments]",cE="[object Array]",Qu="[object Object]",Fq=Object.prototype,fE=Fq.hasOwnProperty;function Uq(t,e,n,r,i,o){var s=aE(t),a=aE(e),l=s?cE:sE(t),u=a?cE:sE(e);l=l==uE?Qu:l,u=u==uE?Qu:u;var d=l==Qu,f=u==Qu,h=l==u;if(h&&lE(t)){if(!lE(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Bd),s||Mq(t)?Nq(t,e,n,r,i,o):Lq(t,e,l,n,r,i,o);if(!(n&jq)){var m=d&&fE.call(t,"__wrapped__"),y=f&&fE.call(e,"__wrapped__");if(m||y){var v=m?t.value():t,E=y?e.value():e;return o||(o=new Bd),i(v,E,n,r,o)}}return h?(o||(o=new Bd),Dq(t,e,n,r,i,o)):!1}var Vq=Uq,qq=Vq,hE=Fh;function TO(t,e,n,r,i){return t===e?!0:t==null||e==null||!hE(t)&&!hE(e)?t!==t&&e!==e:qq(t,e,n,r,TO,i)}var Bq=TO,$q=Bq;function zq(t,e){return $q(t,e)}var Hq=zq,bO={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:qt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),d=i(47),f=i(48),h=i(49),m=i(12),y=i(32),v=i(33),E=i(31),g=i(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:d.default,Inline:u.default,Text:h.default,Attributor:{Attribute:m.default,Class:y.default,Style:v.default,Store:E.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var w in p)p.hasOwnProperty(w)&&(g[w]=p[w])};return function(g,p){E(g,p);function w(){this.constructor=g}g.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(E){o(g,E);function g(p){var w=this;return p="[Parchment] "+p,w=E.call(this,p)||this,w.message=p,w.name=w.constructor.name,w}return g}(Error);r.ParchmentError=s;var a={},l={},u={},d={};r.DATA_KEY="__blot";var f;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(E,g){var p=y(E);if(p==null)throw new s("Unable to create "+E+" blot");var w=p,_=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:w.create(g);return new w(_,g)}r.create=h;function m(E,g){return g===void 0&&(g=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:g?m(E.parentNode,g):null}r.find=m;function y(E,g){g===void 0&&(g=f.ANY);var p;if(typeof E=="string")p=d[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)p=d.text;else if(typeof E=="number")E&f.LEVEL&f.BLOCK?p=d.block:E&f.LEVEL&f.INLINE&&(p=d.inline);else if(E instanceof HTMLElement){var w=(E.getAttribute("class")||"").split(/\s+/);for(var _ in w)if(p=l[w[_]],p)break;p=p||u[E.tagName]}return p==null?null:g&f.LEVEL&p.scope&&g&f.TYPE&p.scope?p:null}r.query=y;function v(){for(var E=[],g=0;g<arguments.length;g++)E[g]=arguments[g];if(E.length>1)return E.map(function(_){return v(_)});var p=E[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(d[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(_){return _.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var w=Array.isArray(p.tagName)?p.tagName:[p.tagName];w.forEach(function(_){(u[_]==null||p.className==null)&&(u[_]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,h){var m={};return f.length===0?this:(m.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,h){if(f<=0)return this;var m={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(m.attributes=h),this.push(m)},d.prototype.push=function(f){var h=this.ops.length,m=this.ops[h-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[h-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(h-=1,m=this.ops[h-1],typeof m!="object"))return this.ops.unshift(f),this;if(s(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[h-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[h-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var h=[],m=[];return this.forEach(function(y){var v=f(y)?h:m;v.push(y)}),[h,m]},d.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},d.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},d.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var m=[],y=l.iterator(this.ops),v=0;v<h&&y.hasNext();){var E;v<f?E=y.next(f-v):(E=y.next(h-v),m.push(E)),v+=l.length(E)}return new d(m)},d.prototype.compose=function(f){var h=l.iterator(this.ops),m=l.iterator(f.ops),y=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var E=v.retain;h.peekType()==="insert"&&h.peekLength()<=E;)E-=h.peekLength(),y.push(h.next());v.retain-E>0&&m.next(v.retain-E)}for(var g=new d(y);h.hasNext()||m.hasNext();)if(m.peekType()==="insert")g.push(m.next());else if(h.peekType()==="delete")g.push(h.next());else{var p=Math.min(h.peekLength(),m.peekLength()),w=h.next(p),_=m.next(p);if(typeof _.retain=="number"){var O={};typeof w.retain=="number"?O.retain=p:O.insert=w.insert;var C=l.attributes.compose(w.attributes,_.attributes,typeof w.retain=="number");if(C&&(O.attributes=C),g.push(O),!m.hasNext()&&s(g.ops[g.ops.length-1],O)){var A=new d(h.rest());return g.concat(A).chop()}}else typeof _.delete=="number"&&typeof w.retain=="number"&&g.push(_)}return g.chop()},d.prototype.concat=function(f){var h=new d(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},d.prototype.diff=function(f,h){if(this.ops===f.ops)return new d;var m=[this,f].map(function(p){return p.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var _=p===f?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")}),y=new d,v=o(m[0],m[1],h),E=l.iterator(this.ops),g=l.iterator(f.ops);return v.forEach(function(p){for(var w=p[1].length;w>0;){var _=0;switch(p[0]){case o.INSERT:_=Math.min(g.peekLength(),w),y.push(g.next(_));break;case o.DELETE:_=Math.min(w,E.peekLength()),E.next(_),y.delete(_);break;case o.EQUAL:_=Math.min(E.peekLength(),g.peekLength(),w);var O=E.next(_),C=g.next(_);s(O.insert,C.insert)?y.retain(_,l.attributes.diff(O.attributes,C.attributes)):y.push(C).delete(_);break}w-=_}}),y.chop()},d.prototype.eachLine=function(f,h){h=h||`
`;for(var m=l.iterator(this.ops),y=new d,v=0;m.hasNext();){if(m.peekType()!=="insert")return;var E=m.peek(),g=l.length(E)-m.peekLength(),p=typeof E.insert=="string"?E.insert.indexOf(h,g)-g:-1;if(p<0)y.push(m.next());else if(p>0)y.push(m.next(p));else{if(f(y,m.next(1).attributes||{},v)===!1)return;v+=1,y=new d}}y.length()>0&&f(y,{},v)},d.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var m=l.iterator(this.ops),y=l.iterator(f.ops),v=new d;m.hasNext()||y.hasNext();)if(m.peekType()==="insert"&&(h||y.peekType()!=="insert"))v.retain(l.length(m.next()));else if(y.peekType()==="insert")v.push(y.next());else{var E=Math.min(m.peekLength(),y.peekLength()),g=m.next(E),p=y.next(E);if(g.delete)continue;p.delete?v.push(p):v.retain(E,l.attributes.transform(g.attributes,p.attributes,h))}return v.chop()},d.prototype.transformPosition=function(f,h){h=!!h;for(var m=l.iterator(this.ops),y=0;m.hasNext()&&y<=f;){var v=m.peekLength(),E=m.peekType();if(m.next(),E==="delete"){f-=Math.min(v,f-y);continue}else E==="insert"&&(y<f||!h)&&(f+=v);y+=v}return f},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):o.call(m)==="[object Array]"},u=function(m){if(!m||o.call(m)!=="[object Object]")return!1;var y=i.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!y&&!v)return!1;var E;for(E in m);return typeof E>"u"||i.call(m,E)},d=function(m,y){s&&y.name==="__proto__"?s(m,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):m[y.name]=y.newValue},f=function(m,y){if(y==="__proto__")if(i.call(m,y)){if(a)return a(m,y).value}else return;return m[y]};n.exports=function h(){var m,y,v,E,g,p,w=arguments[0],_=1,O=arguments.length,C=!1;for(typeof w=="boolean"&&(C=w,w=arguments[1]||{},_=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});_<O;++_)if(m=arguments[_],m!=null)for(y in m)v=f(w,y),E=f(m,y),w!==E&&(C&&E&&(u(E)||(g=l(E)))?(g?(g=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},d(w,{name:y,newValue:h(C,p,E)})):typeof E<"u"&&d(w,{name:y,newValue:E}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(R,k){for(var L=0;L<k.length;L++){var V=k[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,k,L){return k&&S(R.prototype,k),L&&S(R,L),R}}(),s=function S(R,k,L){R===null&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,k);if(V===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:S(H,k,L)}else{if("value"in V)return V.value;var K=V.get;return K===void 0?void 0:K.call(L)}},a=i(3),l=w(a),u=i(2),d=w(u),f=i(0),h=w(f),m=i(16),y=w(m),v=i(6),E=w(v),g=i(7),p=w(g);function w(S){return S&&S.__esModule?S:{default:S}}function _(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function O(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function C(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var A=1,b=function(S){C(R,S);function R(){return _(this,R),O(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,V){var H=h.default.query(L,h.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,V)}},{key:"formatAt",value:function(L,V,H,K){this.format(H,K)}},{key:"insertAt",value:function(L,V,H){if(typeof V=="string"&&V.endsWith(`
`)){var K=h.default.create(P.blotName);this.parent.insertBefore(K,L===0?this:this.next),K.insertAt(0,V.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,V,H)}}]),R}(h.default.Embed);b.scope=h.default.Scope.BLOCK_BLOT;var P=function(S){C(R,S);function R(k){_(this,R);var L=O(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k));return L.cache={},L}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(L,V){return V.length()===0?L:L.insert(V.value(),T(V))},new d.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(L,V){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,V),this.cache={}}},{key:"formatAt",value:function(L,V,H,K){V<=0||(h.default.query(H,h.default.Scope.BLOCK)?L+V===this.length()&&this.format(H,K):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(V,this.length()-L-1),H,K),this.cache={})}},{key:"insertAt",value:function(L,V,H){if(H!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,V,H);if(V.length!==0){var K=V.split(`
`),G=K.shift();G.length>0&&(L<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var B=this;K.reduce(function(F,N){return B=B.split(F,!0),B.insertAt(0,N),N.length},L+G.length)}}},{key:"insertBefore",value:function(L,V){var H=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,V),H instanceof y.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(L,V){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,V),this.cache={}}},{key:"optimize",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V&&(L===0||L>=this.length()-A)){var H=this.clone();return L===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var K=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,V);return this.cache={},K}}}]),R}(h.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[E.default,h.default.Embed,p.default];function T(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(R=(0,l.default)(R,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?R:T(S.parent,R)}r.bubbleFormats=T,r.BlockEmbed=b,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(F,N){var M=[],U=!0,Q=!1,$=void 0;try{for(var j=F[Symbol.iterator](),z;!(U=(z=j.next()).done)&&(M.push(z.value),!(N&&M.length===N));U=!0);}catch(J){Q=!0,$=J}finally{try{!U&&j.return&&j.return()}finally{if(Q)throw $}}return M}return function(F,N){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,N){for(var M=0;M<N.length;M++){var U=N[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,N,M){return N&&B(F.prototype,N),M&&B(F,M),F}}();i(50);var l=i(2),u=T(l),d=i(14),f=T(d),h=i(8),m=T(h),y=i(9),v=T(y),E=i(0),g=T(E),p=i(15),w=T(p),_=i(3),O=T(_),C=i(10),A=T(C),b=i(34),P=T(b);function T(B){return B&&B.__esModule?B:{default:B}}function S(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function R(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var k=(0,A.default)("quill"),L=function(){a(B,null,[{key:"debug",value:function(N){N===!0&&(N="log"),A.default.level(N)}},{key:"find",value:function(N){return N.__quill||g.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&k.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,M){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var $=N.attrName||N.blotName;typeof $=="string"?this.register("formats/"+$,N,M):Object.keys(N).forEach(function(j){U.register(j,N[j],M)})}else this.imports[N]!=null&&!Q&&k.warn("Overwriting "+N+" with",M),this.imports[N]=M,(N.startsWith("blots/")||N.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):N.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function B(F){var N=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,B),this.options=V(F,M),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",F);this.options.debug&&B.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function($){$===m.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function($,j){var z=N.selection.lastRange,J=z&&z.length===0?z.index:void 0;H.call(N,function(){return N.editor.update(null,j,J)},$)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var U=N;N=document.createElement("div"),N.classList.add(U)}return this.container.insertBefore(N,M),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,M,U){var Q=this,$=K(N,M,U),j=s($,4);return N=j[0],M=j[1],U=j[3],H.call(this,function(){return Q.editor.deleteText(N,M)},U,N,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,M){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return H.call(this,function(){var $=U.getSelection(!0),j=new u.default;if($==null)return j;if(g.default.query(N,g.default.Scope.BLOCK))j=U.editor.formatLine($.index,$.length,S({},N,M));else{if($.length===0)return U.selection.format(N,M),j;j=U.editor.formatText($.index,$.length,S({},N,M))}return U.setSelection($,m.default.sources.SILENT),j},Q)}},{key:"formatLine",value:function(N,M,U,Q,$){var j=this,z=void 0,J=K(N,M,U,Q,$),X=s(J,4);return N=X[0],M=X[1],z=X[2],$=X[3],H.call(this,function(){return j.editor.formatLine(N,M,z)},$,N,0)}},{key:"formatText",value:function(N,M,U,Q,$){var j=this,z=void 0,J=K(N,M,U,Q,$),X=s(J,4);return N=X[0],M=X[1],z=X[2],$=X[3],H.call(this,function(){return j.editor.formatText(N,M,z)},$,N,0)}},{key:"getBounds",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof N=="number"?U=this.selection.getBounds(N,M):U=this.selection.getBounds(N.index,N.length);var Q=this.container.getBoundingClientRect();return{bottom:U.bottom-Q.top,height:U.height,left:U.left-Q.left,right:U.right-Q.left,top:U.top-Q.top,width:U.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,U=K(N,M),Q=s(U,2);return N=Q[0],M=Q[1],this.editor.getContents(N,M)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,M):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,M)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,U=K(N,M),Q=s(U,2);return N=Q[0],M=Q[1],this.editor.getText(N,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,M,U){var Q=this,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return H.call(this,function(){return Q.editor.insertEmbed(N,M,U)},$,N)}},{key:"insertText",value:function(N,M,U,Q,$){var j=this,z=void 0,J=K(N,0,U,Q,$),X=s(J,4);return N=X[0],z=X[2],$=X[3],H.call(this,function(){return j.editor.insertText(N,M,z)},$,N,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,M,U){this.clipboard.dangerouslyPasteHTML(N,M,U)}},{key:"removeFormat",value:function(N,M,U){var Q=this,$=K(N,M,U),j=s($,4);return N=j[0],M=j[1],U=j[3],H.call(this,function(){return Q.editor.removeFormat(N,M)},U,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return H.call(this,function(){N=new u.default(N);var Q=M.getLength(),$=M.editor.deleteText(0,Q),j=M.editor.applyDelta(N),z=j.ops[j.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),j.delete(1));var J=$.compose(j);return J},U)}},{key:"setSelection",value:function(N,M,U){if(N==null)this.selection.setRange(null,M||B.sources.API);else{var Q=K(N,M,U),$=s(Q,4);N=$[0],M=$[1],U=$[3],this.selection.setRange(new p.Range(N,M),U),U!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,U=new u.default().insert(N);return this.setContents(U,M)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,M=this.scroll.update(N);return this.selection.update(N),M}},{key:"updateContents",value:function(N){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return H.call(this,function(){return N=new u.default(N),M.editor.applyDelta(N,U)},U,!0)}}]),B}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=m.default.events,L.sources=m.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:g.default,"core/module":v.default,"core/theme":P.default};function V(B,F){if(F=(0,O.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===L.DEFAULTS.theme)F.theme=P.default;else if(F.theme=L.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var N=(0,O.default)(!0,{},F.theme.DEFAULTS);[N,F].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function($){Q.modules[$]===!0&&(Q.modules[$]={})})});var M=Object.keys(N.modules).concat(Object.keys(F.modules)),U=M.reduce(function(Q,$){var j=L.import("modules/"+$);return j==null?k.error("Cannot load "+$+" module. Are you sure you registered it?"):Q[$]=j.DEFAULTS||{},Q},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,O.default)(!0,{},L.DEFAULTS,{modules:U},N,F),["bounds","container","scrollingContainer"].forEach(function(Q){typeof F[Q]=="string"&&(F[Q]=document.querySelector(F[Q]))}),F.modules=Object.keys(F.modules).reduce(function(Q,$){return F.modules[$]&&(Q[$]=F.modules[$]),Q},{}),F}function H(B,F,N,M){if(this.options.strict&&!this.isEnabled()&&F===m.default.sources.USER)return new u.default;var U=N==null?null:this.getSelection(),Q=this.editor.delta,$=B();if(U!=null&&(N===!0&&(N=U.index),M==null?U=G(U,$,F):M!==0&&(U=G(U,N,M,F)),this.setSelection(U,m.default.sources.SILENT)),$.length()>0){var j,z=[m.default.events.TEXT_CHANGE,$,Q,F];if((j=this.emitter).emit.apply(j,[m.default.events.EDITOR_CHANGE].concat(z)),F!==m.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,z)}}return $}function K(B,F,N,M,U){var Q={};return typeof B.index=="number"&&typeof B.length=="number"?typeof F!="number"?(U=M,M=N,N=F,F=B.length,B=B.index):(F=B.length,B=B.index):typeof F!="number"&&(U=M,M=N,N=F,F=0),(typeof N>"u"?"undefined":o(N))==="object"?(Q=N,U=M):typeof N=="string"&&(M!=null?Q[N]=M:U=N),U=U||m.default.sources.API,[B,F,Q,U]}function G(B,F,N,M){if(B==null)return null;var U=void 0,Q=void 0;if(F instanceof u.default){var $=[B.index,B.index+B.length].map(function(X){return F.transformPosition(X,M!==m.default.sources.USER)}),j=s($,2);U=j[0],Q=j[1]}else{var z=[B.index,B.index+B.length].map(function(X){return X<F||X===F&&M===m.default.sources.USER?X:N>=0?X+N:Math.max(F,X+N)}),J=s(z,2);U=J[0],Q=J[1]}return new p.Range(U,Q-U)}r.expandConfig=V,r.overload=K,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(g,p){for(var w=0;w<p.length;w++){var _=p[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,p,w){return p&&E(g.prototype,p),w&&E(g,w),g}}(),s=function E(g,p,w){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,p);if(_===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:E(O,p,w)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(w)}},a=i(7),l=f(a),u=i(0),d=f(u);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function m(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function y(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var v=function(E){y(g,E);function g(){return h(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(w,_,O,C){if(g.compare(this.statics.blotName,O)<0&&d.default.query(O,d.default.Scope.BLOT)){var A=this.isolate(w,_);C&&A.wrap(O,C)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,w,_,O,C)}},{key:"optimize",value:function(w){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,w),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var _=this.parent.isolate(this.offset(),this.length());this.moveChildren(_),_.wrap(this)}}}],[{key:"compare",value:function(w,_){var O=g.order.indexOf(w),C=g.order.indexOf(_);return O>=0||C>=0?O-C:w===_?0:w<_?-1:1}}]),g}(d.default.Inline);v.allowedChildren=[v,d.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(w,_){for(var O=0;O<_.length;O++){var C=_[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,_,O){return _&&p(w.prototype,_),O&&p(w,O),w}}(),s=function p(w,_,O){w===null&&(w=Function.prototype);var C=Object.getOwnPropertyDescriptor(w,_);if(C===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:p(A,_,O)}else{if("value"in C)return C.value;var b=C.get;return b===void 0?void 0:b.call(O)}},a=i(54),l=f(a),u=i(10),d=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function h(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function m(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function y(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var v=(0,d.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(p){document.addEventListener(p,function(){for(var w=arguments.length,_=Array(w),O=0;O<w;O++)_[O]=arguments[O];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var A;(A=C.__quill.emitter).handleDOM.apply(A,_)}})})});var g=function(p){y(w,p);function w(){h(this,w);var _=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return _.listeners={},_.on("error",v.error),_}return o(w,[{key:"emit",value:function(){v.log.apply(v,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(O){for(var C=arguments.length,A=Array(C>1?C-1:0),b=1;b<C;b++)A[b-1]=arguments[b];(this.listeners[O.type]||[]).forEach(function(P){var T=P.node,S=P.handler;(O.target===T||T.contains(O.target))&&S.apply(void 0,[O].concat(A))})}},{key:"listenDOM",value:function(O,C,A){this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push({node:C,handler:A})}}]),w}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var d,f=arguments.length,h=Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];(d=console)[u].apply(d,h)}}function l(u){return o.reduce(function(d,f){return d[f]=a.bind(console,f,u),d},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(h,m,y){return y||(y={}),h===m?!0:h instanceof Date&&m instanceof Date?h.getTime()===m.getTime():!h||!m||typeof h!="object"&&typeof m!="object"?y.strict?h===m:h==m:f(h,m,y)};function u(h){return h==null}function d(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,m,y){var v,E;if(u(h)||u(m)||h.prototype!==m.prototype)return!1;if(a(h))return a(m)?(h=o.call(h),m=o.call(m),l(h,m,y)):!1;if(d(h)){if(!d(m)||h.length!==m.length)return!1;for(v=0;v<h.length;v++)if(h[v]!==m[v])return!1;return!0}try{var g=s(h),p=s(m)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),v=g.length-1;v>=0;v--)if(g[v]!=p[v])return!1;for(v=g.length-1;v>=0;v--)if(E=g[v],!l(h[E],m[E],y))return!1;return typeof h==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,d){d===void 0&&(d={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var d=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(P,T){var S=[],R=!0,k=!1,L=void 0;try{for(var V=P[Symbol.iterator](),H;!(R=(H=V.next()).done)&&(S.push(H.value),!(T&&S.length===T));R=!0);}catch(K){k=!0,L=K}finally{try{!R&&V.return&&V.return()}finally{if(k)throw L}}return S}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return b(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(P,T){for(var S=0;S<T.length;S++){var R=T[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,T,S){return T&&b(P.prototype,T),S&&b(P,S),P}}(),a=function b(P,T,S){P===null&&(P=Function.prototype);var R=Object.getOwnPropertyDescriptor(P,T);if(R===void 0){var k=Object.getPrototypeOf(P);return k===null?void 0:b(k,T,S)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(S)}},l=i(2),u=p(l),d=i(0),f=p(d),h=i(4),m=p(h),y=i(6),v=p(y),E=i(7),g=p(E);function p(b){return b&&b.__esModule?b:{default:b}}function w(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")}function _(b,P){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:b}function O(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);b.prototype=Object.create(P&&P.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(b,P):b.__proto__=P)}var C=function(b){O(P,b);function P(){return w(this,P),_(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(v.default);C.blotName="code",C.tagName="CODE";var A=function(b){O(P,b);function P(){return w(this,P),_(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var S=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(k,L){return k.insert(L).insert(`
`,S.formats())},new u.default)}},{key:"format",value:function(S,R){if(!(S===this.statics.blotName&&R)){var k=this.descendant(g.default,this.length()-1),L=o(k,1),V=L[0];V!=null&&V.deleteAt(V.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,S,R)}}},{key:"formatAt",value:function(S,R,k,L){if(R!==0&&!(f.default.query(k,f.default.Scope.BLOCK)==null||k===this.statics.blotName&&L===this.statics.formats(this.domNode))){var V=this.newlineIndex(S);if(!(V<0||V>=S+R)){var H=this.newlineIndex(S,!0)+1,K=V-H+1,G=this.isolate(H,K),B=G.next;G.format(k,L),B instanceof P&&B.formatAt(0,S-H+R-K,k,L)}}}},{key:"insertAt",value:function(S,R,k){if(k==null){var L=this.descendant(g.default,S),V=o(L,2),H=V[0],K=V[1];H.insertAt(K,R)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var k=this.domNode.textContent.slice(S).indexOf(`
`);return k>-1?S+k:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(S),R.moveChildren(this),R.remove())}},{key:"replace",value:function(S){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var k=f.default.find(R);k==null?R.parentNode.removeChild(R):k instanceof f.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(S){var R=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,S);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),P}(m.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=C,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(F,N){var M=[],U=!0,Q=!1,$=void 0;try{for(var j=F[Symbol.iterator](),z;!(U=(z=j.next()).done)&&(M.push(z.value),!(N&&M.length===N));U=!0);}catch(J){Q=!0,$=J}finally{try{!U&&j.return&&j.return()}finally{if(Q)throw $}}return M}return function(F,N){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,N){for(var M=0;M<N.length;M++){var U=N[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,N,M){return N&&B(F.prototype,N),M&&B(F,M),F}}(),l=i(2),u=R(l),d=i(20),f=R(d),h=i(0),m=R(h),y=i(13),v=R(y),E=i(24),g=R(E),p=i(4),w=R(p),_=i(16),O=R(_),C=i(21),A=R(C),b=i(11),P=R(b),T=i(3),S=R(T);function R(B){return B&&B.__esModule?B:{default:B}}function k(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function L(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var V=/^[ -~]*$/,H=function(){function B(F){L(this,B),this.scroll=F,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(N){var M=this,U=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),N=G(N),N.reduce(function($,j){var z=j.retain||j.delete||j.insert.length||1,J=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var X=j.insert;X.endsWith(`
`)&&U&&(U=!1,X=X.slice(0,-1)),$>=Q&&!X.endsWith(`
`)&&(U=!0),M.scroll.insertAt($,X);var re=M.scroll.line($),pe=s(re,2),Ee=pe[0],Te=pe[1],Oe=(0,S.default)({},(0,p.bubbleFormats)(Ee));if(Ee instanceof w.default){var Ne=Ee.descendant(m.default.Leaf,Te),_t=s(Ne,1),Qe=_t[0];Oe=(0,S.default)(Oe,(0,p.bubbleFormats)(Qe))}J=f.default.attributes.diff(Oe,J)||{}}else if(o(j.insert)==="object"){var te=Object.keys(j.insert)[0];if(te==null)return $;M.scroll.insertAt($,te,j.insert[te])}Q+=z}return Object.keys(J).forEach(function(ne){M.scroll.formatAt($,z,ne,J[ne])}),$+z},0),N.reduce(function($,j){return typeof j.delete=="number"?(M.scroll.deleteAt($,j.delete),$):$+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,M){return this.scroll.deleteAt(N,M),this.update(new u.default().retain(N).delete(M))}},{key:"formatLine",value:function(N,M){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function($){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[$])){var j=U.scroll.lines(N,Math.max(M,1)),z=M;j.forEach(function(J){var X=J.length();if(!(J instanceof v.default))J.format($,Q[$]);else{var re=N-J.offset(U.scroll),pe=J.newlineIndex(re+z)-re+1;J.formatAt(re,pe,$,Q[$])}z-=X})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(M,(0,A.default)(Q)))}},{key:"formatText",value:function(N,M){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function($){U.scroll.formatAt(N,M,$,Q[$])}),this.update(new u.default().retain(N).retain(M,(0,A.default)(Q)))}},{key:"getContents",value:function(N,M){return this.delta.slice(N,N+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,M){return N.concat(M.delta())},new u.default)}},{key:"getFormat",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],Q=[];M===0?this.scroll.path(N).forEach(function(j){var z=s(j,1),J=z[0];J instanceof w.default?U.push(J):J instanceof m.default.Leaf&&Q.push(J)}):(U=this.scroll.lines(N,M),Q=this.scroll.descendants(m.default.Leaf,N,M));var $=[U,Q].map(function(j){if(j.length===0)return{};for(var z=(0,p.bubbleFormats)(j.shift());Object.keys(z).length>0;){var J=j.shift();if(J==null)return z;z=K((0,p.bubbleFormats)(J),z)}return z});return S.default.apply(S.default,$)}},{key:"getText",value:function(N,M){return this.getContents(N,M).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(N,M,U){return this.scroll.insertAt(N,M,U),this.update(new u.default().retain(N).insert(k({},M,U)))}},{key:"insertText",value:function(N,M){var U=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,M),Object.keys(Q).forEach(function($){U.scroll.formatAt(N,M.length,$,Q[$])}),this.update(new u.default().retain(N).insert(M,(0,A.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==w.default.blotName||N.children.length>1?!1:N.children.head instanceof O.default}},{key:"removeFormat",value:function(N,M){var U=this.getText(N,M),Q=this.scroll.line(N+M),$=s(Q,2),j=$[0],z=$[1],J=0,X=new u.default;j!=null&&(j instanceof v.default?J=j.newlineIndex(z)-z+1:J=j.length()-z,X=j.delta().slice(z,z+J-1).insert(`
`));var re=this.getContents(N,M+J),pe=re.diff(new u.default().insert(U).concat(X)),Ee=new u.default().retain(N).concat(pe);return this.applyDelta(Ee)}},{key:"update",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(V)&&m.default.find(M[0].target)){var $=m.default.find(M[0].target),j=(0,p.bubbleFormats)($),z=$.offset(this.scroll),J=M[0].oldValue.replace(g.default.CONTENTS,""),X=new u.default().insert(J),re=new u.default().insert($.value()),pe=new u.default().retain(z).concat(X.diff(re,U));N=pe.reduce(function(Ee,Te){return Te.insert?Ee.insert(Te.insert,j):Ee.push(Te)},new u.default),this.delta=Q.compose(N)}else this.delta=this.getDelta(),(!N||!(0,P.default)(Q.compose(N),this.delta))&&(N=Q.diff(this.delta,U));return N}}]),B}();function K(B,F){return Object.keys(F).reduce(function(N,M){return B[M]==null||(F[M]===B[M]?N[M]=F[M]:Array.isArray(F[M])?F[M].indexOf(B[M])<0&&(N[M]=F[M].concat([B[M]])):N[M]=[F[M],B[M]]),N},{})}function G(B){return B.reduce(function(F,N){if(N.insert===1){var M=(0,A.default)(N.attributes);return delete M.image,F.insert({image:N.attributes.image},M)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,A.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var U=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(U,N.attributes)}return F.push(N)},new u.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(P,T){var S=[],R=!0,k=!1,L=void 0;try{for(var V=P[Symbol.iterator](),H;!(R=(H=V.next()).done)&&(S.push(H.value),!(T&&S.length===T));R=!0);}catch(K){k=!0,L=K}finally{try{!R&&V.return&&V.return()}finally{if(k)throw L}}return S}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return b(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(P,T){for(var S=0;S<T.length;S++){var R=T[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,T,S){return T&&b(P.prototype,T),S&&b(P,S),P}}(),a=i(0),l=g(a),u=i(21),d=g(u),f=i(11),h=g(f),m=i(8),y=g(m),v=i(10),E=g(v);function g(b){return b&&b.__esModule?b:{default:b}}function p(b){if(Array.isArray(b)){for(var P=0,T=Array(b.length);P<b.length;P++)T[P]=b[P];return T}else return Array.from(b)}function w(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")}var _=(0,E.default)("quill:selection"),O=function b(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,b),this.index=P,this.length=T},C=function(){function b(P,T){var S=this;w(this,b),this.emitter=T,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new O(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,y.default.sources.USER),1)}),this.emitter.on(y.default.events.EDITOR_CHANGE,function(R,k){R===y.default.events.TEXT_CHANGE&&k.length()>0&&S.update(y.default.sources.SILENT)}),this.emitter.on(y.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var R=S.getNativeRange();R!=null&&R.start.node!==S.cursor.textNode&&S.emitter.once(y.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(y.default.events.SCROLL_OPTIMIZE,function(R,k){if(k.range){var L=k.range,V=L.startNode,H=L.startOffset,K=L.endNode,G=L.endOffset;S.setNativeRange(V,H,K,G)}}),this.update(y.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var S=T.cursor.restore();if(!S)return;setTimeout(function(){T.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(y.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var k=l.default.find(R.start.node,!1);if(k==null)return;if(k instanceof l.default.Leaf){var L=k.split(R.start.offset);k.parent.insertBefore(this.cursor,L)}else k.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(T,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();T=Math.min(T,R-1),S=Math.min(T+S,R-1)-T;var k=void 0,L=this.scroll.leaf(T),V=o(L,2),H=V[0],K=V[1];if(H==null)return null;var G=H.position(K,!0),B=o(G,2);k=B[0],K=B[1];var F=document.createRange();if(S>0){F.setStart(k,K);var N=this.scroll.leaf(T+S),M=o(N,2);if(H=M[0],K=M[1],H==null)return null;var U=H.position(K,!0),Q=o(U,2);return k=Q[0],K=Q[1],F.setEnd(k,K),F.getBoundingClientRect()}else{var $="left",j=void 0;return k instanceof Text?(K<k.data.length?(F.setStart(k,K),F.setEnd(k,K+1)):(F.setStart(k,K-1),F.setEnd(k,K),$="right"),j=F.getBoundingClientRect()):(j=H.domNode.getBoundingClientRect(),K>0&&($="right")),{bottom:j.top+j.height,height:j.height,left:j[$],right:j[$],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var S=T.getRangeAt(0);if(S==null)return null;var R=this.normalizeNative(S);return _.info("getNativeRange",R),R}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var S=this.normalizedToRange(T);return[S,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var S=this,R=[[T.start.node,T.start.offset]];T.native.collapsed||R.push([T.end.node,T.end.offset]);var k=R.map(function(H){var K=o(H,2),G=K[0],B=K[1],F=l.default.find(G,!0),N=F.offset(S.scroll);return B===0?N:F instanceof l.default.Container?N+F.length():N+F.index(G,B)}),L=Math.min(Math.max.apply(Math,p(k)),this.scroll.length()-1),V=Math.min.apply(Math,[L].concat(p(k)));return new O(V,L-V)}},{key:"normalizeNative",value:function(T){if(!A(this.root,T.startContainer)||!T.collapsed&&!A(this.root,T.endContainer))return null;var S={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[S.start,S.end].forEach(function(R){for(var k=R.node,L=R.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>L)k=k.childNodes[L],L=0;else if(k.childNodes.length===L)k=k.lastChild,L=k instanceof Text?k.data.length:k.childNodes.length+1;else break;R.node=k,R.offset=L}),S}},{key:"rangeToNative",value:function(T){var S=this,R=T.collapsed?[T.index]:[T.index,T.index+T.length],k=[],L=this.scroll.length();return R.forEach(function(V,H){V=Math.min(L-1,V);var K=void 0,G=S.scroll.leaf(V),B=o(G,2),F=B[0],N=B[1],M=F.position(N,H!==0),U=o(M,2);K=U[0],N=U[1],k.push(K,N)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(T){var S=this.lastRange;if(S!=null){var R=this.getBounds(S.index,S.length);if(R!=null){var k=this.scroll.length()-1,L=this.scroll.line(Math.min(S.index,k)),V=o(L,1),H=V[0],K=H;if(S.length>0){var G=this.scroll.line(Math.min(S.index+S.length,k)),B=o(G,1);K=B[0]}if(!(H==null||K==null)){var F=T.getBoundingClientRect();R.top<F.top?T.scrollTop-=F.top-R.top:R.bottom>F.bottom&&(T.scrollTop+=R.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,S){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_.info("setNativeRange",T,S,R,k),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||R.parentNode==null))){var V=document.getSelection();if(V!=null)if(T!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||T!==H.startContainer||S!==H.startOffset||R!==H.endContainer||k!==H.endOffset){T.tagName=="BR"&&(S=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),R.tagName=="BR"&&(k=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var K=document.createRange();K.setStart(T,S),K.setEnd(R,k),V.removeAllRanges(),V.addRange(K)}}else V.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof S=="string"&&(R=S,S=!1),_.info("setRange",T),T!=null){var k=this.rangeToNative(T);this.setNativeRange.apply(this,p(k).concat([S]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,S=this.lastRange,R=this.getRange(),k=o(R,2),L=k[0],V=k[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(S,this.lastRange)){var H;!this.composing&&V!=null&&V.native.collapsed&&V.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[y.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(S),T];if((H=this.emitter).emit.apply(H,[y.default.events.EDITOR_CHANGE].concat(K)),T!==y.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,K)}}}}]),b}();function A(b,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),b.contains(P)}r.Range=O,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var g=0;g<E.length;g++){var p=E[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,g){return E&&y(v.prototype,E),g&&y(v,g),v}}(),s=function y(v,E,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,g)}else{if("value"in p)return p.value;var _=p.get;return _===void 0?void 0:_.call(g)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){h(v,y);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(g,p){g.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])};return function(h,m){f(h,m);function y(){this.constructor=h}h.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(h,f);function h(m){var y=f.call(this,m)||this;return y.build(),y}return h.prototype.appendChild=function(m){this.insertBefore(m)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},h.prototype.build=function(){var m=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(y){try{var v=d(y);m.insertBefore(v,m.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},h.prototype.deleteAt=function(m,y){if(m===0&&y===this.length())return this.remove();this.children.forEachAt(m,y,function(v,E,g){v.deleteAt(E,g)})},h.prototype.descendant=function(m,y){var v=this.children.find(y),E=v[0],g=v[1];return m.blotName==null&&m(E)||m.blotName!=null&&E instanceof m?[E,g]:E instanceof h?E.descendant(m,g):[null,-1]},h.prototype.descendants=function(m,y,v){y===void 0&&(y=0),v===void 0&&(v=Number.MAX_VALUE);var E=[],g=v;return this.children.forEachAt(y,v,function(p,w,_){(m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m)&&E.push(p),p instanceof h&&(E=E.concat(p.descendants(m,w,g))),g-=_}),E},h.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(m,y,v,E){this.children.forEachAt(m,y,function(g,p,w){g.formatAt(p,w,v,E)})},h.prototype.insertAt=function(m,y,v){var E=this.children.find(m),g=E[0],p=E[1];if(g)g.insertAt(p,y,v);else{var w=v==null?l.create("text",y):l.create(y,v);this.appendChild(w)}},h.prototype.insertBefore=function(m,y){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return m instanceof v}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,y)},h.prototype.length=function(){return this.children.reduce(function(m,y){return m+y.length()},0)},h.prototype.moveChildren=function(m,y){this.children.forEach(function(v){m.insertBefore(v,y)})},h.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var y=l.create(this.statics.defaultChild);this.appendChild(y),y.optimize(m)}else this.remove()},h.prototype.path=function(m,y){y===void 0&&(y=!1);var v=this.children.find(m,y),E=v[0],g=v[1],p=[[this,m]];return E instanceof h?p.concat(E.path(g,y)):(E!=null&&p.push([E,g]),p)},h.prototype.removeChild=function(m){this.children.remove(m)},h.prototype.replace=function(m){m instanceof h&&m.moveChildren(this),f.prototype.replace.call(this,m)},h.prototype.split=function(m,y){if(y===void 0&&(y=!1),!y){if(m===0)return this;if(m===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(m,this.length(),function(E,g,p){E=E.split(g,y),v.appendChild(E)}),v},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(m,y){var v=this,E=[],g=[];m.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(E.push.apply(E,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(p);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),E.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,w){return p===w?0:p.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var w=null;p.nextSibling!=null&&(w=l.find(p.nextSibling));var _=d(p);(_.next!=w||_.next==null)&&(_.parent!=null&&_.parent.removeChild(v),v.insertBefore(_,w||void 0))})},h}(a.default);function d(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(y){h.domNode.appendChild(y)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])};return function(h,m){f(h,m);function y(){this.constructor=h}h.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),d=function(f){o(h,f);function h(m){var y=f.call(this,m)||this;return y.attributes=new a.default(y.domNode),y}return h.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},h.prototype.format=function(m,y){var v=u.query(m);v instanceof s.default?this.attributes.attribute(v,y):y&&v!=null&&(m!==this.statics.blotName||this.formats()[m]!==y)&&this.replaceWith(m,y)},h.prototype.formats=function(){var m=this.attributes.values(),y=this.statics.formats(this.domNode);return y!=null&&(m[this.statics.blotName]=y),m},h.prototype.replaceWith=function(m,y){var v=f.prototype.replaceWith.call(this,m,y);return this.attributes.copy(v),v},h.prototype.update=function(m,y){var v=this;f.prototype.update.call(this,m,y),m.some(function(E){return E.target===v.domNode&&E.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(m,y){var v=f.prototype.wrap.call(this,m,y);return v instanceof h&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},h}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},d.prototype.position=function(f,h){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=s(!0,{},d);f||(h=Object.keys(h).reduce(function(y,v){return h[v]!=null&&(y[v]=h[v]),y},{}));for(var m in u)u[m]!==void 0&&d[m]===void 0&&(h[m]=u[m]);return Object.keys(h).length>0?h:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(h,m){return o(u[m],d[m])||(h[m]=d[m]===void 0?null:d[m]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var h=Object.keys(d).reduce(function(m,y){return u[y]===void 0&&(m[y]=d[y]),m},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,h=a.length(d);if(u>=h-f?(u=h-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var m={};return d.attributes&&(m.attributes=d.attributes),typeof d.retain=="number"?m.retain=u:typeof d.insert=="string"?m.insert=d.insert.substr(f,u):m.insert=d.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(h)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,E){return E!=null&&v instanceof E}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,E,g,p,w){typeof E=="object"&&(g=E.depth,p=E.prototype,w=E.includeNonEnumerable,E=E.circular);var _=[],O=[],C=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof g>"u"&&(g=1/0);function A(b,P){if(b===null)return null;if(P===0)return b;var T,S;if(typeof b!="object")return b;if(o(b,s))T=new s;else if(o(b,a))T=new a;else if(o(b,l))T=new l(function(F,N){b.then(function(M){F(A(M,P-1))},function(M){N(A(M,P-1))})});else if(u.__isArray(b))T=[];else if(u.__isRegExp(b))T=new RegExp(b.source,y(b)),b.lastIndex&&(T.lastIndex=b.lastIndex);else if(u.__isDate(b))T=new Date(b.getTime());else{if(C&&Buffer.isBuffer(b))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(b.length):T=new Buffer(b.length),b.copy(T),T;o(b,Error)?T=Object.create(b):typeof p>"u"?(S=Object.getPrototypeOf(b),T=Object.create(S)):(T=Object.create(p),S=p)}if(E){var R=_.indexOf(b);if(R!=-1)return O[R];_.push(b),O.push(T)}o(b,s)&&b.forEach(function(F,N){var M=A(N,P-1),U=A(F,P-1);T.set(M,U)}),o(b,a)&&b.forEach(function(F){var N=A(F,P-1);T.add(N)});for(var k in b){var L;S&&(L=Object.getOwnPropertyDescriptor(S,k)),!(L&&L.set==null)&&(T[k]=A(b[k],P-1))}if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(b),k=0;k<V.length;k++){var H=V[k],K=Object.getOwnPropertyDescriptor(b,H);K&&!K.enumerable&&!w||(T[H]=A(b[H],P-1),K.enumerable||Object.defineProperty(T,H,{enumerable:!1}))}if(w)for(var G=Object.getOwnPropertyNames(b),k=0;k<G.length;k++){var B=G[k],K=Object.getOwnPropertyDescriptor(b,B);K&&K.enumerable||(T[B]=A(b[B],P-1),Object.defineProperty(T,B,{enumerable:!1}))}return T}return A(v,g)}u.clonePrototype=function(E){if(E===null)return null;var g=function(){};return g.prototype=E,new g};function d(v){return Object.prototype.toString.call(v)}u.__objToStr=d;function f(v){return typeof v=="object"&&d(v)==="[object Date]"}u.__isDate=f;function h(v){return typeof v=="object"&&d(v)==="[object Array]"}u.__isArray=h;function m(v){return typeof v=="object"&&d(v)==="[object RegExp]"}u.__isRegExp=m;function y(v){var E="";return v.global&&(E+="g"),v.ignoreCase&&(E+="i"),v.multiline&&(E+="m"),E}return u.__getRegExpFlags=y,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,R){var k=[],L=!0,V=!1,H=void 0;try{for(var K=S[Symbol.iterator](),G;!(L=(G=K.next()).done)&&(k.push(G.value),!(R&&k.length===R));L=!0);}catch(B){V=!0,H=B}finally{try{!L&&K.return&&K.return()}finally{if(V)throw H}}return k}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(S,R){for(var k=0;k<R.length;k++){var L=R[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,k){return R&&T(S.prototype,R),k&&T(S,k),S}}(),a=function T(S,R,k){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var V=Object.getPrototypeOf(S);return V===null?void 0:T(V,R,k)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(k)}},l=i(0),u=_(l),d=i(8),f=_(d),h=i(4),m=_(h),y=i(16),v=_(y),E=i(13),g=_(E),p=i(25),w=_(p);function _(T){return T&&T.__esModule?T:{default:T}}function O(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function C(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function A(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}function b(T){return T instanceof m.default||T instanceof h.BlockEmbed}var P=function(T){A(S,T);function S(R,k){O(this,S);var L=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return L.emitter=k.emitter,Array.isArray(k.whitelist)&&(L.whitelist=k.whitelist.reduce(function(V,H){return V[H]=!0,V},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,L){var V=this.line(k),H=o(V,2),K=H[0],G=H[1],B=this.line(k+L),F=o(B,1),N=F[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,k,L),N!=null&&K!==N&&G>0){if(K instanceof h.BlockEmbed||N instanceof h.BlockEmbed){this.optimize();return}if(K instanceof g.default){var M=K.newlineIndex(K.length(),!0);if(M>-1&&(K=K.split(M+1),K===N)){this.optimize();return}}else if(N instanceof g.default){var U=N.newlineIndex(0);U>-1&&N.split(U+1)}var Q=N.children.head instanceof v.default?null:N.children.head;K.moveChildren(N,Q),K.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,L,V,H){this.whitelist!=null&&!this.whitelist[V]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,k,L,V,H),this.optimize())}},{key:"insertAt",value:function(k,L,V){if(!(V!=null&&this.whitelist!=null&&!this.whitelist[L])){if(k>=this.length())if(V==null||u.default.query(L,u.default.Scope.BLOCK)==null){var H=u.default.create(this.statics.defaultChild);this.appendChild(H),V==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),H.insertAt(0,L,V)}else{var K=u.default.create(L,V);this.appendChild(K)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,k,L,V);this.optimize()}}},{key:"insertBefore",value:function(k,L){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var V=u.default.create(this.statics.defaultChild);V.appendChild(k),k=V}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,k,L)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(b,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,V=function H(K,G,B){var F=[],N=B;return K.children.forEachAt(G,B,function(M,U,Q){b(M)?F.push(M):M instanceof u.default.Container&&(F=F.concat(H(M,U,N))),N-=Q}),F};return V(this,k,L)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,k,L),k.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,k,L))}},{key:"path",value:function(k){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var L=f.default.sources.USER;typeof k=="string"&&(L=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,L,k),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,L,k)}}}]),S}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[m.default,h.BlockEmbed,w.default],r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(z,J){var X=[],re=!0,pe=!1,Ee=void 0;try{for(var Te=z[Symbol.iterator](),Oe;!(re=(Oe=Te.next()).done)&&(X.push(Oe.value),!(J&&X.length===J));re=!0);}catch(Ne){pe=!0,Ee=Ne}finally{try{!re&&Te.return&&Te.return()}finally{if(pe)throw Ee}}return X}return function(z,J){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return j(z,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(z,J){for(var X=0;X<J.length;X++){var re=J[X];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(z,re.key,re)}}return function(z,J,X){return J&&j(z.prototype,J),X&&j(z,X),z}}(),l=i(21),u=T(l),d=i(11),f=T(d),h=i(3),m=T(h),y=i(2),v=T(y),E=i(20),g=T(E),p=i(0),w=T(p),_=i(5),O=T(_),C=i(10),A=T(C),b=i(9),P=T(b);function T(j){return j&&j.__esModule?j:{default:j}}function S(j,z,J){return z in j?Object.defineProperty(j,z,{value:J,enumerable:!0,configurable:!0,writable:!0}):j[z]=J,j}function R(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")}function k(j,z){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:j}function L(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);j.prototype=Object.create(z&&z.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(j,z):j.__proto__=z)}var V=(0,A.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(j){L(z,j),a(z,null,[{key:"match",value:function(X,re){return re=$(re),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!re[pe]!==X[pe]&&re[pe]!==null})?!1:re.key===(X.which||X.keyCode)}}]);function z(J,X){R(this,z);var re=k(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,J,X));return re.bindings={},Object.keys(re.options.bindings).forEach(function(pe){pe==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||re.options.bindings[pe]&&re.addBinding(re.options.bindings[pe])}),re.addBinding({key:z.keys.ENTER,shiftKey:null},M),re.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(re.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},B),re.addBinding({key:z.keys.DELETE},{collapsed:!0},F)):(re.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),re.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),re.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},N),re.addBinding({key:z.keys.DELETE},{collapsed:!1},N),re.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),re.listen(),re}return a(z,[{key:"addBinding",value:function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ee=$(X);if(Ee==null||Ee.key==null)return V.warn("Attempted to add invalid keyboard binding",Ee);typeof re=="function"&&(re={handler:re}),typeof pe=="function"&&(pe={handler:pe}),Ee=(0,m.default)(Ee,re,pe),this.bindings[Ee.key]=this.bindings[Ee.key]||[],this.bindings[Ee.key].push(Ee)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(re){if(!re.defaultPrevented){var pe=re.which||re.keyCode,Ee=(X.bindings[pe]||[]).filter(function(Xe){return z.match(re,Xe)});if(Ee.length!==0){var Te=X.quill.getSelection();if(!(Te==null||!X.quill.hasFocus())){var Oe=X.quill.getLine(Te.index),Ne=s(Oe,2),_t=Ne[0],Qe=Ne[1],te=X.quill.getLeaf(Te.index),ne=s(te,2),ce=ne[0],de=ne[1],se=Te.length===0?[ce,de]:X.quill.getLeaf(Te.index+Te.length),Pe=s(se,2),Se=Pe[0],Ie=Pe[1],Fe=ce instanceof w.default.Text?ce.value().slice(0,de):"",Ye=Se instanceof w.default.Text?Se.value().slice(Ie):"",He={collapsed:Te.length===0,empty:Te.length===0&&_t.length()<=1,format:X.quill.getFormat(Te),offset:Qe,prefix:Fe,suffix:Ye},Wi=Ee.some(function(Xe){if(Xe.collapsed!=null&&Xe.collapsed!==He.collapsed||Xe.empty!=null&&Xe.empty!==He.empty||Xe.offset!=null&&Xe.offset!==He.offset)return!1;if(Array.isArray(Xe.format)){if(Xe.format.every(function(An){return He.format[An]==null}))return!1}else if(o(Xe.format)==="object"&&!Object.keys(Xe.format).every(function(An){return Xe.format[An]===!0?He.format[An]!=null:Xe.format[An]===!1?He.format[An]==null:(0,f.default)(Xe.format[An],He.format[An])}))return!1;return Xe.prefix!=null&&!Xe.prefix.test(He.prefix)||Xe.suffix!=null&&!Xe.suffix.test(He.suffix)?!1:Xe.handler.call(X,Te,He)!==!0});Wi&&re.preventDefault()}}}})}}]),z}(P.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(z,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,J){J.format.indent!=null?this.quill.format("indent","-1",O.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,O.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(z){this.quill.history.cutoff();var J=new v.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(J,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,O.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,J){this.quill.format("list",!1,O.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var J=this.quill.getLine(z.index),X=s(J,2),re=X[0],pe=X[1],Ee=(0,m.default)({},re.formats(),{list:"checked"}),Te=new v.default().retain(z.index).insert(`
`,Ee).retain(re.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Te,O.default.sources.USER),this.quill.setSelection(z.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,J){var X=this.quill.getLine(z.index),re=s(X,2),pe=re[0],Ee=re[1],Te=new v.default().retain(z.index).insert(`
`,J.format).retain(pe.length()-Ee-1).retain(1,{header:null});this.quill.updateContents(Te,O.default.sources.USER),this.quill.setSelection(z.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,J){var X=J.prefix.length,re=this.quill.getLine(z.index),pe=s(re,2),Ee=pe[0],Te=pe[1];if(Te>X)return!0;var Oe=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":Oe="unchecked";break;case"[x]":Oe="checked";break;case"-":case"*":Oe="bullet";break;default:Oe="ordered"}this.quill.insertText(z.index," ",O.default.sources.USER),this.quill.history.cutoff();var Ne=new v.default().retain(z.index-Te).delete(X+1).retain(Ee.length()-2-Te).retain(1,{list:Oe});this.quill.updateContents(Ne,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-X,O.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var J=this.quill.getLine(z.index),X=s(J,2),re=X[0],pe=X[1],Ee=new v.default().retain(z.index+re.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ee,O.default.sources.USER)}},"embed left":G(K.keys.LEFT,!1),"embed left shift":G(K.keys.LEFT,!0),"embed right":G(K.keys.RIGHT,!1),"embed right shift":G(K.keys.RIGHT,!0)}};function G(j,z){var J,X=j===K.keys.LEFT?"prefix":"suffix";return J={key:j,shiftKey:z,altKey:null},S(J,X,/^$/),S(J,"handler",function(pe){var Ee=pe.index;j===K.keys.RIGHT&&(Ee+=pe.length+1);var Te=this.quill.getLeaf(Ee),Oe=s(Te,1),Ne=Oe[0];return Ne instanceof w.default.Embed?(j===K.keys.LEFT?z?this.quill.setSelection(pe.index-1,pe.length+1,O.default.sources.USER):this.quill.setSelection(pe.index-1,O.default.sources.USER):z?this.quill.setSelection(pe.index,pe.length+1,O.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,O.default.sources.USER),!1):!0}),J}function B(j,z){if(!(j.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(j.index),X=s(J,1),re=X[0],pe={};if(z.offset===0){var Ee=this.quill.getLine(j.index-1),Te=s(Ee,1),Oe=Te[0];if(Oe!=null&&Oe.length()>1){var Ne=re.formats(),_t=this.quill.getFormat(j.index-1,1);pe=g.default.attributes.diff(Ne,_t)||{}}}var Qe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(j.index-Qe,Qe,O.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(j.index-Qe,Qe,pe,O.default.sources.USER),this.quill.focus()}}function F(j,z){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(j.index>=this.quill.getLength()-J)){var X={},re=0,pe=this.quill.getLine(j.index),Ee=s(pe,1),Te=Ee[0];if(z.offset>=Te.length()-1){var Oe=this.quill.getLine(j.index+1),Ne=s(Oe,1),_t=Ne[0];if(_t){var Qe=Te.formats(),te=this.quill.getFormat(j.index,1);X=g.default.attributes.diff(Qe,te)||{},re=_t.length()}}this.quill.deleteText(j.index,J,O.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(j.index+re-1,J,X,O.default.sources.USER)}}function N(j){var z=this.quill.getLines(j),J={};if(z.length>1){var X=z[0].formats(),re=z[z.length-1].formats();J=g.default.attributes.diff(re,X)||{}}this.quill.deleteText(j,O.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(j.index,1,J,O.default.sources.USER),this.quill.setSelection(j.index,O.default.sources.SILENT),this.quill.focus()}function M(j,z){var J=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var X=Object.keys(z.format).reduce(function(re,pe){return w.default.query(pe,w.default.Scope.BLOCK)&&!Array.isArray(z.format[pe])&&(re[pe]=z.format[pe]),re},{});this.quill.insertText(j.index,`
`,X,O.default.sources.USER),this.quill.setSelection(j.index+1,O.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(re){X[re]==null&&(Array.isArray(z.format[re])||re!=="link"&&J.quill.format(re,z.format[re],O.default.sources.USER))})}function U(j){return{key:K.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(J){var X=w.default.query("code-block"),re=J.index,pe=J.length,Ee=this.quill.scroll.descendant(X,re),Te=s(Ee,2),Oe=Te[0],Ne=Te[1];if(Oe!=null){var _t=this.quill.getIndex(Oe),Qe=Oe.newlineIndex(Ne,!0)+1,te=Oe.newlineIndex(_t+Ne+pe),ne=Oe.domNode.textContent.slice(Qe,te).split(`
`);Ne=0,ne.forEach(function(ce,de){j?(Oe.insertAt(Qe+Ne,X.TAB),Ne+=X.TAB.length,de===0?re+=X.TAB.length:pe+=X.TAB.length):ce.startsWith(X.TAB)&&(Oe.deleteAt(Qe+Ne,X.TAB.length),Ne-=X.TAB.length,de===0?re-=X.TAB.length:pe-=X.TAB.length),Ne+=ce.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(re,pe,O.default.sources.SILENT)}}}}function Q(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(J,X){this.quill.format(j,!X.format[j],O.default.sources.USER)}}}function $(j){if(typeof j=="string"||typeof j=="number")return $({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(K.keys[j.key.toUpperCase()]!=null)j.key=K.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[H]=j.shortKey,delete j.shortKey),j}r.default=K,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,w){var _=[],O=!0,C=!1,A=void 0;try{for(var b=p[Symbol.iterator](),P;!(O=(P=b.next()).done)&&(_.push(P.value),!(w&&_.length===w));O=!0);}catch(T){C=!0,A=T}finally{try{!O&&b.return&&b.return()}finally{if(C)throw A}}return _}return function(p,w){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(p,w,_){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,w);if(O===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:g(C,w,_)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(_)}},a=function(){function g(p,w){for(var _=0;_<w.length;_++){var O=w[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,w,_){return w&&g(p.prototype,w),_&&g(p,_),p}}(),l=i(0),u=h(l),d=i(7),f=h(d);function h(g){return g&&g.__esModule?g:{default:g}}function m(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function y(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function v(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var E=function(g){v(p,g),a(p,null,[{key:"value",value:function(){}}]);function p(w,_){m(this,p);var O=y(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return O.selection=_,O.textNode=document.createTextNode(p.CONTENTS),O.domNode.appendChild(O.textNode),O._length=0,O}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(_,O){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,_,O);for(var C=this,A=0;C!=null&&C.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=p.CONTENTS.length,C.optimize(),C.formatAt(A,p.CONTENTS.length,_,O),this._length=0)}},{key:"index",value:function(_,O){return _===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,_,O)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var _=this.textNode,O=this.selection.getNativeRange(),C=void 0,A=void 0,b=void 0;if(O!=null&&O.start.node===_&&O.end.node===_){var P=[_,O.start.offset,O.end.offset];C=P[0],A=P[1],b=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof f.default?(C=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var S=[A,b].map(function(k){return Math.max(0,Math.min(C.data.length,k-1))}),R=o(S,2);return A=R[0],b=R[1],{startNode:C,startOffset:A,endNode:C,endOffset:b}}}}},{key:"update",value:function(_,O){var C=this;if(_.some(function(b){return b.type==="characterData"&&b.target===C.textNode})){var A=this.restore();A&&(O.range=A)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){h(v,y);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(g,p){for(var w=0;w<p.length;w++){var _=p[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,p,w){return p&&E(g.prototype,p),w&&E(g,w),g}}(),s=function E(g,p,w){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,p);if(_===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:E(O,p,w)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(w)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function d(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function f(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function h(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var m=function(E){h(g,E);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(w){var _=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w);return _.startsWith("rgb(")?(_=_.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+_.split(",").map(function(O){return("00"+parseInt(O).toString(16)).slice(-2)}).join("")):_}}]),g}(l.default.Attributor.Style),y=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=y,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(E,g){for(var p=0;p<g.length;p++){var w=g[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,g,p){return g&&v(E.prototype,g),p&&v(E,p),E}}(),s=function v(E,g,p){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,g);if(w===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:v(_,g,p)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function f(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function h(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var m=function(v){h(E,v);function E(){return d(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(p,w){if(p!==this.statics.blotName||!w)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,p,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(p){var w=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,p);return p=this.sanitize(p),w.setAttribute("href",p),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return y(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),E}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function y(v,E){var g=document.createElement("a");g.href=v;var p=g.href.slice(0,g.href.indexOf(":"));return E.indexOf(p)>-1}r.default=m,r.sanitize=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(g,p){for(var w=0;w<p.length;w++){var _=p[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,p,w){return p&&E(g.prototype,p),w&&E(g,w),g}}(),a=i(23),l=f(a),u=i(107),d=f(u);function f(E){return E&&E.__esModule?E:{default:E}}function h(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}var m=0;function y(E,g){E.setAttribute(g,E.getAttribute(g)!=="true")}var v=function(){function E(g){var p=this;h(this,E),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),y(this.label,"aria-expanded"),y(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var w=this,_=document.createElement("span");return _.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item"),p.hasAttribute("value")&&_.setAttribute("data-value",p.getAttribute("value")),p.textContent&&_.setAttribute("data-label",p.textContent),_.addEventListener("click",function(){w.selectItem(_,!0)}),_.addEventListener("keydown",function(O){switch(O.keyCode){case l.default.keys.ENTER:w.selectItem(_,!0),O.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),O.preventDefault();break}}),_}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=d.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(_){var O=p.buildItem(_);w.appendChild(O),_.selected===!0&&p.selectItem(O)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(w){p.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,_=this.container.querySelector(".ql-selected");if(p!==_&&(_!=null&&_.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var O=document.createEvent("Event");O.initEvent("change",!0,!0),this.select.dispatchEvent(O)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var _=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}}]),E}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=V(o),a=i(5),l=V(a),u=i(4),d=V(u),f=i(16),h=V(f),m=i(25),y=V(m),v=i(24),E=V(v),g=i(35),p=V(g),w=i(6),_=V(w),O=i(22),C=V(O),A=i(7),b=V(A),P=i(55),T=V(P),S=i(42),R=V(S),k=i(23),L=V(k);function V(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":y.default,"blots/cursor":E.default,"blots/embed":p.default,"blots/inline":_.default,"blots/scroll":C.default,"blots/text":b.default,"modules/clipboard":T.default,"modules/history":R.default,"modules/keyboard":L.default}),s.default.register(d.default,h.default,E.default,_.default,C.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var d=this.isolate(l,u);d.remove()},a.prototype.formatAt=function(l,u,d,f){var h=this.isolate(l,u);if(o.query(d,o.Scope.BLOT)!=null&&f)h.wrap(d,f);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var m=o.create(this.statics.scope);h.wrap(m),m.format(d,f)}},a.prototype.insertAt=function(l,u,d){var f=d==null?o.create("text",u):o.create(u,d),h=this.split(l);this.parent.insertBefore(f,h)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var d=this.split(l);return d.split(u),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var d=typeof l=="string"?o.create(l,u):l;return d.replace(this),d},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var d=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var h=o.default.keys(this.domNode),m=s.default.keys(this.domNode),y=a.default.keys(this.domNode);h.concat(m).concat(y).forEach(function(v){var E=l.query(v,l.Scope.ATTRIBUTE);E instanceof o.default&&(f.attributes[E.attrName]=E)})},d.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(m){var y=h.attributes[m].value(h.domNode);f.format(m,y)})},d.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){h.attributes[m].remove(h.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,m){return h[m]=f.attributes[m].value(f.domNode),h},{})},d}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(d+"-")===0})}var l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},d.prototype.remove=function(f){var h=a(f,this.keyName);h.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var h=a(f,this.keyName)[0]||"",m=h.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var d=u.split("-"),f=d.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return d[0]+f}var l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var m=h.split(":");return m[0].trim()})},d.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[a(this.keyName)]=h,!0):!1},d.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var h=f.style[a(this.keyName)];return this.canAdd(f,h)?h:""},d}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,d){s(this,l),this.quill=u,this.options=d,this.modules={}}return o(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,w){for(var _=0;_<w.length;_++){var O=w[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,w,_){return w&&g(p.prototype,w),_&&g(p,_),p}}(),s=function g(p,w,_){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,w);if(O===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:g(C,w,_)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(_)}},a=i(0),l=f(a),u=i(7),d=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function m(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function y(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var v="\uFEFF",E=function(g){y(p,g);function p(w){h(this,p);var _=m(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return _.contentNode=document.createElement("span"),_.contentNode.setAttribute("contenteditable",!1),[].slice.call(_.domNode.childNodes).forEach(function(O){_.contentNode.appendChild(O)}),_.leftGuard=document.createTextNode(v),_.rightGuard=document.createTextNode(v),_.domNode.appendChild(_.leftGuard),_.domNode.appendChild(_.contentNode),_.domNode.appendChild(_.rightGuard),_}return o(p,[{key:"index",value:function(_,O){return _===this.leftGuard?0:_===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,_,O)}},{key:"restore",value:function(_){var O=void 0,C=void 0,A=_.data.split(v).join("");if(_===this.leftGuard)if(this.prev instanceof d.default){var b=this.prev.length();this.prev.insertAt(b,A),O={startNode:this.prev.domNode,startOffset:b+A.length}}else C=document.createTextNode(A),this.parent.insertBefore(l.default.create(C),this),O={startNode:C,startOffset:A.length};else _===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,A),O={startNode:this.next.domNode,startOffset:A.length}):(C=document.createTextNode(A),this.parent.insertBefore(l.default.create(C),this.next),O={startNode:C,startOffset:A.length}));return _.data=v,O}},{key:"update",value:function(_,O){var C=this;_.forEach(function(A){if(A.type==="characterData"&&(A.target===C.leftGuard||A.target===C.rightGuard)){var b=C.restore(A.target);b&&(O.range=b)}})}}]),p}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(p,w){for(var _=0;_<w.length;_++){var O=w[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,w,_){return w&&g(p.prototype,w),_&&g(p,_),p}}(),s=function g(p,w,_){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,w);if(O===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:g(C,w,_)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(_)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function h(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},y=new l.default.Attributor.Class("font","ql-font",m),v=function(g){h(p,g);function p(){return d(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(_){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,_).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),E=new v("font","font-family",m);r.FontStyle=E,r.FontClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function w(_,O){for(var C=0;C<O.length;C++){var A=O[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,O,C){return O&&w(_.prototype,O),C&&w(_,C),_}}(),s=i(0),a=h(s),l=i(5),u=h(l),d=i(9),f=h(d);function h(w){return w&&w.__esModule?w:{default:w}}function m(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function y(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function v(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var E=function(w){v(_,w);function _(O,C){m(this,_);var A=y(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,C));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(b,P,T,S){b!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||S===u.default.sources.USER?A.record(P,T):A.transform(P))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return o(_,[{key:"change",value:function(C,A){if(this.stack[C].length!==0){var b=this.stack[C].pop();this.stack[A].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[C],u.default.sources.USER),this.ignoreChange=!1;var P=p(b[C]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,A){if(C.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(A),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var T=this.stack.undo.pop();b=b.compose(T.undo),C=T.redo.compose(C)}else this.lastRecorded=P;this.stack.undo.push({redo:C,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(A){A.undo=C.transform(A.undo,!0),A.redo=C.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=C.transform(A.undo,!0),A.redo=C.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),_}(f.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(w){var _=w.ops[w.ops.length-1];return _==null?!1:_.insert!=null?typeof _.insert=="string"&&_.insert.endsWith(`
`):_.attributes!=null?Object.keys(_.attributes).some(function(O){return a.default.query(O,a.default.Scope.BLOCK)!=null}):!1}function p(w){var _=w.reduce(function(C,A){return C+=A.delete||0,C},0),O=w.length()-_;return g(w)&&(O-=1),O}r.default=E,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(U,Q){for(var $=0;$<Q.length;$++){var j=Q[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(U,j.key,j)}}return function(U,Q,$){return Q&&M(U.prototype,Q),$&&M(U,$),U}}(),s=function M(U,Q,$){U===null&&(U=Function.prototype);var j=Object.getOwnPropertyDescriptor(U,Q);if(j===void 0){var z=Object.getPrototypeOf(U);return z===null?void 0:M(z,Q,$)}else{if("value"in j)return j.value;var J=j.get;return J===void 0?void 0:J.call($)}},a=i(3),l=P(a),u=i(2),d=P(u),f=i(8),h=P(f),m=i(23),y=P(m),v=i(34),E=P(v),g=i(59),p=P(g),w=i(60),_=P(w),O=i(28),C=P(O),A=i(61),b=P(A);function P(M){return M&&M.__esModule?M:{default:M}}function T(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}function S(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:M}function R(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}var k=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V=[!1,"serif","monospace"],H=["1","2","3",!1],K=["small",!1,"large","huge"],G=function(M){R(U,M);function U(Q,$){T(this,U);var j=S(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Q,$)),z=function J(X){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",J);j.tooltip!=null&&!j.tooltip.root.contains(X.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(re){re.container.contains(X.target)||re.close()})};return Q.emitter.listenDOM("click",document.body,z),j}return o(U,[{key:"addModule",value:function($){var j=s(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,$);return $==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function($,j){$.forEach(function(z){var J=z.getAttribute("class")||"";J.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),j[X]!=null))if(X==="direction")z.innerHTML=j[X][""]+j[X].rtl;else if(typeof j[X]=="string")z.innerHTML=j[X];else{var re=z.value||"";re!=null&&j[X][re]&&(z.innerHTML=j[X][re])}})})}},{key:"buildPickers",value:function($,j){var z=this;this.pickers=$.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&N(X,k),new _.default(X,j.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var re=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&N(X,L,re==="background"?"#ffffff":"#000000"),new p.default(X,j[re])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?N(X,V):X.classList.contains("ql-header")?N(X,H):X.classList.contains("ql-size")&&N(X,K)),new C.default(X)});var J=function(){z.pickers.forEach(function(re){re.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,J)}}]),U}(E.default);G.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var $=new FileReader;$.onload=function(j){var z=U.quill.getSelection(!0);U.quill.updateContents(new d.default().retain(z.index).delete(z.length).insert({image:j.target.result}),h.default.sources.USER),U.quill.setSelection(z.index+1,h.default.sources.SILENT),Q.value=""},$.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(M){R(U,M);function U(Q,$){T(this,U);var j=S(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Q,$));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(U,[{key:"listen",value:function(){var $=this;this.textbox.addEventListener("keydown",function(j){y.default.match(j,"enter")?($.save(),j.preventDefault()):y.default.match(j,"escape")&&($.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:$!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+$)||""),this.root.setAttribute("data-mode",$)}},{key:"restoreFocus",value:function(){var $=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=$}},{key:"save",value:function(){var $=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",$,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",$,h.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":$=F($);case"formula":{if(!$)break;var z=this.quill.getSelection(!0);if(z!=null){var J=z.index+z.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),$,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",h.default.sources.USER),this.quill.setSelection(J+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(b.default);function F(M){var U=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":M}function N(M,U){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function($){var j=document.createElement("option");$===Q?j.setAttribute("selected","selected"):j.setAttribute("value",$),M.appendChild(j)})}r.BaseTooltip=B,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var d=this.find(a),f=d[0],h=d[1],m,y=a-h,v=this.iterator(f);(m=v())&&y<a+l;){var E=m.length();a>y?u(m,a-y,Math.min(l,y+E-a)):u(m,0,Math.min(E,a+l-y)),y+=E}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,d=this.iterator();u=d();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,m){h.__proto__=m}||function(h,m){for(var y in m)m.hasOwnProperty(y)&&(h[y]=m[y])};return function(h,m){f(h,m);function y(){this.constructor=h}h.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){o(h,f);function h(m){var y=f.call(this,m)||this;return y.scroll=y,y.observer=new MutationObserver(function(v){y.update(v)}),y.observer.observe(y.domNode,l),y.attach(),y}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(m,y){this.update(),m===0&&y===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,m,y)},h.prototype.formatAt=function(m,y,v,E){this.update(),f.prototype.formatAt.call(this,m,y,v,E)},h.prototype.insertAt=function(m,y,v){this.update(),f.prototype.insertAt.call(this,m,y,v)},h.prototype.optimize=function(m,y){var v=this;m===void 0&&(m=[]),y===void 0&&(y={}),f.prototype.optimize.call(this,y);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)m.push(E.pop());for(var g=function(O,C){C===void 0&&(C=!0),!(O==null||O===v)&&O.domNode.parentNode!=null&&(O.domNode[a.DATA_KEY].mutations==null&&(O.domNode[a.DATA_KEY].mutations=[]),C&&g(O.parent))},p=function(O){O.domNode[a.DATA_KEY]==null||O.domNode[a.DATA_KEY].mutations==null||(O instanceof s.default&&O.children.forEach(p),O.optimize(y))},w=m,_=0;w.length>0;_+=1){if(_>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(O){var C=a.find(O.target,!0);C!=null&&(C.domNode===O.target&&(O.type==="childList"?(g(a.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(A){var b=a.find(A,!1);g(b,!1),b instanceof s.default&&b.children.forEach(function(P){g(P,!1)})})):O.type==="attributes"&&g(C.prev)),g(C))}),this.children.forEach(p),w=[].slice.call(this.observer.takeRecords()),E=w.slice();E.length>0;)m.push(E.pop())}},h.prototype.update=function(m,y){var v=this;y===void 0&&(y={}),m=m||this.observer.takeRecords(),m.map(function(E){var g=a.find(E.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[E],g):(g.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===v||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],y)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,y),this.optimize(m,y)},h.blotName="scroll",h.defaultChild="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var m in h)h.hasOwnProperty(m)&&(f[m]=h[m])};return function(f,h){d(f,h);function m(){this.constructor=f}f.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var h in d)if(d[h]!==f[h])return!1;return!0}var u=function(d){o(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return d.formats.call(this,h)},f.prototype.format=function(h,m){var y=this;h===this.statics.blotName&&!m?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(f.blotName,!0)),y.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,h,m)},f.prototype.formatAt=function(h,m,y,v){if(this.formats()[y]!=null||a.query(y,a.Scope.ATTRIBUTE)){var E=this.isolate(h,m);E.format(y,v)}else d.prototype.formatAt.call(this,h,m,y,v)},f.prototype.optimize=function(h){d.prototype.optimize.call(this,h);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var y=this.next;y instanceof f&&y.prev===this&&l(m,y.formats())&&(y.moveChildren(this),y.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var h=a.query(d.blotName).tagName;if(f.tagName!==h)return u.formats.call(this,f)},d.prototype.format=function(f,h){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(d.blotName):u.prototype.format.call(this,f,h))},d.prototype.formatAt=function(f,h,m,y){a.query(m,a.Scope.BLOCK)!=null?this.format(m,y):u.prototype.formatAt.call(this,f,h,m,y)},d.prototype.insertAt=function(f,h,m){if(m==null||a.query(h,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,h,m);else{var y=this.split(f),v=a.create(h,m);y.parent.insertBefore(v,y)}},d.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,h)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){l(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){l.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,h,m){d===0&&f===this.length()?this.format(h,m):l.prototype.formatAt.call(this,d,f,h,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)f.hasOwnProperty(h)&&(d[h]=f[h])};return function(d,f){u(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(d,u);function d(f){var h=u.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},d.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},d.prototype.index=function(f,h){return this.domNode===f?h:-1},d.prototype.insertAt=function(f,h,m){m==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,h,m)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,h){return[this.domNode,f]},d.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},d.prototype.update=function(f,h){var m=this;f.some(function(y){return y.type==="characterData"&&y.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var d=u.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],h,m=0;m<d;m++)if(h=u[m],l.call(f,h,m,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(_,O,C){if(_==O)return _?[[s,_]]:[];(C<0||_.length<C)&&(C=null);var A=f(_,O),b=_.substring(0,A);_=_.substring(A),O=O.substring(A),A=h(_,O);var P=_.substring(_.length-A);_=_.substring(0,_.length-A),O=O.substring(0,O.length-A);var T=l(_,O);return b&&T.unshift([s,b]),P&&T.push([s,P]),y(T),C!=null&&(T=g(T,C)),T=p(T),T}function l(_,O){var C;if(!_)return[[o,O]];if(!O)return[[i,_]];var A=_.length>O.length?_:O,b=_.length>O.length?O:_,P=A.indexOf(b);if(P!=-1)return C=[[o,A.substring(0,P)],[s,b],[o,A.substring(P+b.length)]],_.length>O.length&&(C[0][0]=C[2][0]=i),C;if(b.length==1)return[[i,_],[o,O]];var T=m(_,O);if(T){var S=T[0],R=T[1],k=T[2],L=T[3],V=T[4],H=a(S,k),K=a(R,L);return H.concat([[s,V]],K)}return u(_,O)}function u(_,O){for(var C=_.length,A=O.length,b=Math.ceil((C+A)/2),P=b,T=2*b,S=new Array(T),R=new Array(T),k=0;k<T;k++)S[k]=-1,R[k]=-1;S[P+1]=0,R[P+1]=0;for(var L=C-A,V=L%2!=0,H=0,K=0,G=0,B=0,F=0;F<b;F++){for(var N=-F+H;N<=F-K;N+=2){var M=P+N,U;N==-F||N!=F&&S[M-1]<S[M+1]?U=S[M+1]:U=S[M-1]+1;for(var Q=U-N;U<C&&Q<A&&_.charAt(U)==O.charAt(Q);)U++,Q++;if(S[M]=U,U>C)K+=2;else if(Q>A)H+=2;else if(V){var $=P+L-N;if($>=0&&$<T&&R[$]!=-1){var j=C-R[$];if(U>=j)return d(_,O,U,Q)}}}for(var z=-F+G;z<=F-B;z+=2){var $=P+z,j;z==-F||z!=F&&R[$-1]<R[$+1]?j=R[$+1]:j=R[$-1]+1;for(var J=j-z;j<C&&J<A&&_.charAt(C-j-1)==O.charAt(A-J-1);)j++,J++;if(R[$]=j,j>C)B+=2;else if(J>A)G+=2;else if(!V){var M=P+L-z;if(M>=0&&M<T&&S[M]!=-1){var U=S[M],Q=P+U-M;if(j=C-j,U>=j)return d(_,O,U,Q)}}}}return[[i,_],[o,O]]}function d(_,O,C,A){var b=_.substring(0,C),P=O.substring(0,A),T=_.substring(C),S=O.substring(A),R=a(b,P),k=a(T,S);return R.concat(k)}function f(_,O){if(!_||!O||_.charAt(0)!=O.charAt(0))return 0;for(var C=0,A=Math.min(_.length,O.length),b=A,P=0;C<b;)_.substring(P,b)==O.substring(P,b)?(C=b,P=C):A=b,b=Math.floor((A-C)/2+C);return b}function h(_,O){if(!_||!O||_.charAt(_.length-1)!=O.charAt(O.length-1))return 0;for(var C=0,A=Math.min(_.length,O.length),b=A,P=0;C<b;)_.substring(_.length-b,_.length-P)==O.substring(O.length-b,O.length-P)?(C=b,P=C):A=b,b=Math.floor((A-C)/2+C);return b}function m(_,O){var C=_.length>O.length?_:O,A=_.length>O.length?O:_;if(C.length<4||A.length*2<C.length)return null;function b(K,G,B){for(var F=K.substring(B,B+Math.floor(K.length/4)),N=-1,M="",U,Q,$,j;(N=G.indexOf(F,N+1))!=-1;){var z=f(K.substring(B),G.substring(N)),J=h(K.substring(0,B),G.substring(0,N));M.length<J+z&&(M=G.substring(N-J,N)+G.substring(N,N+z),U=K.substring(0,B-J),Q=K.substring(B+z),$=G.substring(0,N-J),j=G.substring(N+z))}return M.length*2>=K.length?[U,Q,$,j,M]:null}var P=b(C,A,Math.ceil(C.length/4)),T=b(C,A,Math.ceil(C.length/2)),S;if(!P&&!T)return null;T?P?S=P[4].length>T[4].length?P:T:S=T:S=P;var R,k,L,V;_.length>O.length?(R=S[0],k=S[1],L=S[2],V=S[3]):(L=S[0],V=S[1],R=S[2],k=S[3]);var H=S[4];return[R,k,L,V,H]}function y(_){_.push([s,""]);for(var O=0,C=0,A=0,b="",P="",T;O<_.length;)switch(_[O][0]){case o:A++,P+=_[O][1],O++;break;case i:C++,b+=_[O][1],O++;break;case s:C+A>1?(C!==0&&A!==0&&(T=f(P,b),T!==0&&(O-C-A>0&&_[O-C-A-1][0]==s?_[O-C-A-1][1]+=P.substring(0,T):(_.splice(0,0,[s,P.substring(0,T)]),O++),P=P.substring(T),b=b.substring(T)),T=h(P,b),T!==0&&(_[O][1]=P.substring(P.length-T)+_[O][1],P=P.substring(0,P.length-T),b=b.substring(0,b.length-T))),C===0?_.splice(O-A,C+A,[o,P]):A===0?_.splice(O-C,C+A,[i,b]):_.splice(O-C-A,C+A,[i,b],[o,P]),O=O-C-A+(C?1:0)+(A?1:0)+1):O!==0&&_[O-1][0]==s?(_[O-1][1]+=_[O][1],_.splice(O,1)):O++,A=0,C=0,b="",P="";break}_[_.length-1][1]===""&&_.pop();var S=!1;for(O=1;O<_.length-1;)_[O-1][0]==s&&_[O+1][0]==s&&(_[O][1].substring(_[O][1].length-_[O-1][1].length)==_[O-1][1]?(_[O][1]=_[O-1][1]+_[O][1].substring(0,_[O][1].length-_[O-1][1].length),_[O+1][1]=_[O-1][1]+_[O+1][1],_.splice(O-1,1),S=!0):_[O][1].substring(0,_[O+1][1].length)==_[O+1][1]&&(_[O-1][1]+=_[O+1][1],_[O][1]=_[O][1].substring(_[O+1][1].length)+_[O+1][1],_.splice(O+1,1),S=!0)),O++;S&&y(_)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function E(_,O){if(O===0)return[s,_];for(var C=0,A=0;A<_.length;A++){var b=_[A];if(b[0]===i||b[0]===s){var P=C+b[1].length;if(O===P)return[A+1,_];if(O<P){_=_.slice();var T=O-C,S=[b[0],b[1].slice(0,T)],R=[b[0],b[1].slice(T)];return _.splice(A,1,S,R),[A+1,_]}else C=P}}throw new Error("cursor_pos is out of bounds!")}function g(_,O){var C=E(_,O),A=C[1],b=C[0],P=A[b],T=A[b+1];if(P==null)return _;if(P[0]!==s)return _;if(T!=null&&P[1]+T[1]===T[1]+P[1])return A.splice(b,2,T,P),w(A,b,2);if(T!=null&&T[1].indexOf(P[1])===0){A.splice(b,2,[T[0],P[1]],[0,P[1]]);var S=T[1].slice(P[1].length);return S.length>0&&A.splice(b+2,0,[T[0],S]),w(A,b,3)}else return _}function p(_){for(var O=!1,C=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},A=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},b=2;b<_.length;b+=1)_[b-2][0]===s&&A(_[b-2][1])&&_[b-1][0]===i&&C(_[b-1][1])&&_[b][0]===o&&C(_[b][1])&&(O=!0,_[b-1][1]=_[b-2][1].slice(-1)+_[b-1][1],_[b][1]=_[b-2][1].slice(-1)+_[b][1],_[b-2][1]=_[b-2][1].slice(0,-1));if(!O)return _;for(var P=[],b=0;b<_.length;b+=1)_[b][1].length>0&&P.push(_[b]);return P}function w(_,O,C){for(var A=O+C-1;A>=0&&A>=O-1;A--)if(A+1<_.length){var b=_[A],P=_[A+1];b[0]===P[1]&&_.splice(A,2,[b[0],b[1]+P[1]])}return _}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,h;if(this._eventsCount===0)return d;for(h in f=this._events)i.call(f,h)&&d.push(o?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d,f){var h=o?o+d:d,m=this._events[h];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var y=0,v=m.length,E=new Array(v);y<v;y++)E[y]=m[y].fn;return E},l.prototype.emit=function(d,f,h,m,y,v){var E=o?o+d:d;if(!this._events[E])return!1;var g=this._events[E],p=arguments.length,w,_;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,h),!0;case 4:return g.fn.call(g.context,f,h,m),!0;case 5:return g.fn.call(g.context,f,h,m,y),!0;case 6:return g.fn.call(g.context,f,h,m,y,v),!0}for(_=1,w=new Array(p-1);_<p;_++)w[_-1]=arguments[_];g.fn.apply(g.context,w)}else{var O=g.length,C;for(_=0;_<O;_++)switch(g[_].once&&this.removeListener(d,g[_].fn,void 0,!0),p){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,f);break;case 3:g[_].fn.call(g[_].context,f,h);break;case 4:g[_].fn.call(g[_].context,f,h,m);break;default:if(!w)for(C=1,w=new Array(p-1);C<p;C++)w[C-1]=arguments[C];g[_].fn.apply(g[_].context,w)}}return!0},l.prototype.on=function(d,f,h){var m=new a(f,h||this),y=o?o+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],m]:this._events[y].push(m):(this._events[y]=m,this._eventsCount++),this},l.prototype.once=function(d,f,h){var m=new a(f,h||this,!0),y=o?o+d:d;return this._events[y]?this._events[y].fn?this._events[y]=[this._events[y],m]:this._events[y].push(m):(this._events[y]=m,this._eventsCount++),this},l.prototype.removeListener=function(d,f,h,m){var y=o?o+d:d;if(!this._events[y])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[y],this;var v=this._events[y];if(v.fn)v.fn===f&&(!m||v.once)&&(!h||v.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[y]);else{for(var E=0,g=[],p=v.length;E<p;E++)(v[E].fn!==f||m&&!v[E].once||h&&v[E].context!==h)&&g.push(v[E]);g.length?this._events[y]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[y]}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=o?o+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},s=function(){function te(ne,ce){var de=[],se=!0,Pe=!1,Se=void 0;try{for(var Ie=ne[Symbol.iterator](),Fe;!(se=(Fe=Ie.next()).done)&&(de.push(Fe.value),!(ce&&de.length===ce));se=!0);}catch(Ye){Pe=!0,Se=Ye}finally{try{!se&&Ie.return&&Ie.return()}finally{if(Pe)throw Se}}return de}return function(ne,ce){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return te(ne,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function te(ne,ce){for(var de=0;de<ce.length;de++){var se=ce[de];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ne,se.key,se)}}return function(ne,ce,de){return ce&&te(ne.prototype,ce),de&&te(ne,de),ne}}(),l=i(3),u=R(l),d=i(2),f=R(d),h=i(0),m=R(h),y=i(5),v=R(y),E=i(10),g=R(E),p=i(9),w=R(p),_=i(36),O=i(37),C=i(13),A=R(C),b=i(26),P=i(38),T=i(39),S=i(40);function R(te){return te&&te.__esModule?te:{default:te}}function k(te,ne,ce){return ne in te?Object.defineProperty(te,ne,{value:ce,enumerable:!0,configurable:!0,writable:!0}):te[ne]=ce,te}function L(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function V(te,ne){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:te}function H(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);te.prototype=Object.create(ne&&ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ne):te.__proto__=ne)}var K=(0,g.default)("quill:clipboard"),G="__ql-matcher",B=[[Node.TEXT_NODE,Qe],[Node.TEXT_NODE,Oe],["br",pe],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,Ne],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,_t],["li",Te],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",Ee]],F=[_.AlignAttribute,P.DirectionAttribute].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),N=[_.AlignStyle,O.BackgroundStyle,b.ColorStyle,P.DirectionStyle,T.FontStyle,S.SizeStyle].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),M=function(te){H(ne,te);function ne(ce,de){L(this,ne);var se=V(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,ce,de));return se.quill.root.addEventListener("paste",se.onPaste.bind(se)),se.container=se.quill.addContainer("ql-clipboard"),se.container.setAttribute("contenteditable",!0),se.container.setAttribute("tabindex",-1),se.matchers=[],B.concat(se.options.matchers).forEach(function(Pe){var Se=s(Pe,2),Ie=Se[0],Fe=Se[1];!de.matchVisual&&Fe===Ne||se.addMatcher(Ie,Fe)}),se}return a(ne,[{key:"addMatcher",value:function(de,se){this.matchers.push([de,se])}},{key:"convert",value:function(de){if(typeof de=="string")return this.container.innerHTML=de.replace(/\>\r?\n +\</g,"><"),this.convert();var se=this.quill.getFormat(this.quill.selection.savedRange.index);if(se[A.default.blotName]){var Pe=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Pe,k({},A.default.blotName,se[A.default.blotName]))}var Se=this.prepareMatching(),Ie=s(Se,2),Fe=Ie[0],Ye=Ie[1],He=z(this.container,Fe,Ye);return $(He,`
`)&&He.ops[He.ops.length-1].attributes==null&&(He=He.compose(new f.default().retain(He.length()-1).delete(1))),K.log("convert",this.container.innerHTML,He),this.container.innerHTML="",He}},{key:"dangerouslyPasteHTML",value:function(de,se){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof de=="string")this.quill.setContents(this.convert(de),se),this.quill.setSelection(0,v.default.sources.SILENT);else{var Se=this.convert(se);this.quill.updateContents(new f.default().retain(de).concat(Se),Pe),this.quill.setSelection(de+Se.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(de){var se=this;if(!(de.defaultPrevented||!this.quill.isEnabled())){var Pe=this.quill.getSelection(),Se=new f.default().retain(Pe.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Se=Se.concat(se.convert()).delete(Pe.length),se.quill.updateContents(Se,v.default.sources.USER),se.quill.setSelection(Se.length()-Pe.length,v.default.sources.SILENT),se.quill.scrollingContainer.scrollTop=Ie,se.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var de=this,se=[],Pe=[];return this.matchers.forEach(function(Se){var Ie=s(Se,2),Fe=Ie[0],Ye=Ie[1];switch(Fe){case Node.TEXT_NODE:Pe.push(Ye);break;case Node.ELEMENT_NODE:se.push(Ye);break;default:[].forEach.call(de.container.querySelectorAll(Fe),function(He){He[G]=He[G]||[],He[G].push(Ye)});break}}),[se,Pe]}}]),ne}(w.default);M.DEFAULTS={matchers:[],matchVisual:!0};function U(te,ne,ce){return(typeof ne>"u"?"undefined":o(ne))==="object"?Object.keys(ne).reduce(function(de,se){return U(de,se,ne[se])},te):te.reduce(function(de,se){return se.attributes&&se.attributes[ne]?de.push(se):de.insert(se.insert,(0,u.default)({},k({},ne,ce),se.attributes))},new f.default)}function Q(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return te[ne]||(te[ne]=window.getComputedStyle(te))}function $(te,ne){for(var ce="",de=te.ops.length-1;de>=0&&ce.length<ne.length;--de){var se=te.ops[de];if(typeof se.insert!="string")break;ce=se.insert+ce}return ce.slice(-1*ne.length)===ne}function j(te){if(te.childNodes.length===0)return!1;var ne=Q(te);return["block","list-item"].indexOf(ne.display)>-1}function z(te,ne,ce){return te.nodeType===te.TEXT_NODE?ce.reduce(function(de,se){return se(te,de)},new f.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(de,se){var Pe=z(se,ne,ce);return se.nodeType===te.ELEMENT_NODE&&(Pe=ne.reduce(function(Se,Ie){return Ie(se,Se)},Pe),Pe=(se[G]||[]).reduce(function(Se,Ie){return Ie(se,Se)},Pe)),de.concat(Pe)},new f.default):new f.default}function J(te,ne,ce){return U(ce,te,!0)}function X(te,ne){var ce=m.default.Attributor.Attribute.keys(te),de=m.default.Attributor.Class.keys(te),se=m.default.Attributor.Style.keys(te),Pe={};return ce.concat(de).concat(se).forEach(function(Se){var Ie=m.default.query(Se,m.default.Scope.ATTRIBUTE);Ie!=null&&(Pe[Ie.attrName]=Ie.value(te),Pe[Ie.attrName])||(Ie=F[Se],Ie!=null&&(Ie.attrName===Se||Ie.keyName===Se)&&(Pe[Ie.attrName]=Ie.value(te)||void 0),Ie=N[Se],Ie!=null&&(Ie.attrName===Se||Ie.keyName===Se)&&(Ie=N[Se],Pe[Ie.attrName]=Ie.value(te)||void 0))}),Object.keys(Pe).length>0&&(ne=U(ne,Pe)),ne}function re(te,ne){var ce=m.default.query(te);if(ce==null)return ne;if(ce.prototype instanceof m.default.Embed){var de={},se=ce.value(te);se!=null&&(de[ce.blotName]=se,ne=new f.default().insert(de,ce.formats(te)))}else typeof ce.formats=="function"&&(ne=U(ne,ce.blotName,ce.formats(te)));return ne}function pe(te,ne){return $(ne,`
`)||ne.insert(`
`),ne}function Ee(){return new f.default}function Te(te,ne){var ce=m.default.query(te);if(ce==null||ce.blotName!=="list-item"||!$(ne,`
`))return ne;for(var de=-1,se=te.parentNode;!se.classList.contains("ql-clipboard");)(m.default.query(se)||{}).blotName==="list"&&(de+=1),se=se.parentNode;return de<=0?ne:ne.compose(new f.default().retain(ne.length()-1).retain(1,{indent:de}))}function Oe(te,ne){return $(ne,`
`)||(j(te)||ne.length()>0&&te.nextSibling&&j(te.nextSibling))&&ne.insert(`
`),ne}function Ne(te,ne){if(j(te)&&te.nextElementSibling!=null&&!$(ne,`

`)){var ce=te.offsetHeight+parseFloat(Q(te).marginTop)+parseFloat(Q(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+ce*1.5&&ne.insert(`
`)}return ne}function _t(te,ne){var ce={},de=te.style||{};return de.fontStyle&&Q(te).fontStyle==="italic"&&(ce.italic=!0),de.fontWeight&&(Q(te).fontWeight.startsWith("bold")||parseInt(Q(te).fontWeight)>=700)&&(ce.bold=!0),Object.keys(ce).length>0&&(ne=U(ne,ce)),parseFloat(de.textIndent||0)>0&&(ne=new f.default().insert("	").concat(ne)),ne}function Qe(te,ne){var ce=te.data;if(te.parentNode.tagName==="O:P")return ne.insert(ce.trim());if(ce.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ne;if(!Q(te.parentNode).whiteSpace.startsWith("pre")){var de=function(Pe,Se){return Se=Se.replace(/[^\u00a0]/g,""),Se.length<1&&Pe?" ":Se};ce=ce.replace(/\r\n/g," ").replace(/\n/g," "),ce=ce.replace(/\s\s+/g,de.bind(de,!0)),(te.previousSibling==null&&j(te.parentNode)||te.previousSibling!=null&&j(te.previousSibling))&&(ce=ce.replace(/^\s+/,de.bind(de,!1))),(te.nextSibling==null&&j(te.parentNode)||te.nextSibling!=null&&j(te.nextSibling))&&(ce=ce.replace(/\s+$/,de.bind(de,!1)))}return ne.insert(ce)}r.default=M,r.matchAttributor=X,r.matchBlot=re,r.matchNewline=Oe,r.matchSpacing=Ne,r.matchText=Qe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var g=0;g<E.length;g++){var p=E[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,g){return E&&y(v.prototype,E),g&&y(v,g),v}}(),s=function y(v,E,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,g)}else{if("value"in p)return p.value;var _=p.get;return _===void 0?void 0:_.call(g)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){h(v,y);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(R,k){var L=[],V=!0,H=!1,K=void 0;try{for(var G=R[Symbol.iterator](),B;!(V=(B=G.next()).done)&&(L.push(B.value),!(k&&L.length===k));V=!0);}catch(F){H=!0,K=F}finally{try{!V&&G.return&&G.return()}finally{if(H)throw K}}return L}return function(R,k){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return S(R,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(R,k){for(var L=0;L<k.length;L++){var V=k[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,k,L){return k&&S(R.prototype,k),L&&S(R,L),R}}(),a=i(2),l=g(a),u=i(0),d=g(u),f=i(5),h=g(f),m=i(10),y=g(m),v=i(9),E=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function p(S,R,k){return R in S?Object.defineProperty(S,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[R]=k,S}function w(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function _(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function O(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var C=(0,y.default)("quill:toolbar"),A=function(S){O(R,S);function R(k,L){w(this,R);var V=_(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k,L));if(Array.isArray(V.options.container)){var H=document.createElement("div");P(H,V.options.container),k.container.parentNode.insertBefore(H,k.container),V.container=H}else typeof V.options.container=="string"?V.container=document.querySelector(V.options.container):V.container=V.options.container;if(!(V.container instanceof HTMLElement)){var K;return K=C.error("Container required for toolbar",V.options),_(V,K)}return V.container.classList.add("ql-toolbar"),V.controls=[],V.handlers={},Object.keys(V.options.handlers).forEach(function(G){V.addHandler(G,V.options.handlers[G])}),[].forEach.call(V.container.querySelectorAll("button, select"),function(G){V.attach(G)}),V.quill.on(h.default.events.EDITOR_CHANGE,function(G,B){G===h.default.events.SELECTION_CHANGE&&V.update(B)}),V.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var G=V.quill.selection.getRange(),B=o(G,1),F=B[0];V.update(F)}),V}return s(R,[{key:"addHandler",value:function(L,V){this.handlers[L]=V}},{key:"attach",value:function(L){var V=this,H=[].find.call(L.classList,function(G){return G.indexOf("ql-")===0});if(H){if(H=H.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){C.warn("ignoring attaching to disabled format",H,L);return}if(d.default.query(H)==null){C.warn("ignoring attaching to nonexistent format",H,L);return}}var K=L.tagName==="SELECT"?"change":"click";L.addEventListener(K,function(G){var B=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var F=L.options[L.selectedIndex];F.hasAttribute("selected")?B=!1:B=F.value||!1}else L.classList.contains("ql-active")?B=!1:B=L.value||!L.hasAttribute("value"),G.preventDefault();V.quill.focus();var N=V.quill.selection.getRange(),M=o(N,1),U=M[0];if(V.handlers[H]!=null)V.handlers[H].call(V,B);else if(d.default.query(H).prototype instanceof d.default.Embed){if(B=prompt("Enter "+H),!B)return;V.quill.updateContents(new l.default().retain(U.index).delete(U.length).insert(p({},H,B)),h.default.sources.USER)}else V.quill.format(H,B,h.default.sources.USER);V.update(U)}),this.controls.push([H,L])}}},{key:"update",value:function(L){var V=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(H){var K=o(H,2),G=K[0],B=K[1];if(B.tagName==="SELECT"){var F=void 0;if(L==null)F=null;else if(V[G]==null)F=B.querySelector("option[selected]");else if(!Array.isArray(V[G])){var N=V[G];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),F=B.querySelector('option[value="'+N+'"]')}F==null?(B.value="",B.selectedIndex=-1):F.selected=!0}else if(L==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var M=V[G]===B.getAttribute("value")||V[G]!=null&&V[G].toString()===B.getAttribute("value")||V[G]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",M)}else B.classList.toggle("ql-active",V[G]!=null)})}}]),R}(E.default);A.DEFAULTS={};function b(S,R,k){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),k!=null&&(L.value=k),S.appendChild(L)}function P(S,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(k){var L=document.createElement("span");L.classList.add("ql-formats"),k.forEach(function(V){if(typeof V=="string")b(L,V);else{var H=Object.keys(V)[0],K=V[H];Array.isArray(K)?T(L,H,K):b(L,H,K)}}),S.appendChild(L)})}function T(S,R,k){var L=document.createElement("select");L.classList.add("ql-"+R),k.forEach(function(V){var H=document.createElement("option");V!==!1?H.setAttribute("value",V):H.setAttribute("selected","selected"),L.appendChild(H)}),S.appendChild(L)}A.DEFAULTS={container:null,handlers:{clean:function(){var R=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(V){d.default.query(V,d.default.Scope.INLINE)!=null&&R.quill.format(V,!1)})}else this.quill.removeFormat(k,h.default.sources.USER)},direction:function(R){var k=this.quill.getFormat().align;R==="rtl"&&k==null?this.quill.format("align","right",h.default.sources.USER):!R&&k==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",R,h.default.sources.USER)},indent:function(R){var k=this.quill.getSelection(),L=this.quill.getFormat(k),V=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var H=R==="+1"?1:-1;L.direction==="rtl"&&(H*=-1),this.quill.format("indent",V+H,h.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,h.default.sources.USER)},list:function(R){var k=this.quill.getSelection(),L=this.quill.getFormat(k);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",R,h.default.sources.USER)}}},r.default=A,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var g=0;g<E.length;g++){var p=E[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,g){return E&&y(v.prototype,E),g&&y(v,g),v}}(),s=function y(v,E,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,g)}else{if("value"in p)return p.value;var _=p.get;return _===void 0?void 0:_.call(g)}},a=i(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){h(v,y);function v(E,g){d(this,v);var p=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(g){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p);var w=this.label.querySelector(".ql-color-label"),_=g&&g.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=_:w.style.fill=_)}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var g=0;g<E.length;g++){var p=E[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,g){return E&&y(v.prototype,E),g&&y(v,g),v}}(),s=function y(v,E,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,g)}else{if("value"in p)return p.value;var _=p.get;return _===void 0?void 0:_.call(g)}},a=i(28),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){h(v,y);function v(E,g){d(this,v);var p=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=g[w.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,d){for(var f=0;f<d.length;f++){var h=d[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,d){var f=this;s(this,l),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,h=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),y=this.root.getBoundingClientRect(),v=0;if(y.right>m.right&&(v=m.right-y.right,this.root.style.left=f+v+"px"),y.left<m.left&&(v=m.left-y.left,this.root.style.left=f+v+"px"),y.bottom>m.bottom){var E=y.bottom-y.top,g=d.bottom-d.top+E;this.root.style.top=h-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,R){var k=[],L=!0,V=!1,H=void 0;try{for(var K=S[Symbol.iterator](),G;!(L=(G=K.next()).done)&&(k.push(G.value),!(R&&k.length===R));L=!0);}catch(B){V=!0,H=B}finally{try{!L&&K.return&&K.return()}finally{if(V)throw H}}return k}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(S,R,k){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var V=Object.getPrototypeOf(S);return V===null?void 0:T(V,R,k)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(k)}},a=function(){function T(S,R){for(var k=0;k<R.length;k++){var L=R[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,k){return R&&T(S.prototype,R),k&&T(S,k),S}}(),l=i(3),u=w(l),d=i(8),f=w(d),h=i(43),m=w(h),y=i(27),v=w(y),E=i(15),g=i(41),p=w(g);function w(T){return T&&T.__esModule?T:{default:T}}function _(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function O(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function C(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(T){C(S,T);function S(R,k){_(this,S),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=A);var L=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,k));return L.quill.container.classList.add("ql-snow"),L}return a(S,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),p.default),this.tooltip=new P(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,V){k.handlers.link.call(k,!V.format.link)})}}]),S}(m.default);b.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var R=this.quill.getSelection();if(R==null||R.length==0)return;var k=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var L=this.quill.theme.tooltip;L.edit("link",k)}else this.quill.format("link",!1)}}}}});var P=function(T){C(S,T);function S(R,k){_(this,S);var L=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,k));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(S,[{key:"listen",value:function(){var k=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(k.linkRange!=null){var V=k.linkRange;k.restoreFocus(),k.quill.formatText(V,"link",!1,f.default.sources.USER),delete k.linkRange}L.preventDefault(),k.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(L,V,H){if(L!=null){if(L.length===0&&H===f.default.sources.USER){var K=k.quill.scroll.descendant(v.default,L.index),G=o(K,2),B=G[0],F=G[1];if(B!=null){k.linkRange=new E.Range(L.index-F,B.length());var N=v.default.formats(B.domNode);k.preview.textContent=N,k.preview.setAttribute("href",N),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(h.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=se(o),a=i(36),l=i(38),u=i(64),d=i(65),f=se(d),h=i(66),m=se(h),y=i(67),v=se(y),E=i(37),g=i(26),p=i(39),w=i(40),_=i(56),O=se(_),C=i(68),A=se(C),b=i(27),P=se(b),T=i(69),S=se(T),R=i(70),k=se(R),L=i(71),V=se(L),H=i(72),K=se(H),G=i(73),B=se(G),F=i(13),N=se(F),M=i(74),U=se(M),Q=i(75),$=se(Q),j=i(57),z=se(j),J=i(41),X=se(J),re=i(28),pe=se(re),Ee=i(59),Te=se(Ee),Oe=i(60),Ne=se(Oe),_t=i(61),Qe=se(_t),te=i(108),ne=se(te),ce=i(62),de=se(ce);function se(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":N.default,"formats/header":m.default,"formats/list":v.default,"formats/bold":O.default,"formats/code":F.Code,"formats/italic":A.default,"formats/link":P.default,"formats/script":S.default,"formats/strike":k.default,"formats/underline":V.default,"formats/image":K.default,"formats/video":B.default,"formats/list/item":y.ListItem,"modules/formula":U.default,"modules/syntax":$.default,"modules/toolbar":z.default,"themes/bubble":ne.default,"themes/snow":de.default,"ui/icons":X.default,"ui/picker":pe.default,"ui/icon-picker":Ne.default,"ui/color-picker":Te.default,"ui/tooltip":Qe.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(E,g){for(var p=0;p<g.length;p++){var w=g[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,g,p){return g&&v(E.prototype,g),p&&v(E,p),E}}(),s=function v(E,g,p){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,g);if(w===void 0){var _=Object.getPrototypeOf(E);return _===null?void 0:v(_,g,p)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function f(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function h(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var m=function(v){h(E,v);function E(){return d(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(p,w){if(w==="+1"||w==="-1"){var _=this.value(p)||0;w=w==="+1"?_+1:_-1}return w===0?(this.remove(p),!0):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,p,w)}},{key:"canAdd",value:function(p,w){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,w)||s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,parseInt(w))}},{key:"value",value:function(p){return parseInt(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,p))||void 0}}]),E}(l.default.Attributor.Class),y=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(y,v){for(var E=0;E<v.length;E++){var g=v[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,v,E){return v&&m(y.prototype,v),E&&m(y,E),y}}(),s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function d(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function f(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var h=function(m){f(y,m);function y(){return u(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),y}(a.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function _(O,C){for(var A=0;A<C.length;A++){var b=C[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return function(O,C,A){return C&&_(O.prototype,C),A&&_(O,A),O}}(),s=function _(O,C,A){O===null&&(O=Function.prototype);var b=Object.getOwnPropertyDescriptor(O,C);if(b===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:_(P,C,A)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(A)}},a=i(0),l=m(a),u=i(4),d=m(u),f=i(25),h=m(f);function m(_){return _&&_.__esModule?_:{default:_}}function y(_,O,C){return O in _?Object.defineProperty(_,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):_[O]=C,_}function v(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function E(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:_}function g(_,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var p=function(_){g(O,_);function O(){return v(this,O),E(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"format",value:function(A,b){A===w.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,A,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,b){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,b),this):(this.parent.unwrap(),s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,A,b))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(O.__proto__||Object.getPrototypeOf(O),"formats",this).call(this,A)}}]),O}(d.default);p.blotName="list-item",p.tagName="LI";var w=function(_){g(O,_),o(O,null,[{key:"create",value:function(A){var b=A==="ordered"?"OL":"UL",P=s(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,b);return(A==="checked"||A==="unchecked")&&P.setAttribute("data-checked",A==="checked"),P}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function O(C){v(this,O);var A=E(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C)),b=function(T){if(T.target.parentNode===C){var S=A.statics.formats(C),R=l.default.find(T.target);S==="checked"?R.format("list","unchecked"):S==="unchecked"&&R.format("list","checked")}};return C.addEventListener("touchstart",b),C.addEventListener("mousedown",b),A}return o(O,[{key:"format",value:function(A,b){this.children.length>0&&this.children.tail.format(A,b)}},{key:"formats",value:function(){return y({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,b){if(A instanceof p)s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,A,b);else{var P=b==null?this.length():b.offset(this),T=this.split(P);T.parent.insertBefore(A,T)}}},{key:"optimize",value:function(A){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);A.moveChildren(b),this.appendChild(b)}s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,A)}}]),O}(h.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[p],r.ListItem=p,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function y(v,E){for(var g=0;g<E.length;g++){var p=E[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,E,g){return E&&y(v.prototype,E),g&&y(v,g),v}}(),s=function y(v,E,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,E);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:y(w,E,g)}else{if("value"in p)return p.value;var _=p.get;return _===void 0?void 0:_.call(g)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:y}function h(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}var m=function(y){h(v,y);function v(){return d(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function u(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:h}function d(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}var f=function(h){d(m,h);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(g,p){for(var w=0;w<p.length;w++){var _=p[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,p,w){return p&&E(g.prototype,p),w&&E(g,w),g}}(),s=function E(g,p,w){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,p);if(_===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:E(O,p,w)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(w)}},a=i(0),l=d(a),u=i(27);function d(E){return E&&E.__esModule?E:{default:E}}function f(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function h(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function m(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var y=["alt","height","width"],v=function(E){m(g,E);function g(){return f(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(w,_){y.indexOf(w)>-1?_?this.domNode.setAttribute(w,_):this.domNode.removeAttribute(w):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,_)}}],[{key:"create",value:function(w){var _=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return typeof w=="string"&&_.setAttribute("src",this.sanitize(w)),_}},{key:"formats",value:function(w){return y.reduce(function(_,O){return w.hasAttribute(O)&&(_[O]=w.getAttribute(O)),_},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),g}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(g,p){for(var w=0;w<p.length;w++){var _=p[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,p,w){return p&&E(g.prototype,p),w&&E(g,w),g}}(),s=function E(g,p,w){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,p);if(_===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:E(O,p,w)}else{if("value"in _)return _.value;var C=_.get;return C===void 0?void 0:C.call(w)}},a=i(4),l=i(27),u=d(l);function d(E){return E&&E.__esModule?E:{default:E}}function f(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function h(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function m(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var y=["height","width"],v=function(E){m(g,E);function g(){return f(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(w,_){y.indexOf(w)>-1?_?this.domNode.setAttribute(w,_):this.domNode.removeAttribute(w):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,_)}}],[{key:"create",value:function(w){var _=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen",!0),_.setAttribute("src",this.sanitize(w)),_}},{key:"formats",value:function(w){return y.reduce(function(_,O){return w.hasAttribute(O)&&(_[O]=w.getAttribute(O)),_},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),g}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function w(_,O){for(var C=0;C<O.length;C++){var A=O[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,A.key,A)}}return function(_,O,C){return O&&w(_.prototype,O),C&&w(_,C),_}}(),s=function w(_,O,C){_===null&&(_=Function.prototype);var A=Object.getOwnPropertyDescriptor(_,O);if(A===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:w(b,O,C)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(C)}},a=i(35),l=m(a),u=i(5),d=m(u),f=i(9),h=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function y(w,_){if(!(w instanceof _))throw new TypeError("Cannot call a class as a function")}function v(w,_){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:w}function E(w,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);w.prototype=Object.create(_&&_.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(w,_):w.__proto__=_)}var g=function(w){E(_,w);function _(){return y(this,_),v(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"create",value:function(C){var A=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",C)),A}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),_}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(w){E(_,w),o(_,null,[{key:"register",value:function(){d.default.register(g,!0)}}]);function _(){y(this,_);var O=v(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return O}return _}(h.default);r.FormulaBlot=g,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function C(A,b){for(var P=0;P<b.length;P++){var T=b[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,b,P){return b&&C(A.prototype,b),P&&C(A,P),A}}(),s=function C(A,b,P){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,b);if(T===void 0){var S=Object.getPrototypeOf(A);return S===null?void 0:C(S,b,P)}else{if("value"in T)return T.value;var R=T.get;return R===void 0?void 0:R.call(P)}},a=i(0),l=v(a),u=i(5),d=v(u),f=i(9),h=v(f),m=i(13),y=v(m);function v(C){return C&&C.__esModule?C:{default:C}}function E(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function g(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function p(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var w=function(C){p(A,C);function A(){return E(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),A}(y.default);w.className="ql-syntax";var _=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),O=function(C){p(A,C),o(A,null,[{key:"register",value:function(){d.default.register(_,!0),d.default.register(w,!0)}}]);function A(b,P){E(this,A);var T=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,b,P));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return T.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){T.highlight(),S=null},T.options.interval)}),T.highlight(),T}return o(A,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(S){S.highlight(P.options.highlight)}),this.quill.update(d.default.sources.SILENT),T!=null&&this.quill.setSelection(T,d.default.sources.SILENT)}}}]),A}(h.default);O.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var A=window.hljs.highlightAuto(C);return A.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=_,r.default=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function A(b,P,T){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,P);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:A(R,P,T)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(T)}},s=function(){function A(b,P){for(var T=0;T<P.length;T++){var S=P[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,P,T){return P&&A(b.prototype,P),T&&A(b,T),b}}(),a=i(3),l=E(a),u=i(8),d=E(u),f=i(43),h=E(f),m=i(15),y=i(41),v=E(y);function E(A){return A&&A.__esModule?A:{default:A}}function g(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function p(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function w(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var _=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],O=function(A){w(b,A);function b(P,T){g(this,b),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=_);var S=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,P,T));return S.quill.container.classList.add("ql-bubble"),S}return s(b,[{key:"extendToolbar",value:function(T){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),b}(h.default);O.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(A){w(b,A);function b(P,T){g(this,b);var S=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,P,T));return S.quill.on(d.default.events.EDITOR_CHANGE,function(R,k,L,V){if(R===d.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&V===d.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var H=S.quill.getLines(k.index,k.length);if(H.length===1)S.position(S.quill.getBounds(k));else{var K=H[H.length-1],G=S.quill.getIndex(K),B=Math.min(K.length()-1,k.index+k.length-G),F=S.quill.getBounds(new m.Range(G,B));S.position(F)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(b,[{key:"listen",value:function(){var T=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var S=T.quill.getSelection();S!=null&&T.position(T.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,T),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",S===0)return S;R.style.marginLeft=-1*S-R.offsetWidth/2+"px"}}]),b}(f.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=O},function(n,r,i){n.exports=i(63)}]).default})})(bO);var Wq=bO.exports,Kq=qt&&qt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rf=qt&&qt.__assign||function(){return Rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rf.apply(this,arguments)},Gq=qt&&qt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Uh=qt&&qt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},cr=Uh(oe),Qq=Uh(Hg),Ca=Uh(Hq),dE=Uh(Wq),Yq=function(t){Kq(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,d,f,h;o==="text-change"?(d=(u=r).onEditorChangeText)===null||d===void 0||d.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((h=(f=r).onEditorChangeSelection)===null||h===void 0||h.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(cr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(cr.default.Children.count(n.children)){var i=cr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),Gq(this.cleanProps,this.dirtyProps).some(function(l){return!Ca.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Ca.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),pE(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new dE.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Ca.default(n.ops,r.ops):Ca.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),pE(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=Qq.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return cr.default.Children.count(i)?cr.default.cloneElement(cr.default.Children.only(i),a):o?cr.default.createElement("pre",Rf({},a)):cr.default.createElement("div",Rf({},a))},e.prototype.render=function(){var n;return cr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,d;if(this.editor){var f=this.getEditorSelection(),h=!f&&n,m=f&&!n;Ca.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),h?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):m&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=dE.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(cr.default.Component);function pE(t){Promise.resolve().then(t)}var Xq=Yq;const SO=qf(Xq);/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:AO,setPrototypeOf:mE,isFrozen:Jq,getPrototypeOf:Zq,getOwnPropertyDescriptor:eB}=Object;let{freeze:fn,seal:zn,create:OO}=Object,{apply:Fm,construct:Um}=typeof Reflect<"u"&&Reflect;fn||(fn=function(e){return e});zn||(zn=function(e){return e});Fm||(Fm=function(e,n,r){return e.apply(n,r)});Um||(Um=function(e,n){return new e(...n)});const Yu=Nn(Array.prototype.forEach),gE=Nn(Array.prototype.pop),xa=Nn(Array.prototype.push),Ac=Nn(String.prototype.toLowerCase),$d=Nn(String.prototype.toString),vE=Nn(String.prototype.match),Na=Nn(String.prototype.replace),tB=Nn(String.prototype.indexOf),nB=Nn(String.prototype.trim),Qn=Nn(Object.prototype.hasOwnProperty),sn=Nn(RegExp.prototype.test),La=rB(TypeError);function Nn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Fm(t,e,r)}}function rB(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Um(t,n)}}function Le(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ac;mE&&mE(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(Jq(e)||(e[r]=o),i=o)}t[i]=!0}return t}function iB(t){for(let e=0;e<t.length;e++)Qn(t,e)||(t[e]=null);return t}function ro(t){const e=OO(null);for(const[n,r]of AO(t))Qn(t,n)&&(Array.isArray(r)?e[n]=iB(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ro(r):e[n]=r);return e}function Da(t,e){for(;t!==null;){const r=eB(t,e);if(r){if(r.get)return Nn(r.get);if(typeof r.value=="function")return Nn(r.value)}t=Zq(t)}function n(){return null}return n}const yE=fn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zd=fn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Hd=fn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),oB=fn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wd=fn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),sB=fn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_E=fn(["#text"]),EE=fn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Kd=fn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),wE=fn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Xu=fn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),aB=zn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),lB=zn(/<%[\w\W]*|[\w\W]*%>/gm),uB=zn(/\${[\w\W]*}/gm),cB=zn(/^data-[\-\w.\u00B7-\uFFFF]/),fB=zn(/^aria-[\-\w]+$/),IO=zn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hB=zn(/^(?:\w+script|data):/i),dB=zn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PO=zn(/^html$/i),pB=zn(/^[a-z][.\w]*(-[.\w]+)+$/i);var TE=Object.freeze({__proto__:null,MUSTACHE_EXPR:aB,ERB_EXPR:lB,TMPLIT_EXPR:uB,DATA_ATTR:cB,ARIA_ATTR:fB,IS_ALLOWED_URI:IO,IS_SCRIPT_OR_DATA:hB,ATTR_WHITESPACE:dB,DOCTYPE_NAME:PO,CUSTOM_ELEMENT:pB});const Ma={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},mB=function(){return typeof window>"u"?null:window},gB=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function RO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mB();const e=_e=>RO(_e);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Ma.document)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:m}=t,y=l.prototype,v=Da(y,"cloneNode"),E=Da(y,"remove"),g=Da(y,"nextSibling"),p=Da(y,"childNodes"),w=Da(y,"parentNode");if(typeof s=="function"){const _e=n.createElement("template");_e.content&&_e.content.ownerDocument&&(n=_e.content.ownerDocument)}let _,O="";const{implementation:C,createNodeIterator:A,createDocumentFragment:b,getElementsByTagName:P}=n,{importNode:T}=r;let S={};e.isSupported=typeof AO=="function"&&typeof w=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:k,TMPLIT_EXPR:L,DATA_ATTR:V,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:B}=TE;let{IS_ALLOWED_URI:F}=TE,N=null;const M=Le({},[...yE,...zd,...Hd,...Wd,..._E]);let U=null;const Q=Le({},[...EE,...Kd,...wE,...Xu]);let $=Object.seal(OO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,z=null,J=!0,X=!0,re=!1,pe=!0,Ee=!1,Te=!0,Oe=!1,Ne=!1,_t=!1,Qe=!1,te=!1,ne=!1,ce=!0,de=!1;const se="user-content-";let Pe=!0,Se=!1,Ie={},Fe=null;const Ye=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const Wi=Le({},["audio","video","img","source","image","track"]);let Xe=null;const An=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),sr="http://www.w3.org/1998/Math/MathML",Ki="http://www.w3.org/2000/svg",Mn="http://www.w3.org/1999/xhtml";let ar=Mn,oa=!1,sa=null;const aa=Le({},[sr,Ki,Mn],$d);let Qr=null;const uu=["application/xhtml+xml","text/html"],Gi="text/html";let pt=null,lr=null;const wr=n.createElement("form"),la=function(W){return W instanceof RegExp||W instanceof Function},Yr=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(lr&&lr===W)){if((!W||typeof W!="object")&&(W={}),W=ro(W),Qr=uu.indexOf(W.PARSER_MEDIA_TYPE)===-1?Gi:W.PARSER_MEDIA_TYPE,pt=Qr==="application/xhtml+xml"?$d:Ac,N=Qn(W,"ALLOWED_TAGS")?Le({},W.ALLOWED_TAGS,pt):M,U=Qn(W,"ALLOWED_ATTR")?Le({},W.ALLOWED_ATTR,pt):Q,sa=Qn(W,"ALLOWED_NAMESPACES")?Le({},W.ALLOWED_NAMESPACES,$d):aa,Xe=Qn(W,"ADD_URI_SAFE_ATTR")?Le(ro(An),W.ADD_URI_SAFE_ATTR,pt):An,He=Qn(W,"ADD_DATA_URI_TAGS")?Le(ro(Wi),W.ADD_DATA_URI_TAGS,pt):Wi,Fe=Qn(W,"FORBID_CONTENTS")?Le({},W.FORBID_CONTENTS,pt):Ye,j=Qn(W,"FORBID_TAGS")?Le({},W.FORBID_TAGS,pt):{},z=Qn(W,"FORBID_ATTR")?Le({},W.FORBID_ATTR,pt):{},Ie=Qn(W,"USE_PROFILES")?W.USE_PROFILES:!1,J=W.ALLOW_ARIA_ATTR!==!1,X=W.ALLOW_DATA_ATTR!==!1,re=W.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ee=W.SAFE_FOR_TEMPLATES||!1,Te=W.SAFE_FOR_XML!==!1,Oe=W.WHOLE_DOCUMENT||!1,Qe=W.RETURN_DOM||!1,te=W.RETURN_DOM_FRAGMENT||!1,ne=W.RETURN_TRUSTED_TYPE||!1,_t=W.FORCE_BODY||!1,ce=W.SANITIZE_DOM!==!1,de=W.SANITIZE_NAMED_PROPS||!1,Pe=W.KEEP_CONTENT!==!1,Se=W.IN_PLACE||!1,F=W.ALLOWED_URI_REGEXP||IO,ar=W.NAMESPACE||Mn,$=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&la(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&la(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ee&&(X=!1),te&&(Qe=!0),Ie&&(N=Le({},_E),U=[],Ie.html===!0&&(Le(N,yE),Le(U,EE)),Ie.svg===!0&&(Le(N,zd),Le(U,Kd),Le(U,Xu)),Ie.svgFilters===!0&&(Le(N,Hd),Le(U,Kd),Le(U,Xu)),Ie.mathMl===!0&&(Le(N,Wd),Le(U,wE),Le(U,Xu))),W.ADD_TAGS&&(N===M&&(N=ro(N)),Le(N,W.ADD_TAGS,pt)),W.ADD_ATTR&&(U===Q&&(U=ro(U)),Le(U,W.ADD_ATTR,pt)),W.ADD_URI_SAFE_ATTR&&Le(Xe,W.ADD_URI_SAFE_ATTR,pt),W.FORBID_CONTENTS&&(Fe===Ye&&(Fe=ro(Fe)),Le(Fe,W.FORBID_CONTENTS,pt)),Pe&&(N["#text"]=!0),Oe&&Le(N,["html","head","body"]),N.table&&(Le(N,["tbody"]),delete j.tbody),W.TRUSTED_TYPES_POLICY){if(typeof W.TRUSTED_TYPES_POLICY.createHTML!="function")throw La('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof W.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw La('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=W.TRUSTED_TYPES_POLICY,O=_.createHTML("")}else _===void 0&&(_=gB(m,i)),_!==null&&typeof O=="string"&&(O=_.createHTML(""));fn&&fn(W),lr=W}},ua=Le({},["mi","mo","mn","ms","mtext"]),Xr=Le({},["annotation-xml"]),cu=Le({},["title","style","font","a","script"]),Ct=Le({},[...zd,...Hd,...oB]),ca=Le({},[...Wd,...sB]),Qi=function(W){let ue=w(W);(!ue||!ue.tagName)&&(ue={namespaceURI:ar,tagName:"template"});const ve=Ac(W.tagName),Ke=Ac(ue.tagName);return sa[W.namespaceURI]?W.namespaceURI===Ki?ue.namespaceURI===Mn?ve==="svg":ue.namespaceURI===sr?ve==="svg"&&(Ke==="annotation-xml"||ua[Ke]):!!Ct[ve]:W.namespaceURI===sr?ue.namespaceURI===Mn?ve==="math":ue.namespaceURI===Ki?ve==="math"&&Xr[Ke]:!!ca[ve]:W.namespaceURI===Mn?ue.namespaceURI===Ki&&!Xr[Ke]||ue.namespaceURI===sr&&!ua[Ke]?!1:!ca[ve]&&(cu[ve]||!Ct[ve]):!!(Qr==="application/xhtml+xml"&&sa[W.namespaceURI]):!1},Wt=function(W){xa(e.removed,{element:W});try{w(W).removeChild(W)}catch{E(W)}},Lo=function(W,ue){try{xa(e.removed,{attribute:ue.getAttributeNode(W),from:ue})}catch{xa(e.removed,{attribute:null,from:ue})}if(ue.removeAttribute(W),W==="is"&&!U[W])if(Qe||te)try{Wt(ue)}catch{}else try{ue.setAttribute(W,"")}catch{}},fu=function(W){let ue=null,ve=null;if(_t)W="<remove></remove>"+W;else{const mt=vE(W,/^[\r\n\t ]+/);ve=mt&&mt[0]}Qr==="application/xhtml+xml"&&ar===Mn&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");const Ke=_?_.createHTML(W):W;if(ar===Mn)try{ue=new h().parseFromString(Ke,Qr)}catch{}if(!ue||!ue.documentElement){ue=C.createDocument(ar,"template",null);try{ue.documentElement.innerHTML=oa?O:Ke}catch{}}const xt=ue.body||ue.documentElement;return W&&ve&&xt.insertBefore(n.createTextNode(ve),xt.childNodes[0]||null),ar===Mn?P.call(ue,Oe?"html":"body")[0]:Oe?ue.documentElement:xt},Tr=function(W){return A.call(W.ownerDocument||W,W,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},hu=function(W){return W instanceof f&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof d)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},du=function(W){return typeof a=="function"&&W instanceof a},pn=function(W,ue,ve){S[W]&&Yu(S[W],Ke=>{Ke.call(e,ue,ve,lr)})},fa=function(W){let ue=null;if(pn("beforeSanitizeElements",W,null),hu(W))return Wt(W),!0;const ve=pt(W.nodeName);if(pn("uponSanitizeElement",W,{tagName:ve,allowedTags:N}),W.hasChildNodes()&&!du(W.firstElementChild)&&sn(/<[/\w]/g,W.innerHTML)&&sn(/<[/\w]/g,W.textContent)||W.nodeType===Ma.progressingInstruction||Te&&W.nodeType===Ma.comment&&sn(/<[/\w]/g,W.data))return Wt(W),!0;if(!N[ve]||j[ve]){if(!j[ve]&&Yi(ve)&&($.tagNameCheck instanceof RegExp&&sn($.tagNameCheck,ve)||$.tagNameCheck instanceof Function&&$.tagNameCheck(ve)))return!1;if(Pe&&!Fe[ve]){const Ke=w(W)||W.parentNode,xt=p(W)||W.childNodes;if(xt&&Ke){const mt=xt.length;for(let Mt=mt-1;Mt>=0;--Mt){const mn=v(xt[Mt],!0);mn.__removalCount=(W.__removalCount||0)+1,Ke.insertBefore(mn,g(W))}}}return Wt(W),!0}return W instanceof l&&!Qi(W)||(ve==="noscript"||ve==="noembed"||ve==="noframes")&&sn(/<\/no(script|embed|frames)/i,W.innerHTML)?(Wt(W),!0):(Ee&&W.nodeType===Ma.text&&(ue=W.textContent,Yu([R,k,L],Ke=>{ue=Na(ue,Ke," ")}),W.textContent!==ue&&(xa(e.removed,{element:W.cloneNode()}),W.textContent=ue)),pn("afterSanitizeElements",W,null),!1)},Do=function(W,ue,ve){if(ce&&(ue==="id"||ue==="name")&&(ve in n||ve in wr))return!1;if(!(X&&!z[ue]&&sn(V,ue))){if(!(J&&sn(H,ue))){if(!U[ue]||z[ue]){if(!(Yi(W)&&($.tagNameCheck instanceof RegExp&&sn($.tagNameCheck,W)||$.tagNameCheck instanceof Function&&$.tagNameCheck(W))&&($.attributeNameCheck instanceof RegExp&&sn($.attributeNameCheck,ue)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(ue))||ue==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&sn($.tagNameCheck,ve)||$.tagNameCheck instanceof Function&&$.tagNameCheck(ve))))return!1}else if(!Xe[ue]){if(!sn(F,Na(ve,G,""))){if(!((ue==="src"||ue==="xlink:href"||ue==="href")&&W!=="script"&&tB(ve,"data:")===0&&He[W])){if(!(re&&!sn(K,Na(ve,G,"")))){if(ve)return!1}}}}}}return!0},Yi=function(W){return W!=="annotation-xml"&&vE(W,B)},Hn=function(W){pn("beforeSanitizeAttributes",W,null);const{attributes:ue}=W;if(!ue)return;const ve={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let Ke=ue.length;for(;Ke--;){const xt=ue[Ke],{name:mt,namespaceURI:Mt,value:mn}=xt,Wn=pt(mt);let lt=mt==="value"?mn:nB(mn);if(ve.attrName=Wn,ve.attrValue=lt,ve.keepAttr=!0,ve.forceKeepAttr=void 0,pn("uponSanitizeAttribute",W,ve),lt=ve.attrValue,ve.forceKeepAttr||(Lo(mt,W),!ve.keepAttr))continue;if(!pe&&sn(/\/>/i,lt)){Lo(mt,W);continue}Ee&&Yu([R,k,L],mu=>{lt=Na(lt,mu," ")});const Mo=pt(W.nodeName);if(Do(Mo,Wn,lt)){if(de&&(Wn==="id"||Wn==="name")&&(Lo(mt,W),lt=se+lt),Te&&sn(/((--!?|])>)|<\/(style|title)/i,lt)){Lo(mt,W);continue}if(_&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Mt)switch(m.getAttributeType(Mo,Wn)){case"TrustedHTML":{lt=_.createHTML(lt);break}case"TrustedScriptURL":{lt=_.createScriptURL(lt);break}}try{Mt?W.setAttributeNS(Mt,mt,lt):W.setAttribute(mt,lt),hu(W)?Wt(W):gE(e.removed)}catch{}}}pn("afterSanitizeAttributes",W,null)},pu=function _e(W){let ue=null;const ve=Tr(W);for(pn("beforeSanitizeShadowDOM",W,null);ue=ve.nextNode();)pn("uponSanitizeShadowNode",ue,null),!fa(ue)&&(ue.content instanceof o&&_e(ue.content),Hn(ue));pn("afterSanitizeShadowDOM",W,null)};return e.sanitize=function(_e){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=null,ve=null,Ke=null,xt=null;if(oa=!_e,oa&&(_e="<!-->"),typeof _e!="string"&&!du(_e))if(typeof _e.toString=="function"){if(_e=_e.toString(),typeof _e!="string")throw La("dirty is not a string, aborting")}else throw La("toString is not a function");if(!e.isSupported)return _e;if(Ne||Yr(W),e.removed=[],typeof _e=="string"&&(Se=!1),Se){if(_e.nodeName){const mn=pt(_e.nodeName);if(!N[mn]||j[mn])throw La("root node is forbidden and cannot be sanitized in-place")}}else if(_e instanceof a)ue=fu("<!---->"),ve=ue.ownerDocument.importNode(_e,!0),ve.nodeType===Ma.element&&ve.nodeName==="BODY"||ve.nodeName==="HTML"?ue=ve:ue.appendChild(ve);else{if(!Qe&&!Ee&&!Oe&&_e.indexOf("<")===-1)return _&&ne?_.createHTML(_e):_e;if(ue=fu(_e),!ue)return Qe?null:ne?O:""}ue&&_t&&Wt(ue.firstChild);const mt=Tr(Se?_e:ue);for(;Ke=mt.nextNode();)fa(Ke)||(Ke.content instanceof o&&pu(Ke.content),Hn(Ke));if(Se)return _e;if(Qe){if(te)for(xt=b.call(ue.ownerDocument);ue.firstChild;)xt.appendChild(ue.firstChild);else xt=ue;return(U.shadowroot||U.shadowrootmode)&&(xt=T.call(r,xt,!0)),xt}let Mt=Oe?ue.outerHTML:ue.innerHTML;return Oe&&N["!doctype"]&&ue.ownerDocument&&ue.ownerDocument.doctype&&ue.ownerDocument.doctype.name&&sn(PO,ue.ownerDocument.doctype.name)&&(Mt="<!DOCTYPE "+ue.ownerDocument.doctype.name+`>
`+Mt),Ee&&Yu([R,k,L],mn=>{Mt=Na(Mt,mn," ")}),_&&ne?_.createHTML(Mt):Mt},e.setConfig=function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yr(_e),Ne=!0},e.clearConfig=function(){lr=null,Ne=!1},e.isValidAttribute=function(_e,W,ue){lr||Yr({});const ve=pt(_e),Ke=pt(W);return Do(ve,Ke,ue)},e.addHook=function(_e,W){typeof W=="function"&&(S[_e]=S[_e]||[],xa(S[_e],W))},e.removeHook=function(_e){if(S[_e])return gE(S[_e])},e.removeHooks=function(_e){S[_e]&&(S[_e]=[])},e.removeAllHooks=function(){S={}},e}var kO=RO();const vB=({onSave:t})=>{const[e,n]=oe.useState(""),r=o=>{n(o)},i=()=>{const o=kO.sanitize(e);t(o)};return q.jsxs("div",{children:[q.jsx(SO,{theme:"snow",value:e,onChange:r}),q.jsx("button",{onClick:i,children:"Save Content"})]})},yB=()=>{const[t,e]=oe.useState(""),[n,r]=oe.useState(""),[i,o]=oe.useState(""),[s,a]=oe.useState(""),[l,u]=oe.useState(""),[d,f]=oe.useState([""]),{currentUser:h}=ji(),m=p=>{u(p.target.value)},y=p=>{f(p)},v=(p,w)=>{const _=[...d];_[p]=w.target.value,f(_)},E=p=>{const w=d.filter((_,O)=>O!==p);f(w)},g=async p=>{if(p.preventDefault(),!h){console.error("User not authenticated");return}const w={title:t,description:n,deepdive:i,route:s,cardImage:l,images:d.filter(_=>_!==""),createdAt:Oj(),createdBy:String(h.uid),userEmail:h.email};try{await NA(Ns(Mr,"projects"),w),alert("Project added successfully!"),e(""),r(""),setImage(""),a("")}catch(_){console.error("Error adding project:",_)}};return q.jsxs("div",{children:[q.jsx("h1",{children:"Add New Project"}),q.jsxs("form",{onSubmit:g,children:[q.jsx("input",{type:"text",placeholder:"Project Title",value:t,onChange:p=>e(p.target.value),required:!0}),q.jsx("textarea",{placeholder:"Project Description",value:n,onChange:p=>r(p.target.value),required:!0}),q.jsx("h3",{children:"Project Deep Dive"}),q.jsx(vB,{value:i,onChange:p=>o(p.target.value)}),q.jsx("input",{type:"text",placeholder:"Card Image URL",value:l,onChange:m}),q.jsx("h3",{children:"Project Image URLs (1-10)"}),d.map((p,w)=>q.jsxs("div",{children:[q.jsx("input",{type:"text",placeholder:`Image URL ${w+1}`,value:p,onChange:_=>v(w,_)}),q.jsx("button",{type:"button",onClick:()=>E(w),children:"Remove"})]},w)),d.length>0&&q.jsxs("div",{children:[q.jsx("h3",{children:"Uploaded Image URLs"}),q.jsx("ul",{children:d.map((p,w)=>q.jsx("li",{children:p},w))})]}),q.jsx("input",{type:"text",placeholder:"Unique Route",value:s,onChange:p=>a(p.target.value),required:!0}),q.jsx("button",{type:"submit",children:"Add Project"})]}),q.jsx(yF,{onUploadComplete:y})]})},Vm=()=>{const{projectId:t}=ob(),e=Bi(),[n,r]=oe.useState({title:"",description:"",route:"",cardImage:"",images:[],isPublished:!1});oe.useEffect(()=>{(async()=>{const l=Tf(Mr,"projects",t),u=await Sj(l);u.exists()&&r(u.data())})()},[t]);const i=a=>{r({...n,deepdive:a})},o=a=>{const{name:l,value:u}=a.target;r({...n,[l]:u})},s=async()=>{try{const a=Tf(Mr,"projects",t);await xA(a,n),alert("Project updated successfully!"),e("/portfolio")}catch(a){console.error("Error updating project: ",a)}};return q.jsxs("div",{children:[q.jsx("h2",{children:"Edit Project"}),q.jsxs("form",{children:[q.jsx("div",{children:q.jsx("input",{type:"text",name:"title",value:n.title,onChange:o,placeholder:"Project Title",required:!0})}),q.jsx("div",{children:q.jsx("textarea",{name:"description",value:n.description,onChange:o,placeholder:"Project Description",required:!0})}),q.jsx("div",{children:q.jsx("input",{type:"text",name:"route",value:n.route,onChange:o,placeholder:"Project Route",required:!0})}),q.jsx("div",{children:q.jsx("input",{type:"text",name:"cardImage",value:n.cardImage,onChange:o,placeholder:"Card Image URL"})}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"deepdive",children:"Deepdive"}),q.jsx(SO,{value:n.deepdive,onChange:i,modules:Vm.modules,formats:Vm.formats})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"isPublished",children:"Publish"}),q.jsx("input",{type:"checkbox",id:"isPublished",name:"isPublished",onChange:o})]}),q.jsx("button",{type:"button",onClick:s,children:"Save Changes"})]})]})};var CO={},xO={},Vh={},NO={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(NO);var _B="Expected a function",bE=NaN,EB="[object Symbol]",wB=/^\s+|\s+$/g,TB=/^[-+]0x[0-9a-f]+$/i,bB=/^0b[01]+$/i,SB=/^0o[0-7]+$/i,AB=parseInt,OB=typeof qt=="object"&&qt&&qt.Object===Object&&qt,IB=typeof self=="object"&&self&&self.Object===Object&&self,PB=OB||IB||Function("return this")(),RB=Object.prototype,kB=RB.toString,CB=Math.max,xB=Math.min,Gd=function(){return PB.Date.now()};function NB(t,e,n){var r,i,o,s,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(_B);e=SE(e)||0,qm(n)&&(d=!!n.leading,f="maxWait"in n,o=f?CB(SE(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function m(C){var A=r,b=i;return r=i=void 0,u=C,s=t.apply(b,A),s}function y(C){return u=C,a=setTimeout(g,e),d?m(C):s}function v(C){var A=C-l,b=C-u,P=e-A;return f?xB(P,o-b):P}function E(C){var A=C-l,b=C-u;return l===void 0||A>=e||A<0||f&&b>=o}function g(){var C=Gd();if(E(C))return p(C);a=setTimeout(g,v(C))}function p(C){return a=void 0,h&&r?m(C):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?s:p(Gd())}function O(){var C=Gd(),A=E(C);if(r=arguments,i=this,l=C,A){if(a===void 0)return y(l);if(f)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),s}return O.cancel=w,O.flush=_,O}function qm(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function LB(t){return!!t&&typeof t=="object"}function DB(t){return typeof t=="symbol"||LB(t)&&kB.call(t)==EB}function SE(t){if(typeof t=="number")return t;if(DB(t))return bE;if(qm(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qm(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(wB,"");var n=bB.test(t);return n||SB.test(t)?AB(t.slice(2),n?2:8):TB.test(t)?bE:+t}var MB=NB,LO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(LO);var qh=LO.exports,he={},iy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(oe);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(iy);Object.defineProperty(he,"__esModule",{value:!0});he.checkSpecKeys=he.checkNavigable=he.changeSlide=he.canUseDOM=he.canGoNext=void 0;he.clamp=MO;he.extractObject=void 0;he.filterSettings=XB;he.validSettings=he.swipeStart=he.swipeMove=he.swipeEnd=he.slidesOnRight=he.slidesOnLeft=he.slideHandler=he.siblingDirection=he.safePreventDefault=he.lazyStartIndex=he.lazySlidesOnRight=he.lazySlidesOnLeft=he.lazyEndIndex=he.keyHandler=he.initializedState=he.getWidth=he.getTrackLeft=he.getTrackCSS=he.getTrackAnimateCSS=he.getTotalSlides=he.getSwipeDirection=he.getSlideCount=he.getRequiredLazySlides=he.getPreClones=he.getPostClones=he.getOnDemandLazySlides=he.getNavigableIndexes=he.getHeight=void 0;var jB=DO(oe),FB=DO(iy);function DO(t){return t&&t.__esModule?t:{default:t}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function AE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(n),!0).forEach(function(r){UB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UB(t,e,n){return e=VB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VB(t){var e=qB(t,"string");return Fl(e)=="symbol"?e:String(e)}function qB(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MO(t,e,n){return Math.max(e,Math.min(t,n))}var gs=he.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},jO=he.getOnDemandLazySlides=function(e){for(var n=[],r=FO(e),i=UO(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};he.getRequiredLazySlides=function(e){for(var n=[],r=FO(e),i=UO(e),o=r;o<i;o++)n.push(o);return n};var FO=he.lazyStartIndex=function(e){return e.currentSlide-BB(e)},UO=he.lazyEndIndex=function(e){return e.currentSlide+$B(e)},BB=he.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},$B=he.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Bm=he.getWidth=function(e){return e&&e.offsetWidth||0},VO=he.getHeight=function(e){return e&&e.offsetHeight||0},qO=he.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,o,s;return r=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,r),s=Math.round(o*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},BO=he.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};he.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};he.initializedState=function(e){var n=jB.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Bm(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(Bm(o)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&VO(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var h=e.lazyLoadedList||[],m=jO(st(st({},e),{},{currentSlide:f,lazyLoadedList:h}));h=h.concat(m);var y={slideCount:n,slideWidth:a,listWidth:i,trackWidth:s,currentSlide:f,slideHeight:u,listHeight:d,lazyLoadedList:h};return e.autoplaying===null&&e.autoplay&&(y.autoplaying="playing"),y};he.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,s=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,f=e.slidesToScroll,h=e.slidesToShow,m=e.useCSS,y=e.lazyLoadedList;if(n&&r)return{};var v=s,E,g,p,w={},_={},O=o?s:MO(s,0,a-1);if(i){if(!o&&(s<0||s>=a))return{};s<0?v=s+a:s>=a&&(v=s-a),l&&y.indexOf(v)<0&&(y=y.concat(v)),w={animating:!0,currentSlide:v,lazyLoadedList:y,targetSlide:v},_={animating:!1,targetSlide:v}}else E=v,v<0?(E=v+a,o?a%f!==0&&(E=a-a%f):E=0):!BO(e)&&v>u?v=E=u:d&&v>=a?(v=o?a:a-1,E=o?0:a-1):v>=a&&(E=v-a,o?a%f!==0&&(E=0):E=a-h),!o&&v+h>=a&&(E=a-h),g=Cf(st(st({},e),{},{slideIndex:v})),p=Cf(st(st({},e),{},{slideIndex:E})),o||(g===p&&(v=E),g=p),l&&(y=y.concat(jO(st(st({},e),{},{currentSlide:v})))),m?(w={animating:!0,currentSlide:E,trackStyle:$O(st(st({},e),{},{left:g})),lazyLoadedList:y,targetSlide:O},_={animating:!1,currentSlide:E,trackStyle:kf(st(st({},e),{},{left:p})),swipeLeft:null,targetSlide:O}):w={currentSlide:E,trackStyle:kf(st(st({},e),{},{left:p})),lazyLoadedList:y,targetSlide:O};return{state:w,nextState:_}};he.changeSlide=function(e,n){var r,i,o,s,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,f=e.currentSlide,h=e.targetSlide,m=e.lazyLoad,y=e.infinite;if(s=d%l!==0,r=s?0:(d-f)%l,n.message==="previous")o=r===0?l:u-r,a=f-o,m&&!y&&(i=f-o,a=i===-1?d-1:i),y||(a=h-l);else if(n.message==="next")o=r===0?l:r,a=f+o,m&&!y&&(a=(f+l)%d+r),y||(a=h+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,y){var v=KB(st(st({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-d:a<n.currentSlide&&v==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};he.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};he.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&gs(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};he.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,s=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,f=n.edgeDragged,h=n.onEdge,m=n.swiped,y=n.swiping,v=n.slideCount,E=n.slidesToScroll,g=n.infinite,p=n.touchObject,w=n.swipeEvent,_=n.listHeight,O=n.listWidth;if(!r){if(i)return gs(e);o&&s&&a&&gs(e);var C,A={},b=Cf(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var P=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!y&&P>10)return{scrolling:!0};a&&(p.swipeLength=P);var T=(l?-1:1)*(p.curX>p.startX?1:-1);a&&(T=p.curY>p.startY?1:-1);var S=Math.ceil(v/E),R=qO(n.touchObject,a),k=p.swipeLength;return g||(u===0&&(R==="right"||R==="down")||u+1>=S&&(R==="left"||R==="up")||!BO(n)&&(R==="left"||R==="up"))&&(k=p.swipeLength*d,f===!1&&h&&(h(R),A.edgeDragged=!0)),!m&&w&&(w(R),A.swiped=!0),o?C=b+k*(_/O)*T:l?C=b-k*T:C=b+k*T,a&&(C=b+k*T),A=st(st({},A),{},{touchObject:p,swipeLeft:C,trackStyle:kf(st(st({},n),{},{left:C}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(A.swiping=!0,gs(e)),A}};he.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,s=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,f=n.scrolling,h=n.onSwipe,m=n.targetSlide,y=n.currentSlide,v=n.infinite;if(!r)return i&&gs(e),{};var E=l?u/a:s/a,g=qO(o,l),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!o.swipeLength)return p;if(o.swipeLength>E){gs(e),h&&h(g);var w,_,O=v?y:m;switch(g){case"left":case"up":_=O+IE(n),w=d?OE(n,_):_,p.currentDirection=0;break;case"right":case"down":_=O-IE(n),w=d?OE(n,_):_,p.currentDirection=1;break;default:w=O}p.triggerSlideHandler=w}else{var C=Cf(n);p.trackStyle=$O(st(st({},n),{},{left:C}))}return p};var zB=he.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},OE=he.checkNavigable=function(e,n){var r=zB(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},IE=he.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+VO(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Bm(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-s)||1;return a}else return e.slidesToScroll},oy=he.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},kf=he.getTrackCSS=function(e){oy(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=WB(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=st(st({},o),{},{WebkitTransform:s,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},$O=he.getTrackAnimateCSS=function(e){oy(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=kf(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},Cf=he.getTrackLeft=function(e){if(e.unslick)return 0;oy(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,f=e.variableWidth,h=e.slideHeight,m=e.fade,y=e.vertical,v=0,E,g,p=0;if(m||e.slideCount===1)return 0;var w=0;if(i?(w=-Oc(e),s%l!==0&&n+l>s&&(w=-(n>s?a-(n-s):s%l)),o&&(w+=parseInt(a/2))):(s%l!==0&&n+l>s&&(w=a-s%l),o&&(w=parseInt(a/2))),v=w*u,p=w*h,y?E=n*h*-1+p:E=n*u*-1+v,f===!0){var _,O=r&&r.node;if(_=n+Oc(e),g=O&&O.childNodes[_],E=g?g.offsetLeft*-1:0,o===!0){_=i?n+Oc(e):n,g=O&&O.children[_],E=0;for(var C=0;C<_;C++)E-=O&&O.children[C]&&O.children[C].offsetWidth;E-=parseInt(e.centerPadding),E+=g&&(d-g.offsetWidth)/2}}return E},Oc=he.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},HB=he.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},WB=he.getTotalSlides=function(e){return e.slideCount===1?1:Oc(e)+e.slideCount+HB(e)},KB=he.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+GB(e)?"left":"right":e.targetSlide<e.currentSlide-QB(e)?"right":"left"},GB=he.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},QB=he.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0};he.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var YB=he.validSettings=Object.keys(FB.default);function XB(t){return YB.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Track=void 0;var ai=zO(oe),Qd=zO(qh),Yd=he;function zO(t){return t&&t.__esModule?t:{default:t}}function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function JB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WO(r.key),r)}}function e6(t,e,n){return e&&ZB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zm(t,e)}function zm(t,e){return zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zm(t,e)}function n6(t){var e=HO();return function(){var r=xf(t),i;if(e){var o=xf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return r6(this,i)}}function r6(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hm(t)}function Hm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HO=function(){return!!t})()}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xf(t)}function PE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(n),!0).forEach(function(r){Wm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wm(t,e,n){return e=WO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t){var e=i6(t,"string");return Ds(e)=="symbol"?e:String(e)}function i6(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xd=function(e){var n,r,i,o,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,i=s<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=s===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},o6=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Jd=function(e,n){return e.key||n},s6=function(e){var n,r=[],i=[],o=[],s=ai.default.Children.count(e.children),a=(0,Yd.lazyStartIndex)(e),l=(0,Yd.lazyEndIndex)(e);return ai.default.Children.forEach(e.children,function(u,d){var f,h={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?f=u:f=ai.default.createElement("div",null);var m=o6(gn(gn({},e),{},{index:d})),y=f.props.className||"",v=Xd(gn(gn({},e),{},{index:d}));if(r.push(ai.default.cloneElement(f,{key:"original"+Jd(f,d),"data-index":d,className:(0,Qd.default)(v,y),tabIndex:"-1","aria-hidden":!v["slick-active"],style:gn(gn({outline:"none"},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&e.fade===!1){var E=s-d;E<=(0,Yd.getPreClones)(e)&&(n=-E,n>=a&&(f=u),v=Xd(gn(gn({},e),{},{index:n})),i.push(ai.default.cloneElement(f,{key:"precloned"+Jd(f,n),"data-index":n,tabIndex:"-1",className:(0,Qd.default)(v,y),"aria-hidden":!v["slick-active"],style:gn(gn({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}}))),n=s+d,n<l&&(f=u),v=Xd(gn(gn({},e),{},{index:n})),o.push(ai.default.cloneElement(f,{key:"postcloned"+Jd(f,n),"data-index":n,tabIndex:"-1",className:(0,Qd.default)(v,y),"aria-hidden":!v["slick-active"],style:gn(gn({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(h)}}))}}),e.rtl?i.concat(r,o).reverse():i.concat(r,o)};Bh.Track=function(t){t6(n,t);var e=n6(n);function n(){var r;JB(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Wm(Hm(r),"node",null),Wm(Hm(r),"handleRef",function(a){r.node=a}),r}return e6(n,[{key:"render",value:function(){var i=s6(this.props),o=this.props,s=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:s,onMouseOver:a,onMouseLeave:l};return ai.default.createElement("div",$m({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(ai.default.PureComponent);var $h={};function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}Object.defineProperty($h,"__esModule",{value:!0});$h.Dots=void 0;var Ju=KO(oe),a6=KO(qh),RE=he;function KO(t){return t&&t.__esModule?t:{default:t}}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){u6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u6(t,e,n){return e=GO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GO(r.key),r)}}function h6(t,e,n){return e&&f6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GO(t){var e=d6(t,"string");return Ms(e)=="symbol"?e:String(e)}function d6(t,e){if(Ms(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Km(t,e)}function Km(t,e){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Km(t,e)}function m6(t){var e=QO();return function(){var r=Nf(t),i;if(e){var o=Nf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return g6(this,i)}}function g6(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v6(t)}function v6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QO=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}var y6=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};$h.Dots=function(t){p6(n,t);var e=m6(n);function n(){return c6(this,n),e.apply(this,arguments)}return h6(n,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,s=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,d=i.slidesToShow,f=i.slideCount,h=i.currentSlide,m=y6({slideCount:f,slidesToScroll:u,slidesToShow:d,infinite:l}),y={onMouseEnter:o,onMouseOver:s,onMouseLeave:a},v=[],E=0;E<m;E++){var g=(E+1)*u-1,p=l?g:(0,RE.clamp)(g,0,f-1),w=p-(u-1),_=l?w:(0,RE.clamp)(w,0,f-1),O=(0,a6.default)({"slick-active":l?h>=_&&h<=p:h===_}),C={message:"dots",index:E,slidesToScroll:u,currentSlide:h},A=this.clickHandler.bind(this,C);v=v.concat(Ju.default.createElement("li",{key:E,className:O},Ju.default.cloneElement(this.props.customPaging(E),{onClick:A})))}return Ju.default.cloneElement(this.props.appendDots(v),l6({className:this.props.dotsClass},y))}}]),n}(Ju.default.PureComponent);var js={};function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}Object.defineProperty(js,"__esModule",{value:!0});js.PrevArrow=js.NextArrow=void 0;var vs=XO(oe),YO=XO(qh),_6=he;function XO(t){return t&&t.__esModule?t:{default:t}}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Df(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){E6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E6(t,e,n){return e=eI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eI(r.key),r)}}function ZO(t,e,n){return e&&w6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eI(t){var e=T6(t,"string");return Fs(e)=="symbol"?e:String(e)}function T6(t,e){if(Fs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gm(t,e)}function Gm(t,e){return Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gm(t,e)}function nI(t){var e=rI();return function(){var r=Mf(t),i;if(e){var o=Mf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return b6(this,i)}}function b6(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S6(t)}function S6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rI=function(){return!!t})()}function Mf(t){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(t)}js.PrevArrow=function(t){tI(n,t);var e=nI(n);function n(){return JO(this,n),e.apply(this,arguments)}return ZO(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var s={key:"0","data-role":"none",className:(0,YO.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=vs.default.cloneElement(this.props.prevArrow,Df(Df({},s),a)):l=vs.default.createElement("button",Lf({key:"0",type:"button"},s)," ","Previous"),l}}]),n}(vs.default.PureComponent);js.NextArrow=function(t){tI(n,t);var e=nI(n);function n(){return JO(this,n),e.apply(this,arguments)}return ZO(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,_6.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var s={key:"1","data-role":"none",className:(0,YO.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=vs.default.cloneElement(this.props.nextArrow,Df(Df({},s),a)):l=vs.default.createElement("button",Lf({key:"1",type:"button"},s)," ","Next"),l}}]),n}(vs.default.PureComponent);var iI=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),Qm=typeof window<"u"&&typeof document<"u"&&window.document===document,jf=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),A6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(jf):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),O6=2;function I6(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){A6(o)}function a(){var l=Date.now();if(n){if(l-i<O6)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var P6=20,R6=["top","right","bottom","left","width","height","size","weight"],k6=typeof MutationObserver<"u",C6=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=I6(this.refresh.bind(this),P6)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Qm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),k6?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Qm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=R6.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),oI=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Us=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||jf},sI=zh(0,0,0,0);function Ff(t){return parseFloat(t)||0}function xE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Ff(o)},0)}function x6(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=Ff(s)}return n}function N6(t){var e=t.getBBox();return zh(0,0,e.width,e.height)}function L6(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return sI;var r=Us(t).getComputedStyle(t),i=x6(r),o=i.left+i.right,s=i.top+i.bottom,a=Ff(r.width),l=Ff(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=xE(r,"left","right")+o),Math.round(l+s)!==n&&(l-=xE(r,"top","bottom")+s)),!M6(t)){var u=Math.round(a+o)-e,d=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return zh(i.left,i.top,a,l)}var D6=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Us(t).SVGGraphicsElement}:function(t){return t instanceof Us(t).SVGElement&&typeof t.getBBox=="function"}}();function M6(t){return t===Us(t).document.documentElement}function j6(t){return Qm?D6(t)?N6(t):L6(t):sI}function F6(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return oI(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function zh(t,e,n,r){return{x:t,y:e,width:n,height:r}}var U6=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=zh(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=j6(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),V6=function(){function t(e,n){var r=F6(n);oI(this,{target:e,contentRect:r})}return t}(),q6=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new iI,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Us(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new U6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Us(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new V6(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),aI=typeof WeakMap<"u"?new WeakMap:new iI,lI=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=C6.getInstance(),r=new q6(e,n,this);aI.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){lI.prototype[t]=function(){var e;return(e=aI.get(this))[t].apply(e,arguments)}});var B6=function(){return typeof jf.ResizeObserver<"u"?jf.ResizeObserver:lI}();const $6=Object.freeze(Object.defineProperty({__proto__:null,default:B6},Symbol.toStringTag,{value:"Module"})),z6=CI($6);Object.defineProperty(Vh,"__esModule",{value:!0});Vh.InnerSlider=void 0;var an=lu(oe),H6=lu(NO),W6=lu(MB),K6=lu(qh),ut=he,G6=Bh,Q6=$h,NE=js,Y6=lu(z6);function lu(t){return t&&t.__esModule?t:{default:t}}function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Po(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}function X6(t,e){if(t==null)return{};var n=J6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cI(r.key),r)}}function t$(t,e,n){return e&&e$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ym(t,e)}function Ym(t,e){return Ym=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ym(t,e)}function r$(t){var e=uI();return function(){var r=Vf(t),i;if(e){var o=Vf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i$(this,i)}}function i$(t,e){if(e&&(Po(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uI=function(){return!!t})()}function Vf(t){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(t)}function Me(t,e,n){return e=cI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cI(t){var e=o$(t,"string");return Po(e)=="symbol"?e:String(e)}function o$(t,e){if(Po(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Po(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Vh.InnerSlider=function(t){n$(n,t);var e=r$(n);function n(r){var i;Z6(this,n),i=e.call(this,r),Me(De(i),"listRefHandler",function(s){return i.list=s}),Me(De(i),"trackRefHandler",function(s){return i.track=s}),Me(De(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var s=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,ut.getHeight)(s)+"px"}}),Me(De(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var s=(0,ut.getOnDemandLazySlides)(be(be({},i.props),i.state));s.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}var a=be({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new Y6.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Me(De(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(s){return clearTimeout(s)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Me(De(i),"componentDidUpdate",function(s){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,ut.getOnDemandLazySlides)(be(be({},i.props),i.state));a.length>0&&(i.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=be(be({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(s);u&&i.updateState(l,u,function(){i.state.currentSlide>=an.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:an.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Me(De(i),"onWindowResized",function(s){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,W6.default)(function(){return i.resizeWindow(s)},50),i.debouncedResize()}),Me(De(i),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=be(be({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,s,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Me(De(i),"updateState",function(s,a,l){var u=(0,ut.initializedState)(s);s=be(be(be({},s),u),{},{slideIndex:u.currentSlide});var d=(0,ut.getTrackLeft)(s);s=be(be({},s),{},{left:d});var f=(0,ut.getTrackCSS)(s);(a||an.default.Children.count(i.props.children)!==an.default.Children.count(s.children))&&(u.trackStyle=f),i.setState(u,l)}),Me(De(i),"ssrInit",function(){if(i.props.variableWidth){var s=0,a=0,l=[],u=(0,ut.getPreClones)(be(be(be({},i.props),i.state),{},{slideCount:i.props.children.length})),d=(0,ut.getPostClones)(be(be(be({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(A){l.push(A.props.style.width),s+=A.props.style.width});for(var f=0;f<u;f++)a+=l[l.length-1-f],s+=l[l.length-1-f];for(var h=0;h<d;h++)s+=l[h];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var y={width:s+"px",left:-a+"px"};if(i.props.centerMode){var v="".concat(l[i.state.currentSlide],"px");y.left="calc(".concat(y.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:y}}var E=an.default.Children.count(i.props.children),g=be(be(be({},i.props),i.state),{},{slideCount:E}),p=(0,ut.getPreClones)(g)+(0,ut.getPostClones)(g)+E,w=100/i.props.slidesToShow*p,_=100/p,O=-_*((0,ut.getPreClones)(g)+i.state.currentSlide)*w/100;i.props.centerMode&&(O+=(100-_*w/100)/2);var C={width:w+"%",left:O+"%"};return{slideWidth:_+"%",trackStyle:C}}),Me(De(i),"checkImagesLoad",function(){var s=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=s.length,l=0;Array.prototype.forEach.call(s,function(u){var d=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(h){f(h),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=d,u.onerror=function(){d(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Me(De(i),"progressiveLazyLoad",function(){for(var s=[],a=be(be({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,ut.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){s.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,ut.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}s.length>0?(i.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Me(De(i),"slideHandler",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,d=l.beforeChange,f=l.onLazyLoad,h=l.speed,m=l.afterChange,y=i.state.currentSlide,v=(0,ut.slideHandler)(be(be(be({index:s},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),E=v.state,g=v.nextState;if(E){d&&d(y,E.currentSlide);var p=E.lazyLoadedList.filter(function(w){return i.state.lazyLoadedList.indexOf(w)<0});f&&p.length>0&&f(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(y),delete i.animationEndCallback),i.setState(E,function(){u&&i.asNavForIndex!==s&&(i.asNavForIndex=s,u.innerSlider.slideHandler(s)),g&&(i.animationEndCallback=setTimeout(function(){var w=g.animating,_=X6(g,["animating"]);i.setState(_,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:w})},10)),m&&m(E.currentSlide),delete i.animationEndCallback})},h))})}}),Me(De(i),"changeSlide",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=be(be({},i.props),i.state),u=(0,ut.changeSlide)(l,s);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var d=i.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),Me(De(i),"clickHandler",function(s){i.clickable===!1&&(s.stopPropagation(),s.preventDefault()),i.clickable=!0}),Me(De(i),"keyHandler",function(s){var a=(0,ut.keyHandler)(s,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Me(De(i),"selectHandler",function(s){i.changeSlide(s)}),Me(De(i),"disableBodyScroll",function(){var s=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=s}),Me(De(i),"enableBodyScroll",function(){window.ontouchmove=null}),Me(De(i),"swipeStart",function(s){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,ut.swipeStart)(s,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Me(De(i),"swipeMove",function(s){var a=(0,ut.swipeMove)(s,be(be(be({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Me(De(i),"swipeEnd",function(s){var a=(0,ut.swipeEnd)(s,be(be(be({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Me(De(i),"touchEnd",function(s){i.swipeEnd(s),i.clickable=!0}),Me(De(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Me(De(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Me(De(i),"slickGoTo",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:s,currentSlide:i.state.currentSlide},a)},0))}),Me(De(i),"play",function(){var s;if(i.props.rtl)s=i.state.currentSlide-i.props.slidesToScroll;else if((0,ut.canGoNext)(be(be({},i.props),i.state)))s=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(s)}),Me(De(i),"autoPlay",function(s){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(s==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(s==="leave"){if(a==="paused"||a==="focused")return}else if(s==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Me(De(i),"pause",function(s){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;s==="paused"?i.setState({autoplaying:"paused"}):s==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Me(De(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Me(De(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Me(De(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Me(De(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Me(De(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Me(De(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Me(De(i),"render",function(){var s=(0,K6.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=be(be({},i.props),i.state),l=(0,ut.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=be(be({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var d;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,ut.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),h=i.props.pauseOnDotsHover;f=be(be({},f),{},{clickHandler:i.changeSlide,onMouseEnter:h?i.onDotsLeave:null,onMouseOver:h?i.onDotsOver:null,onMouseLeave:h?i.onDotsLeave:null}),d=an.default.createElement(Q6.Dots,f)}var m,y,v=(0,ut.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=i.changeSlide,i.props.arrows&&(m=an.default.createElement(NE.PrevArrow,v),y=an.default.createElement(NE.NextArrow,v));var E=null;i.props.vertical&&(E={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var p=be(be({},E),g),w=i.props.touchMove,_={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:w?i.swipeStart:null,onMouseMove:i.state.dragging&&w?i.swipeMove:null,onMouseUp:w?i.swipeEnd:null,onMouseLeave:i.state.dragging&&w?i.swipeEnd:null,onTouchStart:w?i.swipeStart:null,onTouchMove:i.state.dragging&&w?i.swipeMove:null,onTouchEnd:w?i.touchEnd:null,onTouchCancel:i.state.dragging&&w?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},O={className:s,dir:"ltr",style:i.props.style};return i.props.unslick&&(_={className:"slick-list"},O={className:s}),an.default.createElement("div",O,i.props.unslick?"":m,an.default.createElement("div",Uf({ref:i.listRefHandler},_),an.default.createElement(G6.Track,Uf({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":y,i.props.unslick?"":d)}),i.list=null,i.track=null,i.state=be(be({},H6.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:an.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=be(be({},i.state),o),i}return t$(n,[{key:"didPropsChange",value:function(i){for(var o=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var l=a[s];if(!i.hasOwnProperty(l)){o=!0;break}if(!(Po(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){o=!0;break}}return o||an.default.Children.count(this.props.children)!==an.default.Children.count(i.children)}}]),n}(an.default.Component);var s$=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},a$=s$,l$=a$,u$=function(t){var e=/[height|width]$/;return e.test(t)},DE=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=l$(r),u$(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},c$=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=DE(n),r<t.length-1&&(e+=", ")}),e):DE(t)},f$=c$,Zd,ME;function h$(){if(ME)return Zd;ME=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Zd=t,Zd}var ep,jE;function fI(){if(jE)return ep;jE=1;function t(r,i){var o=0,s=r.length,a;for(o;o<s&&(a=i(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return ep={isFunction:n,isArray:e,each:t},ep}var tp,FE;function d$(){if(FE)return tp;FE=1;var t=h$(),e=fI().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(s){o.mql=s.currentTarget||s,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,s){if(o.equals(r))return o.destroy(),!i.splice(s,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},tp=n,tp}var np,UE;function p$(){if(UE)return np;UE=1;var t=d$(),e=fI(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(s,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[s]||(u[s]=new t(s,d)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(f){r(f)&&(f={match:f}),u[s].addHandler(f)}),this},unregister:function(s,a){var l=this.queries[s];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[s])),this}},np=o,np}var rp,VE;function m$(){if(VE)return rp;VE=1;var t=p$();return rp=new t,rp}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(oe),n=Vh,r=s(f$),i=s(iy),o=he;function s(P){return P&&P.__esModule?P:{default:P}}function a(P){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(P)}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(P[R]=S[R])}return P},l.apply(this,arguments)}function u(P,T){var S=Object.keys(P);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(P);T&&(R=R.filter(function(k){return Object.getOwnPropertyDescriptor(P,k).enumerable})),S.push.apply(S,R)}return S}function d(P){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?u(Object(S),!0).forEach(function(R){O(P,R,S[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(R){Object.defineProperty(P,R,Object.getOwnPropertyDescriptor(S,R))})}return P}function f(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function h(P,T){for(var S=0;S<T.length;S++){var R=T[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,C(R.key),R)}}function m(P,T,S){return T&&h(P.prototype,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function y(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),T&&v(P,T)}function v(P,T){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,k){return R.__proto__=k,R},v(P,T)}function E(P){var T=w();return function(){var R=_(P),k;if(T){var L=_(this).constructor;k=Reflect.construct(R,arguments,L)}else k=R.apply(this,arguments);return g(this,k)}}function g(P,T){if(T&&(a(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function w(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!P})()}function _(P){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},_(P)}function O(P,T,S){return T=C(T),T in P?Object.defineProperty(P,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):P[T]=S,P}function C(P){var T=A(P,"string");return a(T)=="symbol"?T:String(T)}function A(P,T){if(a(P)!="object"||!P)return P;var S=P[Symbol.toPrimitive];if(S!==void 0){var R=S.call(P,T||"default");if(a(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(P)}var b=(0,o.canUseDOM)()&&m$();t.default=function(P){y(S,P);var T=E(S);function S(R){var k;return f(this,S),k=T.call(this,R),O(p(k),"innerSliderRefHandler",function(L){return k.innerSlider=L}),O(p(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),O(p(k),"slickNext",function(){return k.innerSlider.slickNext()}),O(p(k),"slickGoTo",function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(L,V)}),O(p(k),"slickPause",function(){return k.innerSlider.pause("paused")}),O(p(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return m(S,[{key:"media",value:function(k,L){b.register(k,L),this._responsiveMediaHandlers.push({query:k,handler:L})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var L=this.props.responsive.map(function(H){return H.breakpoint});L.sort(function(H,K){return H-K}),L.forEach(function(H,K){var G;K===0?G=(0,r.default)({minWidth:0,maxWidth:H}):G=(0,r.default)({minWidth:L[K-1]+1,maxWidth:H}),(0,o.canUseDOM)()&&k.media(G,function(){k.setState({breakpoint:H})})});var V=(0,r.default)({minWidth:L.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(V,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){b.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,L,V;this.state.breakpoint?(V=this.props.responsive.filter(function($){return $.breakpoint===k.state.breakpoint}),L=V[0].settings==="unslick"?"unslick":d(d(d({},i.default),this.props),V[0].settings)):L=d(d({},i.default),this.props),L.centerMode&&(L.slidesToScroll>1,L.slidesToScroll=1),L.fade&&(L.slidesToShow>1,L.slidesToScroll>1,L.slidesToShow=1,L.slidesToScroll=1);var H=e.default.Children.toArray(this.props.children);H=H.filter(function($){return typeof $=="string"?!!$.trim():!!$}),L.variableWidth&&(L.rows>1||L.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),L.variableWidth=!1);for(var K=[],G=null,B=0;B<H.length;B+=L.rows*L.slidesPerRow){for(var F=[],N=B;N<B+L.rows*L.slidesPerRow;N+=L.slidesPerRow){for(var M=[],U=N;U<N+L.slidesPerRow&&(L.variableWidth&&H[U].props.style&&(G=H[U].props.style.width),!(U>=H.length));U+=1)M.push(e.default.cloneElement(H[U],{key:100*B+10*N+U,tabIndex:-1,style:{width:"".concat(100/L.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*B+N},M))}L.variableWidth?K.push(e.default.createElement("div",{key:B,style:{width:G}},F)):K.push(e.default.createElement("div",{key:B},F))}if(L==="unslick"){var Q="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Q},H)}else K.length<=L.slidesToShow&&!L.infinite&&(L.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(L)),K)}}]),S}(e.default.Component)})(xO);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(xO);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(CO);const g$=qf(CO),v$=({style:t,onClick:e})=>q.jsx("button",{className:"slick-prev",style:{...t,top:"50%",zIndex:1e3},onClick:e,children:"◄"}),y$=({style:t,onClick:e})=>q.jsx("button",{className:"slick-next",style:{...t,top:"50%",zIndex:1e3},onClick:e,children:"►"}),_$=({images:t})=>{const[e,n]=oe.useState(0),r={dots:!0,infinite:t.length>1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:q.jsx(v$,{}),nextArrow:q.jsx(y$,{}),beforeChange:(i,o)=>n(o)};return q.jsx("div",{className:"carousel-container",style:{width:"100%",maxHeight:"500px"},children:q.jsx(g$,{...r,children:t.map((i,o)=>q.jsx("div",{className:"image-wrapper",children:q.jsx("img",{src:i,alt:`Slide ${o+1}`,style:{width:"auto",maxWidth:"100%",maxHeight:"500px",objectFit:"contain",margin:"0 auto"}})},o))})})},E$=async(t,e)=>{const n=Ns(Mr,"projects");let r;t?r=uo(n,ps("route","==",e)):r=uo(n,ps("route","==",e),ps("isPublished","==",!0));const i=await Qv(r);if(i.empty)throw new Error("Project not found");{const o=i.docs[0],s=o.data(),a=kO.sanitize(s.deepdive);return{...s,deepdive:a,documentId:o.id}}},w$=()=>{const{currentUser:t}=ji(),{projectId:e}=ob(),{data:n,isLoading:r,error:i}=Jg(["project",e],()=>E$(t,e),{enabled:!!t||t===null,cacheTime:72e6,staleTime:36e6,refetchOnWindowFocus:!1,refetchOnReconnect:!1,keepPreviousData:!0}),o=s=>{window.location.href=`/edit-project/${s}`};return r?q.jsx("div",{children:"Loading project..."}):i?q.jsx("div",{children:i}):q.jsxs("div",{children:[t?q.jsx("button",{className:"edit-project-button",onClick:()=>o(documentId),children:"Edit Project"}):q.jsx(q.Fragment,{}),q.jsxs("div",{className:"project-page-container",children:[q.jsx("h1",{className:"project-title",children:n.title}),q.jsx("p",{className:"project-description",children:n.description}),n.images?q.jsx(_$,{images:n.images,className:"project-image"}):q.jsx("p",{children:"No images to display"}),q.jsx("h1",{className:"deep-dive-title",children:"Project Deep Dive"}),q.jsx("div",{dangerouslySetInnerHTML:{__html:n.deepdive},className:"deep-dive"})]})]})};function T$(){return q.jsxs("div",{children:[q.jsx("h1",{children:"TODO List"}),q.jsx("p",{children:"Welcome to the TODO list feature!"})]})}function b$(){return q.jsxs("div",{children:[q.jsx("h1",{children:"Pomodoro Timer"}),q.jsx("p",{children:"Productivity site!"})]})}function S$(){return q.jsxs("div",{children:[q.jsx("h1",{children:"Financial Tracker"}),q.jsx("p",{children:"Track your finances here!"})]})}function A$(){return q.jsxs("div",{children:[q.jsx("h1",{children:"Week Planner"}),q.jsx("p",{children:"Plan your weeks here!"})]})}function O$(){return q.jsxs("div",{children:[q.jsx("h1",{children:"CV"}),q.jsx("p",{children:"Add your CV here!"})]})}const hI=new TC,I$=ip.createRoot(document.getElementById("root"));I$.render(q.jsx(yb,{client:hI,children:q.jsx(nn.StrictMode,{children:q.jsx(FA,{children:q.jsx(P$,{})})})}));function P$(){return q.jsx(yb,{client:hI,children:q.jsx(FA,{children:q.jsx(eC,{children:q.jsxs("div",{children:[q.jsx(Dj,{}),q.jsxs(Kk,{children:[q.jsx(jn,{path:"/",element:q.jsx(Mj,{})}),q.jsx(jn,{path:"/login",element:q.jsx(jj,{})}),q.jsx(jn,{path:"/portfolio",element:q.jsx(Bj,{})}),q.jsx(jn,{path:"/portfolio/:projectId",element:q.jsx(w$,{})}),q.jsx(jn,{path:"/edit-project/:projectId",element:q.jsx(Vm,{})}),q.jsx(jn,{path:"/portfolio/addproject",element:q.jsx(qo,{children:q.jsx(yB,{})})}),q.jsx(jn,{path:"/CV",element:q.jsx(qo,{children:q.jsx(O$,{})})}),q.jsx(jn,{path:"/todo",element:q.jsx(qo,{children:q.jsx(T$,{})})}),q.jsx(jn,{path:"/pomodoro",element:q.jsx(qo,{children:q.jsx(b$,{})})}),q.jsx(jn,{path:"/finance",element:q.jsxs(qo,{children:[q.jsx(S$,{}),q.jsx(Pj,{}),q.jsx(kj,{})]})}),q.jsx(jn,{path:"/weekplanner",element:q.jsx(qo,{children:q.jsx(A$,{})})})]})]})})})})}
