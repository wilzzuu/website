function NO(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function LO(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var X1={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rl=Symbol.for("react.element"),DO=Symbol.for("react.portal"),MO=Symbol.for("react.fragment"),jO=Symbol.for("react.strict_mode"),VO=Symbol.for("react.profiler"),FO=Symbol.for("react.provider"),UO=Symbol.for("react.context"),BO=Symbol.for("react.forward_ref"),qO=Symbol.for("react.suspense"),zO=Symbol.for("react.memo"),$O=Symbol.for("react.lazy"),nv=Symbol.iterator;function HO(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var J1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z1=Object.assign,eE={};function Rs(t,e,n){this.props=t,this.context=e,this.refs=eE,this.updater=n||J1}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tE(){}tE.prototype=Rs.prototype;function Tm(t,e,n){this.props=t,this.context=e,this.refs=eE,this.updater=n||J1}var Sm=Tm.prototype=new tE;Sm.constructor=Tm;Z1(Sm,Rs.prototype);Sm.isPureReactComponent=!0;var rv=Array.isArray,nE=Object.prototype.hasOwnProperty,bm={current:null},rE={key:!0,ref:!0,__self:!0,__source:!0};function iE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)nE.call(e,r)&&!rE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Rl,type:t,key:o,ref:s,props:i,_owner:bm.current}}function WO(t,e){return{$$typeof:Rl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Am(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rl}function KO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var iv=/\/+/g;function Oh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KO(""+t.key):e.toString(36)}function Bu(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Rl:case DO:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Oh(s,0):r,rv(i)?(n="",t!=null&&(n=t.replace(iv,"$&/")+"/"),Bu(i,e,n,"",function(u){return u})):i!=null&&(Am(i)&&(i=WO(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(iv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",rv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Oh(o,a);s+=Bu(o,e,n,l,i)}else if(l=HO(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Oh(o,a++),s+=Bu(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function mu(t,e,n){if(t==null)return t;var r=[],i=0;return Bu(t,r,"","",function(o){return e.call(n,o,i++)}),r}function GO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},qu={transition:null},QO={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:qu,ReactCurrentOwner:bm};function oE(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:mu,forEach:function(t,e,n){mu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mu(t,function(){e++}),e},toArray:function(t){return mu(t,function(e){return e})||[]},only:function(t){if(!Am(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Rs;je.Fragment=MO;je.Profiler=VO;je.PureComponent=Tm;je.StrictMode=jO;je.Suspense=qO;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QO;je.act=oE;je.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Z1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=bm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nE.call(e,l)&&!rE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rl,type:t.type,key:i,ref:o,props:r,_owner:s}};je.createContext=function(t){return t={$$typeof:UO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FO,_context:t},t.Consumer=t};je.createElement=iE;je.createFactory=function(t){var e=iE.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:BO,render:t}};je.isValidElement=Am;je.lazy=function(t){return{$$typeof:$O,_payload:{_status:-1,_result:t},_init:GO}};je.memo=function(t,e){return{$$typeof:zO,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=qu.transition;qu.transition={};try{t()}finally{qu.transition=e}};je.unstable_act=oE;je.useCallback=function(t,e){return ln.current.useCallback(t,e)};je.useContext=function(t){return ln.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};je.useEffect=function(t,e){return ln.current.useEffect(t,e)};je.useId=function(){return ln.current.useId()};je.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};je.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return ln.current.useMemo(t,e)};je.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};je.useRef=function(t){return ln.current.useRef(t)};je.useState=function(t){return ln.current.useState(t)};je.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};je.useTransition=function(){return ln.current.useTransition()};je.version="18.3.1";X1.exports=je;var oe=X1.exports;const sE=yf(oe),YO=NO({__proto__:null,default:sE},[oe]);var xd={},aE={exports:{}},Cn={},lE={exports:{}},uE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,B){var F=G.length;G.push(B);e:for(;0<F;){var N=F-1>>>1,M=G[N];if(0<i(M,B))G[N]=B,G[F]=M,F=N;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var B=G[0],F=G.pop();if(F!==B){G[0]=F;e:for(var N=0,M=G.length,V=M>>>1;N<V;){var Q=2*(N+1)-1,q=G[Q],j=Q+1,z=G[j];if(0>i(q,F))j<M&&0>i(z,q)?(G[N]=z,G[j]=F,N=j):(G[N]=q,G[Q]=F,N=Q);else if(j<M&&0>i(z,F))G[N]=z,G[j]=F,N=j;else break e}}return B}function i(G,B){var F=G.sortIndex-B.sortIndex;return F!==0?F:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,f=null,d=3,m=!1,E=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=G)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function y(G){if(v=!1,w(G),!E)if(n(l)!==null)E=!0,H(O);else{var B=n(u);B!==null&&K(y,B.startTime-G)}}function O(G,B){E=!1,v&&(v=!1,g(S),S=-1),m=!0;var F=d;try{for(w(B),f=n(l);f!==null&&(!(f.expirationTime>B)||G&&!b());){var N=f.callback;if(typeof N=="function"){f.callback=null,d=f.priorityLevel;var M=N(f.expirationTime<=B);B=t.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&r(l),w(B)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var Q=n(u);Q!==null&&K(y,Q.startTime-B),V=!1}return V}finally{f=null,d=F,m=!1}}var x=!1,A=null,S=-1,P=5,T=-1;function b(){return!(t.unstable_now()-T<P)}function R(){if(A!==null){var G=t.unstable_now();T=G;var B=!0;try{B=A(!0,G)}finally{B?k():(x=!1,A=null)}}else x=!1}var k;if(typeof p=="function")k=function(){p(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=R,k=function(){U.postMessage(null)}}else k=function(){_(R,0)};function H(G){A=G,x||(x=!0,k())}function K(G,B){S=_(function(){G(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,H(O))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var F=d;d=B;try{return G()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var F=d;d=G;try{return B()}finally{d=F}},t.unstable_scheduleCallback=function(G,B,F){var N=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,G={id:h++,callback:B,priorityLevel:G,startTime:F,expirationTime:M,sortIndex:-1},F>N?(G.sortIndex=F,e(u,G),n(l)===null&&G===n(u)&&(v?(g(S),S=-1):v=!0,K(y,F-N))):(G.sortIndex=M,e(l,G),E||m||(E=!0,H(O))),G},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(G){var B=d;return function(){var F=d;d=B;try{return G.apply(this,arguments)}finally{d=F}}}})(uE);lE.exports=uE;var XO=lE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO=oe,Rn=XO;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cE=new Set,Ja={};function vo(t,e){as(t,e),as(t+"Capture",e)}function as(t,e){for(Ja[t]=e,t=0;t<e.length;t++)cE.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nd=Object.prototype.hasOwnProperty,ZO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ov={},sv={};function eI(t){return Nd.call(sv,t)?!0:Nd.call(ov,t)?!1:ZO.test(t)?sv[t]=!0:(ov[t]=!0,!1)}function tI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nI(t,e,n,r){if(e===null||typeof e>"u"||tI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Im);zt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Im);zt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Im);zt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pm(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nI(e,n,i,r)&&(n=null),r||i===null?eI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=JO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Mo=Symbol.for("react.fragment"),Rm=Symbol.for("react.strict_mode"),Ld=Symbol.for("react.profiler"),fE=Symbol.for("react.provider"),hE=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),Dd=Symbol.for("react.suspense"),Md=Symbol.for("react.suspense_list"),Cm=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),dE=Symbol.for("react.offscreen"),av=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=av&&t[av]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,Ih;function Pa(t){if(Ih===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ih=e&&e[1]||""}return`
`+Ih+t}var Ph=!1;function Rh(t,e){if(!t||Ph)return"";Ph=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ph=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pa(t):""}function rI(t){switch(t.tag){case 5:return Pa(t.type);case 16:return Pa("Lazy");case 13:return Pa("Suspense");case 19:return Pa("SuspenseList");case 0:case 2:case 15:return t=Rh(t.type,!1),t;case 11:return t=Rh(t.type.render,!1),t;case 1:return t=Rh(t.type,!0),t;default:return""}}function jd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mo:return"Fragment";case Do:return"Portal";case Ld:return"Profiler";case Rm:return"StrictMode";case Dd:return"Suspense";case Md:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hE:return(t.displayName||"Context")+".Consumer";case fE:return(t._context.displayName||"Context")+".Provider";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cm:return e=t.displayName||null,e!==null?e:jd(t.type)||"Memo";case Jr:e=t._payload,t=t._init;try{return jd(t(e))}catch{}}return null}function iI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(e);case 8:return e===Rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oI(t){var e=pE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){t._valueTracker||(t._valueTracker=oI(t))}function mE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vd(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gE(t,e){e=e.checked,e!=null&&Pm(t,"checked",e,!1)}function Fd(t,e){gE(t,e);var n=Ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ud(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ud(t,e.type,Ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function uv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ud(t,e,n){(e!=="number"||hc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ra=Array.isArray;function Go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ai(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Ra(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ai(n)}}function yE(t,e){var n=Ai(e.value),r=Ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function fv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,_E=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sI=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){sI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function EE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function wE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var aI=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zd(t,e){if(e){if(aI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function $d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=null;function xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wd=null,Qo=null,Yo=null;function hv(t){if(t=xl(t)){if(typeof Wd!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Tf(e),Wd(t.stateNode,t.type,e))}}function TE(t){Qo?Yo?Yo.push(t):Yo=[t]:Qo=t}function SE(){if(Qo){var t=Qo,e=Yo;if(Yo=Qo=null,hv(t),e)for(t=0;t<e.length;t++)hv(e[t])}}function bE(t,e){return t(e)}function AE(){}var kh=!1;function OE(t,e,n){if(kh)return t(e,n);kh=!0;try{return bE(t,e,n)}finally{kh=!1,(Qo!==null||Yo!==null)&&(AE(),SE())}}function el(t,e){var n=t.stateNode;if(n===null)return null;var r=Tf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var Kd=!1;if(xr)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Kd=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Kd=!1}function lI(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Fa=!1,dc=null,pc=!1,Gd=null,uI={onError:function(t){Fa=!0,dc=t}};function cI(t,e,n,r,i,o,s,a,l){Fa=!1,dc=null,lI.apply(uI,arguments)}function fI(t,e,n,r,i,o,s,a,l){if(cI.apply(this,arguments),Fa){if(Fa){var u=dc;Fa=!1,dc=null}else throw Error(le(198));pc||(pc=!0,Gd=u)}}function _o(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function IE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dv(t){if(_o(t)!==t)throw Error(le(188))}function hI(t){var e=t.alternate;if(!e){if(e=_o(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return dv(i),t;if(o===r)return dv(i),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function PE(t){return t=hI(t),t!==null?RE(t):null}function RE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RE(t);if(e!==null)return e;t=t.sibling}return null}var kE=Rn.unstable_scheduleCallback,pv=Rn.unstable_cancelCallback,dI=Rn.unstable_shouldYield,pI=Rn.unstable_requestPaint,Et=Rn.unstable_now,mI=Rn.unstable_getCurrentPriorityLevel,Nm=Rn.unstable_ImmediatePriority,CE=Rn.unstable_UserBlockingPriority,mc=Rn.unstable_NormalPriority,gI=Rn.unstable_LowPriority,xE=Rn.unstable_IdlePriority,vf=null,ur=null;function yI(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(vf,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:EI,vI=Math.log,_I=Math.LN2;function EI(t){return t>>>=0,t===0?32:31-(vI(t)/_I|0)|0}var _u=64,Eu=4194304;function ka(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ka(a):(o&=s,o!==0&&(r=ka(o)))}else s=n&~i,s!==0?r=ka(s):o!==0&&(r=ka(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function wI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function TI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Yn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=wI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Qd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NE(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function Ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function SI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Lm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function LE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DE,Dm,ME,jE,VE,Yd=!1,wu=[],fi=null,hi=null,di=null,tl=new Map,nl=new Map,ti=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(t,e){switch(t){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function ha(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=xl(e),e!==null&&Dm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AI(t,e,n,r,i){switch(e){case"focusin":return fi=ha(fi,t,e,n,r,i),!0;case"dragenter":return hi=ha(hi,t,e,n,r,i),!0;case"mouseover":return di=ha(di,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return tl.set(o,ha(tl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,nl.set(o,ha(nl.get(o)||null,t,e,n,r,i)),!0}return!1}function FE(t){var e=Qi(t.target);if(e!==null){var n=_o(e);if(n!==null){if(e=n.tag,e===13){if(e=IE(n),e!==null){t.blockedOn=e,VE(t.priority,function(){ME(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hd=r,n.target.dispatchEvent(r),Hd=null}else return e=xl(n),e!==null&&Dm(e),t.blockedOn=n,!1;e.shift()}return!0}function gv(t,e,n){zu(t)&&n.delete(e)}function OI(){Yd=!1,fi!==null&&zu(fi)&&(fi=null),hi!==null&&zu(hi)&&(hi=null),di!==null&&zu(di)&&(di=null),tl.forEach(gv),nl.forEach(gv)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,Yd||(Yd=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,OI)))}function rl(t){function e(i){return da(i,t)}if(0<wu.length){da(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fi!==null&&da(fi,t),hi!==null&&da(hi,t),di!==null&&da(di,t),tl.forEach(e),nl.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)FE(n),n.blockedOn===null&&ti.shift()}var Xo=Ur.ReactCurrentBatchConfig,yc=!0;function II(t,e,n,r){var i=Ke,o=Xo.transition;Xo.transition=null;try{Ke=1,Mm(t,e,n,r)}finally{Ke=i,Xo.transition=o}}function PI(t,e,n,r){var i=Ke,o=Xo.transition;Xo.transition=null;try{Ke=4,Mm(t,e,n,r)}finally{Ke=i,Xo.transition=o}}function Mm(t,e,n,r){if(yc){var i=Xd(t,e,n,r);if(i===null)Bh(t,e,r,vc,n),mv(t,r);else if(AI(i,t,e,n,r))r.stopPropagation();else if(mv(t,r),e&4&&-1<bI.indexOf(t)){for(;i!==null;){var o=xl(i);if(o!==null&&DE(o),o=Xd(t,e,n,r),o===null&&Bh(t,e,r,vc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Bh(t,e,r,null,n)}}var vc=null;function Xd(t,e,n,r){if(vc=null,t=xm(r),t=Qi(t),t!==null)if(e=_o(t),e===null)t=null;else if(n=e.tag,n===13){if(t=IE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vc=t,null}function UE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mI()){case Nm:return 1;case CE:return 4;case mc:case gI:return 16;case xE:return 536870912;default:return 16}default:return 16}}var ai=null,jm=null,$u=null;function BE(){if($u)return $u;var t,e=jm,n=e.length,r,i="value"in ai?ai.value:ai.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return $u=i.slice(t,1<r?1-r:void 0)}function Hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function yv(){return!1}function xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tu:yv,this.isPropagationStopped=yv,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=xn(ks),Cl=ht({},ks,{view:0,detail:0}),RI=xn(Cl),xh,Nh,pa,_f=ht({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(xh=t.screenX-pa.screenX,Nh=t.screenY-pa.screenY):Nh=xh=0,pa=t),xh)},movementY:function(t){return"movementY"in t?t.movementY:Nh}}),vv=xn(_f),kI=ht({},_f,{dataTransfer:0}),CI=xn(kI),xI=ht({},Cl,{relatedTarget:0}),Lh=xn(xI),NI=ht({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),LI=xn(NI),DI=ht({},ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MI=xn(DI),jI=ht({},ks,{data:0}),_v=xn(jI),VI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UI[t])?!!e[t]:!1}function Fm(){return BI}var qI=ht({},Cl,{key:function(t){if(t.key){var e=VI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(t){return t.type==="keypress"?Hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zI=xn(qI),$I=ht({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=xn($I),HI=ht({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),WI=xn(HI),KI=ht({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=xn(KI),QI=ht({},_f,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YI=xn(QI),XI=[9,13,27,32],Um=xr&&"CompositionEvent"in window,Ua=null;xr&&"documentMode"in document&&(Ua=document.documentMode);var JI=xr&&"TextEvent"in window&&!Ua,qE=xr&&(!Um||Ua&&8<Ua&&11>=Ua),wv=" ",Tv=!1;function zE(t,e){switch(t){case"keyup":return XI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $E(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jo=!1;function ZI(t,e){switch(t){case"compositionend":return $E(e);case"keypress":return e.which!==32?null:(Tv=!0,wv);case"textInput":return t=e.data,t===wv&&Tv?null:t;default:return null}}function eP(t,e){if(jo)return t==="compositionend"||!Um&&zE(t,e)?(t=BE(),$u=jm=ai=null,jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qE&&e.locale!=="ko"?null:e.data;default:return null}}var tP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tP[t.type]:e==="textarea"}function HE(t,e,n,r){TE(r),e=_c(e,"onChange"),0<e.length&&(n=new Vm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ba=null,il=null;function nP(t){nw(t,0)}function Ef(t){var e=Uo(t);if(mE(e))return t}function rP(t,e){if(t==="change")return e}var WE=!1;if(xr){var Dh;if(xr){var Mh="oninput"in document;if(!Mh){var bv=document.createElement("div");bv.setAttribute("oninput","return;"),Mh=typeof bv.oninput=="function"}Dh=Mh}else Dh=!1;WE=Dh&&(!document.documentMode||9<document.documentMode)}function Av(){Ba&&(Ba.detachEvent("onpropertychange",KE),il=Ba=null)}function KE(t){if(t.propertyName==="value"&&Ef(il)){var e=[];HE(e,il,t,xm(t)),OE(nP,e)}}function iP(t,e,n){t==="focusin"?(Av(),Ba=e,il=n,Ba.attachEvent("onpropertychange",KE)):t==="focusout"&&Av()}function oP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ef(il)}function sP(t,e){if(t==="click")return Ef(e)}function aP(t,e){if(t==="input"||t==="change")return Ef(e)}function lP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:lP;function ol(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nd.call(e,i)||!Jn(t[i],e[i]))return!1}return!0}function Ov(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Iv(t,e){var n=Ov(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ov(n)}}function GE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QE(){for(var t=window,e=hc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hc(t.document)}return e}function Bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uP(t){var e=QE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GE(n.ownerDocument.documentElement,n)){if(r!==null&&Bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Iv(n,o);var s=Iv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cP=xr&&"documentMode"in document&&11>=document.documentMode,Vo=null,Jd=null,qa=null,Zd=!1;function Pv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zd||Vo==null||Vo!==hc(r)||(r=Vo,"selectionStart"in r&&Bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&ol(qa,r)||(qa=r,r=_c(Jd,"onSelect"),0<r.length&&(e=new Vm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vo)))}function Su(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},jh={},YE={};xr&&(YE=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function wf(t){if(jh[t])return jh[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YE)return jh[t]=e[n];return t}var XE=wf("animationend"),JE=wf("animationiteration"),ZE=wf("animationstart"),ew=wf("transitionend"),tw=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(t,e){tw.set(t,e),vo(e,[t])}for(var Vh=0;Vh<Rv.length;Vh++){var Fh=Rv[Vh],fP=Fh.toLowerCase(),hP=Fh[0].toUpperCase()+Fh.slice(1);Ci(fP,"on"+hP)}Ci(XE,"onAnimationEnd");Ci(JE,"onAnimationIteration");Ci(ZE,"onAnimationStart");Ci("dblclick","onDoubleClick");Ci("focusin","onFocus");Ci("focusout","onBlur");Ci(ew,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function kv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fI(r,e,void 0,t),t.currentTarget=null}function nw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;kv(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;kv(i,a,u),o=l}}}if(pc)throw t=Gd,pc=!1,Gd=null,t}function tt(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(rw(e,t,2,!1),n.add(r))}function Uh(t,e,n){var r=0;e&&(r|=4),rw(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function sl(t){if(!t[bu]){t[bu]=!0,cE.forEach(function(n){n!=="selectionchange"&&(dP.has(n)||Uh(n,!1,t),Uh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Uh("selectionchange",!1,e))}}function rw(t,e,n,r){switch(UE(e)){case 1:var i=II;break;case 4:i=PI;break;default:i=Mm}n=i.bind(null,e,n,t),i=void 0,!Kd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Qi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}OE(function(){var u=o,h=xm(n),f=[];e:{var d=tw.get(t);if(d!==void 0){var m=Vm,E=t;switch(t){case"keypress":if(Hu(n)===0)break e;case"keydown":case"keyup":m=zI;break;case"focusin":E="focus",m=Lh;break;case"focusout":E="blur",m=Lh;break;case"beforeblur":case"afterblur":m=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WI;break;case XE:case JE:case ZE:m=LI;break;case ew:m=GI;break;case"scroll":m=RI;break;case"wheel":m=YI;break;case"copy":case"cut":case"paste":m=MI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ev}var v=(e&4)!==0,_=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,w;p!==null;){w=p;var y=w.stateNode;if(w.tag===5&&y!==null&&(w=y,g!==null&&(y=el(p,g),y!=null&&v.push(al(p,y,w)))),_)break;p=p.return}0<v.length&&(d=new m(d,E,null,n,h),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Hd&&(E=n.relatedTarget||n.fromElement)&&(Qi(E)||E[Nr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=u,E=E?Qi(E):null,E!==null&&(_=_o(E),E!==_||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=u),m!==E)){if(v=vv,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ev,y="onPointerLeave",g="onPointerEnter",p="pointer"),_=m==null?d:Uo(m),w=E==null?d:Uo(E),d=new v(y,p+"leave",m,n,h),d.target=_,d.relatedTarget=w,y=null,Qi(h)===u&&(v=new v(g,p+"enter",E,n,h),v.target=w,v.relatedTarget=_,y=v),_=y,m&&E)t:{for(v=m,g=E,p=0,w=v;w;w=ko(w))p++;for(w=0,y=g;y;y=ko(y))w++;for(;0<p-w;)v=ko(v),p--;for(;0<w-p;)g=ko(g),w--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=ko(v),g=ko(g)}v=null}else v=null;m!==null&&Cv(f,d,m,v,!1),E!==null&&_!==null&&Cv(f,_,E,v,!0)}}e:{if(d=u?Uo(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var O=rP;else if(Sv(d))if(WE)O=aP;else{O=oP;var x=iP}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=sP);if(O&&(O=O(t,u))){HE(f,O,n,h);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Ud(d,"number",d.value)}switch(x=u?Uo(u):window,t){case"focusin":(Sv(x)||x.contentEditable==="true")&&(Vo=x,Jd=u,qa=null);break;case"focusout":qa=Jd=Vo=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Pv(f,n,h);break;case"selectionchange":if(cP)break;case"keydown":case"keyup":Pv(f,n,h)}var A;if(Um)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else jo?zE(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(qE&&n.locale!=="ko"&&(jo||S!=="onCompositionStart"?S==="onCompositionEnd"&&jo&&(A=BE()):(ai=h,jm="value"in ai?ai.value:ai.textContent,jo=!0)),x=_c(u,S),0<x.length&&(S=new _v(S,t,null,n,h),f.push({event:S,listeners:x}),A?S.data=A:(A=$E(n),A!==null&&(S.data=A)))),(A=JI?ZI(t,n):eP(t,n))&&(u=_c(u,"onBeforeInput"),0<u.length&&(h=new _v("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=A))}nw(f,e)})}function al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _c(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=el(t,n),o!=null&&r.unshift(al(t,o,i)),o=el(t,e),o!=null&&r.push(al(t,o,i))),t=t.return}return r}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=el(n,o),l!=null&&s.unshift(al(n,l,a))):i||(l=el(n,o),l!=null&&s.push(al(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var pP=/\r\n?/g,mP=/\u0000|\uFFFD/g;function xv(t){return(typeof t=="string"?t:""+t).replace(pP,`
`).replace(mP,"")}function Au(t,e,n){if(e=xv(e),xv(t)!==e&&n)throw Error(le(425))}function Ec(){}var ep=null,tp=null;function np(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rp=typeof setTimeout=="function"?setTimeout:void 0,gP=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,yP=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(vP)}:rp;function vP(t){setTimeout(function(){throw t})}function qh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rl(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cs=Math.random().toString(36).slice(2),lr="__reactFiber$"+Cs,ll="__reactProps$"+Cs,Nr="__reactContainer$"+Cs,ip="__reactEvents$"+Cs,_P="__reactListeners$"+Cs,EP="__reactHandles$"+Cs;function Qi(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nr]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[lr])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function xl(t){return t=t[lr]||t[Nr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Tf(t){return t[ll]||null}var op=[],Bo=-1;function xi(t){return{current:t}}function it(t){0>Bo||(t.current=op[Bo],op[Bo]=null,Bo--)}function Ze(t,e){Bo++,op[Bo]=t.current,t.current=e}var Oi={},en=xi(Oi),gn=xi(!1),io=Oi;function ls(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function wc(){it(gn),it(en)}function Dv(t,e,n){if(en.current!==Oi)throw Error(le(168));Ze(en,e),Ze(gn,n)}function iw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,iI(t)||"Unknown",i));return ht({},n,r)}function Tc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,io=en.current,Ze(en,t),Ze(gn,gn.current),!0}function Mv(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=iw(t,e,io),r.__reactInternalMemoizedMergedChildContext=t,it(gn),it(en),Ze(en,t)):it(gn),Ze(gn,n)}var Sr=null,Sf=!1,zh=!1;function ow(t){Sr===null?Sr=[t]:Sr.push(t)}function wP(t){Sf=!0,ow(t)}function Ni(){if(!zh&&Sr!==null){zh=!0;var t=0,e=Ke;try{var n=Sr;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,Sf=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),kE(Nm,Ni),i}finally{Ke=e,zh=!1}}return null}var qo=[],zo=0,Sc=null,bc=0,Ln=[],Dn=0,oo=null,br=1,Ar="";function $i(t,e){qo[zo++]=bc,qo[zo++]=Sc,Sc=t,bc=e}function sw(t,e,n){Ln[Dn++]=br,Ln[Dn++]=Ar,Ln[Dn++]=oo,oo=t;var r=br;t=Ar;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var o=32-Yn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,br=1<<32-Yn(e)+i|n<<i|r,Ar=o+t}else br=1<<o|n<<i|r,Ar=t}function qm(t){t.return!==null&&($i(t,1),sw(t,1,0))}function zm(t){for(;t===Sc;)Sc=qo[--zo],qo[zo]=null,bc=qo[--zo],qo[zo]=null;for(;t===oo;)oo=Ln[--Dn],Ln[Dn]=null,Ar=Ln[--Dn],Ln[Dn]=null,br=Ln[--Dn],Ln[Dn]=null}var In=null,An=null,at=!1,Qn=null;function aw(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,An=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oo!==null?{id:br,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,An=null,!0):!1;default:return!1}}function sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ap(t){if(at){var e=An;if(e){var n=e;if(!jv(t,e)){if(sp(t))throw Error(le(418));e=pi(n.nextSibling);var r=In;e&&jv(t,e)?aw(r,n):(t.flags=t.flags&-4097|2,at=!1,In=t)}}else{if(sp(t))throw Error(le(418));t.flags=t.flags&-4097|2,at=!1,In=t}}}function Vv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Ou(t){if(t!==In)return!1;if(!at)return Vv(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!np(t.type,t.memoizedProps)),e&&(e=An)){if(sp(t))throw lw(),Error(le(418));for(;e;)aw(t,e),e=pi(e.nextSibling)}if(Vv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=In?pi(t.stateNode.nextSibling):null;return!0}function lw(){for(var t=An;t;)t=pi(t.nextSibling)}function us(){An=In=null,at=!1}function $m(t){Qn===null?Qn=[t]:Qn.push(t)}var TP=Ur.ReactCurrentBatchConfig;function ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Iu(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fv(t){var e=t._init;return e(t._payload)}function uw(t){function e(g,p){if(t){var w=g.deletions;w===null?(g.deletions=[p],g.flags|=16):w.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=vi(g,p),g.index=0,g.sibling=null,g}function o(g,p,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<p?(g.flags|=2,p):w):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,w,y){return p===null||p.tag!==6?(p=Yh(w,g.mode,y),p.return=g,p):(p=i(p,w),p.return=g,p)}function l(g,p,w,y){var O=w.type;return O===Mo?h(g,p,w.props.children,y,w.key):p!==null&&(p.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jr&&Fv(O)===p.type)?(y=i(p,w.props),y.ref=ma(g,p,w),y.return=g,y):(y=Ju(w.type,w.key,w.props,null,g.mode,y),y.ref=ma(g,p,w),y.return=g,y)}function u(g,p,w,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Xh(w,g.mode,y),p.return=g,p):(p=i(p,w.children||[]),p.return=g,p)}function h(g,p,w,y,O){return p===null||p.tag!==7?(p=to(w,g.mode,y,O),p.return=g,p):(p=i(p,w),p.return=g,p)}function f(g,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yh(""+p,g.mode,w),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case gu:return w=Ju(p.type,p.key,p.props,null,g.mode,w),w.ref=ma(g,null,p),w.return=g,w;case Do:return p=Xh(p,g.mode,w),p.return=g,p;case Jr:var y=p._init;return f(g,y(p._payload),w)}if(Ra(p)||ca(p))return p=to(p,g.mode,w,null),p.return=g,p;Iu(g,p)}return null}function d(g,p,w,y){var O=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:a(g,p,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:return w.key===O?l(g,p,w,y):null;case Do:return w.key===O?u(g,p,w,y):null;case Jr:return O=w._init,d(g,p,O(w._payload),y)}if(Ra(w)||ca(w))return O!==null?null:h(g,p,w,y,null);Iu(g,w)}return null}function m(g,p,w,y,O){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(w)||null,a(p,g,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case gu:return g=g.get(y.key===null?w:y.key)||null,l(p,g,y,O);case Do:return g=g.get(y.key===null?w:y.key)||null,u(p,g,y,O);case Jr:var x=y._init;return m(g,p,w,x(y._payload),O)}if(Ra(y)||ca(y))return g=g.get(w)||null,h(p,g,y,O,null);Iu(p,y)}return null}function E(g,p,w,y){for(var O=null,x=null,A=p,S=p=0,P=null;A!==null&&S<w.length;S++){A.index>S?(P=A,A=null):P=A.sibling;var T=d(g,A,w[S],y);if(T===null){A===null&&(A=P);break}t&&A&&T.alternate===null&&e(g,A),p=o(T,p,S),x===null?O=T:x.sibling=T,x=T,A=P}if(S===w.length)return n(g,A),at&&$i(g,S),O;if(A===null){for(;S<w.length;S++)A=f(g,w[S],y),A!==null&&(p=o(A,p,S),x===null?O=A:x.sibling=A,x=A);return at&&$i(g,S),O}for(A=r(g,A);S<w.length;S++)P=m(A,g,S,w[S],y),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),p=o(P,p,S),x===null?O=P:x.sibling=P,x=P);return t&&A.forEach(function(b){return e(g,b)}),at&&$i(g,S),O}function v(g,p,w,y){var O=ca(w);if(typeof O!="function")throw Error(le(150));if(w=O.call(w),w==null)throw Error(le(151));for(var x=O=null,A=p,S=p=0,P=null,T=w.next();A!==null&&!T.done;S++,T=w.next()){A.index>S?(P=A,A=null):P=A.sibling;var b=d(g,A,T.value,y);if(b===null){A===null&&(A=P);break}t&&A&&b.alternate===null&&e(g,A),p=o(b,p,S),x===null?O=b:x.sibling=b,x=b,A=P}if(T.done)return n(g,A),at&&$i(g,S),O;if(A===null){for(;!T.done;S++,T=w.next())T=f(g,T.value,y),T!==null&&(p=o(T,p,S),x===null?O=T:x.sibling=T,x=T);return at&&$i(g,S),O}for(A=r(g,A);!T.done;S++,T=w.next())T=m(A,g,S,T.value,y),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?S:T.key),p=o(T,p,S),x===null?O=T:x.sibling=T,x=T);return t&&A.forEach(function(R){return e(g,R)}),at&&$i(g,S),O}function _(g,p,w,y){if(typeof w=="object"&&w!==null&&w.type===Mo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case gu:e:{for(var O=w.key,x=p;x!==null;){if(x.key===O){if(O=w.type,O===Mo){if(x.tag===7){n(g,x.sibling),p=i(x,w.props.children),p.return=g,g=p;break e}}else if(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jr&&Fv(O)===x.type){n(g,x.sibling),p=i(x,w.props),p.ref=ma(g,x,w),p.return=g,g=p;break e}n(g,x);break}else e(g,x);x=x.sibling}w.type===Mo?(p=to(w.props.children,g.mode,y,w.key),p.return=g,g=p):(y=Ju(w.type,w.key,w.props,null,g.mode,y),y.ref=ma(g,p,w),y.return=g,g=y)}return s(g);case Do:e:{for(x=w.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(g,p.sibling),p=i(p,w.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Xh(w,g.mode,y),p.return=g,g=p}return s(g);case Jr:return x=w._init,_(g,p,x(w._payload),y)}if(Ra(w))return E(g,p,w,y);if(ca(w))return v(g,p,w,y);Iu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,w),p.return=g,g=p):(n(g,p),p=Yh(w,g.mode,y),p.return=g,g=p),s(g)):n(g,p)}return _}var cs=uw(!0),cw=uw(!1),Ac=xi(null),Oc=null,$o=null,Hm=null;function Wm(){Hm=$o=Oc=null}function Km(t){var e=Ac.current;it(Ac),t._currentValue=e}function lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){Oc=t,Hm=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(Hm!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Oc===null)throw Error(le(308));$o=t,Oc.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Yi=null;function Gm(t){Yi===null?Yi=[t]:Yi.push(t)}function fw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zr=!1;function Qm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Lr(t,n)}return i=r.interleaved,i===null?(e.next=e,Gm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Lr(t,n)}function Wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lm(t,n)}}function Uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ic(t,e,n,r){var i=t.updateQueue;Zr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,h=u=l=null,a=o;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,v=a;switch(d=e,m=n,v.tag){case 1:if(E=v.payload,typeof E=="function"){f=E.call(m,f,d);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=v.payload,d=typeof E=="function"?E.call(m,f,d):E,d==null)break e;f=ht({},f,d);break e;case 2:Zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ao|=s,t.lanes=s,t.memoizedState=f}}function Bv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Nl={},cr=xi(Nl),ul=xi(Nl),cl=xi(Nl);function Xi(t){if(t===Nl)throw Error(le(174));return t}function Ym(t,e){switch(Ze(cl,e),Ze(ul,t),Ze(cr,Nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qd(e,t)}it(cr),Ze(cr,e)}function fs(){it(cr),it(ul),it(cl)}function dw(t){Xi(cl.current);var e=Xi(cr.current),n=qd(e,t.type);e!==n&&(Ze(ul,t),Ze(cr,n))}function Xm(t){ul.current===t&&(it(cr),it(ul))}var ct=xi(0);function Pc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $h=[];function Jm(){for(var t=0;t<$h.length;t++)$h[t]._workInProgressVersionPrimary=null;$h.length=0}var Ku=Ur.ReactCurrentDispatcher,Hh=Ur.ReactCurrentBatchConfig,so=0,ft=null,Ot=null,xt=null,Rc=!1,za=!1,fl=0,SP=0;function Gt(){throw Error(le(321))}function Zm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function eg(t,e,n,r,i,o){if(so=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ku.current=t===null||t.memoizedState===null?IP:PP,t=n(r,i),za){o=0;do{if(za=!1,fl=0,25<=o)throw Error(le(301));o+=1,xt=Ot=null,e.updateQueue=null,Ku.current=RP,t=n(r,i)}while(za)}if(Ku.current=kc,e=Ot!==null&&Ot.next!==null,so=0,xt=Ot=ft=null,Rc=!1,e)throw Error(le(300));return t}function tg(){var t=fl!==0;return fl=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?ft.memoizedState=xt=t:xt=xt.next=t,xt}function Fn(){if(Ot===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=xt===null?ft.memoizedState:xt.next;if(e!==null)xt=e,Ot=t;else{if(t===null)throw Error(le(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},xt===null?ft.memoizedState=xt=t:xt=xt.next=t}return xt}function hl(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=Fn(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((so&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,ft.lanes|=h,ao|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Jn(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,ao|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kh(t){var e=Fn(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Jn(o,e.memoizedState)||(mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pw(){}function mw(t,e){var n=ft,r=Fn(),i=e(),o=!Jn(r.memoizedState,i);if(o&&(r.memoizedState=i,mn=!0),r=r.queue,ng(vw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,dl(9,yw.bind(null,n,r,i,e),void 0,null),Nt===null)throw Error(le(349));so&30||gw(n,e,i)}return i}function gw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yw(t,e,n,r){e.value=n,e.getSnapshot=r,_w(e)&&Ew(t)}function vw(t,e,n){return n(function(){_w(e)&&Ew(t)})}function _w(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function Ew(t){var e=Lr(t,1);e!==null&&Xn(e,t,1,-1)}function qv(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},e.queue=t,t=t.dispatch=OP.bind(null,ft,t),[e.memoizedState,t]}function dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ww(){return Fn().memoizedState}function Gu(t,e,n,r){var i=ar();ft.flags|=t,i.memoizedState=dl(1|e,n,void 0,r===void 0?null:r)}function bf(t,e,n,r){var i=Fn();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var s=Ot.memoizedState;if(o=s.destroy,r!==null&&Zm(r,s.deps)){i.memoizedState=dl(e,n,o,r);return}}ft.flags|=t,i.memoizedState=dl(1|e,n,o,r)}function zv(t,e){return Gu(8390656,8,t,e)}function ng(t,e){return bf(2048,8,t,e)}function Tw(t,e){return bf(4,2,t,e)}function Sw(t,e){return bf(4,4,t,e)}function bw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Aw(t,e,n){return n=n!=null?n.concat([t]):null,bf(4,4,bw.bind(null,e,t),n)}function rg(){}function Ow(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Iw(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pw(t,e,n){return so&21?(Jn(n,e)||(n=NE(),ft.lanes|=n,ao|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function bP(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=Hh.transition;Hh.transition={};try{t(!1),e()}finally{Ke=n,Hh.transition=r}}function Rw(){return Fn().memoizedState}function AP(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kw(t))Cw(e,n);else if(n=fw(t,e,n,r),n!==null){var i=sn();Xn(n,t,r,i),xw(n,e,r)}}function OP(t,e,n){var r=yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kw(t))Cw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Jn(a,s)){var l=e.interleaved;l===null?(i.next=i,Gm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=fw(t,e,i,r),n!==null&&(i=sn(),Xn(n,t,r,i),xw(n,e,r))}}function kw(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function Cw(t,e){za=Rc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lm(t,n)}}var kc={readContext:Vn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},IP={readContext:Vn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4194308,4,bw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gu(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AP.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:qv,useDebugValue:rg,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=qv(!1),e=t[0];return t=bP.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=ar();if(at){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Nt===null)throw Error(le(349));so&30||gw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,zv(vw.bind(null,r,o,t),[t]),r.flags|=2048,dl(9,yw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ar(),e=Nt.identifierPrefix;if(at){var n=Ar,r=br;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PP={readContext:Vn,useCallback:Ow,useContext:Vn,useEffect:ng,useImperativeHandle:Aw,useInsertionEffect:Tw,useLayoutEffect:Sw,useMemo:Iw,useReducer:Wh,useRef:ww,useState:function(){return Wh(hl)},useDebugValue:rg,useDeferredValue:function(t){var e=Fn();return Pw(e,Ot.memoizedState,t)},useTransition:function(){var t=Wh(hl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:pw,useSyncExternalStore:mw,useId:Rw,unstable_isNewReconciler:!1},RP={readContext:Vn,useCallback:Ow,useContext:Vn,useEffect:ng,useImperativeHandle:Aw,useInsertionEffect:Tw,useLayoutEffect:Sw,useMemo:Iw,useReducer:Kh,useRef:ww,useState:function(){return Kh(hl)},useDebugValue:rg,useDeferredValue:function(t){var e=Fn();return Ot===null?e.memoizedState=t:Pw(e,Ot.memoizedState,t)},useTransition:function(){var t=Kh(hl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:pw,useSyncExternalStore:mw,useId:Rw,unstable_isNewReconciler:!1};function Kn(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Af={isMounted:function(t){return(t=t._reactInternals)?_o(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=yi(t),o=kr(r,i);o.payload=e,n!=null&&(o.callback=n),e=mi(t,o,i),e!==null&&(Xn(e,t,i,r),Wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=yi(t),o=kr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=mi(t,o,i),e!==null&&(Xn(e,t,i,r),Wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=yi(t),i=kr(n,r);i.tag=2,e!=null&&(i.callback=e),e=mi(t,i,r),e!==null&&(Xn(e,t,r,n),Wu(e,t,r))}};function $v(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ol(n,r)||!ol(i,o):!0}function Nw(t,e,n){var r=!1,i=Oi,o=e.contextType;return typeof o=="object"&&o!==null?o=Vn(o):(i=yn(e)?io:en.current,r=e.contextTypes,o=(r=r!=null)?ls(t,i):Oi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Af,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Af.enqueueReplaceState(e,e.state,null)}function cp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Qm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Vn(o):(o=yn(e)?io:en.current,i.context=ls(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(up(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Af.enqueueReplaceState(i,i.state,null),Ic(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hs(t,e){try{var n="",r=e;do n+=rI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kP=typeof WeakMap=="function"?WeakMap:Map;function Lw(t,e,n){n=kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xc||(xc=!0,wp=r),fp(t,e)},n}function Dw(t,e,n){n=kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fp(t,e),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$P.bind(null,t,e,n),e.then(t,t))}function Kv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kr(-1,1),e.tag=2,mi(n,e,1))),n.lanes|=1),t)}var CP=Ur.ReactCurrentOwner,mn=!1;function on(t,e,n,r){e.child=t===null?cw(e,null,n,r):cs(e,t.child,n,r)}function Qv(t,e,n,r,i){n=n.render;var o=e.ref;return Jo(e,i),r=eg(t,e,n,r,o,i),n=tg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(at&&n&&qm(e),e.flags|=1,on(t,e,r,i),e.child)}function Yv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Mw(t,e,o,r,i)):(t=Ju(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ol,n(s,r)&&t.ref===e.ref)return Dr(t,e,i)}return e.flags|=1,t=vi(o,r),t.ref=e.ref,t.return=e,e.child=t}function Mw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ol(o,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,Dr(t,e,i)}return hp(t,e,n,r,i)}function jw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Wo,bn),bn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Wo,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ze(Wo,bn),bn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ze(Wo,bn),bn|=r;return on(t,e,i,n),e.child}function Vw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hp(t,e,n,r,i){var o=yn(n)?io:en.current;return o=ls(e,o),Jo(e,i),n=eg(t,e,n,r,o,i),r=tg(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dr(t,e,i)):(at&&r&&qm(e),e.flags|=1,on(t,e,n,i),e.child)}function Xv(t,e,n,r,i){if(yn(n)){var o=!0;Tc(e)}else o=!1;if(Jo(e,i),e.stateNode===null)Qu(t,e),Nw(e,n,r),cp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=yn(n)?io:en.current,u=ls(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hv(e,s,r,u),Zr=!1;var d=e.memoizedState;s.state=d,Ic(e,r,s,i),l=e.memoizedState,a!==r||d!==l||gn.current||Zr?(typeof h=="function"&&(up(e,n,h,r),l=e.memoizedState),(a=Zr||$v(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,hw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Kn(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=yn(n)?io:en.current,l=ls(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Hv(e,s,r,l),Zr=!1,d=e.memoizedState,s.state=d,Ic(e,r,s,i);var E=e.memoizedState;a!==f||d!==E||gn.current||Zr?(typeof m=="function"&&(up(e,n,m,r),E=e.memoizedState),(u=Zr||$v(e,n,u,r,d,E,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,E,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,E,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),s.props=r,s.state=E,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return dp(t,e,n,r,o,i)}function dp(t,e,n,r,i,o){Vw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Mv(e,n,!1),Dr(t,e,o);r=e.stateNode,CP.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=cs(e,t.child,null,o),e.child=cs(e,null,a,o)):on(t,e,a,o),e.memoizedState=r.state,i&&Mv(e,n,!0),e.child}function Fw(t){var e=t.stateNode;e.pendingContext?Dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dv(t,e.context,!1),Ym(t,e.containerInfo)}function Jv(t,e,n,r,i){return us(),$m(i),e.flags|=256,on(t,e,n,r),e.child}var pp={dehydrated:null,treeContext:null,retryLane:0};function mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Uw(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(ct,i&1),t===null)return ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Pf(s,r,0,null),t=to(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=mp(n),e.memoizedState=pp,t):ig(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xP(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=vi(a,o):(o=to(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?mp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=pp,r}return o=t.child,t=o.sibling,r=vi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ig(t,e){return e=Pf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,n,r){return r!==null&&$m(r),cs(e,t.child,null,n),t=ig(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Gh(Error(le(422))),Pu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Pf({mode:"visible",children:r.children},i,0,null),o=to(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&cs(e,t.child,null,s),e.child.memoizedState=mp(s),e.memoizedState=pp,o);if(!(e.mode&1))return Pu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(le(419)),r=Gh(o,r,void 0),Pu(t,e,s,r)}if(a=(s&t.childLanes)!==0,mn||a){if(r=Nt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Lr(t,i),Xn(r,t,i,-1))}return cg(),r=Gh(Error(le(421))),Pu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=HP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,An=pi(i.nextSibling),In=e,at=!0,Qn=null,t!==null&&(Ln[Dn++]=br,Ln[Dn++]=Ar,Ln[Dn++]=oo,br=t.id,Ar=t.overflow,oo=e),e=ig(e,r.children),e.flags|=4096,e)}function Zv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),lp(t.return,e,n)}function Qh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(on(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zv(t,n,e);else if(t.tag===19)Zv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ze(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qh(e,!0,n,null,o);break;case"together":Qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NP(t,e,n){switch(e.tag){case 3:Fw(e),us();break;case 5:dw(e);break;case 1:yn(e.type)&&Tc(e);break;case 4:Ym(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ze(Ac,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ze(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?Uw(t,e,n):(Ze(ct,ct.current&1),t=Dr(t,e,n),t!==null?t.sibling:null);Ze(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Bw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,jw(t,e,n)}return Dr(t,e,n)}var qw,gp,zw,$w;qw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gp=function(){};zw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xi(cr.current);var o=null;switch(n){case"input":i=Vd(t,i),r=Vd(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=Bd(t,i),r=Bd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ec)}zd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ja.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&tt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$w=function(t,e,n,r){n!==r&&(e.flags|=4)};function ga(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LP(t,e,n){var r=e.pendingProps;switch(zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return yn(e.type)&&wc(),Qt(e),null;case 3:return r=e.stateNode,fs(),it(gn),it(en),Jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ou(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(bp(Qn),Qn=null))),gp(t,e),Qt(e),null;case 5:Xm(e);var i=Xi(cl.current);if(n=e.type,t!==null&&e.stateNode!=null)zw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return Qt(e),null}if(t=Xi(cr.current),Ou(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[lr]=e,r[ll]=o,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(i=0;i<Ca.length;i++)tt(Ca[i],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":lv(r,o),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},tt("invalid",r);break;case"textarea":cv(r,o),tt("invalid",r)}zd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),i=["children",""+a]):Ja.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&tt("scroll",r)}switch(n){case"input":yu(r),uv(r,o,!0);break;case"textarea":yu(r),fv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ec)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[lr]=e,t[ll]=r,qw(t,e,!1,!1),e.stateNode=t;e:{switch(s=$d(n,r),n){case"dialog":tt("cancel",t),tt("close",t),i=r;break;case"iframe":case"object":case"embed":tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ca.length;i++)tt(Ca[i],t);i=r;break;case"source":tt("error",t),i=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=r;break;case"details":tt("toggle",t),i=r;break;case"input":lv(t,r),i=Vd(t,r),tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),tt("invalid",t);break;case"textarea":cv(t,r),i=Bd(t,r),tt("invalid",t);break;default:i=r}zd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?wE(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_E(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Za(t,l):typeof l=="number"&&Za(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ja.hasOwnProperty(o)?l!=null&&o==="onScroll"&&tt("scroll",t):l!=null&&Pm(t,o,l,s))}switch(n){case"input":yu(t),uv(t,r,!1);break;case"textarea":yu(t),fv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ai(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Go(t,!!r.multiple,o,!1):r.defaultValue!=null&&Go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)$w(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=Xi(cl.current),Xi(cr.current),Ou(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(o=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Qt(e),null;case 13:if(it(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&An!==null&&e.mode&1&&!(e.flags&128))lw(),us(),e.flags|=98560,o=!1;else if(o=Ou(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[lr]=e}else us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),o=!1}else Qn!==null&&(bp(Qn),Qn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?It===0&&(It=3):cg())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return fs(),gp(t,e),t===null&&sl(e.stateNode.containerInfo),Qt(e),null;case 10:return Km(e.type._context),Qt(e),null;case 17:return yn(e.type)&&wc(),Qt(e),null;case 19:if(it(ct),o=e.memoizedState,o===null)return Qt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ga(o,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Pc(t),s!==null){for(e.flags|=128,ga(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ze(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&Et()>ds&&(e.flags|=128,r=!0,ga(o,!1),e.lanes=4194304)}else{if(!r)if(t=Pc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!at)return Qt(e),null}else 2*Et()-o.renderingStartTime>ds&&n!==1073741824&&(e.flags|=128,r=!0,ga(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Et(),e.sibling=null,n=ct.current,Ze(ct,r?n&1|2:n&1),e):(Qt(e),null);case 22:case 23:return ug(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function DP(t,e){switch(zm(e),e.tag){case 1:return yn(e.type)&&wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fs(),it(gn),it(en),Jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xm(e),null;case 13:if(it(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return it(ct),null;case 4:return fs(),null;case 10:return Km(e.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var Ru=!1,Jt=!1,MP=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ho(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function yp(t,e,n){try{n()}catch(r){yt(t,e,r)}}var e_=!1;function jP(t,e){if(ep=yc,t=QE(),Bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++h===r&&(l=s),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tp={focusedElem:t,selectionRange:n},yc=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var v=E.memoizedProps,_=E.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Kn(e.type,v),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(y){yt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return E=e_,e_=!1,E}function $a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&yp(e,n,o)}i=i.next}while(i!==r)}}function Of(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hw(t){var e=t.alternate;e!==null&&(t.alternate=null,Hw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[ll],delete e[ip],delete e[_P],delete e[EP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ww(t){return t.tag===5||t.tag===3||t.tag===4}function t_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ww(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ec));else if(r!==4&&(t=t.child,t!==null))for(_p(t,e,n),t=t.sibling;t!==null;)_p(t,e,n),t=t.sibling}function Ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,n),t=t.sibling;t!==null;)Ep(t,e,n),t=t.sibling}var jt=null,Gn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)Kw(t,e,n),n=n.sibling}function Kw(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(vf,n)}catch{}switch(n.tag){case 5:Jt||Ho(n,e);case 6:var r=jt,i=Gn;jt=null,Qr(t,e,n),jt=r,Gn=i,jt!==null&&(Gn?(t=jt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(Gn?(t=jt,n=n.stateNode,t.nodeType===8?qh(t.parentNode,n):t.nodeType===1&&qh(t,n),rl(t)):qh(jt,n.stateNode));break;case 4:r=jt,i=Gn,jt=n.stateNode.containerInfo,Gn=!0,Qr(t,e,n),jt=r,Gn=i;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&yp(n,e,s),i=i.next}while(i!==r)}Qr(t,e,n);break;case 1:if(!Jt&&(Ho(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,Qr(t,e,n),Jt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function n_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MP),e.forEach(function(r){var i=WP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:jt=a.stateNode,Gn=!1;break e;case 3:jt=a.stateNode.containerInfo,Gn=!0;break e;case 4:jt=a.stateNode.containerInfo,Gn=!0;break e}a=a.return}if(jt===null)throw Error(le(160));Kw(o,s,i),jt=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gw(e,t),e=e.sibling}function Gw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),or(t),r&4){try{$a(3,t,t.return),Of(3,t)}catch(v){yt(t,t.return,v)}try{$a(5,t,t.return)}catch(v){yt(t,t.return,v)}}break;case 1:$n(e,t),or(t),r&512&&n!==null&&Ho(n,n.return);break;case 5:if($n(e,t),or(t),r&512&&n!==null&&Ho(n,n.return),t.flags&32){var i=t.stateNode;try{Za(i,"")}catch(v){yt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&gE(i,o),$d(a,s);var u=$d(a,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];h==="style"?wE(i,f):h==="dangerouslySetInnerHTML"?_E(i,f):h==="children"?Za(i,f):Pm(i,h,f,u)}switch(a){case"input":Fd(i,o);break;case"textarea":yE(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Go(i,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?Go(i,!!o.multiple,o.defaultValue,!0):Go(i,!!o.multiple,o.multiple?[]:"",!1))}i[ll]=o}catch(v){yt(t,t.return,v)}}break;case 6:if($n(e,t),or(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){yt(t,t.return,v)}}break;case 3:if($n(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rl(e.containerInfo)}catch(v){yt(t,t.return,v)}break;case 4:$n(e,t),or(t);break;case 13:$n(e,t),or(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ag=Et())),r&4&&n_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Jt=(u=Jt)||h,$n(e,t),Jt=u):$n(e,t),or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(me=t,h=t.child;h!==null;){for(f=me=h;me!==null;){switch(d=me,m=d.child,d.tag){case 0:case 11:case 14:case 15:$a(4,d,d.return);break;case 1:Ho(d,d.return);var E=d.stateNode;if(typeof E.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(v){yt(r,n,v)}}break;case 5:Ho(d,d.return);break;case 22:if(d.memoizedState!==null){i_(f);continue}}m!==null?(m.return=d,me=m):i_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=EE("display",s))}catch(v){yt(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){yt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(e,t),or(t),r&4&&n_(t);break;case 21:break;default:$n(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ww(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Za(i,""),r.flags&=-33);var o=t_(t);Ep(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=t_(t);_p(t,a,s);break;default:throw Error(le(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function VP(t,e,n){me=t,Qw(t)}function Qw(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ru;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Jt;a=Ru;var u=Jt;if(Ru=s,(Jt=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?o_(i):l!==null?(l.return=s,me=l):o_(i);for(;o!==null;)me=o,Qw(o),o=o.sibling;me=i,Ru=a,Jt=u}r_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):r_(t)}}function r_(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jt||Of(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Bv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&rl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}Jt||e.flags&512&&vp(e)}catch(d){yt(e,e.return,d)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function i_(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function o_(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Of(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var o=e.return;try{vp(e)}catch(l){yt(e,o,l)}break;case 5:var s=e.return;try{vp(e)}catch(l){yt(e,s,l)}}}catch(l){yt(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var FP=Math.ceil,Cc=Ur.ReactCurrentDispatcher,og=Ur.ReactCurrentOwner,jn=Ur.ReactCurrentBatchConfig,qe=0,Nt=null,St=null,Bt=0,bn=0,Wo=xi(0),It=0,pl=null,ao=0,If=0,sg=0,Ha=null,dn=null,ag=0,ds=1/0,Tr=null,xc=!1,wp=null,gi=null,ku=!1,li=null,Nc=0,Wa=0,Tp=null,Yu=-1,Xu=0;function sn(){return qe&6?Et():Yu!==-1?Yu:Yu=Et()}function yi(t){return t.mode&1?qe&2&&Bt!==0?Bt&-Bt:TP.transition!==null?(Xu===0&&(Xu=NE()),Xu):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:UE(t.type)),t):1}function Xn(t,e,n,r){if(50<Wa)throw Wa=0,Tp=null,Error(le(185));kl(t,n,r),(!(qe&2)||t!==Nt)&&(t===Nt&&(!(qe&2)&&(If|=n),It===4&&ni(t,Bt)),vn(t,r),n===1&&qe===0&&!(e.mode&1)&&(ds=Et()+500,Sf&&Ni()))}function vn(t,e){var n=t.callbackNode;TI(t,e);var r=gc(t,t===Nt?Bt:0);if(r===0)n!==null&&pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pv(n),e===1)t.tag===0?wP(s_.bind(null,t)):ow(s_.bind(null,t)),yP(function(){!(qe&6)&&Ni()}),n=null;else{switch(LE(r)){case 1:n=Nm;break;case 4:n=CE;break;case 16:n=mc;break;case 536870912:n=xE;break;default:n=mc}n=rT(n,Yw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yw(t,e){if(Yu=-1,Xu=0,qe&6)throw Error(le(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=gc(t,t===Nt?Bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Lc(t,r);else{e=r;var i=qe;qe|=2;var o=Jw();(Nt!==t||Bt!==e)&&(Tr=null,ds=Et()+500,eo(t,e));do try{qP();break}catch(a){Xw(t,a)}while(!0);Wm(),Cc.current=o,qe=i,St!==null?e=0:(Nt=null,Bt=0,e=It)}if(e!==0){if(e===2&&(i=Qd(t),i!==0&&(r=i,e=Sp(t,i))),e===1)throw n=pl,eo(t,0),ni(t,r),vn(t,Et()),n;if(e===6)ni(t,r);else{if(i=t.current.alternate,!(r&30)&&!UP(i)&&(e=Lc(t,r),e===2&&(o=Qd(t),o!==0&&(r=o,e=Sp(t,o))),e===1))throw n=pl,eo(t,0),ni(t,r),vn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Hi(t,dn,Tr);break;case 3:if(ni(t,r),(r&130023424)===r&&(e=ag+500-Et(),10<e)){if(gc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rp(Hi.bind(null,t,dn,Tr),e);break}Hi(t,dn,Tr);break;case 4:if(ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Yn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FP(r/1960))-r,10<r){t.timeoutHandle=rp(Hi.bind(null,t,dn,Tr),r);break}Hi(t,dn,Tr);break;case 5:Hi(t,dn,Tr);break;default:throw Error(le(329))}}}return vn(t,Et()),t.callbackNode===n?Yw.bind(null,t):null}function Sp(t,e){var n=Ha;return t.current.memoizedState.isDehydrated&&(eo(t,e).flags|=256),t=Lc(t,e),t!==2&&(e=dn,dn=n,e!==null&&bp(e)),t}function bp(t){dn===null?dn=t:dn.push.apply(dn,t)}function UP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ni(t,e){for(e&=~sg,e&=~If,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function s_(t){if(qe&6)throw Error(le(327));Zo();var e=gc(t,0);if(!(e&1))return vn(t,Et()),null;var n=Lc(t,e);if(t.tag!==0&&n===2){var r=Qd(t);r!==0&&(e=r,n=Sp(t,r))}if(n===1)throw n=pl,eo(t,0),ni(t,e),vn(t,Et()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,dn,Tr),vn(t,Et()),null}function lg(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(ds=Et()+500,Sf&&Ni())}}function lo(t){li!==null&&li.tag===0&&!(qe&6)&&Zo();var e=qe;qe|=1;var n=jn.transition,r=Ke;try{if(jn.transition=null,Ke=1,t)return t()}finally{Ke=r,jn.transition=n,qe=e,!(qe&6)&&Ni()}}function ug(){bn=Wo.current,it(Wo)}function eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gP(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wc();break;case 3:fs(),it(gn),it(en),Jm();break;case 5:Xm(r);break;case 4:fs();break;case 13:it(ct);break;case 19:it(ct);break;case 10:Km(r.type._context);break;case 22:case 23:ug()}n=n.return}if(Nt=t,St=t=vi(t.current,null),Bt=bn=e,It=0,pl=null,sg=If=ao=0,dn=Ha=null,Yi!==null){for(e=0;e<Yi.length;e++)if(n=Yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Yi=null}return t}function Xw(t,e){do{var n=St;try{if(Wm(),Ku.current=kc,Rc){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rc=!1}if(so=0,xt=Ot=ft=null,za=!1,fl=0,og.current=null,n===null||n.return===null){It=1,pl=e,St=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Kv(s);if(m!==null){m.flags&=-257,Gv(m,s,a,o,e),m.mode&1&&Wv(o,u,e),e=m,l=u;var E=e.updateQueue;if(E===null){var v=new Set;v.add(l),e.updateQueue=v}else E.add(l);break e}else{if(!(e&1)){Wv(o,u,e),cg();break e}l=Error(le(426))}}else if(at&&a.mode&1){var _=Kv(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Gv(_,s,a,o,e),$m(hs(l,a));break e}}o=l=hs(l,a),It!==4&&(It=2),Ha===null?Ha=[o]:Ha.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Lw(o,l,e);Uv(o,g);break e;case 1:a=l;var p=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gi===null||!gi.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=Dw(o,a,e);Uv(o,y);break e}}o=o.return}while(o!==null)}eT(n)}catch(O){e=O,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function Jw(){var t=Cc.current;return Cc.current=kc,t===null?kc:t}function cg(){(It===0||It===3||It===2)&&(It=4),Nt===null||!(ao&268435455)&&!(If&268435455)||ni(Nt,Bt)}function Lc(t,e){var n=qe;qe|=2;var r=Jw();(Nt!==t||Bt!==e)&&(Tr=null,eo(t,e));do try{BP();break}catch(i){Xw(t,i)}while(!0);if(Wm(),qe=n,Cc.current=r,St!==null)throw Error(le(261));return Nt=null,Bt=0,It}function BP(){for(;St!==null;)Zw(St)}function qP(){for(;St!==null&&!dI();)Zw(St)}function Zw(t){var e=nT(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?eT(t):St=e,og.current=null}function eT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DP(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,St=null;return}}else if(n=LP(n,e,bn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);It===0&&(It=5)}function Hi(t,e,n){var r=Ke,i=jn.transition;try{jn.transition=null,Ke=1,zP(t,e,n,r)}finally{jn.transition=i,Ke=r}return null}function zP(t,e,n,r){do Zo();while(li!==null);if(qe&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(SI(t,o),t===Nt&&(St=Nt=null,Bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,rT(mc,function(){return Zo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=jn.transition,jn.transition=null;var s=Ke;Ke=1;var a=qe;qe|=4,og.current=null,jP(t,n),Gw(n,t),uP(tp),yc=!!ep,tp=ep=null,t.current=n,VP(n),pI(),qe=a,Ke=s,jn.transition=o}else t.current=n;if(ku&&(ku=!1,li=t,Nc=i),o=t.pendingLanes,o===0&&(gi=null),yI(n.stateNode),vn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xc)throw xc=!1,t=wp,wp=null,t;return Nc&1&&t.tag!==0&&Zo(),o=t.pendingLanes,o&1?t===Tp?Wa++:(Wa=0,Tp=t):Wa=0,Ni(),null}function Zo(){if(li!==null){var t=LE(Nc),e=jn.transition,n=Ke;try{if(jn.transition=null,Ke=16>t?16:t,li===null)var r=!1;else{if(t=li,li=null,Nc=0,qe&6)throw Error(le(331));var i=qe;for(qe|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var h=me;switch(h.tag){case 0:case 11:case 15:$a(8,h,o)}var f=h.child;if(f!==null)f.return=h,me=f;else for(;me!==null;){h=me;var d=h.sibling,m=h.return;if(Hw(h),h===u){me=null;break}if(d!==null){d.return=m,me=d;break}me=m}}}var E=o.alternate;if(E!==null){var v=E.child;if(v!==null){E.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$a(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,me=g;break e}me=o.return}}var p=t.current;for(me=p;me!==null;){s=me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,me=w;else e:for(s=p;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Of(9,a)}}catch(O){yt(a,a.return,O)}if(a===s){me=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,me=y;break e}me=a.return}}if(qe=i,Ni(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(vf,t)}catch{}r=!0}return r}finally{Ke=n,jn.transition=e}}return!1}function a_(t,e,n){e=hs(n,e),e=Lw(t,e,1),t=mi(t,e,1),e=sn(),t!==null&&(kl(t,1,e),vn(t,e))}function yt(t,e,n){if(t.tag===3)a_(t,t,n);else for(;e!==null;){if(e.tag===3){a_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){t=hs(n,t),t=Dw(e,t,1),e=mi(e,t,1),t=sn(),e!==null&&(kl(e,1,t),vn(e,t));break}}e=e.return}}function $P(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Bt&n)===n&&(It===4||It===3&&(Bt&130023424)===Bt&&500>Et()-ag?eo(t,0):sg|=n),vn(t,e)}function tT(t,e){e===0&&(t.mode&1?(e=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):e=1);var n=sn();t=Lr(t,e),t!==null&&(kl(t,e,n),vn(t,n))}function HP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tT(t,n)}function WP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),tT(t,n)}var nT;nT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,NP(t,e,n);mn=!!(t.flags&131072)}else mn=!1,at&&e.flags&1048576&&sw(e,bc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qu(t,e),t=e.pendingProps;var i=ls(e,en.current);Jo(e,n),i=eg(null,e,r,t,i,n);var o=tg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(o=!0,Tc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qm(e),i.updater=Af,e.stateNode=i,i._reactInternals=e,cp(e,r,t,n),e=dp(null,e,r,!0,o,n)):(e.tag=0,at&&o&&qm(e),on(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GP(r),t=Kn(r,t),i){case 0:e=hp(null,e,r,t,n);break e;case 1:e=Xv(null,e,r,t,n);break e;case 11:e=Qv(null,e,r,t,n);break e;case 14:e=Yv(null,e,r,Kn(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),hp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),Xv(t,e,r,i,n);case 3:e:{if(Fw(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,i=o.element,hw(t,e),Ic(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=hs(Error(le(423)),e),e=Jv(t,e,r,n,i);break e}else if(r!==i){i=hs(Error(le(424)),e),e=Jv(t,e,r,n,i);break e}else for(An=pi(e.stateNode.containerInfo.firstChild),In=e,at=!0,Qn=null,n=cw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),r===i){e=Dr(t,e,n);break e}on(t,e,r,n)}e=e.child}return e;case 5:return dw(e),t===null&&ap(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,np(r,i)?s=null:o!==null&&np(r,o)&&(e.flags|=32),Vw(t,e),on(t,e,s,n),e.child;case 6:return t===null&&ap(e),null;case 13:return Uw(t,e,n);case 4:return Ym(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cs(e,null,r,n):on(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),Qv(t,e,r,i,n);case 7:return on(t,e,e.pendingProps,n),e.child;case 8:return on(t,e,e.pendingProps.children,n),e.child;case 12:return on(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ze(Ac,r._currentValue),r._currentValue=s,o!==null)if(Jn(o.value,s)){if(o.children===i.children&&!gn.current){e=Dr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=kr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),lp(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(le(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),lp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jo(e,n),i=Vn(i),r=r(i),e.flags|=1,on(t,e,r,n),e.child;case 14:return r=e.type,i=Kn(r,e.pendingProps),i=Kn(r.type,i),Yv(t,e,r,i,n);case 15:return Mw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Kn(r,i),Qu(t,e),e.tag=1,yn(r)?(t=!0,Tc(e)):t=!1,Jo(e,n),Nw(e,r,i),cp(e,r,i,n),dp(null,e,r,!0,t,n);case 19:return Bw(t,e,n);case 22:return jw(t,e,n)}throw Error(le(156,e.tag))};function rT(t,e){return kE(t,e)}function KP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new KP(t,e,n,r)}function fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GP(t){if(typeof t=="function")return fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===km)return 11;if(t===Cm)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ju(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")fg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Mo:return to(n.children,i,o,e);case Rm:s=8,i|=8;break;case Ld:return t=Mn(12,n,e,i|2),t.elementType=Ld,t.lanes=o,t;case Dd:return t=Mn(13,n,e,i),t.elementType=Dd,t.lanes=o,t;case Md:return t=Mn(19,n,e,i),t.elementType=Md,t.lanes=o,t;case dE:return Pf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fE:s=10;break e;case hE:s=9;break e;case km:s=11;break e;case Cm:s=14;break e;case Jr:s=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=Mn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function to(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Pf(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=dE,t.lanes=n,t.stateNode={isHidden:!1},t}function Yh(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Xh(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hg(t,e,n,r,i,o,s,a,l){return t=new QP(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Mn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(o),t}function YP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iT(t){if(!t)return Oi;t=t._reactInternals;e:{if(_o(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(yn(n))return iw(t,n,e)}return e}function oT(t,e,n,r,i,o,s,a,l){return t=hg(n,r,!0,t,i,o,s,a,l),t.context=iT(null),n=t.current,r=sn(),i=yi(n),o=kr(r,i),o.callback=e??null,mi(n,o,i),t.current.lanes=i,kl(t,i,r),vn(t,r),t}function Rf(t,e,n,r){var i=e.current,o=sn(),s=yi(i);return n=iT(n),e.context===null?e.context=n:e.pendingContext=n,e=kr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mi(i,e,s),t!==null&&(Xn(t,i,s,o),Wu(t,i,s)),s}function Dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dg(t,e){l_(t,e),(t=t.alternate)&&l_(t,e)}function XP(){return null}var sT=typeof reportError=="function"?reportError:function(t){console.error(t)};function pg(t){this._internalRoot=t}kf.prototype.render=pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Rf(t,e,null,null)};kf.prototype.unmount=pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lo(function(){Rf(null,t,null,null)}),e[Nr]=null}};function kf(t){this._internalRoot=t}kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=jE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ti.length&&e!==0&&e<ti[n].priority;n++);ti.splice(n,0,t),n===0&&FE(t)}};function mg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u_(){}function JP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Dc(s);o.call(u)}}var s=oT(e,r,t,0,null,!1,!1,"",u_);return t._reactRootContainer=s,t[Nr]=s.current,sl(t.nodeType===8?t.parentNode:t),lo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Dc(l);a.call(u)}}var l=hg(t,0,!1,null,null,!1,!1,"",u_);return t._reactRootContainer=l,t[Nr]=l.current,sl(t.nodeType===8?t.parentNode:t),lo(function(){Rf(e,l,n,r)}),l}function xf(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Dc(s);a.call(l)}}Rf(e,s,t,i)}else s=JP(n,e,t,i,r);return Dc(s)}DE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ka(e.pendingLanes);n!==0&&(Lm(e,n|1),vn(e,Et()),!(qe&6)&&(ds=Et()+500,Ni()))}break;case 13:lo(function(){var r=Lr(t,1);if(r!==null){var i=sn();Xn(r,t,1,i)}}),dg(t,1)}};Dm=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=sn();Xn(e,t,134217728,n)}dg(t,134217728)}};ME=function(t){if(t.tag===13){var e=yi(t),n=Lr(t,e);if(n!==null){var r=sn();Xn(n,t,e,r)}dg(t,e)}};jE=function(){return Ke};VE=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};Wd=function(t,e,n){switch(e){case"input":if(Fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tf(r);if(!i)throw Error(le(90));mE(r),Fd(r,i)}}}break;case"textarea":yE(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};bE=lg;AE=lo;var ZP={usingClientEntryPoint:!1,Events:[xl,Uo,Tf,TE,SE,lg]},ya={findFiberByHostInstance:Qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eR={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PE(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||XP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{vf=Cu.inject(eR),ur=Cu}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mg(e))throw Error(le(200));return YP(t,e,null,n)};Cn.createRoot=function(t,e){if(!mg(t))throw Error(le(299));var n=!1,r="",i=sT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hg(t,1,!1,null,null,n,!1,r,i),t[Nr]=e.current,sl(t.nodeType===8?t.parentNode:t),new pg(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=PE(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return lo(t)};Cn.hydrate=function(t,e,n){if(!Cf(e))throw Error(le(200));return xf(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!mg(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=sT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=oT(e,null,t,1,n??null,i,!1,o,s),t[Nr]=e.current,sl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new kf(e)};Cn.render=function(t,e,n){if(!Cf(e))throw Error(le(200));return xf(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Cf(t))throw Error(le(40));return t._reactRootContainer?(lo(function(){xf(null,null,t,!1,function(){t._reactRootContainer=null,t[Nr]=null})}),!0):!1};Cn.unstable_batchedUpdates=lg;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cf(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return xf(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function aT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aT)}catch(t){console.error(t)}}aT(),aE.exports=Cn;var gg=aE.exports;const tR=yf(gg);var c_=gg;xd.createRoot=c_.createRoot,xd.hydrateRoot=c_.hydrateRoot;var lT={exports:{}},Nf={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=oe,rR=Symbol.for("react.element"),iR=Symbol.for("react.fragment"),oR=Object.prototype.hasOwnProperty,sR=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aR={key:!0,ref:!0,__self:!0,__source:!0};function uT(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)oR.call(e,r)&&!aR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rR,type:t,key:o,ref:s,props:i,_owner:sR.current}}Nf.Fragment=iR;Nf.jsx=uT;Nf.jsxs=uT;lT.exports=Nf;var $=lT.exports;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}var ui;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ui||(ui={}));const f_="popstate";function lR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ap("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mc(i)}return cR(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substr(2,8)}function h_(t,e){return{usr:t.state,key:t.key,idx:e}}function Ap(t,e,n,r){return n===void 0&&(n=null),ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xs(e):e,{state:n,key:e&&e.key||r||uR()})}function Mc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=ui.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(ml({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function f(){a=ui.Pop;let _=h(),g=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:g})}function d(_,g){a=ui.Push;let p=Ap(v.location,_,g);u=h()+1;let w=h_(p,u),y=v.createHref(p);try{s.pushState(w,"",y)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(y)}o&&l&&l({action:a,location:v.location,delta:1})}function m(_,g){a=ui.Replace;let p=Ap(v.location,_,g);u=h();let w=h_(p,u),y=v.createHref(p);s.replaceState(w,"",y),o&&l&&l({action:a,location:v.location,delta:0})}function E(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:Mc(_);return p=p.replace(/ $/,"%20"),wt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(f_,f),l=_,()=>{i.removeEventListener(f_,f),l=null}},createHref(_){return e(i,_)},createURL:E,encodeLocation(_){let g=E(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(_){return s.go(_)}};return v}var d_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(d_||(d_={}));function fR(t,e,n){return n===void 0&&(n="/"),hR(t,e,n,!1)}function hR(t,e,n,r){let i=typeof e=="string"?xs(e):e,o=yg(i.pathname||"/",n);if(o==null)return null;let s=fT(t);dR(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=bR(o);a=TR(s[l],u,r)}return a}function fT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(wt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=_i([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(wt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fT(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:ER(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of hT(o.path))i(o,s,l)}),e}function hT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=hT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pR=/^:[\w-]+$/,mR=3,gR=2,yR=1,vR=10,_R=-2,p_=t=>t==="*";function ER(t,e){let n=t.split("/"),r=n.length;return n.some(p_)&&(r+=_R),e&&(r+=gR),n.filter(i=>!p_(i)).reduce((i,o)=>i+(pR.test(o)?mR:o===""?yR:vR),r)}function wR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function TR(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=m_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=m_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:_i([o,f.pathname]),pathnameBase:PR(_i([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=_i([o,f.pathnameBase]))}return s}function m_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=SR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:d,isOptional:m}=h;if(d==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const E=a[f];return m&&!E?u[d]=void 0:u[d]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function SR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xs(t):t;return{pathname:n?n.startsWith("/")?n:OR(n,e):e,search:RR(r),hash:kR(i)}}function OR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(t,e){let n=IR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _g(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xs(t):(i=ml({},t),wt(!i.pathname||!i.pathname.includes("?"),Jh("?","pathname","search",i)),wt(!i.pathname||!i.pathname.includes("#"),Jh("#","pathname","hash",i)),wt(!i.search||!i.search.includes("#"),Jh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=AR(i,a),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const _i=t=>t.join("/").replace(/\/\/+/g,"/"),PR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dT=["post","put","patch","delete"];new Set(dT);const xR=["get",...dT];new Set(xR);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}const Eg=oe.createContext(null),NR=oe.createContext(null),Li=oe.createContext(null),Lf=oe.createContext(null),Br=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),pT=oe.createContext(null);function LR(t,e){let{relative:n}=e===void 0?{}:e;Ns()||wt(!1);let{basename:r,navigator:i}=oe.useContext(Li),{hash:o,pathname:s,search:a}=yT(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:_i([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ns(){return oe.useContext(Lf)!=null}function Ll(){return Ns()||wt(!1),oe.useContext(Lf).location}function mT(t){oe.useContext(Li).static||oe.useLayoutEffect(t)}function Eo(){let{isDataRoute:t}=oe.useContext(Br);return t?KR():DR()}function DR(){Ns()||wt(!1);let t=oe.useContext(Eg),{basename:e,future:n,navigator:r}=oe.useContext(Li),{matches:i}=oe.useContext(Br),{pathname:o}=Ll(),s=JSON.stringify(vg(i,n.v7_relativeSplatPath)),a=oe.useRef(!1);return mT(()=>{a.current=!0}),oe.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=_g(u,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:_i([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,s,o,t])}function gT(){let{matches:t}=oe.useContext(Br),e=t[t.length-1];return e?e.params:{}}function yT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=oe.useContext(Li),{matches:i}=oe.useContext(Br),{pathname:o}=Ll(),s=JSON.stringify(vg(i,r.v7_relativeSplatPath));return oe.useMemo(()=>_g(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function MR(t,e){return jR(t,e)}function jR(t,e,n,r){Ns()||wt(!1);let{navigator:i}=oe.useContext(Li),{matches:o}=oe.useContext(Br),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ll(),h;if(e){var f;let _=typeof e=="string"?xs(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||wt(!1),h=_}else h=u;let d=h.pathname||"/",m=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let E=fR(t,{pathname:m}),v=qR(E&&E.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:_i([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:_i([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&v?oe.createElement(Lf.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ui.Pop}},v):v}function VR(){let t=WR(),e=CR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:i},n):null,null)}const FR=oe.createElement(VR,null);class UR extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(Br.Provider,{value:this.props.routeContext},oe.createElement(pT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BR(t){let{routeContext:e,match:n,children:r}=t,i=oe.useContext(Eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(Br.Provider,{value:e},r)}function qR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||wt(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:m}=n,E=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||E){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,d)=>{let m,E=!1,v=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||FR,l&&(u<0&&d===0?(E=!0,_=null):u===d&&(E=!0,_=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let w;return m?w=v:E?w=_:f.route.Component?w=oe.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,oe.createElement(BR,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?oe.createElement(UR,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var vT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vT||{}),jc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jc||{});function zR(t){let e=oe.useContext(Eg);return e||wt(!1),e}function $R(t){let e=oe.useContext(NR);return e||wt(!1),e}function HR(t){let e=oe.useContext(Br);return e||wt(!1),e}function _T(t){let e=HR(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function WR(){var t;let e=oe.useContext(pT),n=$R(jc.UseRouteError),r=_T(jc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KR(){let{router:t}=zR(vT.UseNavigateStable),e=_T(jc.UseNavigateStable),n=oe.useRef(!1);return mT(()=>{n.current=!0}),oe.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,gl({fromRouteId:e},o)))},[t,e])}function GR(t){let{to:e,replace:n,state:r,relative:i}=t;Ns()||wt(!1);let{future:o,static:s}=oe.useContext(Li),{matches:a}=oe.useContext(Br),{pathname:l}=Ll(),u=Eo(),h=_g(e,vg(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return oe.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Hn(t){wt(!1)}function QR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ui.Pop,navigator:o,static:s=!1,future:a}=t;Ns()&&wt(!1);let l=e.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:l,navigator:o,static:s,future:gl({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=xs(r));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:E="default"}=r,v=oe.useMemo(()=>{let _=yg(h,l);return _==null?null:{location:{pathname:_,search:f,hash:d,state:m,key:E},navigationType:i}},[l,h,f,d,m,E,i]);return v==null?null:oe.createElement(Li.Provider,{value:u},oe.createElement(Lf.Provider,{children:n,value:v}))}function YR(t){let{children:e,location:n}=t;return MR(Op(e),n)}new Promise(()=>{});function Op(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(r,i)=>{if(!oe.isValidElement(r))return;let o=[...e,i];if(r.type===oe.Fragment){n.push.apply(n,Op(r.props.children,o));return}r.type!==Hn&&wt(!1),!r.props.index||!r.props.children||wt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Op(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function XR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function JR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZR(t,e){return t.button===0&&(!e||e==="_self")&&!JR(t)}const ek=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],tk="6";try{window.__reactRouterVersion=tk}catch{}const nk="startTransition",g_=YO[nk];function rk(t){let{basename:e,children:n,future:r,window:i}=t,o=oe.useRef();o.current==null&&(o.current=lR({window:i,v5Compat:!0}));let s=o.current,[a,l]=oe.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=oe.useCallback(f=>{u&&g_?g_(()=>l(f)):l(f)},[l,u]);return oe.useLayoutEffect(()=>s.listen(h),[s,h]),oe.createElement(QR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const ik=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Co=oe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:f}=e,d=XR(e,ek),{basename:m}=oe.useContext(Li),E,v=!1;if(typeof u=="string"&&ok.test(u)&&(E=u,ik))try{let w=new URL(window.location.href),y=u.startsWith("//")?new URL(w.protocol+u):new URL(u),O=yg(y.pathname,m);y.origin===w.origin&&O!=null?u=O+y.search+y.hash:v=!0}catch{}let _=LR(u,{relative:i}),g=sk(u,{replace:s,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:f});function p(w){r&&r(w),w.defaultPrevented||g(w)}return oe.createElement("a",Ip({},d,{href:E||_,onClick:v||o?r:p,ref:n,target:l}))});var y_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(y_||(y_={}));var v_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(v_||(v_={}));function sk(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Eo(),u=Ll(),h=yT(t,{relative:s});return oe.useCallback(f=>{if(ZR(f,n)){f.preventDefault();let d=r!==void 0?r:Mc(u)===Mc(h);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,h,r,i,n,t,o,s,a])}var __={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ak=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ET(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ak(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new lk;const d=o<<2|a>>4;if(r.push(d),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uk=function(t){const e=ET(t);return wT.encodeByteArray(e,!0)},Vc=function(t){return uk(t).replace(/\./g,"")},TT=function(t){try{return wT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=()=>ck().__FIREBASE_DEFAULTS__,hk=()=>{if(typeof process>"u"||typeof __>"u")return;const t=__.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TT(t[1]);return e&&JSON.parse(e)},Df=()=>{try{return fk()||hk()||dk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ST=t=>{var e,n;return(n=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},pk=t=>{const e=ST(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bT=()=>{var t;return(t=Df())===null||t===void 0?void 0:t.config},AT=t=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function vk(){var t;const e=(t=Df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _k(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ek(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tk(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Sk(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ak(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ok,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Ik(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qr(i,a,r)}}function Ik(t,e){return t.replace(Pk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Pk=/\{\$([^}]+)}/g;function Rk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(E_(o)&&E_(s)){if(!Fc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function E_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Na(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kk(t,e){const n=new Ck(t,e);return n.subscribe.bind(n)}class Ck{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zh),i.error===void 0&&(i.error=Zh),i.complete===void 0&&(i.complete=Zh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dk(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lk(t){return t===Wi?void 0:t}function Dk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const jk={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},Vk=Ue.INFO,Fk={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Uk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=Vk,this._logHandler=Uk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const Bk=(t,e)=>e.some(n=>t instanceof n);let w_,T_;function qk(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,Pp=new WeakMap,IT=new WeakMap,ed=new WeakMap,Tg=new WeakMap;function $k(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ei(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,t)}).catch(()=>{}),Tg.set(e,t),e}function Hk(t){if(Pp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Pp.set(t,e)}let Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wk(t){Rp=t(Rp)}function Kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(td(this),e,...n);return IT.set(r,e.sort?e.sort():[e]),Ei(r)}:zk().includes(t)?function(...e){return t.apply(td(this),e),Ei(OT.get(this))}:function(...e){return Ei(t.apply(td(this),e))}}function Gk(t){return typeof t=="function"?Kk(t):(t instanceof IDBTransaction&&Hk(t),Bk(t,qk())?new Proxy(t,Rp):t)}function Ei(t){if(t instanceof IDBRequest)return $k(t);if(ed.has(t))return ed.get(t);const e=Gk(t);return e!==t&&(ed.set(t,e),Tg.set(e,t)),e}const td=t=>Tg.get(t);function Qk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ei(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ei(s.result),l.oldVersion,l.newVersion,Ei(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Yk=["get","getKey","getAll","getAllKeys","count"],Xk=["put","add","delete","clear"],nd=new Map;function S_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yk.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return nd.set(e,o),o}Wk(t=>({...t,get:(e,n,r)=>S_(e,n)||t.get(e,n,r),has:(e,n)=>!!S_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Zk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Zk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kp="@firebase/app",b_="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new wg("@firebase/app"),eC="@firebase/app-compat",tC="@firebase/analytics-compat",nC="@firebase/analytics",rC="@firebase/app-check-compat",iC="@firebase/app-check",oC="@firebase/auth",sC="@firebase/auth-compat",aC="@firebase/database",lC="@firebase/database-compat",uC="@firebase/functions",cC="@firebase/functions-compat",fC="@firebase/installations",hC="@firebase/installations-compat",dC="@firebase/messaging",pC="@firebase/messaging-compat",mC="@firebase/performance",gC="@firebase/performance-compat",yC="@firebase/remote-config",vC="@firebase/remote-config-compat",_C="@firebase/storage",EC="@firebase/storage-compat",wC="@firebase/firestore",TC="@firebase/vertexai-preview",SC="@firebase/firestore-compat",bC="firebase",AC="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",OC={[kp]:"fire-core",[eC]:"fire-core-compat",[nC]:"fire-analytics",[tC]:"fire-analytics-compat",[iC]:"fire-app-check",[rC]:"fire-app-check-compat",[oC]:"fire-auth",[sC]:"fire-auth-compat",[aC]:"fire-rtdb",[lC]:"fire-rtdb-compat",[uC]:"fire-fn",[cC]:"fire-fn-compat",[fC]:"fire-iid",[hC]:"fire-iid-compat",[dC]:"fire-fcm",[pC]:"fire-fcm-compat",[mC]:"fire-perf",[gC]:"fire-perf-compat",[yC]:"fire-rc",[vC]:"fire-rc-compat",[_C]:"fire-gcs",[EC]:"fire-gcs-compat",[wC]:"fire-fst",[SC]:"fire-fst-compat",[TC]:"fire-vertex","fire-js":"fire-js",[bC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Map,IC=new Map,xp=new Map;function A_(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ps(t){const e=t.name;if(xp.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,t);for(const n of Uc.values())A_(n,t);for(const n of IC.values())A_(n,t);return!0}function Sg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Dl("app","Firebase",PC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=AC;function PT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wi.create("bad-app-name",{appName:String(i)});if(n||(n=bT()),!n)throw wi.create("no-options");const o=Uc.get(i);if(o){if(Fc(n,o.options)&&Fc(r,o.config))return o;throw wi.create("duplicate-app",{appName:i})}const s=new Mk(i);for(const l of xp.values())s.addComponent(l);const a=new RC(n,r,s);return Uc.set(i,a),a}function RT(t=Cp){const e=Uc.get(t);if(!e&&t===Cp&&bT())return PT();if(!e)throw wi.create("no-app",{appName:t});return e}function Ti(t,e,n){var r;let i=(r=OC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}ps(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebase-heartbeat-database",CC=1,yl="firebase-heartbeat-store";let rd=null;function kT(){return rd||(rd=Qk(kC,CC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw wi.create("idb-open",{originalErrorMessage:t.message})})),rd}async function xC(t){try{const n=(await kT()).transaction(yl),r=await n.objectStore(yl).get(CT(t));return await n.done,r}catch(e){if(e instanceof qr)Mr.warn(e.message);else{const n=wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function O_(t,e){try{const r=(await kT()).transaction(yl,"readwrite");await r.objectStore(yl).put(e,CT(t)),await r.done}catch(n){if(n instanceof qr)Mr.warn(n.message);else{const r=wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function CT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=1024,LC=30*24*60*60*1e3;class DC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=I_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=LC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I_(),{heartbeatsToSend:r,unsentEntries:i}=MC(this._heartbeatsCache.heartbeats),o=Vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mr.warn(n),""}}}function I_(){return new Date().toISOString().substring(0,10)}function MC(t,e=NC){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),P_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),P_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bk()?Ak().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P_(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){ps(new uo("platform-logger",e=>new Jk(e),"PRIVATE")),ps(new uo("heartbeat",e=>new DC(e),"PRIVATE")),Ti(kp,b_,t),Ti(kp,b_,"esm2017"),Ti("fire-js","")}VC("");function bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FC=xT,NT=new Dl("auth","Firebase",xT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new wg("@firebase/auth");function UC(t,...e){Bc.logLevel<=Ue.WARN&&Bc.warn(`Auth (${Ls}): ${t}`,...e)}function Zu(t,...e){Bc.logLevel<=Ue.ERROR&&Bc.error(`Auth (${Ls}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw Ag(t,...e)}function fr(t,...e){return Ag(t,...e)}function LT(t,e,n){const r=Object.assign(Object.assign({},FC()),{[e]:n});return new Dl("auth","Firebase",r).create(e,{appName:t.name})}function Si(t){return LT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ag(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NT.create(t,...e)}function Ae(t,e,...n){if(!t)throw Ag(e,...n)}function Ir(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function jr(t,e){t||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function BC(){return R_()==="http:"||R_()==="https:"}function R_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BC()||Ek()||"connection"in navigator)?navigator.onLine:!0}function zC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=yk()||wk()}get(){return qC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new jl(3e4,6e4);function wo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return MT(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ml(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return _k()||(u.referrerPolicy="no-referrer"),DT.fetch()(jT(t,t.config.apiHost,n,a),u)})}async function MT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$C),e);try{const i=new KC(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw xu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw xu(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LT(t,h,u);Zn(t,h)}}catch(i){if(i instanceof qr)throw i;Zn(t,"network-request-failed",{message:String(i)})}}async function Mf(t,e,n,r,i={}){const o=await Di(t,e,n,r,i);return"mfaPendingCredential"in o&&Zn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function jT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Og(t.config,i):`${t.config.apiScheme}://${i}`}function WC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fr(this.auth,"network-request-failed")),HC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fr(t,e,r);return i.customData._tokenResponse=n,i}function k_(t){return t!==void 0&&t.enterprise!==void 0}class GC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function QC(t,e){return Di(t,"GET","/v2/recaptchaConfig",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function VT(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XC(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=Ig(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ka(id(i.auth_time)),issuedAtTime:Ka(id(i.iat)),expirationTime:Ka(id(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function id(t){return Number(t)*1e3}function Ig(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const i=TT(n);return i?JSON.parse(i):(Zu("Failed to decode base64 JWT payload"),null)}catch(i){return Zu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function C_(t){const e=Ig(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qr&&JC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vl(t,VT(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FT(o.providerUserInfo):[],a=tx(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function ex(t){const e=Lt(t);await qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FT(t){return t.map(e=>{var{providerId:n}=e,r=bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(t,e){const n=await MT(t,{},async()=>{const r=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=jT(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DT.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rx(t,e){return Di(t,"POST","/v2/accounts:revokeToken",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=C_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await nx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new es;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new es,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XC(this,e)}reload(){return ex(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await vl(this,YC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,E=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:y,isAnonymous:O,providerData:x,stsTokenManager:A}=n;Ae(w&&A,e,"internal-error");const S=es.fromJSON(this.name,A);Ae(typeof w=="string",e,"internal-error"),Yr(f,e.name),Yr(d,e.name),Ae(typeof y=="boolean",e,"internal-error"),Ae(typeof O=="boolean",e,"internal-error"),Yr(m,e.name),Yr(E,e.name),Yr(v,e.name),Yr(_,e.name),Yr(g,e.name),Yr(p,e.name);const P=new Pr({uid:w,auth:e,email:d,emailVerified:y,displayName:f,isAnonymous:O,photoURL:E,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:p});return x&&Array.isArray(x)&&(P.providerData=x.map(T=>Object.assign({},T))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new es;i.updateFromServerResponse(n);const o=new Pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qc(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?FT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new es;a.updateFromIdToken(r);const l=new Pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;function Rr(t){jr(t instanceof Function,"Expected a class definition");let e=x_.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UT.type="NONE";const N_=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t,e,n){return`firebase:${t}:${e}:${n}`}class ts{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ec(this.userKey,i.apiKey,o),this.fullPersistenceKey=ec("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Pr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ts(Rr(N_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Rr(N_);const s=ec(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const f=Pr._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ts(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ts(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WT(e))return"Blackberry";if(KT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BT(t=tn()){return/firefox\//i.test(t)}function qT(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(t=tn()){return/crios\//i.test(t)}function $T(t=tn()){return/iemobile/i.test(t)}function HT(t=tn()){return/android/i.test(t)}function WT(t=tn()){return/blackberry/i.test(t)}function KT(t=tn()){return/webos/i.test(t)}function Pg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ix(t=tn()){var e;return Pg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ox(){return Tk()&&document.documentMode===10}function GT(t=tn()){return Pg(t)||HT(t)||KT(t)||WT(t)||/windows phone/i.test(t)||$T(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e=[]){let n;switch(t){case"Browser":n=L_(tn());break;case"Worker":n=`${L_(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ls}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ax(t,e={}){return Di(t,"GET","/v2/passwordPolicy",wo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=6;class ux{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:lx,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new sx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ts.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VT(this,{idToken:e}),r=await Pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Or(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(Si(this));const n=e?Lt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ax(this),n=new ux(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rx(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ts.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ds(t){return Lt(t)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=kk(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fx(t){jf=t}function YT(t){return jf.loadJS(t)}function hx(){return jf.recaptchaEnterpriseScript}function dx(){return jf.gapiScript}function px(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const mx="recaptcha-enterprise",gx="NO_RECAPTCHA";class yx{constructor(e){this.type=mx,this.auth=Ds(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{QC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new GC(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;k_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(gx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&k_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hx();l.length!==0&&(l+=a),YT(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function M_(t,e,n,r=!1){const i=new yx(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function j_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await M_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await M_(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){const n=Sg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Fc(o,e??{}))return i;Zn(i,"already-initialized")}return n.initialize({options:e})}function _x(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Ex(t,e,n){const r=Ds(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=XT(e),{host:s,port:a}=wx(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Tx()}function XT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wx(t){const e=XT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:V_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:V_(s)}}}function V_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Tx(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,n){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}async function Sx(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(t,e){return Mf(t,"POST","/v1/accounts:signInWithPassword",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,e){return Mf(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}async function Ox(t,e){return Mf(t,"POST","/v1/accounts:signInWithEmailLink",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends Rg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _l(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _l(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j_(e,n,"signInWithPassword",bx);case"emailLink":return Ax(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j_(e,r,"signUpPassword",Sx);case"emailLink":return Ox(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ns(t,e){return Mf(t,"POST","/v1/accounts:signInWithIdp",wo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="http://localhost";class co extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=bg(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new co(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ns(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ns(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ns(e,n)}buildRequest(){const e={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rx(t){const e=xa(Na(t)).link,n=e?xa(Na(e)).deep_link_id:null,r=xa(Na(t)).deep_link_id;return(r?xa(Na(r)).link:null)||r||n||e||t}class kg{constructor(e){var n,r,i,o,s,a;const l=xa(Na(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Px((i=l.mode)!==null&&i!==void 0?i:null);Ae(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Rx(e);try{return new kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.providerId=Ms.PROVIDER_ID}static credential(e,n){return _l._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kg.parseLink(n);return Ae(r,"argument-error"),_l._fromEmailAndCode(e,r.code,r.tenantId)}}Ms.PROVIDER_ID="password";Ms.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ms.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends JT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Vl{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Vl{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Vl{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return si.credential(n,r)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Pr._fromIdTokenResponse(e,r,i),s=F_(r);return new ms({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=F_(r);return new ms({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function F_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends qr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zc(e,n,r,i)}}function ZT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zc._fromErrorAndOperation(t,o,e,r):o})}async function kx(t,e,n=!1){const r=await vl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(Si(r));const i="reauthenticate";try{const o=await vl(t,ZT(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const s=Ig(o.idToken);Ae(s,r,"internal-error");const{sub:a}=s;return Ae(t.uid===a,r,"user-mismatch"),ms._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(t,e,n=!1){if(Or(t.app))return Promise.reject(Si(t));const r="signIn",i=await ZT(t,r,e),o=await ms._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function xx(t,e){return eS(Ds(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t){const e=Ds(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Lx(t,e,n){return Or(t.app)?Promise.reject(Si(t)):xx(Lt(t),Ms.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Nx(t),r})}function Dx(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function Mx(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function jx(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}function tS(t){return Lt(t).signOut()}const $c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1e3,Fx=10;class rS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);ox()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const Ux=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iS.type="SESSION";const oS=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Bx(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Cg("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return window}function zx(t){hr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function $x(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Wx(){return sS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="firebaseLocalStorageDb",Kx=1,Hc="firebaseLocalStorage",lS="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ff(t,e){return t.transaction([Hc],e?"readwrite":"readonly").objectStore(Hc)}function Gx(){const t=indexedDB.deleteDatabase(aS);return new Fl(t).toPromise()}function Dp(){const t=indexedDB.open(aS,Kx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hc,{keyPath:lS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hc)?e(r):(r.close(),await Gx(),e(await Dp()))})})}async function U_(t,e,n){const r=Ff(t,!0).put({[lS]:e,value:n});return new Fl(r).toPromise()}async function Qx(t,e){const n=Ff(t,!1).get(e),r=await new Fl(n).toPromise();return r===void 0?null:r.value}function B_(t,e){const n=Ff(t,!0).delete(e);return new Fl(n).toPromise()}const Yx=800,Xx=3;class uS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Xx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vf._getInstance(Wx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $x(),!this.activeServiceWorker)return;this.sender=new qx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dp();return await U_(e,$c,"1"),await B_(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Qx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ff(i,!1).getAll();return new Fl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uS.type="LOCAL";const Jx=uS;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){return e?Rr(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg extends Rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ns(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ns(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(t){return eS(t.auth,new xg(t),t.bypassAuthState)}function tN(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Cx(n,new xg(t),t.bypassAuthState)}async function nN(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),kx(n,new xg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Zn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=new jl(2e3,1e4);class Ko extends cS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",tc=new Map;class oN extends cS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tc.get(this.auth._key());if(!e){try{const r=await sN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tc.set(this.auth._key(),e)}return this.bypassAuthState||tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sN(t,e){const n=uN(e),r=lN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function aN(t,e){tc.set(t._key(),e)}function lN(t){return Rr(t._redirectPersistence)}function uN(t){return ec(iN,t.config.apiKey,t.name)}async function cN(t,e,n=!1){if(Or(t.app))return Promise.reject(Si(t));const r=Ds(t),i=Zx(r,e),s=await new oN(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=10*60*1e3;class hN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(fr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pN(t);for(const n of e)try{if(vN(n))return}catch{}Zn(t,"unauthorized-domain")}function vN(t){const e=Np(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!gN.test(n))return!1;if(mN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new jl(3e4,6e4);function z_(){const t=hr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EN(t){return new Promise((e,n)=>{var r,i,o;function s(){z_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z_(),n(fr(t,"network-request-failed"))},timeout:_N.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hr().gapi)===null||o===void 0)&&o.load)s();else{const a=px("iframefcb");return hr()[a]=()=>{gapi.load?s():n(fr(t,"network-request-failed"))},YT(`${dx()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw nc=null,e})}let nc=null;function wN(t){return nc=nc||EN(t),nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new jl(5e3,15e3),SN="__/auth/iframe",bN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IN(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,bN):`https://${t.config.authDomain}/${SN}`,r={apiKey:e.apiKey,appName:t.name,v:Ls},i=ON.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ml(r).slice(1)}`}async function PN(t){const e=await wN(t),n=hr().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:IN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=fr(t,"network-request-failed"),a=hr().setTimeout(()=>{o(s)},TN.get());function l(){hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kN=500,CN=600,xN="_blank",NN="http://localhost";class $_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LN(t,e,n,r=kN,i=CN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},RN),{width:r.toString(),height:i.toString(),top:o,left:s}),u=tn().toLowerCase();n&&(a=zT(u)?xN:n),BT(u)&&(e=e||NN,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[m,E])=>`${d}${m}=${E},`,"");if(ix(u)&&a!=="_self")return DN(e||"",a),new $_(null);const f=window.open(e||"",a,h);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new $_(f)}function DN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="__/auth/handler",jN="emulator/auth/handler",VN=encodeURIComponent("fac");async function H_(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ls,eventId:i};if(e instanceof JT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Rk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(e instanceof Vl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${VN}=${encodeURIComponent(l)}`:"";return`${FN(t)}?${Ml(a).slice(1)}${u}`}function FN({config:t}){return t.emulator?Og(t,jN):`https://${t.authDomain}/${MN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="webStorageSupport";class UN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=cN,this._overrideRedirectResult=aN}async _openPopup(e,n,r,i){var o;jr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await H_(e,n,r,Np(),i);return LN(e,s,Cg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await H_(e,n,r,Np(),i);return zx(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(jr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PN(e),r=new hN(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(od,{type:od},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[od];s!==void 0&&n(!!s),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||qT()||Pg()}}const BN=UN;var W_="@firebase/auth",K_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $N(t){ps(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(t)},u=new cx(r,i,o,l);return _x(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ps(new uo("auth-internal",e=>{const n=Ds(e.getProvider("auth").getImmediate());return(r=>new qN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(W_,K_,zN(t)),Ti(W_,K_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=5*60,WN=AT("authIdTokenMaxAge")||HN;let G_=null;const KN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WN)return;const i=n==null?void 0:n.token;G_!==i&&(G_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GN(t=RT()){const e=Sg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vx(t,{popupRedirectResolver:BN,persistence:[Jx,Ux,oS]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=KN(o.toString());Mx(n,s,()=>s(n.currentUser)),Dx(n,a=>s(a))}}const i=ST("auth");return i&&Ex(n,`http://${i}`),n}function QN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=fr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",QN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$N("Browser");var YN="firebase",XN="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(YN,XN,"app");var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,hS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.D=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(T,b,R){for(var k=Array(arguments.length-2),L=2;L<arguments.length;L++)k[L-2]=arguments[L];return S.prototype[b].apply(T,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,P){P||(P=0);var T=Array(16);if(typeof S=="string")for(var b=0;16>b;++b)T[b]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(b=0;16>b;++b)T[b]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],b=A.g[2];var R=A.g[3],k=S+(R^P&(b^R))+T[0]+3614090360&4294967295;S=P+(k<<7&4294967295|k>>>25),k=R+(b^S&(P^b))+T[1]+3905402710&4294967295,R=S+(k<<12&4294967295|k>>>20),k=b+(P^R&(S^P))+T[2]+606105819&4294967295,b=R+(k<<17&4294967295|k>>>15),k=P+(S^b&(R^S))+T[3]+3250441966&4294967295,P=b+(k<<22&4294967295|k>>>10),k=S+(R^P&(b^R))+T[4]+4118548399&4294967295,S=P+(k<<7&4294967295|k>>>25),k=R+(b^S&(P^b))+T[5]+1200080426&4294967295,R=S+(k<<12&4294967295|k>>>20),k=b+(P^R&(S^P))+T[6]+2821735955&4294967295,b=R+(k<<17&4294967295|k>>>15),k=P+(S^b&(R^S))+T[7]+4249261313&4294967295,P=b+(k<<22&4294967295|k>>>10),k=S+(R^P&(b^R))+T[8]+1770035416&4294967295,S=P+(k<<7&4294967295|k>>>25),k=R+(b^S&(P^b))+T[9]+2336552879&4294967295,R=S+(k<<12&4294967295|k>>>20),k=b+(P^R&(S^P))+T[10]+4294925233&4294967295,b=R+(k<<17&4294967295|k>>>15),k=P+(S^b&(R^S))+T[11]+2304563134&4294967295,P=b+(k<<22&4294967295|k>>>10),k=S+(R^P&(b^R))+T[12]+1804603682&4294967295,S=P+(k<<7&4294967295|k>>>25),k=R+(b^S&(P^b))+T[13]+4254626195&4294967295,R=S+(k<<12&4294967295|k>>>20),k=b+(P^R&(S^P))+T[14]+2792965006&4294967295,b=R+(k<<17&4294967295|k>>>15),k=P+(S^b&(R^S))+T[15]+1236535329&4294967295,P=b+(k<<22&4294967295|k>>>10),k=S+(b^R&(P^b))+T[1]+4129170786&4294967295,S=P+(k<<5&4294967295|k>>>27),k=R+(P^b&(S^P))+T[6]+3225465664&4294967295,R=S+(k<<9&4294967295|k>>>23),k=b+(S^P&(R^S))+T[11]+643717713&4294967295,b=R+(k<<14&4294967295|k>>>18),k=P+(R^S&(b^R))+T[0]+3921069994&4294967295,P=b+(k<<20&4294967295|k>>>12),k=S+(b^R&(P^b))+T[5]+3593408605&4294967295,S=P+(k<<5&4294967295|k>>>27),k=R+(P^b&(S^P))+T[10]+38016083&4294967295,R=S+(k<<9&4294967295|k>>>23),k=b+(S^P&(R^S))+T[15]+3634488961&4294967295,b=R+(k<<14&4294967295|k>>>18),k=P+(R^S&(b^R))+T[4]+3889429448&4294967295,P=b+(k<<20&4294967295|k>>>12),k=S+(b^R&(P^b))+T[9]+568446438&4294967295,S=P+(k<<5&4294967295|k>>>27),k=R+(P^b&(S^P))+T[14]+3275163606&4294967295,R=S+(k<<9&4294967295|k>>>23),k=b+(S^P&(R^S))+T[3]+4107603335&4294967295,b=R+(k<<14&4294967295|k>>>18),k=P+(R^S&(b^R))+T[8]+1163531501&4294967295,P=b+(k<<20&4294967295|k>>>12),k=S+(b^R&(P^b))+T[13]+2850285829&4294967295,S=P+(k<<5&4294967295|k>>>27),k=R+(P^b&(S^P))+T[2]+4243563512&4294967295,R=S+(k<<9&4294967295|k>>>23),k=b+(S^P&(R^S))+T[7]+1735328473&4294967295,b=R+(k<<14&4294967295|k>>>18),k=P+(R^S&(b^R))+T[12]+2368359562&4294967295,P=b+(k<<20&4294967295|k>>>12),k=S+(P^b^R)+T[5]+4294588738&4294967295,S=P+(k<<4&4294967295|k>>>28),k=R+(S^P^b)+T[8]+2272392833&4294967295,R=S+(k<<11&4294967295|k>>>21),k=b+(R^S^P)+T[11]+1839030562&4294967295,b=R+(k<<16&4294967295|k>>>16),k=P+(b^R^S)+T[14]+4259657740&4294967295,P=b+(k<<23&4294967295|k>>>9),k=S+(P^b^R)+T[1]+2763975236&4294967295,S=P+(k<<4&4294967295|k>>>28),k=R+(S^P^b)+T[4]+1272893353&4294967295,R=S+(k<<11&4294967295|k>>>21),k=b+(R^S^P)+T[7]+4139469664&4294967295,b=R+(k<<16&4294967295|k>>>16),k=P+(b^R^S)+T[10]+3200236656&4294967295,P=b+(k<<23&4294967295|k>>>9),k=S+(P^b^R)+T[13]+681279174&4294967295,S=P+(k<<4&4294967295|k>>>28),k=R+(S^P^b)+T[0]+3936430074&4294967295,R=S+(k<<11&4294967295|k>>>21),k=b+(R^S^P)+T[3]+3572445317&4294967295,b=R+(k<<16&4294967295|k>>>16),k=P+(b^R^S)+T[6]+76029189&4294967295,P=b+(k<<23&4294967295|k>>>9),k=S+(P^b^R)+T[9]+3654602809&4294967295,S=P+(k<<4&4294967295|k>>>28),k=R+(S^P^b)+T[12]+3873151461&4294967295,R=S+(k<<11&4294967295|k>>>21),k=b+(R^S^P)+T[15]+530742520&4294967295,b=R+(k<<16&4294967295|k>>>16),k=P+(b^R^S)+T[2]+3299628645&4294967295,P=b+(k<<23&4294967295|k>>>9),k=S+(b^(P|~R))+T[0]+4096336452&4294967295,S=P+(k<<6&4294967295|k>>>26),k=R+(P^(S|~b))+T[7]+1126891415&4294967295,R=S+(k<<10&4294967295|k>>>22),k=b+(S^(R|~P))+T[14]+2878612391&4294967295,b=R+(k<<15&4294967295|k>>>17),k=P+(R^(b|~S))+T[5]+4237533241&4294967295,P=b+(k<<21&4294967295|k>>>11),k=S+(b^(P|~R))+T[12]+1700485571&4294967295,S=P+(k<<6&4294967295|k>>>26),k=R+(P^(S|~b))+T[3]+2399980690&4294967295,R=S+(k<<10&4294967295|k>>>22),k=b+(S^(R|~P))+T[10]+4293915773&4294967295,b=R+(k<<15&4294967295|k>>>17),k=P+(R^(b|~S))+T[1]+2240044497&4294967295,P=b+(k<<21&4294967295|k>>>11),k=S+(b^(P|~R))+T[8]+1873313359&4294967295,S=P+(k<<6&4294967295|k>>>26),k=R+(P^(S|~b))+T[15]+4264355552&4294967295,R=S+(k<<10&4294967295|k>>>22),k=b+(S^(R|~P))+T[6]+2734768916&4294967295,b=R+(k<<15&4294967295|k>>>17),k=P+(R^(b|~S))+T[13]+1309151649&4294967295,P=b+(k<<21&4294967295|k>>>11),k=S+(b^(P|~R))+T[4]+4149444226&4294967295,S=P+(k<<6&4294967295|k>>>26),k=R+(P^(S|~b))+T[11]+3174756917&4294967295,R=S+(k<<10&4294967295|k>>>22),k=b+(S^(R|~P))+T[2]+718787259&4294967295,b=R+(k<<15&4294967295|k>>>17),k=P+(R^(b|~S))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(b+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+b&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var P=S-this.blockSize,T=this.B,b=this.h,R=0;R<S;){if(b==0)for(;R<=P;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<S;)if(T[b++]=A.charCodeAt(R++),b==this.blockSize){i(this,T),b=0;break}}else for(;R<S;)if(T[b++]=A[R++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var P=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=P&255,P/=256;for(this.u(A),A=Array(16),S=P=0;4>S;++S)for(var T=0;32>T;T+=8)A[P++]=this.g[S]>>>T&255;return A};function o(A,S){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function s(A,S){this.h=S;for(var P=[],T=!0,b=A.length-1;0<=b;b--){var R=A[b]|0;T&&R==S||(P[b]=R,T=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?o(A,function(S){return new s([S|0],0>S?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return _(u(-A));for(var S=[],P=1,T=0;A>=P;T++)S[T]=A/P|0,P*=4294967296;return new s(S,0)}function h(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return _(h(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),T=f,b=0;b<A.length;b+=8){var R=Math.min(8,A.length-b),k=parseInt(A.substring(b,b+R),S);8>R?(R=u(Math.pow(S,R)),T=T.j(R).add(u(k))):(T=T.j(P),T=T.add(u(k)))}return T}var f=l(0),d=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-_(this).m();for(var A=0,S=1,P=0;P<this.g.length;P++){var T=this.i(P);A+=(0<=T?T:4294967296+T)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(v(this))return"-"+_(this).toString(A);for(var S=u(Math.pow(A,6)),P=this,T="";;){var b=y(P,S).g;P=g(P,b.j(S));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=b,E(P))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=g(this,A),v(A)?-1:E(A)?0:1};function _(A){for(var S=A.g.length,P=[],T=0;T<S;T++)P[T]=~A.g[T];return new s(P,~A.h).add(d)}t.abs=function(){return v(this)?_(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0,b=0;b<=S;b++){var R=T+(this.i(b)&65535)+(A.i(b)&65535),k=(R>>>16)+(this.i(b)>>>16)+(A.i(b)>>>16);T=k>>>16,R&=65535,k&=65535,P[b]=k<<16|R}return new s(P,P[P.length-1]&-2147483648?-1:0)};function g(A,S){return A.add(_(S))}t.j=function(A){if(E(this)||E(A))return f;if(v(this))return v(A)?_(this).j(_(A)):_(_(this).j(A));if(v(A))return _(this.j(_(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,P=[],T=0;T<2*S;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<A.g.length;b++){var R=this.i(T)>>>16,k=this.i(T)&65535,L=A.i(b)>>>16,U=A.i(b)&65535;P[2*T+2*b]+=k*U,p(P,2*T+2*b),P[2*T+2*b+1]+=R*U,p(P,2*T+2*b+1),P[2*T+2*b+1]+=k*L,p(P,2*T+2*b+1),P[2*T+2*b+2]+=R*L,p(P,2*T+2*b+2)}for(T=0;T<S;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=S;T<2*S;T++)P[T]=0;return new s(P,0)};function p(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function w(A,S){this.g=A,this.h=S}function y(A,S){if(E(S))throw Error("division by zero");if(E(A))return new w(f,f);if(v(A))return S=y(_(A),S),new w(_(S.g),_(S.h));if(v(S))return S=y(A,_(S)),new w(_(S.g),S.h);if(30<A.g.length){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,T=S;0>=T.l(A);)P=O(P),T=O(T);var b=x(P,1),R=x(T,1);for(T=x(T,2),P=x(P,2);!E(T);){var k=R.add(T);0>=k.l(A)&&(b=b.add(P),R=k),T=x(T,1),P=x(P,1)}return S=g(A,b.j(S)),new w(b,S)}for(b=f;0<=A.l(S);){for(P=Math.max(1,Math.floor(A.m()/S.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=u(P),k=R.j(S);v(k)||0<k.l(A);)P-=T,R=u(P),k=R.j(S);E(R)&&(R=d),b=b.add(R),A=g(A,k)}return new w(b,A)}t.A=function(A){return y(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)&A.i(T);return new s(P,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)|A.i(T);return new s(P,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)^A.i(T);return new s(P,this.h^A.h)};function O(A){for(var S=A.g.length+1,P=[],T=0;T<S;T++)P[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(P,A.h)}function x(A,S){var P=S>>5;S%=32;for(var T=A.g.length-P,b=[],R=0;R<T;R++)b[R]=0<S?A.i(R+P)>>>S|A.i(R+P+1)<<32-S:A.i(R+P);return new s(b,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,hS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,no=s}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var Nu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dS,pS,La,mS,rc,Mp,gS,yS,vS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,I,C){return c==Array.prototype||c==Object.prototype||(c[I]=C.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nu=="object"&&Nu];for(var I=0;I<c.length;++I){var C=c[I];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(c,I){if(I)e:{var C=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var Y=c[D];if(!(Y in C))break e;C=C[Y]}c=c[c.length-1],D=C[c],I=I(D),I!=D&&I!=null&&e(C,c,{configurable:!0,writable:!0,value:I})}}function o(c,I){c instanceof String&&(c+="");var C=0,D=!1,Y={next:function(){if(!D&&C<c.length){var Z=C++;return{value:I(Z,c[Z]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(c){return c||function(){return o(this,function(I,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var I=typeof c;return I=I!="object"?I:c?Array.isArray(c)?"array":I:"null",I=="array"||I=="object"&&typeof c.length=="number"}function u(c){var I=typeof c;return I=="object"&&c!=null||I=="function"}function h(c,I,C){return c.call.apply(c.bind,arguments)}function f(c,I,C){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,D),c.apply(I,Y)}}return function(){return c.apply(I,arguments)}}function d(c,I,C){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(c,I){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function E(c,I){function C(){}C.prototype=I.prototype,c.aa=I.prototype,c.prototype=new C,c.prototype.constructor=c,c.Qb=function(D,Y,Z){for(var fe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)fe[Xe-2]=arguments[Xe];return I.prototype[Y].apply(D,fe)}}function v(c){const I=c.length;if(0<I){const C=Array(I);for(let D=0;D<I;D++)C[D]=c[D];return C}return[]}function _(c,I){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const Y=c.length||0,Z=D.length||0;c.length=Y+Z;for(let fe=0;fe<Z;fe++)c[Y+fe]=D[fe]}else c.push(D)}}class g{constructor(I,C){this.i=I,this.j=C,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function p(c){return/^[\s\xa0]*$/.test(c)}function w(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function y(c){return y[" "](c),c}y[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function x(c,I,C){for(const D in c)I.call(C,c[D],D,c)}function A(c,I){for(const C in c)I.call(void 0,c[C],C,c)}function S(c){const I={};for(const C in c)I[C]=c[C];return I}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,I){let C,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(C in D)c[C]=D[C];for(let Z=0;Z<P.length;Z++)C=P[Z],Object.prototype.hasOwnProperty.call(D,C)&&(c[C]=D[C])}}function b(c){var I=1;c=c.split(":");const C=[];for(;0<I&&c.length;)C.push(c.shift()),I--;return c.length&&C.push(c.join(":")),C}function R(c){a.setTimeout(()=>{throw c},0)}function k(){var c=B;let I=null;return c.g&&(I=c.g,c.g=c.g.next,c.g||(c.h=null),I.next=null),I}class L{constructor(){this.h=this.g=null}add(I,C){const D=U.get();D.set(I,C),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new g(()=>new H,c=>c.reset());class H{constructor(){this.next=this.g=this.h=null}set(I,C){this.h=I,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let K,G=!1,B=new L,F=()=>{const c=a.Promise.resolve(void 0);K=()=>{c.then(N)}};var N=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(C){R(C)}var I=U;I.j(c),100>I.h&&(I.h++,c.next=I.g,I.g=c)}G=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(c,I){this.type=c,this.g=this.target=I,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,I=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const C=()=>{};a.addEventListener("test",C,I),a.removeEventListener("test",C,I)}catch{}return c}();function q(c,I){if(V.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var C=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=I,I=c.relatedTarget){if(O){e:{try{y(I.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(I=null)}}else C=="mouseover"?I=c.fromElement:C=="mouseout"&&(I=c.toElement);this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:j[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&q.aa.h.call(this)}}E(q,V);var j={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),J=0;function X(c,I,C,D,Y){this.listener=c,this.proxy=null,this.src=I,this.type=C,this.capture=!!D,this.ha=Y,this.key=++J,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pe(c){this.src=c,this.g={},this.h=0}pe.prototype.add=function(c,I,C,D,Y){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var fe=Te(c,I,D,Y);return-1<fe?(I=c[fe],C||(I.fa=!1)):(I=new X(I,this.src,Z,!!D,Y),I.fa=C,c.push(I)),I};function Ee(c,I){var C=I.type;if(C in c.g){var D=c.g[C],Y=Array.prototype.indexOf.call(D,I,void 0),Z;(Z=0<=Y)&&Array.prototype.splice.call(D,Y,1),Z&&(re(I),c.g[C].length==0&&(delete c.g[C],c.h--))}}function Te(c,I,C,D){for(var Y=0;Y<c.length;++Y){var Z=c[Y];if(!Z.da&&Z.listener==I&&Z.capture==!!C&&Z.ha==D)return Y}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),Ne={};function vt(c,I,C,D,Y){if(Array.isArray(I)){for(var Z=0;Z<I.length;Z++)vt(c,I[Z],C,D,Y);return null}return C=Ie(C),c&&c[z]?c.K(I,C,u(D)?!!D.capture:!!D,Y):Ge(c,I,C,!1,D,Y)}function Ge(c,I,C,D,Y,Z){if(!I)throw Error("Invalid event type");var fe=u(Y)?!!Y.capture:!!Y,Xe=Pe(c);if(Xe||(c[Oe]=Xe=new pe(c)),C=Xe.add(I,C,D,fe,Z),C.proxy)return C;if(D=te(),C.proxy=D,D.src=c,D.listener=C,c.addEventListener)Q||(Y=fe),Y===void 0&&(Y=!1),c.addEventListener(I.toString(),D,Y);else if(c.attachEvent)c.attachEvent(de(I.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function te(){function c(C){return I.call(c.src,c.listener,C)}const I=se;return c}function ne(c,I,C,D,Y){if(Array.isArray(I))for(var Z=0;Z<I.length;Z++)ne(c,I[Z],C,D,Y);else D=u(D)?!!D.capture:!!D,C=Ie(C),c&&c[z]?(c=c.i,I=String(I).toString(),I in c.g&&(Z=c.g[I],C=Te(Z,C,D,Y),-1<C&&(re(Z[C]),Array.prototype.splice.call(Z,C,1),Z.length==0&&(delete c.g[I],c.h--)))):c&&(c=Pe(c))&&(I=c.g[I.toString()],c=-1,I&&(c=Te(I,C,D,Y)),(C=-1<c?I[c]:null)&&ce(C))}function ce(c){if(typeof c!="number"&&c&&!c.da){var I=c.src;if(I&&I[z])Ee(I.i,c);else{var C=c.type,D=c.proxy;I.removeEventListener?I.removeEventListener(C,D,c.capture):I.detachEvent?I.detachEvent(de(C),D):I.addListener&&I.removeListener&&I.removeListener(D),(C=Pe(I))?(Ee(C,c),C.h==0&&(C.src=null,I[Oe]=null)):re(c)}}}function de(c){return c in Ne?Ne[c]:Ne[c]="on"+c}function se(c,I){if(c.da)c=!0;else{I=new q(I,this);var C=c.listener,D=c.ha||c.src;c.fa&&ce(c),c=C.call(D,I)}return c}function Pe(c){return c=c[Oe],c instanceof pe?c:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(c){return typeof c=="function"?c:(c[be]||(c[be]=function(I){return c.handleEvent(I)}),c[be])}function Ve(){M.call(this),this.i=new pe(this),this.M=this,this.F=null}E(Ve,M),Ve.prototype[z]=!0,Ve.prototype.removeEventListener=function(c,I,C,D){ne(this,c,I,C,D)};function Qe(c,I){var C,D=c.F;if(D)for(C=[];D;D=D.F)C.push(D);if(c=c.M,D=I.type||I,typeof I=="string")I=new V(I,c);else if(I instanceof V)I.target=I.target||c;else{var Y=I;I=new V(D,c),T(I,Y)}if(Y=!0,C)for(var Z=C.length-1;0<=Z;Z--){var fe=I.g=C[Z];Y=He(fe,D,!0,I)&&Y}if(fe=I.g=c,Y=He(fe,D,!0,I)&&Y,Y=He(fe,D,!1,I)&&Y,C)for(Z=0;Z<C.length;Z++)fe=I.g=C[Z],Y=He(fe,D,!1,I)&&Y}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var c=this.i,I;for(I in c.g){for(var C=c.g[I],D=0;D<C.length;D++)re(C[D]);delete c.g[I],c.h--}}this.F=null},Ve.prototype.K=function(c,I,C,D){return this.i.add(String(c),I,!1,C,D)},Ve.prototype.L=function(c,I,C,D){return this.i.add(String(c),I,!0,C,D)};function He(c,I,C,D){if(I=c.i.g[String(I)],!I)return!0;I=I.concat();for(var Y=!0,Z=0;Z<I.length;++Z){var fe=I[Z];if(fe&&!fe.da&&fe.capture==C){var Xe=fe.listener,Mt=fe.ha||fe.src;fe.fa&&Ee(c.i,fe),Y=Xe.call(Mt,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function ji(c,I,C){if(typeof c=="function")C&&(c=d(c,C));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(c,I||0)}function Ye(c){c.g=ji(()=>{c.g=null,c.i&&(c.i=!1,Ye(c))},c.l);const I=c.h;c.h=null,c.m.apply(null,I)}class Tn extends M{constructor(I,C){super(),this.m=I,this.l=C,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(c){M.call(this),this.h=c,this.g={}}E(nr,M);var Vi=[];function Nn(c){x(c.g,function(I,C){this.g.hasOwnProperty(C)&&ce(I)},c),c.g={}}nr.prototype.N=function(){nr.aa.N.call(this),Nn(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=a.JSON.stringify,Qs=a.JSON.parse,Ys=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Xs(){}Xs.prototype.h=null;function $r(c){return c.h||(c.h=c.i())}function Jl(){}var Fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pt(){V.call(this,"d")}E(pt,V);function ir(){V.call(this,"c")}E(ir,V);var yr={},Js=null;function Hr(){return Js=Js||new Ve}yr.La="serverreachability";function Zs(c){V.call(this,yr.La,c)}E(Zs,V);function Wr(c){const I=Hr();Qe(I,new Zs(I))}yr.STAT_EVENT="statevent";function Zl(c,I){V.call(this,yr.STAT_EVENT,c),this.stat=I}E(Zl,V);function Rt(c){const I=Hr();Qe(I,new Zl(I,c))}yr.Ma="timingevent";function ea(c,I){V.call(this,yr.Ma,c),this.size=I}E(ea,V);function Ui(c,I){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},I)}function Ht(){this.g=!0}Ht.prototype.xa=function(){this.g=!1};function bo(c,I,C,D,Y,Z){c.info(function(){if(c.g)if(Z)for(var fe="",Xe=Z.split("&"),Mt=0;Mt<Xe.length;Mt++){var ze=Xe[Mt].split("=");if(1<ze.length){var Wt=ze[0];ze=ze[1];var Kt=Wt.split("_");fe=2<=Kt.length&&Kt[1]=="type"?fe+(Wt+"="+ze+"&"):fe+(Wt+"=redacted&")}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+I+`
`+C+`
`+fe})}function eu(c,I,C,D,Y,Z,fe){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+I+`
`+C+`
`+Z+" "+fe})}function vr(c,I,C,D){c.info(function(){return"XMLHTTP TEXT ("+I+"): "+nu(c,C)+(D?" "+D:"")})}function tu(c,I){c.info(function(){return"TIMEOUT: "+I})}Ht.prototype.info=function(){};function nu(c,I){if(!c.g)return I;if(!I)return null;try{var C=JSON.parse(I);if(C){for(c=0;c<C.length;c++)if(Array.isArray(C[c])){var D=C[c];if(!(2>D.length)){var Y=D[1];if(Array.isArray(Y)&&!(1>Y.length)){var Z=Y[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var fe=1;fe<Y.length;fe++)Y[fe]=""}}}}return rr(C)}catch{return I}}var cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ta={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ao;function Bi(){}E(Bi,Xs),Bi.prototype.g=function(){return new XMLHttpRequest},Bi.prototype.i=function(){return{}},Ao=new Bi;function Bn(c,I,C,D){this.j=c,this.i=I,this.l=C,this.R=D||1,this.U=new nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ru}function ru(){this.i=null,this.g="",this.h=!1}var _e={},W={};function ue(c,I,C){c.L=1,c.v=au(_r(I)),c.m=C,c.P=!0,ye(c,null)}function ye(c,I){c.F=Date.now(),mt(c),c.A=_r(c.v);var C=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),Ly(C.i,"t",D),c.C=0,C=c.j.J,c.h=new ru,c.g=Jy(c.j,C?I:null,!c.m),0<c.O&&(c.M=new Tn(d(c.Y,c,c.g),c.O)),I=c.U,C=c.g,D=c.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Vi[0]=Y.toString()),Y=Vi);for(var Z=0;Z<Y.length;Z++){var fe=vt(C,Y[Z],D||I.handleEvent,!1,I.h||I);if(!fe)break;I.g[fe.key]=fe}I=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,I)):(c.u="GET",c.g.ea(c.A,c.u,null,I)),Wr(),bo(c.i,c.u,c.A,c.l,c.R,c.m)}Bn.prototype.ca=function(c){c=c.target;const I=this.M;I&&Er(c)==3?I.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const Kt=Er(this.g);var I=this.g.Ba();const Ro=this.g.Z();if(!(3>Kt)&&(Kt!=3||this.g&&(this.h.h||this.g.oa()||By(this.g)))){this.J||Kt!=4||I==7||(I==8||0>=Ro?Wr(3):Wr(2)),fn(this);var C=this.g.Z();this.X=C;t:if(We(this)){var D=By(this.g);c="";var Y=D.length,Z=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),qn(this);var fe="";break t}this.h.i=new a.TextDecoder}for(I=0;I<Y;I++)this.h.h=!0,c+=this.h.i.decode(D[I],{stream:!(Z&&I==Y-1)});D.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=C==200,eu(this.i,this.u,this.A,this.l,this.R,Kt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Mt=this.g;if((Xe=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(Xe)){var ze=Xe;break t}}ze=null}if(C=ze)vr(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,C);else{this.o=!1,this.s=3,Rt(12),lt(this),qn(this);break e}}if(this.P){C=!0;let zn;for(;!this.J&&this.C<fe.length;)if(zn=kt(this,fe),zn==W){Kt==4&&(this.s=4,Rt(14),C=!1),vr(this.i,this.l,null,"[Incomplete Response]");break}else if(zn==_e){this.s=4,Rt(15),vr(this.i,this.l,fe,"[Invalid Chunk]"),C=!1;break}else vr(this.i,this.l,zn,null),Oo(this,zn);if(We(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kt!=4||fe.length!=0||this.h.h||(this.s=1,Rt(16),C=!1),this.o=this.o&&C,!C)vr(this.i,this.l,fe,"[Invalid Chunked Response]"),lt(this),qn(this);else if(0<fe.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),bh(Wt),Wt.M=!0,Rt(11))}}else vr(this.i,this.l,fe,null),Oo(this,fe);Kt==4&&lt(this),this.o&&!this.J&&(Kt==4?Gy(this.j,this):(this.o=!1,mt(this)))}else CO(this.g),C==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),lt(this),qn(this)}}}catch{}finally{}};function We(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kt(c,I){var C=c.C,D=I.indexOf(`
`,C);return D==-1?W:(C=Number(I.substring(C,D)),isNaN(C)?_e:(D+=1,D+C>I.length?W:(I=I.slice(D,D+C),c.C=D+C,I)))}Bn.prototype.cancel=function(){this.J=!0,lt(this)};function mt(c){c.S=Date.now()+c.I,Dt(c,c.I)}function Dt(c,I){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ui(d(c.ba,c),I)}function fn(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(tu(this.i,this.A),this.L!=2&&(Wr(),Rt(17)),lt(this),this.s=2,qn(this)):Dt(this,this.S-c)};function qn(c){c.j.G==0||c.J||Gy(c.j,c)}function lt(c){fn(c);var I=c.M;I&&typeof I.ma=="function"&&I.ma(),c.M=null,Nn(c.U),c.g&&(I=c.g,c.g=null,I.abort(),I.ma())}function Oo(c,I){try{var C=c.j;if(C.G!=0&&(C.g==c||_h(C.h,c))){if(!c.K&&_h(C.h,c)&&C.G==3){try{var D=C.Da.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<c.F)hu(C),cu(C);else break e;Sh(C),Rt(18)}}else C.za=Y[1],0<C.za-C.T&&37500>Y[2]&&C.F&&C.v==0&&!C.C&&(C.C=Ui(d(C.Za,C),6e3));if(1>=Ay(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else zi(C,11)}else if((c.K||C.g==c)&&hu(C),!p(I))for(Y=C.Da.g.parse(I),I=0;I<Y.length;I++){let ze=Y[I];if(C.T=ze[0],ze=ze[1],C.G==2)if(ze[0]=="c"){C.K=ze[1],C.ia=ze[2];const Wt=ze[3];Wt!=null&&(C.la=Wt,C.j.info("VER="+C.la));const Kt=ze[4];Kt!=null&&(C.Aa=Kt,C.j.info("SVER="+C.Aa));const Ro=ze[5];Ro!=null&&typeof Ro=="number"&&0<Ro&&(D=1.5*Ro,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const zn=c.g;if(zn){const pu=zn.g?zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pu){var Z=D.h;Z.g||pu.indexOf("spdy")==-1&&pu.indexOf("quic")==-1&&pu.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Eh(Z,Z.h),Z.h=null))}if(D.D){const Ah=zn.g?zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ah&&(D.ya=Ah,et(D.I,D.D,Ah))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-c.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var fe=c;if(D.qa=Xy(D,D.J?D.ia:null,D.W),fe.K){Oy(D.h,fe);var Xe=fe,Mt=D.L;Mt&&(Xe.I=Mt),Xe.B&&(fn(Xe),mt(Xe)),D.g=fe}else Wy(D);0<C.i.length&&fu(C)}else ze[0]!="stop"&&ze[0]!="close"||zi(C,7);else C.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?zi(C,7):Th(C):ze[0]!="noop"&&C.l&&C.l.ta(ze),C.v=0)}}Wr(4)}catch{}}var iu=class{constructor(c,I){this.g=c,this.map=I}};function Sy(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function by(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ay(c){return c.h?1:c.g?c.g.size:0}function _h(c,I){return c.h?c.h==I:c.g?c.g.has(I):!1}function Eh(c,I){c.g?c.g.add(I):c.h=I}function Oy(c,I){c.h&&c.h==I?c.h=null:c.g&&c.g.has(I)&&c.g.delete(I)}Sy.prototype.cancel=function(){if(this.i=Iy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Iy(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let I=c.i;for(const C of c.g.values())I=I.concat(C.D);return I}return v(c.i)}function gO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var I=[],C=c.length,D=0;D<C;D++)I.push(c[D]);return I}I=[],C=0;for(D in c)I[C++]=c[D];return I}function yO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var I=[];c=c.length;for(var C=0;C<c;C++)I.push(C);return I}I=[],C=0;for(const D in c)I[C++]=D;return I}}}function Py(c,I){if(c.forEach&&typeof c.forEach=="function")c.forEach(I,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,I,void 0);else for(var C=yO(c),D=gO(c),Y=D.length,Z=0;Z<Y;Z++)I.call(void 0,D[Z],C&&C[Z],c)}var Ry=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vO(c,I){if(c){c=c.split("&");for(var C=0;C<c.length;C++){var D=c[C].indexOf("="),Y=null;if(0<=D){var Z=c[C].substring(0,D);Y=c[C].substring(D+1)}else Z=c[C];I(Z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qi){this.h=c.h,ou(this,c.j),this.o=c.o,this.g=c.g,su(this,c.s),this.l=c.l;var I=c.i,C=new ia;C.i=I.i,I.g&&(C.g=new Map(I.g),C.h=I.h),ky(this,C),this.m=c.m}else c&&(I=String(c).match(Ry))?(this.h=!1,ou(this,I[1]||"",!0),this.o=na(I[2]||""),this.g=na(I[3]||"",!0),su(this,I[4]),this.l=na(I[5]||"",!0),ky(this,I[6]||"",!0),this.m=na(I[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}qi.prototype.toString=function(){var c=[],I=this.j;I&&c.push(ra(I,Cy,!0),":");var C=this.g;return(C||I=="file")&&(c.push("//"),(I=this.o)&&c.push(ra(I,Cy,!0),"@"),c.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&c.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&c.push("/"),c.push(ra(C,C.charAt(0)=="/"?wO:EO,!0))),(C=this.i.toString())&&c.push("?",C),(C=this.m)&&c.push("#",ra(C,SO)),c.join("")};function _r(c){return new qi(c)}function ou(c,I,C){c.j=C?na(I,!0):I,c.j&&(c.j=c.j.replace(/:$/,""))}function su(c,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);c.s=I}else c.s=null}function ky(c,I,C){I instanceof ia?(c.i=I,bO(c.i,c.h)):(C||(I=ra(I,TO)),c.i=new ia(I,c.h))}function et(c,I,C){c.i.set(I,C)}function au(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function na(c,I){return c?I?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ra(c,I,C){return typeof c=="string"?(c=encodeURI(c).replace(I,_O),C&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _O(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Cy=/[#\/\?@]/g,EO=/[#\?:]/g,wO=/[#\?]/g,TO=/[#\?@]/g,SO=/#/g;function ia(c,I){this.h=this.g=null,this.i=c||null,this.j=!!I}function Kr(c){c.g||(c.g=new Map,c.h=0,c.i&&vO(c.i,function(I,C){c.add(decodeURIComponent(I.replace(/\+/g," ")),C)}))}t=ia.prototype,t.add=function(c,I){Kr(this),this.i=null,c=Io(this,c);var C=this.g.get(c);return C||this.g.set(c,C=[]),C.push(I),this.h+=1,this};function xy(c,I){Kr(c),I=Io(c,I),c.g.has(I)&&(c.i=null,c.h-=c.g.get(I).length,c.g.delete(I))}function Ny(c,I){return Kr(c),I=Io(c,I),c.g.has(I)}t.forEach=function(c,I){Kr(this),this.g.forEach(function(C,D){C.forEach(function(Y){c.call(I,Y,D,this)},this)},this)},t.na=function(){Kr(this);const c=Array.from(this.g.values()),I=Array.from(this.g.keys()),C=[];for(let D=0;D<I.length;D++){const Y=c[D];for(let Z=0;Z<Y.length;Z++)C.push(I[D])}return C},t.V=function(c){Kr(this);let I=[];if(typeof c=="string")Ny(this,c)&&(I=I.concat(this.g.get(Io(this,c))));else{c=Array.from(this.g.values());for(let C=0;C<c.length;C++)I=I.concat(c[C])}return I},t.set=function(c,I){return Kr(this),this.i=null,c=Io(this,c),Ny(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[I]),this.h+=1,this},t.get=function(c,I){return c?(c=this.V(c),0<c.length?String(c[0]):I):I};function Ly(c,I,C){xy(c,I),0<C.length&&(c.i=null,c.g.set(Io(c,I),v(C)),c.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],I=Array.from(this.g.keys());for(var C=0;C<I.length;C++){var D=I[C];const Z=encodeURIComponent(String(D)),fe=this.V(D);for(D=0;D<fe.length;D++){var Y=Z;fe[D]!==""&&(Y+="="+encodeURIComponent(String(fe[D]))),c.push(Y)}}return this.i=c.join("&")};function Io(c,I){return I=String(I),c.j&&(I=I.toLowerCase()),I}function bO(c,I){I&&!c.j&&(Kr(c),c.i=null,c.g.forEach(function(C,D){var Y=D.toLowerCase();D!=Y&&(xy(this,D),Ly(this,Y,C))},c)),c.j=I}function AO(c,I){const C=new Ht;if(a.Image){const D=new Image;D.onload=m(Gr,C,"TestLoadImage: loaded",!0,I,D),D.onerror=m(Gr,C,"TestLoadImage: error",!1,I,D),D.onabort=m(Gr,C,"TestLoadImage: abort",!1,I,D),D.ontimeout=m(Gr,C,"TestLoadImage: timeout",!1,I,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else I(!1)}function OO(c,I){const C=new Ht,D=new AbortController,Y=setTimeout(()=>{D.abort(),Gr(C,"TestPingServer: timeout",!1,I)},1e4);fetch(c,{signal:D.signal}).then(Z=>{clearTimeout(Y),Z.ok?Gr(C,"TestPingServer: ok",!0,I):Gr(C,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(Y),Gr(C,"TestPingServer: error",!1,I)})}function Gr(c,I,C,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(C)}catch{}}function IO(){this.g=new Ys}function PO(c,I,C){const D=C||"";try{Py(c,function(Y,Z){let fe=Y;u(Y)&&(fe=rr(Y)),I.push(D+Z+"="+encodeURIComponent(fe))})}catch(Y){throw I.push(D+"type="+encodeURIComponent("_badmap")),Y}}function oa(c){this.l=c.Ub||null,this.j=c.eb||!1}E(oa,Xs),oa.prototype.g=function(){return new lu(this.l,this.j)},oa.prototype.i=function(c){return function(){return c}}({});function lu(c,I){Ve.call(this),this.D=c,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(lu,Ve),t=lu.prototype,t.open=function(c,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=I,this.readyState=1,aa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(I.body=c),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dy(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dy(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var I=c.value?c.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!c.done}))&&(this.response=this.responseText+=I)}c.done?sa(this):aa(this),this.readyState==3&&Dy(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,sa(this))},t.Qa=function(c){this.g&&(this.response=c,sa(this))},t.ga=function(){this.g&&sa(this)};function sa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,aa(c)}t.setRequestHeader=function(c,I){this.u.append(c,I)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],I=this.h.entries();for(var C=I.next();!C.done;)C=C.value,c.push(C[0]+": "+C[1]),C=I.next();return c.join(`\r
`)};function aa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function My(c){let I="";return x(c,function(C,D){I+=D,I+=":",I+=C,I+=`\r
`}),I}function wh(c,I,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=My(C),typeof c=="string"?C!=null&&encodeURIComponent(String(C)):et(c,I,C))}function gt(c){Ve.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(gt,Ve);var RO=/^https?$/i,kO=["POST","PUT"];t=gt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,I,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);I=I?I.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ao.g(),this.v=this.o?$r(this.o):$r(Ao),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(I,String(c),!0),this.B=!1}catch(Z){jy(this,Z);return}if(c=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)C.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const Z of D.keys())C.set(Z,D.get(Z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kO,I,void 0))||D||Y||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of C)this.g.setRequestHeader(Z,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uy(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){jy(this,Z)}};function jy(c,I){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=I,c.m=5,Vy(c),uu(c)}function Vy(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uu(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fy(this):this.bb())},t.bb=function(){Fy(this)};function Fy(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)ji(c.Ea,0,c);else if(Qe(c,"readystatechange"),Er(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var C;if(!(C=I)){var D;if(D=fe===0){var Y=String(c.D).match(Ry)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),D=!RO.test(Y?Y.toLowerCase():"")}C=D}if(C)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Z=2<Er(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Vy(c)}}finally{uu(c)}}}}function uu(c,I){if(c.g){Uy(c);const C=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,I||Qe(c,"ready");try{C.onreadystatechange=D}catch{}}}function Uy(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var I=this.g.responseText;return c&&I.indexOf(c)==0&&(I=I.substring(c.length)),Qs(I)}};function By(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function CO(c){const I={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(p(c[D]))continue;var C=b(c[D]);const Y=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const Z=I[Y]||[];I[Y]=Z,Z.push(C)}A(I,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(c,I,C){return C&&C.internalChannelParams&&C.internalChannelParams[c]||I}function qy(c){this.Aa=0,this.i=[],this.j=new Ht,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,c),this.cb=la("retryDelaySeedMs",1e4,c),this.Wa=la("forwardChannelMaxRetries",2,c),this.wa=la("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Sy(c&&c.concurrentRequestLimit),this.Da=new IO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qy.prototype,t.la=8,t.G=1,t.connect=function(c,I,C,D){Rt(0),this.W=c,this.H=I||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Xy(this,null,this.W),fu(this)};function Th(c){if(zy(c),c.G==3){var I=c.U++,C=_r(c.I);if(et(C,"SID",c.K),et(C,"RID",I),et(C,"TYPE","terminate"),ua(c,C),I=new Bn(c,c.j,I),I.L=2,I.v=au(_r(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=I.v,C=!0),C||(I.g=Jy(I.j,null),I.g.ea(I.v)),I.F=Date.now(),mt(I)}Yy(c)}function cu(c){c.g&&(bh(c),c.g.cancel(),c.g=null)}function zy(c){cu(c),c.u&&(a.clearTimeout(c.u),c.u=null),hu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fu(c){if(!by(c.h)&&!c.s){c.s=!0;var I=c.Ga;K||F(),G||(K(),G=!0),B.add(I,c),c.B=0}}function xO(c,I){return Ay(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=I.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ui(d(c.Ga,c,I),Qy(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Y=new Bn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=S(Z),T(Z,this.S)):Z=this.S),this.m!==null||this.O||(Y.H=Z,Z=null),this.P)e:{for(var I=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,4096<I){I=C;break e}if(I===4096||C===this.i.length-1){I=C+1;break e}}I=1e3}else I=1e3;I=Hy(this,Y,I),C=_r(this.I),et(C,"RID",c),et(C,"CVER",22),this.D&&et(C,"X-HTTP-Session-Id",this.D),ua(this,C),Z&&(this.O?I="headers="+encodeURIComponent(String(My(Z)))+"&"+I:this.m&&wh(C,this.m,Z)),Eh(this.h,Y),this.Ua&&et(C,"TYPE","init"),this.P?(et(C,"$req",I),et(C,"SID","null"),Y.T=!0,ue(Y,C,null)):ue(Y,C,I),this.G=2}}else this.G==3&&(c?$y(this,c):this.i.length==0||by(this.h)||$y(this))};function $y(c,I){var C;I?C=I.l:C=c.U++;const D=_r(c.I);et(D,"SID",c.K),et(D,"RID",C),et(D,"AID",c.T),ua(c,D),c.m&&c.o&&wh(D,c.m,c.o),C=new Bn(c,c.j,C,c.B+1),c.m===null&&(C.H=c.o),I&&(c.i=I.D.concat(c.i)),I=Hy(c,C,1e3),C.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Eh(c.h,C),ue(C,D,I)}function ua(c,I){c.H&&x(c.H,function(C,D){et(I,D,C)}),c.l&&Py({},function(C,D){et(I,D,C)})}function Hy(c,I,C){C=Math.min(c.i.length,C);var D=c.l?d(c.l.Na,c.l,c):null;e:{var Y=c.i;let Z=-1;for(;;){const fe=["count="+C];Z==-1?0<C?(Z=Y[0].g,fe.push("ofs="+Z)):Z=0:fe.push("ofs="+Z);let Xe=!0;for(let Mt=0;Mt<C;Mt++){let ze=Y[Mt].g;const Wt=Y[Mt].map;if(ze-=Z,0>ze)Z=Math.max(0,Y[Mt].g-100),Xe=!1;else try{PO(Wt,fe,"req"+ze+"_")}catch{D&&D(Wt)}}if(Xe){D=fe.join("&");break e}}}return c=c.i.splice(0,C),I.D=c,D}function Wy(c){if(!c.g&&!c.u){c.Y=1;var I=c.Fa;K||F(),G||(K(),G=!0),B.add(I,c),c.v=0}}function Sh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ui(d(c.Fa,c),Qy(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ky(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ui(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),cu(this),Ky(this))};function bh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Ky(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var I=_r(c.qa);et(I,"RID","rpc"),et(I,"SID",c.K),et(I,"AID",c.T),et(I,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(I,"TO",c.ja),et(I,"TYPE","xmlhttp"),ua(c,I),c.m&&c.o&&wh(I,c.m,c.o),c.L&&(c.g.I=c.L);var C=c.g;c=c.ia,C.L=1,C.v=au(_r(I)),C.m=null,C.P=!0,ye(C,c)}t.Za=function(){this.C!=null&&(this.C=null,cu(this),Sh(this),Rt(19))};function hu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Gy(c,I){var C=null;if(c.g==I){hu(c),bh(c),c.g=null;var D=2}else if(_h(c.h,I))C=I.D,Oy(c.h,I),D=1;else return;if(c.G!=0){if(I.o)if(D==1){C=I.m?I.m.length:0,I=Date.now()-I.F;var Y=c.B;D=Hr(),Qe(D,new ea(D,C)),fu(c)}else Wy(c);else if(Y=I.s,Y==3||Y==0&&0<I.X||!(D==1&&xO(c,I)||D==2&&Sh(c)))switch(C&&0<C.length&&(I=c.h,I.i=I.i.concat(C)),Y){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function Qy(c,I){let C=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(C*=2),C*I}function zi(c,I){if(c.j.info("Error code "+I),I==2){var C=d(c.fb,c),D=c.Xa;const Y=!D;D=new qi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ou(D,"https"),au(D),Y?AO(D.toString(),C):OO(D.toString(),C)}else Rt(2);c.G=0,c.l&&c.l.sa(I),Yy(c),zy(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Yy(c){if(c.G=0,c.ka=[],c.l){const I=Iy(c.h);(I.length!=0||c.i.length!=0)&&(_(c.ka,I),_(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Xy(c,I,C){var D=C instanceof qi?_r(C):new qi(C);if(D.g!="")I&&(D.g=I+"."+D.g),su(D,D.s);else{var Y=a.location;D=Y.protocol,I=I?I+"."+Y.hostname:Y.hostname,Y=+Y.port;var Z=new qi(null);D&&ou(Z,D),I&&(Z.g=I),Y&&su(Z,Y),C&&(Z.l=C),D=Z}return C=c.D,I=c.ya,C&&I&&et(D,C,I),et(D,"VER",c.la),ua(c,D),D}function Jy(c,I,C){if(I&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=c.Ca&&!c.pa?new gt(new oa({eb:C})):new gt(c.pa),I.Ha(c.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zy(){}t=Zy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(c,I){return new Sn(c,I)};function Sn(c,I){Ve.call(this),this.g=new qy(I),this.l=c,this.h=I&&I.messageUrlParams||null,c=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(c?c["X-WebChannel-Content-Type"]=I.messageContentType:c={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(c?c["X-WebChannel-Client-Profile"]=I.va:c={"X-WebChannel-Client-Profile":I.va}),this.g.S=c,(c=I&&I.Sb)&&!p(c)&&(this.g.m=c),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!p(I)&&(this.g.D=I,c=this.h,c!==null&&I in c&&(c=this.h,I in c&&delete c[I])),this.j=new Po(this)}E(Sn,Ve),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Th(this.g)},Sn.prototype.o=function(c){var I=this.g;if(typeof c=="string"){var C={};C.__data__=c,c=C}else this.u&&(C={},C.__data__=rr(c),c=C);I.i.push(new iu(I.Ya++,c)),I.G==3&&fu(I)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Th(this.g),delete this.g,Sn.aa.N.call(this)};function ev(c){pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var I=c.__sm__;if(I){e:{for(const C in I){c=C;break e}c=void 0}(this.i=c)&&(c=this.i,I=I!==null&&c in I?I[c]:void 0),this.data=I}else this.data=c}E(ev,pt);function tv(){ir.call(this),this.status=1}E(tv,ir);function Po(c){this.g=c}E(Po,Zy),Po.prototype.ua=function(){Qe(this.g,"a")},Po.prototype.ta=function(c){Qe(this.g,new ev(c))},Po.prototype.sa=function(c){Qe(this.g,new tv)},Po.prototype.ra=function(){Qe(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,vS=function(){return new du},yS=function(){return Hr()},gS=yr,Mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,rc=cn,ta.COMPLETE="complete",mS=ta,Jl.EventType=Fi,Fi.OPEN="a",Fi.CLOSE="b",Fi.ERROR="c",Fi.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,La=Jl,pS=oa,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,dS=gt}).apply(typeof Nu<"u"?Nu:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new wg("@firebase/firestore");function va(){return fo.logLevel}function ve(t,...e){if(fo.logLevel<=Ue.DEBUG){const n=e.map(Ng);fo.debug(`Firestore (${js}): ${t}`,...n)}}function Vr(t,...e){if(fo.logLevel<=Ue.ERROR){const n=e.map(Ng);fo.error(`Firestore (${js}): ${t}`,...n)}}function gs(t,...e){if(fo.logLevel<=Ue.WARN){const n=e.map(Ng);fo.warn(`Firestore (${js}): ${t}`,...n)}}function Ng(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function Je(t,e){t||Re()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class ZN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string"),new _S(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Xt(e)}}class t2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class i2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new r2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=o2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Pt(0,0))}static max(){return new ke(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return El.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends El{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends El{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ge(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(rt.fromString(e))}static fromName(e){return new we(rt.fromString(e).popFirst(5))}static empty(){return new we(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new rt(e.slice()))}}function a2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Ii(i,we.empty(),e)}function l2(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(ke.min(),we.empty(),-1)}static max(){return new Ii(ke.max(),we.empty(),-1)}}function u2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==c2)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new ae((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function h2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Lg.oe=-1;function Uf(t){return t==null}function Wc(t){return t===0&&1/t==-1/0}function d2(t){return typeof t=="number"&&Number.isInteger(t)&&!Wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=o??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new On([])}unionWith(e){let n=new qt(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new TS("Invalid base64 string: "+o):o}}(e);return new $t(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const p2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Je(!!t),typeof t=="string"){let e=0;const n=p2.exec(t);if(Je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ho(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mg(t){const e=t.mapValue.fields.__previous_value__;return Dg(e)?Mg(e):e}function wl(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Tl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dg(t)?4:y2(t)?9007199254740991:g2(t)?10:11:Re()}function gr(t,e){if(t===e)return!0;const n=po(t);if(n!==po(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wl(t).isEqual(wl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Pi(i.timestampValue),a=Pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ho(i.bytesValue).isEqual(ho(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _t(i.geoPointValue.latitude)===_t(o.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _t(i.integerValue)===_t(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=_t(i.doubleValue),a=_t(o.doubleValue);return s===a?Wc(s)===Wc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(X_(s)!==X_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!gr(s[l],a[l])))return!1;return!0}(t,e);default:return Re()}}function Sl(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function vs(t,e){if(t===e)return 0;const n=po(t),r=po(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=_t(o.integerValue||o.doubleValue),l=_t(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(wl(t),wl(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ho(o),l=ho(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=$e(a[u],l[u]);if(h!==0)return h}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=$e(_t(o.latitude),_t(s.latitude));return a!==0?a:$e(_t(o.longitude),_t(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;const f=o.fields||{},d=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=$e(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:e0(m,E)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Du.mapValue&&s===Du.mapValue)return 0;if(o===Du.mapValue)return 1;if(s===Du.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=$e(l[f],h[f]);if(d!==0)return d;const m=vs(a[l[f]],u[h[f]]);if(m!==0)return m}return $e(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Re()}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Pi(t),r=Pi(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function e0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=vs(n[i],r[i]);if(o)return o}return $e(n.length,r.length)}function _s(t){return jp(t)}function jp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ho(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=jp(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${jp(n.fields[s])}`;return i+"}"}(t.mapValue):Re()}function t0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vp(t){return!!t&&"integerValue"in t}function jg(t){return!!t&&"arrayValue"in t}function n0(t){return!!t&&"nullValue"in t}function r0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ic(t){return!!t&&"mapValue"in t}function g2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ga(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function y2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ic(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ga(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ic(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ic(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new pn(Ga(this.value))}}function SS(t){const e=[];return To(t.fields,(n,r)=>{const i=new Ft([n]);if(ic(r)){const o=SS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Zt(e,0,ke.min(),ke.min(),ke.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new Zt(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Zt(e,2,n,ke.min(),ke.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ke.min(),ke.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function i0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=vs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function o0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function v2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class bt extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new E2(e,n,r):n==="array-contains"?new S2(e,r):n==="in"?new b2(e,r):n==="not-in"?new A2(e,r):n==="array-contains-any"?new O2(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w2(e,r):new T2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&po(this.value)===po(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new er(e,n)}matches(e){return AS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AS(t){return t.op==="and"}function OS(t){return _2(t)&&AS(t)}function _2(t){for(const e of t.filters)if(e instanceof er)return!1;return!0}function Fp(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+_s(t.value);if(OS(t))return t.filters.map(e=>Fp(e)).join(",");{const e=t.filters.map(n=>Fp(n)).join(",");return`${t.op}(${e})`}}function IS(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof er?function(r,i){return i instanceof er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&IS(s,i.filters[a]),!0):!1}(t,e):void Re()}function PS(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`}(t):t instanceof er?function(n){return n.op.toString()+" {"+n.getFilters().map(PS).join(" ,")+"}"}(t):"Filter"}class E2 extends bt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class w2 extends bt{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T2 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class S2 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jg(n)&&Sl(n.arrayValue,this.value)}}class b2 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sl(this.value.arrayValue,n)}}class A2 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sl(this.value.arrayValue,n)}}class O2 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function s0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new I2(t,e,n,r,i,o,s)}function Vg(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),e.ue=n}return e.ue}function Fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o0(t.startAt,e.startAt)&&o0(t.endAt,e.endAt)}function Up(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function P2(t,e,n,r,i,o,s,a){return new ql(t,e,n,r,i,o,s,a)}function Ug(t){return new ql(t)}function a0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kS(t){return t.collectionGroup!==null}function Qa(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qt(Ft.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Gc(o,r))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new Gc(Ft.keyField(),r))}return e.ce}function dr(t){const e=Ce(t);return e.le||(e.le=R2(e,Qa(t))),e.le}function R2(t,e){if(t.limitType==="F")return s0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gc(i.field,o)});const n=t.endAt?new Kc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Kc(t.startAt.position,t.startAt.inclusive):null;return s0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bp(t,e){const n=t.filters.concat([e]);return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qp(t,e,n){return new ql(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return Fg(dr(t),dr(e))&&t.limitType===e.limitType}function CS(t){return`${Vg(dr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>PS(i)).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_s(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Qa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=i0(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Qa(r),i)||r.endAt&&!function(s,a,l){const u=i0(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Qa(r),i))}(t,e)}function k2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xS(t){return(e,n)=>{let r=!1;for(const i of Qa(t)){const o=C2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function C2(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?vs(l,u):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return wS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new dt(we.comparator);function Fr(){return x2}const NS=new dt(we.comparator);function Da(...t){let e=NS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=NS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return Ya()}function DS(){return Ya()}function Ya(){return new Vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const N2=new dt(we.comparator),L2=new qt(we.comparator);function Fe(...t){let e=L2;for(const n of t)e=e.add(n);return e}const D2=new qt($e);function M2(){return D2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function MS(t){return{integerValue:""+t}}function j2(t,e){return d2(e)?MS(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this._=void 0}}function V2(t,e,n){return t instanceof bl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Dg(o)&&(o=Mg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Al?VS(t,e):t instanceof Ol?FS(t,e):function(i,o){const s=jS(i,o),a=l0(s)+l0(i.Pe);return Vp(s)&&Vp(i.Pe)?MS(a):Bg(i.serializer,a)}(t,e)}function F2(t,e,n){return t instanceof Al?VS(t,e):t instanceof Ol?FS(t,e):n}function jS(t,e){return t instanceof Qc?function(r){return Vp(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class bl extends zf{}class Al extends zf{constructor(e){super(),this.elements=e}}function VS(t,e){const n=US(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ol extends zf{constructor(e){super(),this.elements=e}}function FS(t,e){let n=US(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Qc extends zf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function l0(t){return _t(t.integerValue||t.doubleValue)}function US(t){return jg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.field=e,this.transform=n}}function B2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Al&&i instanceof Al||r instanceof Ol&&i instanceof Ol?ys(r.elements,i.elements,gr):r instanceof Qc&&i instanceof Qc?gr(r.Pe,i.Pe):r instanceof bl&&i instanceof bl}(t.transform,e.transform)}class q2{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $f{}function BS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zS(t.key,pr.none()):new zl(t.key,t.data,pr.none());{const n=t.data,r=pn.empty();let i=new qt(Ft.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mi(t.key,r,new On(i.toArray()),pr.none())}}function z2(t,e,n){t instanceof zl?function(i,o,s){const a=i.value.clone(),l=c0(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(i,o,s){if(!oc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=c0(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Xa(t,e,n,r){return t instanceof zl?function(o,s,a,l){if(!oc(o.precondition,s))return a;const u=o.value.clone(),h=f0(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mi?function(o,s,a,l){if(!oc(o.precondition,s))return a;const u=f0(o.fieldTransforms,l,s),h=s.data;return h.setAll(qS(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return oc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function $2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jS(r.transform,i||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function u0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(o,s)=>B2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zl extends $f{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mi extends $f{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c0(t,e,n){const r=new Map;Je(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,F2(s,a,n[i]))}return r}function f0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,V2(o,s,e))}return r}class zS extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H2 extends $f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&z2(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=BS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(n,r)=>u0(n,r))&&ys(this.baseMutations,e.baseMutations,(n,r)=>u0(n,r))}}class qg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Je(e.mutations.length===r.length);let i=function(){return N2}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new qg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function Q2(t){switch(t){default:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function $S(t){if(t===void 0)return Vr("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Tt.OK:return ie.OK;case Tt.CANCELLED:return ie.CANCELLED;case Tt.UNKNOWN:return ie.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ie.INTERNAL;case Tt.UNAVAILABLE:return ie.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ie.NOT_FOUND;case Tt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Tt.ABORTED:return ie.ABORTED;case Tt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Tt.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new no([4294967295,4294967295],0);function h0(t){const e=Y2().encode(t),n=new hS;return n.update(e),new Uint8Array(n.digest())}function d0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([n,r],0),new no([i,o],0)]}class zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ma(`Invalid padding: ${n}`);if(r<0)throw new Ma(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ma(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ma(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=no.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(no.fromNumber(r)));return i.compare(X2)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=h0(e),[r,i]=d0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=h0(e),[r,i]=d0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ma extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(ke.min(),i,new dt($e),Fr(),Fe())}}class $l{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $l(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class HS{constructor(e,n){this.targetId=e,this.me=n}}class WS{constructor(e,n,r=$t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class p0{constructor(){this.fe=0,this.ge=g0(),this.pe=$t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),n=Fe(),r=Fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new $l(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=g0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class J2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=m0(),this.Qe=new dt($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Up(o))if(r===0){const s=new we(o.path);this.Ue(n,s,Zt.newNoDocument(s,ke.min()))}else Je(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ho(r).toUint8Array()}catch(l){if(l instanceof TS)return gs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zg(s,i,o)}catch(l){return gs(l instanceof Ma?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Up(a.target)){const l=new we(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Zt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Fe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Hf(e,n,this.Qe,this.ke,r);return this.ke=Fr(),this.qe=m0(),this.Qe=new dt($e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new p0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qt($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new p0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m0(){return new dt(we.comparator)}function g0(){return new dt(we.comparator)}const Z2={asc:"ASCENDING",desc:"DESCENDING"},eL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tL={and:"AND",or:"OR"};class nL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zp(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rL(t,e){return Yc(t,e.toTimestamp())}function mr(t){return Je(!!t),ke.fromTimestamp(function(n){const r=Pi(n);return new Pt(r.seconds,r.nanos)}(t))}function $g(t,e){return $p(t,e).canonicalString()}function $p(t,e){const n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GS(t){const e=rt.fromString(t);return Je(ZS(e)),e}function Hp(t,e){return $g(t.databaseId,e.path)}function sd(t,e){const n=GS(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(YS(n))}function QS(t,e){return $g(t.databaseId,e)}function iL(t){const e=GS(t);return e.length===4?rt.emptyPath():YS(e)}function Wp(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YS(t){return Je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function y0(t,e,n){return{name:Hp(t,e),fields:n.value.mapValue.fields}}function oL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Je(h===void 0||typeof h=="string"),$t.fromBase64String(h||"")):(Je(h===void 0||h instanceof Buffer||h instanceof Uint8Array),$t.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=u.code===void 0?ie.UNKNOWN:$S(u.code);return new ge(h,u.message||"")}(s);n=new WS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sd(t,r.document.name),o=mr(r.document.updateTime),s=r.document.createTime?mr(r.document.createTime):ke.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=Zt.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new sc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sd(t,r.document),o=r.readTime?mr(r.readTime):ke.min(),s=Zt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sd(t,r.document),o=r.removedTargetIds||[];n=new sc([],o,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new G2(i,o),a=r.targetId;n=new HS(a,s)}}return n}function sL(t,e){let n;if(e instanceof zl)n={update:y0(t,e.key,e.value)};else if(e instanceof zS)n={delete:Hp(t,e.key)};else if(e instanceof Mi)n={update:y0(t,e.key,e.data),updateMask:mL(e.fieldMask)};else{if(!(e instanceof H2))return Re();n={verify:Hp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof bl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Al)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ol)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:rL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Re()}(t,e.precondition)),n}function aL(t,e){return t&&t.length>0?(Je(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?mr(i.updateTime):mr(o);return s.isEqual(ke.min())&&(s=mr(o)),new q2(s,i.transformResults||[])}(n,e))):[]}function lL(t,e){return{documents:[QS(t,e.path)]}}function uL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QS(t,i);const o=function(u){if(u.length!==0)return JS(er.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:No(d.field),direction:hL(d.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=zp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function cL(t){let e=iL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Je(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=XS(f);return d instanceof er&&OS(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(E){return new Gc(Lo(E.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Uf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new Kc(m,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,m=f.values||[];return new Kc(m,d)}(n.endAt)),P2(e,i,s,o,a,"F",l,u)}function fL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lo(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lo(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lo(n.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Lo(n.unaryFilter.field);return bt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return er.create(n.compositeFilter.filters.map(r=>XS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function hL(t){return Z2[t]}function dL(t){return eL[t]}function pL(t){return tL[t]}function No(t){return{fieldPath:t.canonicalString()}}function Lo(t){return Ft.fromServerFormat(t.fieldPath)}function JS(t){return t instanceof bt?function(n){if(n.op==="=="){if(r0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(n0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(n0(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:dL(n.op),value:n.value}}}(t):t instanceof er?function(n){const r=n.getFilters().map(i=>JS(i));return r.length===1?r[0]:{compositeFilter:{op:pL(n.op),filters:r}}}(t):Re()}function mL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r,i,o=ke.min(),s=ke.min(),a=$t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ci(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ci(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.ct=e}}function yL(t){const e=cL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.un=new _L}addToCollectionParentIndex(e,n){return this.un.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ii.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class _L{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Es(0)}static kn(){return new Es(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.changes=new Vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xa(r.mutation,i,On.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const i=Ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Da();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fr();const s=Ya(),a=function(){return Ya()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Mi)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Xa(h.mutation,u,h.mutation.getFieldMask(),Pt.now())):s.set(u.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new wL(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ya();let i=new dt((s,a)=>s-a),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||On.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Fe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=DS();h.forEach(d=>{if(!o.has(d)){const m=BS(n.get(d),r.get(d));m!==null&&f.set(d,m),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ae.resolve(Ji());let a=-1,l=o;return s.next(u=>ae.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?ae.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Fe())).next(h=>({batchId:a,changes:LS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Da();return this.indexManager.getCollectionParents(e,o).next(a=>ae.forEach(a,l=>{const u=function(f,d){return new ql(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,Zt.newInvalidDocument(h)))});let a=Da();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&Xa(h.mutation,u,On.empty(),Pt.now()),qf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mr(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:yL(i.bundledQuery),readTime:mr(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.overlays=new dt(we.comparator),this.Ir=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ji();return ae.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=Ji(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new dt((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Ji(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ji(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return ae.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new K2(n,r));let o=this.Ir.get(n);o===void 0&&(o=Fe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.Tr=new qt(Ct.Er),this.dr=new qt(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new rt([])),r=new Ct(n,e),i=new Ct(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new rt([])),r=new Ct(n,e),i=new Ct(n,e+1);let o=Fe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||$e(e.wr,n.wr)}static Ar(e,n){return $e(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qt(Ct.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new W2(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(s)}lookupMutationBatch(e,n){return ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt($e);return n.forEach(i=>{const o=new Ct(i,0),s=new Ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const s=new Ct(new we(o),0);let a=new qt($e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ae.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ae.forEach(n.mutations,i=>{const o=new Ct(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ct(n,0),i=this.br.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.Mr=e,this.docs=function(){return new dt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Zt.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fr();const s=n.path,a=new we(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||u2(l2(h),r)<=0||(i.has(h.key)||qf(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Re()}Or(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PL(this)}getSize(e){return ae.resolve(this.size)}}class PL extends EL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.persistence=e,this.Nr=new Vs(n=>Vg(n),Fg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hg,this.targetCount=0,this.kr=Es.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Es(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Kn(n),ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ae.waitFor(o).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Lg(0),this.Kr=!1,this.Kr=!0,this.$r=new AL,this.referenceDelegate=e(this),this.Ur=new RL(this),this.indexManager=new vL,this.remoteDocumentCache=function(i){return new IL(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new gL(n),this.Gr=new SL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new OL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new CL(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ae.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class CL extends f2{constructor(e){super(),this.currentSequenceNumber=e}}class Wg{constructor(e){this.persistence=e,this.Jr=new Hg,this.Yr=null}static Zr(e){return new Wg(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,r=>{const i=we.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ae.or([()=>ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Fe(),i=Fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Kg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Sk()?8:h2(tn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new xL;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(va()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(va()<=Ue.DEBUG&&ve("QueryEngine","Query:",xo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(va()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):ae.resolve())}Yi(e,n){if(a0(n))return ae.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qp(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Fe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,qp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return a0(n)||i.isEqual(ke.min())?ae.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ae.resolve(null):(va()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xo(n)),this.rs(e,s,n,a2(i,-1)).next(a=>a))})}ts(e,n){let r=new qt(xS(e));return n.forEach((i,o)=>{qf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return va()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",xo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ii.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt($e),this._s=new Vs(o=>Vg(o),Fg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function DL(t,e,n,r){return new LL(t,e,n,r)}async function eb(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Fe();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function ML(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,d=f.keys();let m=ae.resolve();return d.forEach(E=>{m=m.next(()=>h.getEntry(l,E)).next(v=>{const _=u.docVersions.get(E);Je(_!==null),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tb(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function jL(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let m=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken($t.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(v,_,g){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,m,h)&&a.push(n.Ur.updateTargetData(o,m))});let l=Fr(),u=Fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(VL(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(ke.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return ae.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function VL(t,e,n){let r=Fe(),i=Fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function FL(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UL(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ae.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ci(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Kp(t,e,n){const r=Ce(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Bl(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function v0(t,e,n){const r=Ce(t);let i=ke.min(),o=Fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const f=Ce(l),d=f._s.get(h);return d!==void 0?ae.resolve(f.os.get(d)):f.Ur.getTargetData(u,h)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ke.min(),n?o:Fe())).next(a=>(BL(r,k2(e),a),{documents:a,Ts:o})))}function BL(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class _0{constructor(){this.activeTargetIds=M2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qL{constructor(){this.so=new _0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function ad(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class WL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=ad(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(h=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw gs("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=$L[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ad();return new Promise((s,a)=>{const l=new dS;l.setWithCredentials(!0),l.listenOnce(mS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rc.NO_ERROR:const h=l.getResponseJson();ve(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case rc.TIMEOUT:ve(Yt,`RPC '${e}' ${o} timed out`),a(new ge(ie.DEADLINE_EXCEEDED,"Request time out"));break;case rc.HTTP_ERROR:const f=l.getStatus();if(ve(Yt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const E=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(g)>=0?g:ie.UNKNOWN}(m.status);a(new ge(E,m.message))}else a(new ge(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ve(Yt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(Yt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ad(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vS(),a=yS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new pS({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");ve(Yt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=s.createWebChannel(h,l);let d=!1,m=!1;const E=new HL({Io:_=>{m?ve(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(ve(Yt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),ve(Yt,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),v=(_,g,p)=>{_.listen(g,w=>{try{p(w)}catch(y){setTimeout(()=>{throw y},0)}})};return v(f,La.EventType.OPEN,()=>{m||(ve(Yt,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),v(f,La.EventType.CLOSE,()=>{m||(m=!0,ve(Yt,`RPC '${e}' stream ${i} transport closed`),E.So())}),v(f,La.EventType.ERROR,_=>{m||(m=!0,gs(Yt,`RPC '${e}' stream ${i} transport errored:`,_),E.So(new ge(ie.UNAVAILABLE,"The operation could not be completed")))}),v(f,La.EventType.MESSAGE,_=>{var g;if(!m){const p=_.data[0];Je(!!p);const w=p,y=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(y){ve(Yt,`RPC '${e}' stream ${i} received error:`,y);const O=y.status;let x=function(P){const T=Tt[P];if(T!==void 0)return $S(T)}(O),A=y.message;x===void 0&&(x=ie.INTERNAL,A="Unknown error status: "+O+" with message "+y.message),m=!0,E.So(new ge(x,A)),f.close()}else ve(Yt,`RPC '${e}' stream ${i} received:`,p),E.bo(p)}}),v(a,gS.STAT_EVENT,_=>{_.stat===Mp.PROXY?ve(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Mp.NOPROXY&&ve(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function ld(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(t){return new nL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ge(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KL extends rb{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=oL(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?mr(s.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wp(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Up(l)?{documents:lL(o,l)}:{query:uL(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=KS(o,s.resumeToken);const u=zp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=Yc(o,s.snapshotVersion.toTimestamp());const u=zp(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=fL(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wp(this.serializer),n.removeTarget=e,this.a_(n)}}class GL extends rb{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=aL(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,$p(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(ie.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,$p(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(ie.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class YL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{So(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.L_.add(4),await Hl(u),u.q_.set("Unknown"),u.L_.delete(4),await Kf(u)}(this))})}),this.q_=new YL(r,i)}}async function Kf(t){if(So(t))for(const e of t.B_)await e(!0)}async function Hl(t){for(const e of t.B_)await e(!1)}function ib(t,e){const n=Ce(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Xg(n)?Yg(n):Fs(n).r_()&&Qg(n,e))}function Gg(t,e){const n=Ce(t),r=Fs(n);n.N_.delete(e),r.r_()&&ob(n,e),n.N_.size===0&&(r.r_()?r.o_():So(n)&&n.q_.set("Unknown"))}function Qg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fs(t).A_(e)}function ob(t,e){t.Q_.xe(e),Fs(t).R_(e)}function Yg(t){t.Q_=new J2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fs(t).start(),t.q_.v_()}function Xg(t){return So(t)&&!Fs(t).n_()&&t.N_.size>0}function So(t){return Ce(t).L_.size===0}function sb(t){t.Q_=void 0}async function JL(t){t.q_.set("Online")}async function ZL(t){t.N_.forEach((e,n)=>{Qg(t,e)})}async function eD(t,e){sb(t),Xg(t)?(t.q_.M_(e),Yg(t)):t.q_.set("Unknown")}async function tD(t,e,n){if(t.q_.set("Online"),e instanceof WS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xc(t,r)}else if(e instanceof sc?t.Q_.Ke(e):e instanceof HS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await tb(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken($t.EMPTY_BYTE_STRING,h.snapshotVersion)),ob(o,l);const f=new ci(h.target,l,u,h.sequenceNumber);Qg(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await Xc(t,r)}}async function Xc(t,e,n){if(!Bl(e))throw e;t.L_.add(1),await Hl(t),t.q_.set("Offline"),n||(n=()=>tb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kf(t)})}function ab(t,e){return e().catch(n=>Xc(t,n,e))}async function Gf(t){const e=Ce(t),n=Ri(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nD(e);)try{const i=await FL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,rD(e,i)}catch(i){await Xc(e,i)}lb(e)&&ub(e)}function nD(t){return So(t)&&t.O_.length<10}function rD(t,e){t.O_.push(e);const n=Ri(t);n.r_()&&n.V_&&n.m_(e.mutations)}function lb(t){return So(t)&&!Ri(t).n_()&&t.O_.length>0}function ub(t){Ri(t).start()}async function iD(t){Ri(t).p_()}async function oD(t){const e=Ri(t);for(const n of t.O_)e.m_(n.mutations)}async function sD(t,e,n){const r=t.O_.shift(),i=qg.from(r,e,n);await ab(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gf(t)}async function aD(t,e){e&&Ri(t).V_&&await async function(r,i){if(function(s){return Q2(s)&&s!==ie.ABORTED}(i.code)){const o=r.O_.shift();Ri(r).s_(),await ab(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gf(r)}}(t,e),lb(t)&&ub(t)}async function w0(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=So(n);n.L_.add(3),await Hl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kf(n)}async function lD(t,e){const n=Ce(t);e?(n.L_.delete(2),await Kf(n)):e||(n.L_.add(2),await Hl(n),n.q_.set("Unknown"))}function Fs(t){return t.K_||(t.K_=function(n,r,i){const o=Ce(n);return o.w_(),new KL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:JL.bind(null,t),Ro:ZL.bind(null,t),mo:eD.bind(null,t),d_:tD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Xg(t)?Yg(t):t.q_.set("Unknown")):(await t.K_.stop(),sb(t))})),t.K_}function Ri(t){return t.U_||(t.U_=function(n,r,i){const o=Ce(n);return o.w_(),new GL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iD.bind(null,t),mo:aD.bind(null,t),f_:oD.bind(null,t),g_:sD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gf(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Jg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),Bl(t))return new ge(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Da(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new rs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.W_=new dt(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ws{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ws(e,n,rs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cD{constructor(){this.queries=S0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ce(n),o=i.queries;i.queries=S0(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ge(ie.ABORTED,"Firestore shutting down"))}}function S0(){return new Vs(t=>CS(t),Bf)}async function cb(t,e){const n=Ce(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new uD,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Zg(s,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ey(n)}async function fb(t,e){const n=Ce(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fD(t,e){const n=Ce(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ey(n)}function hD(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ey(t){t.Y_.forEach(e=>{e.next()})}var Gp,b0;(b0=Gp||(Gp={})).ea="default",b0.Cache="cache";class hb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e){this.key=e}}class pb{constructor(e){this.key=e}}class dD{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=xS(e),this.Ra=new rs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new T0,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=qf(this.query,f)?f:null,E=!!d&&this.mutatedKeys.has(d.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;d&&m?d.data.isEqual(m.data)?E!==v&&(r.track({type:3,doc:m}),_=!0):this.ga(d,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),_=!0):d&&!m&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(m?(s=s.add(m),o=v?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,f)=>function(m,E){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return v(m)-v(E)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new ws(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new T0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new pb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new db(r))}),n}ba(e){this.Ta=e.Ts,this.da=Fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ws.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mD{constructor(e){this.key=e,this.va=!1}}class gD{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Vs(a=>CS(a),Bf),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(we.comparator),this.Na=new Map,this.La=new Hg,this.Ba={},this.ka=new Map,this.qa=Es.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yD(t,e,n=!0){const r=Eb(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await mb(r,e,n,!0),i}async function vD(t,e){const n=Eb(t);await mb(n,e,!0,!1)}async function mb(t,e,n,r){const i=await UL(t.localStore,dr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await _D(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ib(t.remoteStore,i),a}async function _D(t,e,n,r,i){t.Ka=(f,d,m)=>async function(v,_,g,p){let w=_.view.ma(g);w.ns&&(w=await v0(v.localStore,_.query,!1).then(({documents:A})=>_.view.ma(A,w)));const y=p&&p.targetChanges.get(_.targetId),O=p&&p.targetMismatches.get(_.targetId)!=null,x=_.view.applyChanges(w,v.isPrimaryClient,y,O);return O0(v,_.targetId,x.wa),x.snapshot}(t,f,d,m);const o=await v0(t.localStore,e,!0),s=new dD(e,o.Ts),a=s.ma(o.documents),l=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);O0(t,n,u.wa);const h=new pD(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function ED(t,e,n){const r=Ce(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Bf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Kp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gg(r.remoteStore,i.targetId),Qp(r,i.targetId)}).catch(Ul)):(Qp(r,i.targetId),await Kp(r.localStore,i.targetId,!0))}async function wD(t,e){const n=Ce(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gg(n.remoteStore,r.targetId))}async function TD(t,e,n){const r=RD(t);try{const i=await function(s,a){const l=Ce(s),u=Pt.now(),h=a.reduce((m,E)=>m.add(E.key),Fe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=Fr(),v=Fe();return l.cs.getEntries(m,h).next(_=>{E=_,E.forEach((g,p)=>{p.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,E)).next(_=>{f=_;const g=[];for(const p of a){const w=$2(p,f.get(p.key).overlayedDocument);w!=null&&g.push(new Mi(p.key,w,SS(w.value.mapValue),pr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(_=>{d=_;const g=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,g)})}).then(()=>({batchId:d.batchId,changes:LS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new dt($e)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Wl(r,i.changes),await Gf(r.remoteStore)}catch(i){const o=Zg(i,"Failed to persist write");n.reject(o)}}async function gb(t,e){const n=Ce(t);try{const r=await jL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Je(s.va):i.removedDocuments.size>0&&(Je(s.va),s.va=!1))}),await Wl(n,r,e)}catch(r){await Ul(r)}}function A0(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ce(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&ey(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SD(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new dt(we.comparator);s=s.insert(o,Zt.newNoDocument(o,ke.min()));const a=Fe().add(o),l=new Hf(ke.min(),new Map,new dt($e),s,a);await gb(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),ty(r)}else await Kp(r.localStore,e,!1).then(()=>Qp(r,e,n)).catch(Ul)}async function bD(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await ML(n.localStore,e);vb(n,r,null),yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(n,i)}catch(i){await Ul(i)}}async function AD(t,e,n){const r=Ce(t);try{const i=await function(s,a){const l=Ce(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Je(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);vb(r,e,n),yb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wl(r,i)}catch(i){await Ul(i)}}function yb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function vb(t,e,n){const r=Ce(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Qp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_b(t,r)})}function _b(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Gg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ty(t))}function O0(t,e,n){for(const r of n)r instanceof db?(t.La.addReference(r.key,e),OD(t,r)):r instanceof pb?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_b(t,r.key)):Re()}function OD(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),ty(t))}function ty(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new mD(n)),t.Oa=t.Oa.insert(n,r),ib(t.remoteStore,new ci(dr(Ug(n.path)),r,"TargetPurposeLimboResolution",Lg.oe))}}async function Wl(t,e,n){const r=Ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Kg.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const h=Ce(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,d=>ae.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>ae.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Bl(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),E=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(d,v)}}}(r.localStore,o))}async function ID(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await eb(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ge(ie.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wl(n,r.hs)}}function PD(t,e){const n=Ce(t),r=n.Na.get(e);if(r&&r.va)return Fe().add(r.key);{let i=Fe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Eb(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.Ca.d_=fD.bind(null,e.eventManager),e.Ca.$a=hD.bind(null,e.eventManager),e}function RD(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AD.bind(null,e),e}class I0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DL(this.persistence,new NL,e.initialUser,this.serializer)}createPersistence(e){return new kL(Wg.Zr,this.serializer)}createSharedClientState(e){return new qL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cD}()}createDatastore(e){const n=Wf(e.databaseInfo.databaseId),r=function(o){return new WL(o)}(e.databaseInfo);return function(o,s,a,l){return new QL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new XL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return E0.D()?new E0:new zL}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const f=new gD(i,o,s,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ce(i);ve("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Hl(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ve("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ud(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ND(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>w0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>w0(e.remoteStore,i)),t._onlineComponents=e}function xD(t){return t.name==="FirebaseError"?t.code===ie.FAILED_PRECONDITION||t.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ND(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await ud(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xD(n))throw n;gs("Error using user provided cache. Falling back to memory cache: "+n),await ud(t,new I0)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await ud(t,new I0);return t._offlineComponents}async function Tb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await P0(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await P0(t,new kD))),t._onlineComponents}function LD(t){return Tb(t).then(e=>e.syncEngine)}async function Sb(t){const e=await Tb(t),n=e.eventManager;return n.onListen=yD.bind(null,e.syncEngine),n.onUnlisten=ED.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wD.bind(null,e.syncEngine),n}function DD(t,e,n={}){const r=new Cr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new wb({next:d=>{s.enqueueAndForget(()=>fb(o,f));const m=d.docs.has(a);!m&&d.fromCache?u.reject(new ge(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?u.reject(new ge(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new hb(Ug(a.path),h,{includeMetadataChanges:!0,_a:!0});return cb(o,f)}(await Sb(t),t.asyncQueue,e,n,r)),r.promise}function MD(t,e,n={}){const r=new Cr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new wb({next:d=>{s.enqueueAndForget(()=>fb(o,f)),d.fromCache&&l.source==="server"?u.reject(new ge(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new hb(a,h,{includeMetadataChanges:!0,_a:!0});return cb(o,f)}(await Sb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e,n){if(!n)throw new ge(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jD(t,e,n,r){if(e===!0&&r===!0)throw new ge(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k0(t){if(!we.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C0(t){if(we.isDocumentKey(t))throw new ge(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function ki(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qf(t);throw new ge(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ge(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ge(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JN;switch(r.type){case"firstParty":return new n2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R0.get(n);r&&(ve("ComponentProvider","Removing Datastore"),R0.delete(n),r.terminate())}(this),Promise.resolve()}}function VD(t,e,n,r={}){var i;const o=(t=ki(t,Yf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Xt.MOCK_USER;else{a=gk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Xt(u)}t._authCredentials=new ZN(new _S(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class bi extends Us{constructor(e,n,r){super(e,n,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new we(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function Xf(t,e,...n){if(t=Lt(t),Ab("collection","path",e),t instanceof Yf){const r=rt.fromString(e,...n);return C0(r),new bi(t,null,r)}{if(!(t instanceof _n||t instanceof bi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return C0(r),new bi(t.firestore,null,r)}}function Yp(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=ES.newId()),Ab("doc","path",e),t instanceof Yf){const r=rt.fromString(e,...n);return k0(r),new _n(t,null,new we(r))}{if(!(t instanceof _n||t instanceof bi))throw new ge(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return k0(r),new _n(t.firestore,t instanceof bi?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new nb(this,"async_queue_retry"),this.Eu=()=>{const n=ld();n&&ve("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=ld();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=ld();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Cr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Bl(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Jg.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Re()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Kl extends Yf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new FD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ob(this),this._firestoreClient.terminate()}}function UD(t,e){const n=typeof t=="object"?t:RT(),r=typeof t=="string"?t:"(default)",i=Sg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=pk("firestore");o&&VD(i,...o)}return i}function ny(t){return t._firestoreClient||Ob(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ob(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,h){return new m2(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new CD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts($t.fromBase64String(e))}catch(n){throw new ge(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=/^__.*__$/;class qD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new zl(e,this.data,n,this.fieldTransforms)}}class Ib{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class oy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Jc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Pb(this.wu)&&BD.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class zD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wf(e)}Nu(e,n,r,i=!1){return new oy({wu:e,methodName:n,Ou:r,path:Ft.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sy(t){const e=t._freezeSettings(),n=Wf(t._databaseId);return new zD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $D(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);ly("Data must be an object, but it was:",s,r);const a=Rb(r,s);let l,u;if(o.merge)l=new On(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=Xp(e,f,n);if(!s.contains(d))throw new ge(ie.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Cb(h,d)||h.push(d)}l=new On(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new qD(new pn(a),l,u)}class eh extends Zf{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}class ay extends Zf{_toFieldTransform(e){return new U2(e.path,new bl)}isEqual(e){return e instanceof ay}}function HD(t,e,n,r){const i=t.Nu(1,e,n);ly("Data must be an object, but it was:",i,r);const o=[],s=pn.empty();To(r,(l,u)=>{const h=uy(e,l,n);u=Lt(u);const f=i.Cu(h);if(u instanceof eh)o.push(h);else{const d=Gl(u,f);d!=null&&(o.push(h),s.set(h,d))}});const a=new On(o);return new Ib(s,a,i.fieldTransforms)}function WD(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[Xp(e,r,n)],l=[i];if(o.length%2!=0)throw new ge(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Xp(e,o[d])),l.push(o[d+1]);const u=[],h=pn.empty();for(let d=a.length-1;d>=0;--d)if(!Cb(u,a[d])){const m=a[d];let E=l[d];E=Lt(E);const v=s.Cu(m);if(E instanceof eh)u.push(m);else{const _=Gl(E,v);_!=null&&(u.push(m),h.set(m,_))}}const f=new On(u);return new Ib(h,f,s.fieldTransforms)}function KD(t,e,n,r=!1){return Gl(n,t.Nu(r?4:3,e))}function Gl(t,e){if(kb(t=Lt(t)))return ly("Unsupported field value:",e,t),Rb(t,e);if(t instanceof Zf)return function(r,i){if(!Pb(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Gl(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Pt.fromDate(r);return{timestampValue:Yc(i.serializer,o)}}if(r instanceof Pt){const o=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,o)}}if(r instanceof ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ts)return{bytesValue:KS(i.serializer,r._byteString)};if(r instanceof _n){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$g(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof iy)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Bg(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Qf(r)}`)}(t,e)}function Rb(t,e){const n={};return wS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{const o=Gl(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function kb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof ry||t instanceof Ts||t instanceof _n||t instanceof Zf||t instanceof iy)}function ly(t,e,n){if(!kb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Xp(t,e,n){if((e=Lt(e))instanceof Jf)return e._internalPath;if(typeof e=="string")return uy(t,e);throw Jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const GD=new RegExp("[~\\*/\\[\\]]");function uy(t,e,n){if(e.search(GD)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ge(ie.INVALID_ARGUMENT,a+t+l)}function Cb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QD extends xb{data(){return super.data()}}function cy(t,e){return typeof e=="string"?uy(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fy{}class XD extends fy{}function Nb(t,e,...n){let r=[];e instanceof fy&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof hy).length,a=o.filter(l=>l instanceof th).length;if(s>1||s>0&&a>0)throw new ge(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class th extends XD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new th(e,n,r)}_apply(e){const n=this._parse(e);return Db(e._query,n),new Us(e.firestore,e.converter,Bp(e._query,n))}_parse(e){const n=sy(e.firestore);return function(o,s,a,l,u,h,f){let d;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){L0(f,h);const m=[];for(const E of f)m.push(N0(l,o,E));d={arrayValue:{values:m}}}else d=N0(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||L0(f,h),d=KD(a,s,f,h==="in"||h==="not-in");return bt.create(u,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lb(t,e,n){const r=e,i=cy("where",t);return th._create(i,r,n)}class hy extends fy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:er.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Db(s,l),s=Bp(s,l)}(e._query,n),new Us(e.firestore,e.converter,Bp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N0(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new ge(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kS(e)&&n.indexOf("/")!==-1)throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!we.isDocumentKey(r))throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t0(t,new we(r))}if(n instanceof _n)return t0(t,n._key);throw new ge(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qf(n)}.`)}function L0(t,e){if(!Array.isArray(t)||t.length===0)throw new ge(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Db(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JD{convertValue(e,n="none"){switch(po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>_t(s.doubleValue));return new iy(o)}convertGeoPoint(e){return new ry(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);Je(ZS(r));const i=new Tl(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||Vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mb extends xb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ac extends Mb{data(e={}){return super.data(e)}}class eM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ac(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ac(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ac(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:tM(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){t=ki(t,_n);const e=ki(t.firestore,Kl);return DD(ny(e),t._key).then(n=>iM(e,t,n))}class jb extends JD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function Vb(t){t=ki(t,Us);const e=ki(t.firestore,Kl),n=ny(e),r=new jb(e);return YD(t._query),MD(n,t._query).then(i=>new eM(e,r,t,i))}function rM(t,e,n,...r){t=ki(t,_n);const i=ki(t.firestore,Kl),o=sy(i);let s;return s=typeof(e=Lt(e))=="string"||e instanceof Jf?WD(o,"updateDoc",t._key,e,n,r):HD(o,"updateDoc",t._key,e),Ub(i,[s.toMutation(t._key,pr.exists(!0))])}function Fb(t,e){const n=ki(t.firestore,Kl),r=Yp(t),i=ZD(t.converter,e);return Ub(n,[$D(sy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function Ub(t,e){return function(r,i){const o=new Cr;return r.asyncQueue.enqueueAndForget(async()=>TD(await LD(r),i,o)),o.promise}(ny(t),e)}function iM(t,e,n){const r=n.docs.get(e._key),i=new jb(t);return new Mb(t,i,e._key,r,new ja(n.hasPendingWrites,n.fromCache),e.converter)}function oM(){return new ay("serverTimestamp")}(function(e,n=!0){(function(i){js=i})(Ls),ps(new uo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Kl(new e2(r.getProvider("auth-internal")),new i2(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ti(Y_,"4.7.2",e),Ti(Y_,"4.7.2","esm2017")})();const sM={apiKey:"AIzaSyDW3pSJuO8cZCE5Xj9E9jtinyzc5jE-6mE",authDomain:"mywebsiteauth-4ecd1.firebaseapp.com",projectId:"mywebsiteauth-4ecd1",storageBucket:"mywebsiteauth-4ecd1.appspot.com",messagingSenderId:"835611860806",appId:"1:835611860806:web:f1c4c8e388e09089984f47"},Bb=PT(sM),Ss=UD(Bb),is=GN(Bb),qb=oe.createContext();function mo(){return oe.useContext(qb)}function zb({children:t}){const[e,n]=oe.useState(null),[r,i]=oe.useState(!0);oe.useEffect(()=>jx(is,u=>{n(u),i(!1)}),[]);function o(l,u){return Lx(is,l,u)}function s(){return tS(is)}const a={currentUser:e,login:o,logout:s};return $.jsx(qb.Provider,{value:a,children:!r&&t})}function _a({children:t}){const{currentUser:e}=mo();return e?t:$.jsx(GR,{to:"/login"})}function aM(){const[t,e]=oe.useState("expense"),[n,r]=oe.useState(""),[i,o]=oe.useState(""),[s,a]=oe.useState(""),{currentUser:l}=mo(),u=async h=>{h.preventDefault();const f={type:t,amount:parseFloat(n),category:i,description:s,date:new Date,userId:String(l.uid)};try{await Fb(Xf(Ss,"transactions"),f),alert("Transaction added successfully!"),r(""),o(""),a("")}catch(d){console.error("Error adding document:",d)}};return $.jsxs("form",{onSubmit:u,className:"transaction-form",children:[$.jsx("h2",{children:"Add a New Transaction"}),$.jsxs("select",{value:t,onChange:h=>e(h.target.value),children:[$.jsx("option",{value:"income",children:"Income"}),$.jsx("option",{value:"expense",children:"Expense"})]}),$.jsx("input",{type:"number",value:n,onChange:h=>r(h.target.value),placeholder:"Amount",required:!0}),$.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),placeholder:"Category",required:!0}),$.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),placeholder:"Description"}),$.jsx("button",{type:"submit",children:"Add Transaction"})]})}const lM=()=>{const[t,e]=oe.useState([]),[n,r]=oe.useState(null);return oe.useEffect(()=>{(async()=>{try{if(!is.currentUser){console.error("No user is currently logged in."),r("User is not authenticated.");return}const o=Nb(Xf(Ss,"transactions"),Lb("userId","==",is.currentUser.uid)),s=await Vb(o);s.empty&&console.warn("No transactions found for this user.");const a=s.docs.map(l=>({...l.data(),id:l.id}));e(a)}catch(o){console.error("Error fetching transactions:",o),r(o.message)}})()},[]),n?$.jsxs("div",{children:["Error: ",n]}):$.jsxs("div",{children:[$.jsx("h2",{children:"Your Transactions"}),$.jsx("ul",{children:t.length>0?t.map(i=>$.jsxs("li",{children:[i.type==="income"?"+":"-","$",i.amount," - ",i.category]},i.id)):$.jsx("p",{children:"No transactions found."})})]})},uM=()=>{const t=Eo(),e=()=>{tS(is).then(()=>{console.log("User logged out successfully."),t("/login")}).catch(n=>{console.error("Error logging out:",n)})};return $.jsx("button",{id:"logoutButton",onClick:e,style:cM.logoutButton,children:"Logout"})},cM={logoutButton:{padding:"6px 15px",backgroundColor:"#e06e6e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},fM=()=>{const t=Eo(),e=()=>{t("/login")};return $.jsx("button",{id:"loginButton",onClick:e,style:hM.logoutButton,children:"Login"})},hM={logoutButton:{padding:"6px 15px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}};function dM(){const{currentUser:t}=mo();return $.jsx("nav",{class:"navigationBar",children:$.jsxs("ul",{children:[$.jsx("li",{id:"homeLink",children:$.jsx(Co,{to:"/",children:"Home"})}),$.jsx("li",{id:"portfolioLink",children:$.jsx(Co,{to:"/portfolio",children:"Portfolio"})}),t?$.jsxs($.Fragment,{children:[$.jsx("li",{id:"cvLink",children:$.jsx(Co,{to:"/CV",children:"CV"})}),$.jsx("li",{id:"todoLink",children:$.jsx(Co,{to:"/todo",children:"TODO List"})}),$.jsx("li",{id:"financeLink",children:$.jsx(Co,{to:"/finance",children:"Financial Tracker"})}),$.jsx("li",{id:"weekplannerLink",children:$.jsx(Co,{to:"/weekplanner",children:"Week Planner"})}),$.jsxs("p",{id:"loggedInText",children:["Logged in as: ",t.email.split("@website.local")]}),$.jsx(uM,{})]}):$.jsx(fM,{})]})})}function pM(){const t=Eo(),e=()=>{t("/portfolio")};return $.jsxs("div",{children:[$.jsxs("div",{class:"hero-section",style:ot.container,children:[$.jsxs("div",{style:ot.welcomeContainer,children:[$.jsx("h1",{style:ot.mainHeader,children:"Welcome to my personal website"}),$.jsx("p",{style:ot.mainParagraph,children:"The purpose of this website is to share my projects, skills, and journey as a hobbyist developer."}),$.jsx("div",{style:ot.portfolioButton,children:$.jsx("button",{onClick:()=>e(),class:"cta-button",children:"Explore My Work"})})]}),$.jsxs("section",{id:"about-section-id",class:"about-section",style:ot.aboutMe,children:[$.jsx("h2",{children:"About Me"}),$.jsxs("div",{children:[$.jsx("p",{children:"I'm a self-taught hobbyist developer with some experience spread across software, web and game development."}),$.jsx("p",{children:"I have been learning programming and doing personal projects since I was 15 years old, using online resources such as Stack Overflow, YouTube tutorials and Quora (see next section)."}),$.jsx("p",{children:"I am motivated to learn about programming and tech related topics and I am pursuing a career where I could apply my skills, while also aquiring new knowledge."})]})]}),$.jsxs("section",{id:"skills-section-id",class:"skills-section",style:ot.skillsSection,children:[$.jsx("h2",{children:"Tools, Resources & Technologies I Use"}),$.jsxs("ul",{class:"skills-list",style:ot.skillsList,children:[$.jsx("li",{children:" HTML"}),$.jsx("li",{children:" CSS"}),$.jsx("li",{children:" JavaScript"}),$.jsx("li",{children:" React"}),$.jsx("li",{children:" Node.js"}),$.jsx("li",{children:" Python"}),$.jsx("li",{children:" C#"}),$.jsx("li",{children:" Godot Engine"}),$.jsx("li",{children:" Unity Engine"}),$.jsx("li",{children:" Visual Studio 2022"}),$.jsx("li",{children:" GitHub"}),$.jsx("li",{children:" Google Firebase"}),$.jsx("li",{children:" cPanel"}),$.jsx("li",{children:" ChatGPT"}),$.jsx("li",{style:ot.skillSectionLink,children:$.jsx("a",{href:"https://www.w3schools.com/",children:" w3schools.com"})}),$.jsx("li",{style:ot.skillSectionLink,children:$.jsx("a",{href:"https://freecodecamp.org/learn",children:" freecodecamp.org"})})]})]}),$.jsxs("section",{id:"featured-id",class:"featured-projects",children:[$.jsx("h2",{id:"featuredTitle",style:ot.featuredProjectsTitle,children:"Featured Projects"}),$.jsxs("div",{style:ot.featuredProjectsGrid,children:[$.jsxs("div",{class:"featuredProjectCard",style:ot.featuredProjectCard,children:[$.jsx("img",{style:ot.featuredProjectImage,src:"https://wilzzu.xyz/assets/weather_app_card_image.png",alt:"Project 1"}),$.jsx("h3",{children:"Weather App"}),$.jsx("p",{children:"Weather app built in Python using Custom Tkinter. API calls are used to get weather based on geolocation."}),$.jsx("a",{style:ot.featuredProjectLink,href:"/portfolio/weather-app",children:"Read More"})]}),$.jsxs("div",{class:"featuredProjectCard",style:ot.featuredProjectCard,children:[$.jsx("img",{style:ot.featuredProjectImage,src:"https://wilzzu.xyz/assets/card_image_placeholder.png",alt:"Project 2"}),$.jsx("h3",{children:"Personal Website"}),$.jsx("p",{children:"A short description of the project."}),$.jsx("a",{style:ot.featuredProjectLink,href:"/portfolio/personal-website",children:"Read More"})]}),$.jsxs("div",{class:"featuredProjectCard",style:ot.featuredProjectCard,children:[$.jsx("img",{style:ot.featuredProjectImage,src:"https://wilzzu.xyz/assets/card_image_placeholder.png",alt:"Project 3"}),$.jsx("h3",{children:"Project 3"}),$.jsx("p",{children:"A short description of the project."}),$.jsx("a",{style:ot.featuredProjectLink,href:"/portfolio/",children:"Read More"})]})]})]})]}),$.jsxs("footer",{style:ot.footer,children:[$.jsx("div",{style:ot.footerItem,children:$.jsx("a",{href:"https://github.com/wilzzuu",target:"_blank",children:"GitHub"})}),$.jsx("div",{class:"footer-copyright",style:ot.footerCopyright,children:$.jsx("p",{children:" 2024 wilzzu.xyz. All Rights Reserved."})})]})]})}const ot={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},welcomeContainer:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},mainHeader:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},mainParagraph:{textAlign:"center",fontSize:"18px",margin:"0 0 20px"},portfolioButton:{textAlign:"center",fontSize:"18px",margin:"30px 0 auto"},aboutMe:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",fontSize:"20px",margin:"40px 0 20px"},skillsSection:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",fontSize:"18px",margin:"40px auto"},skillsList:{display:"flex",flexWrap:"wrap",textAlign:"center"},skillSectionLink:{textDecoration:"underline",color:"inherit"},featuredProjectsTitle:{textAlign:"center",fontSize:"28px",margin:"40px 0 20px"},featuredProjectsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",margin:"0 0 40px"},featuredProjectCard:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"300",height:"400px",position:"relative",textAlign:"center"},featuredProjectLink:{textDecoration:"none",color:"inherit"},featuredProjectImage:{width:"300px",height:"150px",objectFit:"cover"},footer:{backgroundColor:"#333",padding:"10px 10px"},footerItem:{padding:"10px",gap:"10px"},footerCopyright:{}};function mM(){const{login:t}=mo(),[e,n]=oe.useState(""),[r,i]=oe.useState(!1),{currentUser:o}=mo(),s=Eo(),[a,l]=oe.useState(""),[u,h]=oe.useState("");async function f(d){const m=`${a}@website.local`;d.preventDefault();try{n(""),i(!0),console.log("Current user: ",o),await t(m,u),s("/login")}catch{n("Failed to log in")}i(!1)}return $.jsx("div",{style:wr.container,children:o?$.jsxs("div",{children:[$.jsxs("h1",{style:wr.header,children:["Welcome, ",o.email.split("@website.local"),"!"]}),$.jsx("div",{style:wr.homeButton,children:$.jsx("button",{onClick:()=>s("/"),children:"Got to Home"})})]}):$.jsxs("div",{children:[$.jsx("h2",{style:wr.header,children:"Log In"}),e&&$.jsx("p",{children:e}),$.jsx("div",{style:wr.card,children:$.jsxs("form",{onSubmit:f,style:wr.form,children:[$.jsx("div",{children:$.jsx("input",{style:wr.username,type:"text",placeholder:"Username",value:a,onChange:d=>l(d.target.value)})}),$.jsx("div",{children:$.jsx("input",{style:wr.password,type:"password",placeholder:"Password",value:u,onChange:d=>h(d.target.value)})}),$.jsx("div",{children:$.jsx("button",{style:wr.loginButton,type:"submit",disabled:r,children:"Log In"})})]})})]})})}const wr={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},homeButton:{textAlign:"center",padding:"20px"},loginButton:{margin:"10px",textAlign:"center"},header:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},card:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"300px",margin:"auto",height:"auto"},form:{textAlign:"center",margin:"auto"},link:{textDecoration:"none",color:"inherit"},image:{width:"100%",height:"150px",objectFit:"cover"},username:{margin:"5px",height:"20px",width:"225px"},password:{margin:"5px",height:"20px",width:"225px"},passwordReset:{margin:"10px",textDecoration:"underline"}};function D0(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}var gM=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):D0(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.schedule(function(){r.apply(void 0,s)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&D0(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),yM=new gM,vM=tR.unstable_batchedUpdates;yM.setBatchNotifyFunction(vM);const _M=()=>{oe.useState(null),mo()};function $b(t,e){return function(){return t.apply(e,arguments)}}const{toString:EM}=Object.prototype,{getPrototypeOf:dy}=Object,nh=(t=>e=>{const n=EM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),tr=t=>(t=t.toLowerCase(),e=>nh(e)===t),rh=t=>e=>typeof e===t,{isArray:Bs}=Array,Il=rh("undefined");function wM(t){return t!==null&&!Il(t)&&t.constructor!==null&&!Il(t.constructor)&&Pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hb=tr("ArrayBuffer");function TM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hb(t.buffer),e}const SM=rh("string"),Pn=rh("function"),Wb=rh("number"),ih=t=>t!==null&&typeof t=="object",bM=t=>t===!0||t===!1,lc=t=>{if(nh(t)!=="object")return!1;const e=dy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AM=tr("Date"),OM=tr("File"),IM=tr("Blob"),PM=tr("FileList"),RM=t=>ih(t)&&Pn(t.pipe),kM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pn(t.append)&&((e=nh(t))==="formdata"||e==="object"&&Pn(t.toString)&&t.toString()==="[object FormData]"))},CM=tr("URLSearchParams"),[xM,NM,LM,DM]=["ReadableStream","Request","Response","Headers"].map(tr),MM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ql(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Bs(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function Kb(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Gb=t=>!Il(t)&&t!==Zi;function Jp(){const{caseless:t}=Gb(this)&&this||{},e={},n=(r,i)=>{const o=t&&Kb(e,i)||i;lc(e[o])&&lc(r)?e[o]=Jp(e[o],r):lc(r)?e[o]=Jp({},r):Bs(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ql(arguments[r],n);return e}const jM=(t,e,n,{allOwnKeys:r}={})=>(Ql(e,(i,o)=>{n&&Pn(i)?t[o]=$b(i,n):t[o]=i},{allOwnKeys:r}),t),VM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),FM=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},UM=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&dy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},BM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},qM=t=>{if(!t)return null;if(Bs(t))return t;let e=t.length;if(!Wb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},zM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&dy(Uint8Array)),$M=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},HM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WM=tr("HTMLFormElement"),KM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),M0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GM=tr("RegExp"),Qb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ql(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},QM=t=>{Qb(t,(e,n)=>{if(Pn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},YM=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Bs(t)?r(t):r(String(t).split(e)),n},XM=()=>{},JM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,cd="abcdefghijklmnopqrstuvwxyz",j0="0123456789",Yb={DIGIT:j0,ALPHA:cd,ALPHA_DIGIT:cd+cd.toUpperCase()+j0},ZM=(t=16,e=Yb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function ej(t){return!!(t&&Pn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const tj=t=>{const e=new Array(10),n=(r,i)=>{if(ih(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Bs(r)?[]:{};return Ql(r,(s,a)=>{const l=n(s,i+1);!Il(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},nj=tr("AsyncFunction"),rj=t=>t&&(ih(t)||Pn(t))&&Pn(t.then)&&Pn(t.catch),Xb=((t,e)=>t?setImmediate:e?((n,r)=>(Zi.addEventListener("message",({source:i,data:o})=>{i===Zi&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Zi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pn(Zi.postMessage)),ij=typeof queueMicrotask<"u"?queueMicrotask.bind(Zi):typeof process<"u"&&process.nextTick||Xb,ee={isArray:Bs,isArrayBuffer:Hb,isBuffer:wM,isFormData:kM,isArrayBufferView:TM,isString:SM,isNumber:Wb,isBoolean:bM,isObject:ih,isPlainObject:lc,isReadableStream:xM,isRequest:NM,isResponse:LM,isHeaders:DM,isUndefined:Il,isDate:AM,isFile:OM,isBlob:IM,isRegExp:GM,isFunction:Pn,isStream:RM,isURLSearchParams:CM,isTypedArray:zM,isFileList:PM,forEach:Ql,merge:Jp,extend:jM,trim:MM,stripBOM:VM,inherits:FM,toFlatObject:UM,kindOf:nh,kindOfTest:tr,endsWith:BM,toArray:qM,forEachEntry:$M,matchAll:HM,isHTMLForm:WM,hasOwnProperty:M0,hasOwnProp:M0,reduceDescriptors:Qb,freezeMethods:QM,toObjectSet:YM,toCamelCase:KM,noop:XM,toFiniteNumber:JM,findKey:Kb,global:Zi,isContextDefined:Gb,ALPHABET:Yb,generateString:ZM,isSpecCompliantForm:ej,toJSONObject:tj,isAsyncFn:nj,isThenable:rj,setImmediate:Xb,asap:ij};function xe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const Jb=xe.prototype,Zb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Zb[t]={value:t}});Object.defineProperties(xe,Zb);Object.defineProperty(Jb,"isAxiosError",{value:!0});xe.from=(t,e,n,r,i,o)=>{const s=Object.create(Jb);return ee.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),xe.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const oj=null;function Zp(t){return ee.isPlainObject(t)||ee.isArray(t)}function eA(t){return ee.endsWith(t,"[]")?t.slice(0,-2):t}function V0(t,e,n){return t?t.concat(e).map(function(i,o){return i=eA(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function sj(t){return ee.isArray(t)&&!t.some(Zp)}const aj=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function oh(t,e,n){if(!ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!ee.isUndefined(_[v])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function u(E){if(E===null)return"";if(ee.isDate(E))return E.toISOString();if(!l&&ee.isBlob(E))throw new xe("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(E)||ee.isTypedArray(E)?l&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function h(E,v,_){let g=E;if(E&&!_&&typeof E=="object"){if(ee.endsWith(v,"{}"))v=r?v:v.slice(0,-2),E=JSON.stringify(E);else if(ee.isArray(E)&&sj(E)||(ee.isFileList(E)||ee.endsWith(v,"[]"))&&(g=ee.toArray(E)))return v=eA(v),g.forEach(function(w,y){!(ee.isUndefined(w)||w===null)&&e.append(s===!0?V0([v],y,o):s===null?v:v+"[]",u(w))}),!1}return Zp(E)?!0:(e.append(V0(_,v,o),u(E)),!1)}const f=[],d=Object.assign(aj,{defaultVisitor:h,convertValue:u,isVisitable:Zp});function m(E,v){if(!ee.isUndefined(E)){if(f.indexOf(E)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(E),ee.forEach(E,function(g,p){(!(ee.isUndefined(g)||g===null)&&i.call(e,g,ee.isString(p)?p.trim():p,v,d))===!0&&m(g,v?v.concat(p):[p])}),f.pop()}}if(!ee.isObject(t))throw new TypeError("data must be an object");return m(t),e}function F0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function py(t,e){this._pairs=[],t&&oh(t,this,e)}const tA=py.prototype;tA.append=function(e,n){this._pairs.push([e,n])};tA.toString=function(e){const n=e?function(r){return e.call(this,r,F0)}:F0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function lj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nA(t,e,n){if(!e)return t;const r=n&&n.encode||lj,i=n&&n.serialize;let o;if(i?o=i(e,n):o=ee.isURLSearchParams(e)?e.toString():new py(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class U0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const rA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uj=typeof URLSearchParams<"u"?URLSearchParams:py,cj=typeof FormData<"u"?FormData:null,fj=typeof Blob<"u"?Blob:null,hj={isBrowser:!0,classes:{URLSearchParams:uj,FormData:cj,Blob:fj},protocols:["http","https","file","blob","url","data"]},my=typeof window<"u"&&typeof document<"u",em=typeof navigator=="object"&&navigator||void 0,dj=my&&(!em||["ReactNative","NativeScript","NS"].indexOf(em.product)<0),pj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mj=my&&window.location.href||"http://localhost",gj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:my,hasStandardBrowserEnv:dj,hasStandardBrowserWebWorkerEnv:pj,navigator:em,origin:mj},Symbol.toStringTag,{value:"Module"})),En={...gj,...hj};function yj(t,e){return oh(t,new En.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return En.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function vj(t){return ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function _j(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function iA(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&ee.isArray(i)?i.length:s,l?(ee.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!ee.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&ee.isArray(i[s])&&(i[s]=_j(i[s])),!a)}if(ee.isFormData(t)&&ee.isFunction(t.entries)){const n={};return ee.forEachEntry(t,(r,i)=>{e(vj(r),i,n,0)}),n}return null}function Ej(t,e,n){if(ee.isString(t))try{return(e||JSON.parse)(t),ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Yl={transitional:rA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ee.isObject(e);if(o&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(iA(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yj(e,this.formSerializer).toString();if((a=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return oh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Ej(e)):e}],transformResponse:[function(e){const n=this.transitional||Yl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?xe.from(a,xe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],t=>{Yl.headers[t]={}});const wj=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tj=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&wj[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},B0=Symbol("internals");function Ea(t){return t&&String(t).trim().toLowerCase()}function uc(t){return t===!1||t==null?t:ee.isArray(t)?t.map(uc):String(t)}function Sj(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const bj=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fd(t,e,n,r,i){if(ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ee.isString(e)){if(ee.isString(r))return e.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(e)}}function Aj(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Oj(t,e){const n=ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class wn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const h=Ea(l);if(!h)throw new Error("header name must be a non-empty string");const f=ee.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=uc(a))}const s=(a,l)=>ee.forEach(a,(u,h)=>o(u,h,l));if(ee.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(ee.isString(e)&&(e=e.trim())&&!bj(e))s(Tj(e),n);else if(ee.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ea(e),e){const r=ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Sj(i);if(ee.isFunction(n))return n.call(this,i,r);if(ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ea(e),e){const r=ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||fd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Ea(s),s){const a=ee.findKey(r,s);a&&(!n||fd(r,r[a],a,n))&&(delete r[a],i=!0)}}return ee.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||fd(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ee.forEach(this,(i,o)=>{const s=ee.findKey(r,o);if(s){n[s]=uc(i),delete n[o];return}const a=e?Aj(o):String(o).trim();a!==o&&delete n[o],n[a]=uc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[B0]=this[B0]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Ea(s);r[a]||(Oj(i,s),r[a]=!0)}return ee.isArray(e)?e.forEach(o):o(e),this}}wn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(wn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ee.freezeMethods(wn);function hd(t,e){const n=this||Yl,r=e||n,i=wn.from(r.headers);let o=r.data;return ee.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function oA(t){return!!(t&&t.__CANCEL__)}function qs(t,e,n){xe.call(this,t??"canceled",xe.ERR_CANCELED,e,n),this.name="CanceledError"}ee.inherits(qs,xe,{__CANCEL__:!0});function sA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xe("Request failed with status code "+n.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ij(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Pj(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[o];s||(s=u),n[i]=l,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const m=h&&u-h;return m?Math.round(d*1e3/m):void 0}}function Rj(t,e){let n=0,r=1e3/e,i,o;const s=(u,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?s(u,h):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const Zc=(t,e,n=3)=>{let r=0;const i=Pj(50,250);return Rj(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),h=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},q0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},z0=t=>(...e)=>ee.asap(()=>t(...e)),kj=En.hasStandardBrowserEnv?function(){const e=En.navigator&&/(msie|trident)/i.test(En.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=ee.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),Cj=En.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];ee.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&s.push("path="+r),ee.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xj(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Nj(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function aA(t,e){return t&&!xj(e)?Nj(t,e):e}const $0=t=>t instanceof wn?{...t}:t;function go(t,e){e=e||{};const n={};function r(u,h,f){return ee.isPlainObject(u)&&ee.isPlainObject(h)?ee.merge.call({caseless:f},u,h):ee.isPlainObject(h)?ee.merge({},h):ee.isArray(h)?h.slice():h}function i(u,h,f){if(ee.isUndefined(h)){if(!ee.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function o(u,h){if(!ee.isUndefined(h))return r(void 0,h)}function s(u,h){if(ee.isUndefined(h)){if(!ee.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,h)=>i($0(u),$0(h),!0)};return ee.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=l[h]||i,d=f(t[h],e[h],h);ee.isUndefined(d)&&f!==a||(n[h]=d)}),n}const lA=t=>{const e=go({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=wn.from(s),e.url=nA(aA(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(ee.isFormData(n)){if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...h].join("; "))}}if(En.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(e)),r||r!==!1&&kj(e.url))){const u=i&&o&&Cj.read(o);u&&s.set(i,u)}return e},Lj=typeof XMLHttpRequest<"u",Dj=Lj&&function(t){return new Promise(function(n,r){const i=lA(t);let o=i.data;const s=wn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,h,f,d,m,E;function v(){m&&m(),E&&E(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function g(){if(!_)return;const w=wn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:w,config:t,request:_};sA(function(A){n(A),v()},function(A){r(A),v()},O),_=null}"onloadend"in _?_.onloadend=g:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(g)},_.onabort=function(){_&&(r(new xe("Request aborted",xe.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||rA;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),r(new xe(y,O.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,t,_)),_=null},o===void 0&&s.setContentType(null),"setRequestHeader"in _&&ee.forEach(s.toJSON(),function(y,O){_.setRequestHeader(O,y)}),ee.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),u&&([d,E]=Zc(u,!0),_.addEventListener("progress",d)),l&&_.upload&&([f,m]=Zc(l),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=w=>{_&&(r(!w||w.type?new qs(null,t,_):w),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const p=Ij(i.url);if(p&&En.protocols.indexOf(p)===-1){r(new xe("Unsupported protocol "+p+":",xe.ERR_BAD_REQUEST,t));return}_.send(o||null)})},Mj=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof xe?h:new qs(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{s=null,o(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>ee.asap(a),l}},jj=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Vj=async function*(t,e){for await(const n of Fj(t))yield*jj(n,e)},Fj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},H0=(t,e,n,r)=>{const i=Vj(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await i.next();if(u){a(),l.close();return}let f=h.byteLength;if(n){let d=o+=f;n(d)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},sh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uA=sh&&typeof ReadableStream=="function",Uj=sh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),cA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Bj=uA&&cA(()=>{let t=!1;const e=new Request(En.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),W0=64*1024,tm=uA&&cA(()=>ee.isReadableStream(new Response("").body)),ef={stream:tm&&(t=>t.body)};sh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ef[e]&&(ef[e]=ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const qj=async t=>{if(t==null)return 0;if(ee.isBlob(t))return t.size;if(ee.isSpecCompliantForm(t))return(await new Request(En.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(t)||ee.isArrayBuffer(t))return t.byteLength;if(ee.isURLSearchParams(t)&&(t=t+""),ee.isString(t))return(await Uj(t)).byteLength},zj=async(t,e)=>{const n=ee.toFiniteNumber(t.getContentLength());return n??qj(e)},$j=sh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:d}=lA(t);u=u?(u+"").toLowerCase():"text";let m=Mj([i,o&&o.toAbortSignal()],s),E;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(l&&Bj&&n!=="get"&&n!=="head"&&(_=await zj(h,r))!==0){let O=new Request(e,{method:"POST",body:r,duplex:"half"}),x;if(ee.isFormData(r)&&(x=O.headers.get("content-type"))&&h.setContentType(x),O.body){const[A,S]=q0(_,Zc(z0(l)));r=H0(O.body,W0,A,S)}}ee.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;E=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let p=await fetch(E);const w=tm&&(u==="stream"||u==="response");if(tm&&(a||w&&v)){const O={};["status","statusText","headers"].forEach(P=>{O[P]=p[P]});const x=ee.toFiniteNumber(p.headers.get("content-length")),[A,S]=a&&q0(x,Zc(z0(a),!0))||[];p=new Response(H0(p.body,W0,A,()=>{S&&S(),v&&v()}),O)}u=u||"text";let y=await ef[ee.findKey(ef,u)||"text"](p,t);return!w&&v&&v(),await new Promise((O,x)=>{sA(O,x,{data:y,headers:wn.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:E})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,t,E),{cause:g.cause||g}):xe.from(g,g&&g.code,t,E)}}),nm={http:oj,xhr:Dj,fetch:$j};ee.forEach(nm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const K0=t=>`- ${t}`,Hj=t=>ee.isFunction(t)||t===null||t===!1,fA={getAdapter:t=>{t=ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!Hj(n)&&(r=nm[(s=String(n)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(K0).join(`
`):" "+K0(o[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:nm};function dd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qs(null,t)}function G0(t){return dd(t),t.headers=wn.from(t.headers),t.data=hd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fA.getAdapter(t.adapter||Yl.adapter)(t).then(function(r){return dd(t),r.data=hd.call(t,t.transformResponse,r),r.headers=wn.from(r.headers),r},function(r){return oA(r)||(dd(t),r&&r.response&&(r.response.data=hd.call(t,t.transformResponse,r.response),r.response.headers=wn.from(r.response.headers))),Promise.reject(r)})}const hA="1.7.7",gy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Q0={};gy.transitional=function(e,n,r){function i(o,s){return"[Axios v"+hA+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new xe(i(s," has been removed"+(n?" in "+n:"")),xe.ERR_DEPRECATED);return n&&!Q0[s]&&(Q0[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function Wj(t,e,n){if(typeof t!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new xe("option "+o+" must be "+l,xe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xe("Unknown option "+o,xe.ERR_BAD_OPTION)}}const rm={assertOptions:Wj,validators:gy},Xr=rm.validators;class ro{constructor(e){this.defaults=e,this.interceptors={request:new U0,response:new U0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=go(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&rm.assertOptions(r,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),i!=null&&(ee.isFunction(i)?n.paramsSerializer={serialize:i}:rm.assertOptions(i,{encode:Xr.function,serialize:Xr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&ee.merge(o.common,o[n.method]);o&&ee.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),n.headers=wn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,f=0,d;if(!l){const E=[G0.bind(this),void 0];for(E.unshift.apply(E,a),E.push.apply(E,u),d=E.length,h=Promise.resolve(n);f<d;)h=h.then(E[f++],E[f++]);return h}d=a.length;let m=n;for(f=0;f<d;){const E=a[f++],v=a[f++];try{m=E(m)}catch(_){v.call(this,_);break}}try{h=G0.call(this,m)}catch(E){return Promise.reject(E)}for(f=0,d=u.length;f<d;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=go(this.defaults,e);const n=aA(e.baseURL,e.url);return nA(n,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){ro.prototype[e]=function(n,r){return this.request(go(r||{},{method:e,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(go(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ro.prototype[e]=n(),ro.prototype[e+"Form"]=n(!0)});class yy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new qs(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new yy(function(i){e=i}),cancel:e}}}function Kj(t){return function(n){return t.apply(null,n)}}function Gj(t){return ee.isObject(t)&&t.isAxiosError===!0}const im={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(im).forEach(([t,e])=>{im[e]=t});function dA(t){const e=new ro(t),n=$b(ro.prototype.request,e);return ee.extend(n,ro.prototype,e,{allOwnKeys:!0}),ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return dA(go(t,i))},n}const At=dA(Yl);At.Axios=ro;At.CanceledError=qs;At.CancelToken=yy;At.isCancel=oA;At.VERSION=hA;At.toFormData=oh;At.AxiosError=xe;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=Kj;At.isAxiosError=Gj;At.mergeConfig=go;At.AxiosHeaders=wn;At.formToJSON=t=>iA(ee.isHTMLForm(t)?new FormData(t):t);At.getAdapter=fA.getAdapter;At.HttpStatusCode=im;At.default=At;const Qj=({onUploadComplete:t})=>{const[e,n]=oe.useState([]),r=o=>{n([...o.target.files])},i=async()=>{const o=new FormData;e.forEach(s=>{o.append("images",s)});try{const a=(await At.post("http://localhost:3001/upload",o,{headers:{"Content-Type":"multipart/form-data"}})).data.urls;t(a),alert("Images uploaded successfully!")}catch(s){alert("Failed to upload images."),console.error(s)}};return $.jsxs("div",{children:[$.jsx("h2",{children:"Upload Project Images"}),$.jsx("input",{type:"file",multiple:!0,onChange:r}),$.jsx("button",{onClick:i,children:"Upload Images"})]})};function Yj(){this.__data__=[],this.size=0}var Xj=Yj;function Jj(t,e){return t===e||t!==t&&e!==e}var pA=Jj,Zj=pA;function e4(t,e){for(var n=t.length;n--;)if(Zj(t[n][0],e))return n;return-1}var ah=e4,t4=ah,n4=Array.prototype,r4=n4.splice;function i4(t){var e=this.__data__,n=t4(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():r4.call(e,n,1),--this.size,!0}var o4=i4,s4=ah;function a4(t){var e=this.__data__,n=s4(e,t);return n<0?void 0:e[n][1]}var l4=a4,u4=ah;function c4(t){return u4(this.__data__,t)>-1}var f4=c4,h4=ah;function d4(t,e){var n=this.__data__,r=h4(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var p4=d4,m4=Xj,g4=o4,y4=l4,v4=f4,_4=p4;function zs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zs.prototype.clear=m4;zs.prototype.delete=g4;zs.prototype.get=y4;zs.prototype.has=v4;zs.prototype.set=_4;var lh=zs,E4=lh;function w4(){this.__data__=new E4,this.size=0}var T4=w4;function S4(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var b4=S4;function A4(t){return this.__data__.get(t)}var O4=A4;function I4(t){return this.__data__.has(t)}var P4=I4,R4=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,mA=R4,k4=mA,C4=typeof self=="object"&&self&&self.Object===Object&&self,x4=k4||C4||Function("return this")(),zr=x4,N4=zr,L4=N4.Symbol,vy=L4,Y0=vy,gA=Object.prototype,D4=gA.hasOwnProperty,M4=gA.toString,wa=Y0?Y0.toStringTag:void 0;function j4(t){var e=D4.call(t,wa),n=t[wa];try{t[wa]=void 0;var r=!0}catch{}var i=M4.call(t);return r&&(e?t[wa]=n:delete t[wa]),i}var V4=j4,F4=Object.prototype,U4=F4.toString;function B4(t){return U4.call(t)}var q4=B4,X0=vy,z4=V4,$4=q4,H4="[object Null]",W4="[object Undefined]",J0=X0?X0.toStringTag:void 0;function K4(t){return t==null?t===void 0?W4:H4:J0&&J0 in Object(t)?z4(t):$4(t)}var uh=K4;function G4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yA=G4,Q4=uh,Y4=yA,X4="[object AsyncFunction]",J4="[object Function]",Z4="[object GeneratorFunction]",eV="[object Proxy]";function tV(t){if(!Y4(t))return!1;var e=Q4(t);return e==J4||e==Z4||e==X4||e==eV}var vA=tV,nV=zr,rV=nV["__core-js_shared__"],iV=rV,pd=iV,Z0=function(){var t=/[^.]+$/.exec(pd&&pd.keys&&pd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oV(t){return!!Z0&&Z0 in t}var sV=oV,aV=Function.prototype,lV=aV.toString;function uV(t){if(t!=null){try{return lV.call(t)}catch{}try{return t+""}catch{}}return""}var _A=uV,cV=vA,fV=sV,hV=yA,dV=_A,pV=/[\\^$.*+?()[\]{}|]/g,mV=/^\[object .+?Constructor\]$/,gV=Function.prototype,yV=Object.prototype,vV=gV.toString,_V=yV.hasOwnProperty,EV=RegExp("^"+vV.call(_V).replace(pV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wV(t){if(!hV(t)||fV(t))return!1;var e=cV(t)?EV:mV;return e.test(dV(t))}var TV=wV;function SV(t,e){return t==null?void 0:t[e]}var bV=SV,AV=TV,OV=bV;function IV(t,e){var n=OV(t,e);return AV(n)?n:void 0}var $s=IV,PV=$s,RV=zr,kV=PV(RV,"Map"),_y=kV,CV=$s,xV=CV(Object,"create"),ch=xV,e1=ch;function NV(){this.__data__=e1?e1(null):{},this.size=0}var LV=NV;function DV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var MV=DV,jV=ch,VV="__lodash_hash_undefined__",FV=Object.prototype,UV=FV.hasOwnProperty;function BV(t){var e=this.__data__;if(jV){var n=e[t];return n===VV?void 0:n}return UV.call(e,t)?e[t]:void 0}var qV=BV,zV=ch,$V=Object.prototype,HV=$V.hasOwnProperty;function WV(t){var e=this.__data__;return zV?e[t]!==void 0:HV.call(e,t)}var KV=WV,GV=ch,QV="__lodash_hash_undefined__";function YV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=GV&&e===void 0?QV:e,this}var XV=YV,JV=LV,ZV=MV,eF=qV,tF=KV,nF=XV;function Hs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hs.prototype.clear=JV;Hs.prototype.delete=ZV;Hs.prototype.get=eF;Hs.prototype.has=tF;Hs.prototype.set=nF;var rF=Hs,t1=rF,iF=lh,oF=_y;function sF(){this.size=0,this.__data__={hash:new t1,map:new(oF||iF),string:new t1}}var aF=sF;function lF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var uF=lF,cF=uF;function fF(t,e){var n=t.__data__;return cF(e)?n[typeof e=="string"?"string":"hash"]:n.map}var fh=fF,hF=fh;function dF(t){var e=hF(this,t).delete(t);return this.size-=e?1:0,e}var pF=dF,mF=fh;function gF(t){return mF(this,t).get(t)}var yF=gF,vF=fh;function _F(t){return vF(this,t).has(t)}var EF=_F,wF=fh;function TF(t,e){var n=wF(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var SF=TF,bF=aF,AF=pF,OF=yF,IF=EF,PF=SF;function Ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ws.prototype.clear=bF;Ws.prototype.delete=AF;Ws.prototype.get=OF;Ws.prototype.has=IF;Ws.prototype.set=PF;var EA=Ws,RF=lh,kF=_y,CF=EA,xF=200;function NF(t,e){var n=this.__data__;if(n instanceof RF){var r=n.__data__;if(!kF||r.length<xF-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new CF(r)}return n.set(t,e),this.size=n.size,this}var LF=NF,DF=lh,MF=T4,jF=b4,VF=O4,FF=P4,UF=LF;function Ks(t){var e=this.__data__=new DF(t);this.size=e.size}Ks.prototype.clear=MF;Ks.prototype.delete=jF;Ks.prototype.get=VF;Ks.prototype.has=FF;Ks.prototype.set=UF;var BF=Ks,qF="__lodash_hash_undefined__";function zF(t){return this.__data__.set(t,qF),this}var $F=zF;function HF(t){return this.__data__.has(t)}var WF=HF,KF=EA,GF=$F,QF=WF;function tf(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new KF;++e<n;)this.add(t[e])}tf.prototype.add=tf.prototype.push=GF;tf.prototype.has=QF;var YF=tf;function XF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var JF=XF;function ZF(t,e){return t.has(e)}var e3=ZF,t3=YF,n3=JF,r3=e3,i3=1,o3=2;function s3(t,e,n,r,i,o){var s=n&i3,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,m=n&o3?new t3:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var E=t[f],v=e[f];if(r)var _=s?r(v,E,f,e,t,o):r(E,v,f,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(m){if(!n3(e,function(g,p){if(!r3(m,p)&&(E===g||i(E,g,n,r,o)))return m.push(p)})){d=!1;break}}else if(!(E===v||i(E,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var wA=s3,a3=zr,l3=a3.Uint8Array,u3=l3;function c3(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var f3=c3;function h3(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var d3=h3,n1=vy,r1=u3,p3=pA,m3=wA,g3=f3,y3=d3,v3=1,_3=2,E3="[object Boolean]",w3="[object Date]",T3="[object Error]",S3="[object Map]",b3="[object Number]",A3="[object RegExp]",O3="[object Set]",I3="[object String]",P3="[object Symbol]",R3="[object ArrayBuffer]",k3="[object DataView]",i1=n1?n1.prototype:void 0,md=i1?i1.valueOf:void 0;function C3(t,e,n,r,i,o,s){switch(n){case k3:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R3:return!(t.byteLength!=e.byteLength||!o(new r1(t),new r1(e)));case E3:case w3:case b3:return p3(+t,+e);case T3:return t.name==e.name&&t.message==e.message;case A3:case I3:return t==e+"";case S3:var a=g3;case O3:var l=r&v3;if(a||(a=y3),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=_3,s.set(t,e);var h=m3(a(t),a(e),r,i,o,s);return s.delete(t),h;case P3:if(md)return md.call(t)==md.call(e)}return!1}var x3=C3;function N3(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var L3=N3,D3=Array.isArray,Ey=D3,M3=L3,j3=Ey;function V3(t,e,n){var r=e(t);return j3(t)?r:M3(r,n(t))}var F3=V3;function U3(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var B3=U3;function q3(){return[]}var z3=q3,$3=B3,H3=z3,W3=Object.prototype,K3=W3.propertyIsEnumerable,o1=Object.getOwnPropertySymbols,G3=o1?function(t){return t==null?[]:(t=Object(t),$3(o1(t),function(e){return K3.call(t,e)}))}:H3,Q3=G3;function Y3(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var X3=Y3;function J3(t){return t!=null&&typeof t=="object"}var hh=J3,Z3=uh,eU=hh,tU="[object Arguments]";function nU(t){return eU(t)&&Z3(t)==tU}var rU=nU,s1=rU,iU=hh,TA=Object.prototype,oU=TA.hasOwnProperty,sU=TA.propertyIsEnumerable,aU=s1(function(){return arguments}())?s1:function(t){return iU(t)&&oU.call(t,"callee")&&!sU.call(t,"callee")},lU=aU,nf={exports:{}};function uU(){return!1}var cU=uU;nf.exports;(function(t,e){var n=zr,r=cU,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(nf,nf.exports);var SA=nf.exports,fU=9007199254740991,hU=/^(?:0|[1-9]\d*)$/;function dU(t,e){var n=typeof t;return e=e??fU,!!e&&(n=="number"||n!="symbol"&&hU.test(t))&&t>-1&&t%1==0&&t<e}var pU=dU,mU=9007199254740991;function gU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=mU}var bA=gU,yU=uh,vU=bA,_U=hh,EU="[object Arguments]",wU="[object Array]",TU="[object Boolean]",SU="[object Date]",bU="[object Error]",AU="[object Function]",OU="[object Map]",IU="[object Number]",PU="[object Object]",RU="[object RegExp]",kU="[object Set]",CU="[object String]",xU="[object WeakMap]",NU="[object ArrayBuffer]",LU="[object DataView]",DU="[object Float32Array]",MU="[object Float64Array]",jU="[object Int8Array]",VU="[object Int16Array]",FU="[object Int32Array]",UU="[object Uint8Array]",BU="[object Uint8ClampedArray]",qU="[object Uint16Array]",zU="[object Uint32Array]",nt={};nt[DU]=nt[MU]=nt[jU]=nt[VU]=nt[FU]=nt[UU]=nt[BU]=nt[qU]=nt[zU]=!0;nt[EU]=nt[wU]=nt[NU]=nt[TU]=nt[LU]=nt[SU]=nt[bU]=nt[AU]=nt[OU]=nt[IU]=nt[PU]=nt[RU]=nt[kU]=nt[CU]=nt[xU]=!1;function $U(t){return _U(t)&&vU(t.length)&&!!nt[yU(t)]}var HU=$U;function WU(t){return function(e){return t(e)}}var KU=WU,rf={exports:{}};rf.exports;(function(t,e){var n=mA,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(rf,rf.exports);var GU=rf.exports,QU=HU,YU=KU,a1=GU,l1=a1&&a1.isTypedArray,XU=l1?YU(l1):QU,AA=XU,JU=X3,ZU=lU,e5=Ey,t5=SA,n5=pU,r5=AA,i5=Object.prototype,o5=i5.hasOwnProperty;function s5(t,e){var n=e5(t),r=!n&&ZU(t),i=!n&&!r&&t5(t),o=!n&&!r&&!i&&r5(t),s=n||r||i||o,a=s?JU(t.length,String):[],l=a.length;for(var u in t)(e||o5.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||n5(u,l)))&&a.push(u);return a}var a5=s5,l5=Object.prototype;function u5(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||l5;return t===n}var c5=u5;function f5(t,e){return function(n){return t(e(n))}}var h5=f5,d5=h5,p5=d5(Object.keys,Object),m5=p5,g5=c5,y5=m5,v5=Object.prototype,_5=v5.hasOwnProperty;function E5(t){if(!g5(t))return y5(t);var e=[];for(var n in Object(t))_5.call(t,n)&&n!="constructor"&&e.push(n);return e}var w5=E5,T5=vA,S5=bA;function b5(t){return t!=null&&S5(t.length)&&!T5(t)}var A5=b5,O5=a5,I5=w5,P5=A5;function R5(t){return P5(t)?O5(t):I5(t)}var k5=R5,C5=F3,x5=Q3,N5=k5;function L5(t){return C5(t,N5,x5)}var D5=L5,u1=D5,M5=1,j5=Object.prototype,V5=j5.hasOwnProperty;function F5(t,e,n,r,i,o){var s=n&M5,a=u1(t),l=a.length,u=u1(e),h=u.length;if(l!=h&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:V5.call(e,d)))return!1}var m=o.get(t),E=o.get(e);if(m&&E)return m==e&&E==t;var v=!0;o.set(t,e),o.set(e,t);for(var _=s;++f<l;){d=a[f];var g=t[d],p=e[d];if(r)var w=s?r(p,g,d,e,t,o):r(g,p,d,t,e,o);if(!(w===void 0?g===p||i(g,p,n,r,o):w)){v=!1;break}_||(_=d=="constructor")}if(v&&!_){var y=t.constructor,O=e.constructor;y!=O&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof O=="function"&&O instanceof O)&&(v=!1)}return o.delete(t),o.delete(e),v}var U5=F5,B5=$s,q5=zr,z5=B5(q5,"DataView"),$5=z5,H5=$s,W5=zr,K5=H5(W5,"Promise"),G5=K5,Q5=$s,Y5=zr,X5=Q5(Y5,"Set"),J5=X5,Z5=$s,e9=zr,t9=Z5(e9,"WeakMap"),n9=t9,om=$5,sm=_y,am=G5,lm=J5,um=n9,OA=uh,Gs=_A,c1="[object Map]",r9="[object Object]",f1="[object Promise]",h1="[object Set]",d1="[object WeakMap]",p1="[object DataView]",i9=Gs(om),o9=Gs(sm),s9=Gs(am),a9=Gs(lm),l9=Gs(um),Ki=OA;(om&&Ki(new om(new ArrayBuffer(1)))!=p1||sm&&Ki(new sm)!=c1||am&&Ki(am.resolve())!=f1||lm&&Ki(new lm)!=h1||um&&Ki(new um)!=d1)&&(Ki=function(t){var e=OA(t),n=e==r9?t.constructor:void 0,r=n?Gs(n):"";if(r)switch(r){case i9:return p1;case o9:return c1;case s9:return f1;case a9:return h1;case l9:return d1}return e});var u9=Ki,gd=BF,c9=wA,f9=x3,h9=U5,m1=u9,g1=Ey,y1=SA,d9=AA,p9=1,v1="[object Arguments]",_1="[object Array]",ju="[object Object]",m9=Object.prototype,E1=m9.hasOwnProperty;function g9(t,e,n,r,i,o){var s=g1(t),a=g1(e),l=s?_1:m1(t),u=a?_1:m1(e);l=l==v1?ju:l,u=u==v1?ju:u;var h=l==ju,f=u==ju,d=l==u;if(d&&y1(t)){if(!y1(e))return!1;s=!0,h=!1}if(d&&!h)return o||(o=new gd),s||d9(t)?c9(t,e,n,r,i,o):f9(t,e,l,n,r,i,o);if(!(n&p9)){var m=h&&E1.call(t,"__wrapped__"),E=f&&E1.call(e,"__wrapped__");if(m||E){var v=m?t.value():t,_=E?e.value():e;return o||(o=new gd),i(v,_,n,r,o)}}return d?(o||(o=new gd),h9(t,e,n,r,i,o)):!1}var y9=g9,v9=y9,w1=hh;function IA(t,e,n,r,i){return t===e?!0:t==null||e==null||!w1(t)&&!w1(e)?t!==t&&e!==e:v9(t,e,n,r,IA,i)}var _9=IA,E9=_9;function w9(t,e){return E9(t,e)}var T9=w9,PA={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ut,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),h=i(47),f=i(48),d=i(49),m=i(12),E=i(32),v=i(33),_=i(31),g=i(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:d.default,Attributor:{Attribute:m.default,Class:E.default,Style:v.default,Store:_.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var w in p)p.hasOwnProperty(w)&&(g[w]=p[w])};return function(g,p){_(g,p);function w(){this.constructor=g}g.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(g,_);function g(p){var w=this;return p="[Parchment] "+p,w=_.call(this,p)||this,w.message=p,w.name=w.constructor.name,w}return g}(Error);r.ParchmentError=s;var a={},l={},u={},h={};r.DATA_KEY="__blot";var f;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function d(_,g){var p=E(_);if(p==null)throw new s("Unable to create "+_+" blot");var w=p,y=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:w.create(g);return new w(y,g)}r.create=d;function m(_,g){return g===void 0&&(g=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:g?m(_.parentNode,g):null}r.find=m;function E(_,g){g===void 0&&(g=f.ANY);var p;if(typeof _=="string")p=h[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)p=h.text;else if(typeof _=="number")_&f.LEVEL&f.BLOCK?p=h.block:_&f.LEVEL&f.INLINE&&(p=h.inline);else if(_ instanceof HTMLElement){var w=(_.getAttribute("class")||"").split(/\s+/);for(var y in w)if(p=l[w[y]],p)break;p=p||u[_.tagName]}return p==null?null:g&f.LEVEL&p.scope&&g&f.TYPE&p.scope?p:null}r.query=E;function v(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(_.length>1)return _.map(function(y){return v(y)});var p=_[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(h[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(y){return y.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var w=Array.isArray(p.tagName)?p.tagName:[p.tagName];w.forEach(function(y){(u[y]==null||p.className==null)&&(u[y]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",h=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};h.prototype.insert=function(f,d){var m={};return f.length===0?this:(m.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m))},h.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},h.prototype.retain=function(f,d){if(f<=0)return this;var m={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m)},h.prototype.push=function(f){var d=this.ops.length,m=this.ops[d-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[d-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(d-=1,m=this.ops[d-1],typeof m!="object"))return this.ops.unshift(f),this;if(s(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[d-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[d-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},h.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},h.prototype.filter=function(f){return this.ops.filter(f)},h.prototype.forEach=function(f){this.ops.forEach(f)},h.prototype.map=function(f){return this.ops.map(f)},h.prototype.partition=function(f){var d=[],m=[];return this.forEach(function(E){var v=f(E)?d:m;v.push(E)}),[d,m]},h.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},h.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},h.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},h.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var m=[],E=l.iterator(this.ops),v=0;v<d&&E.hasNext();){var _;v<f?_=E.next(f-v):(_=E.next(d-v),m.push(_)),v+=l.length(_)}return new h(m)},h.prototype.compose=function(f){var d=l.iterator(this.ops),m=l.iterator(f.ops),E=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var _=v.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),E.push(d.next());v.retain-_>0&&m.next(v.retain-_)}for(var g=new h(E);d.hasNext()||m.hasNext();)if(m.peekType()==="insert")g.push(m.next());else if(d.peekType()==="delete")g.push(d.next());else{var p=Math.min(d.peekLength(),m.peekLength()),w=d.next(p),y=m.next(p);if(typeof y.retain=="number"){var O={};typeof w.retain=="number"?O.retain=p:O.insert=w.insert;var x=l.attributes.compose(w.attributes,y.attributes,typeof w.retain=="number");if(x&&(O.attributes=x),g.push(O),!m.hasNext()&&s(g.ops[g.ops.length-1],O)){var A=new h(d.rest());return g.concat(A).chop()}}else typeof y.delete=="number"&&typeof w.retain=="number"&&g.push(y)}return g.chop()},h.prototype.concat=function(f){var d=new h(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},h.prototype.diff=function(f,d){if(this.ops===f.ops)return new h;var m=[this,f].map(function(p){return p.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var y=p===f?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),E=new h,v=o(m[0],m[1],d),_=l.iterator(this.ops),g=l.iterator(f.ops);return v.forEach(function(p){for(var w=p[1].length;w>0;){var y=0;switch(p[0]){case o.INSERT:y=Math.min(g.peekLength(),w),E.push(g.next(y));break;case o.DELETE:y=Math.min(w,_.peekLength()),_.next(y),E.delete(y);break;case o.EQUAL:y=Math.min(_.peekLength(),g.peekLength(),w);var O=_.next(y),x=g.next(y);s(O.insert,x.insert)?E.retain(y,l.attributes.diff(O.attributes,x.attributes)):E.push(x).delete(y);break}w-=y}}),E.chop()},h.prototype.eachLine=function(f,d){d=d||`
`;for(var m=l.iterator(this.ops),E=new h,v=0;m.hasNext();){if(m.peekType()!=="insert")return;var _=m.peek(),g=l.length(_)-m.peekLength(),p=typeof _.insert=="string"?_.insert.indexOf(d,g)-g:-1;if(p<0)E.push(m.next());else if(p>0)E.push(m.next(p));else{if(f(E,m.next(1).attributes||{},v)===!1)return;v+=1,E=new h}}E.length()>0&&f(E,{},v)},h.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var m=l.iterator(this.ops),E=l.iterator(f.ops),v=new h;m.hasNext()||E.hasNext();)if(m.peekType()==="insert"&&(d||E.peekType()!=="insert"))v.retain(l.length(m.next()));else if(E.peekType()==="insert")v.push(E.next());else{var _=Math.min(m.peekLength(),E.peekLength()),g=m.next(_),p=E.next(_);if(g.delete)continue;p.delete?v.push(p):v.retain(_,l.attributes.transform(g.attributes,p.attributes,d))}return v.chop()},h.prototype.transformPosition=function(f,d){d=!!d;for(var m=l.iterator(this.ops),E=0;m.hasNext()&&E<=f;){var v=m.peekLength(),_=m.peekType();if(m.next(),_==="delete"){f-=Math.min(v,f-E);continue}else _==="insert"&&(E<f||!d)&&(f+=v);E+=v}return f},n.exports=h},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):o.call(m)==="[object Array]"},u=function(m){if(!m||o.call(m)!=="[object Object]")return!1;var E=i.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!E&&!v)return!1;var _;for(_ in m);return typeof _>"u"||i.call(m,_)},h=function(m,E){s&&E.name==="__proto__"?s(m,E.name,{enumerable:!0,configurable:!0,value:E.newValue,writable:!0}):m[E.name]=E.newValue},f=function(m,E){if(E==="__proto__")if(i.call(m,E)){if(a)return a(m,E).value}else return;return m[E]};n.exports=function d(){var m,E,v,_,g,p,w=arguments[0],y=1,O=arguments.length,x=!1;for(typeof w=="boolean"&&(x=w,w=arguments[1]||{},y=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});y<O;++y)if(m=arguments[y],m!=null)for(E in m)v=f(w,E),_=f(m,E),w!==_&&(x&&_&&(u(_)||(g=l(_)))?(g?(g=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},h(w,{name:E,newValue:d(x,p,_)})):typeof _<"u"&&h(w,{name:E,newValue:_}));return w}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function b(R,k){for(var L=0;L<k.length;L++){var U=k[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,k,L){return k&&b(R.prototype,k),L&&b(R,L),R}}(),s=function b(R,k,L){R===null&&(R=Function.prototype);var U=Object.getOwnPropertyDescriptor(R,k);if(U===void 0){var H=Object.getPrototypeOf(R);return H===null?void 0:b(H,k,L)}else{if("value"in U)return U.value;var K=U.get;return K===void 0?void 0:K.call(L)}},a=i(3),l=w(a),u=i(2),h=w(u),f=i(0),d=w(f),m=i(16),E=w(m),v=i(6),_=w(v),g=i(7),p=w(g);function w(b){return b&&b.__esModule?b:{default:b}}function y(b,R){if(!(b instanceof R))throw new TypeError("Cannot call a class as a function")}function O(b,R){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:b}function x(b,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);b.prototype=Object.create(R&&R.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(b,R):b.__proto__=R)}var A=1,S=function(b){x(R,b);function R(){return y(this,R),O(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,U){var H=d.default.query(L,d.default.Scope.BLOCK_ATTRIBUTE);H!=null&&this.attributes.attribute(H,U)}},{key:"formatAt",value:function(L,U,H,K){this.format(H,K)}},{key:"insertAt",value:function(L,U,H){if(typeof U=="string"&&U.endsWith(`
`)){var K=d.default.create(P.blotName);this.parent.insertBefore(K,L===0?this:this.next),K.insertAt(0,U.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,U,H)}}]),R}(d.default.Embed);S.scope=d.default.Scope.BLOCK_BLOT;var P=function(b){x(R,b);function R(k){y(this,R);var L=O(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k));return L.cache={},L}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(L,U){return U.length()===0?L:L.insert(U.value(),T(U))},new h.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(L,U){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,U),this.cache={}}},{key:"formatAt",value:function(L,U,H,K){U<=0||(d.default.query(H,d.default.Scope.BLOCK)?L+U===this.length()&&this.format(H,K):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(U,this.length()-L-1),H,K),this.cache={})}},{key:"insertAt",value:function(L,U,H){if(H!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,U,H);if(U.length!==0){var K=U.split(`
`),G=K.shift();G.length>0&&(L<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var B=this;K.reduce(function(F,N){return B=B.split(F,!0),B.insertAt(0,N),N.length},L+G.length)}}},{key:"insertBefore",value:function(L,U){var H=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,U),H instanceof E.default&&H.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(L,U){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,U),this.cache={}}},{key:"optimize",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(L===0||L>=this.length()-A)){var H=this.clone();return L===0?(this.parent.insertBefore(H,this),this):(this.parent.insertBefore(H,this.next),H)}else{var K=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,U);return this.cache={},K}}}]),R}(d.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[_.default,d.default.Embed,p.default];function T(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b==null||(typeof b.formats=="function"&&(R=(0,l.default)(R,b.formats())),b.parent==null||b.parent.blotName=="scroll"||b.parent.statics.scope!==b.statics.scope)?R:T(b.parent,R)}r.bubbleFormats=T,r.BlockEmbed=S,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(F,N){var M=[],V=!0,Q=!1,q=void 0;try{for(var j=F[Symbol.iterator](),z;!(V=(z=j.next()).done)&&(M.push(z.value),!(N&&M.length===N));V=!0);}catch(J){Q=!0,q=J}finally{try{!V&&j.return&&j.return()}finally{if(Q)throw q}}return M}return function(F,N){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,N){for(var M=0;M<N.length;M++){var V=N[M];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,N,M){return N&&B(F.prototype,N),M&&B(F,M),F}}();i(50);var l=i(2),u=T(l),h=i(14),f=T(h),d=i(8),m=T(d),E=i(9),v=T(E),_=i(0),g=T(_),p=i(15),w=T(p),y=i(3),O=T(y),x=i(10),A=T(x),S=i(34),P=T(S);function T(B){return B&&B.__esModule?B:{default:B}}function b(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function R(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var k=(0,A.default)("quill"),L=function(){a(B,null,[{key:"debug",value:function(N){N===!0&&(N="log"),A.default.level(N)}},{key:"find",value:function(N){return N.__quill||g.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&k.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,M){var V=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var q=N.attrName||N.blotName;typeof q=="string"?this.register("formats/"+q,N,M):Object.keys(N).forEach(function(j){V.register(j,N[j],M)})}else this.imports[N]!=null&&!Q&&k.warn("Overwriting "+N+" with",M),this.imports[N]=M,(N.startsWith("blots/")||N.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):N.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function B(F){var N=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,B),this.options=U(F,M),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",F);this.options.debug&&B.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(q){q===m.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(q,j){var z=N.selection.lastRange,J=z&&z.length===0?z.index:void 0;H.call(N,function(){return N.editor.update(null,j,J)},q)});var Q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var V=N;N=document.createElement("div"),N.classList.add(V)}return this.container.insertBefore(N,M),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,M,V){var Q=this,q=K(N,M,V),j=s(q,4);return N=j[0],M=j[1],V=j[3],H.call(this,function(){return Q.editor.deleteText(N,M)},V,N,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,M){var V=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return H.call(this,function(){var q=V.getSelection(!0),j=new u.default;if(q==null)return j;if(g.default.query(N,g.default.Scope.BLOCK))j=V.editor.formatLine(q.index,q.length,b({},N,M));else{if(q.length===0)return V.selection.format(N,M),j;j=V.editor.formatText(q.index,q.length,b({},N,M))}return V.setSelection(q,m.default.sources.SILENT),j},Q)}},{key:"formatLine",value:function(N,M,V,Q,q){var j=this,z=void 0,J=K(N,M,V,Q,q),X=s(J,4);return N=X[0],M=X[1],z=X[2],q=X[3],H.call(this,function(){return j.editor.formatLine(N,M,z)},q,N,0)}},{key:"formatText",value:function(N,M,V,Q,q){var j=this,z=void 0,J=K(N,M,V,Q,q),X=s(J,4);return N=X[0],M=X[1],z=X[2],q=X[3],H.call(this,function(){return j.editor.formatText(N,M,z)},q,N,0)}},{key:"getBounds",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof N=="number"?V=this.selection.getBounds(N,M):V=this.selection.getBounds(N.index,N.length);var Q=this.container.getBoundingClientRect();return{bottom:V.bottom-Q.top,height:V.height,left:V.left-Q.left,right:V.right-Q.left,top:V.top-Q.top,width:V.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,V=K(N,M),Q=s(V,2);return N=Q[0],M=Q[1],this.editor.getContents(N,M)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,M):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,M)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,V=K(N,M),Q=s(V,2);return N=Q[0],M=Q[1],this.editor.getText(N,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,M,V){var Q=this,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return H.call(this,function(){return Q.editor.insertEmbed(N,M,V)},q,N)}},{key:"insertText",value:function(N,M,V,Q,q){var j=this,z=void 0,J=K(N,0,V,Q,q),X=s(J,4);return N=X[0],z=X[2],q=X[3],H.call(this,function(){return j.editor.insertText(N,M,z)},q,N,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,M,V){this.clipboard.dangerouslyPasteHTML(N,M,V)}},{key:"removeFormat",value:function(N,M,V){var Q=this,q=K(N,M,V),j=s(q,4);return N=j[0],M=j[1],V=j[3],H.call(this,function(){return Q.editor.removeFormat(N,M)},V,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var M=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return H.call(this,function(){N=new u.default(N);var Q=M.getLength(),q=M.editor.deleteText(0,Q),j=M.editor.applyDelta(N),z=j.ops[j.ops.length-1];z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),j.delete(1));var J=q.compose(j);return J},V)}},{key:"setSelection",value:function(N,M,V){if(N==null)this.selection.setRange(null,M||B.sources.API);else{var Q=K(N,M,V),q=s(Q,4);N=q[0],M=q[1],V=q[3],this.selection.setRange(new p.Range(N,M),V),V!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,V=new u.default().insert(N);return this.setContents(V,M)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,M=this.scroll.update(N);return this.selection.update(N),M}},{key:"updateContents",value:function(N){var M=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return H.call(this,function(){return N=new u.default(N),M.editor.applyDelta(N,V)},V,!0)}}]),B}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=m.default.events,L.sources=m.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:g.default,"core/module":v.default,"core/theme":P.default};function U(B,F){if(F=(0,O.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===L.DEFAULTS.theme)F.theme=P.default;else if(F.theme=L.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var N=(0,O.default)(!0,{},F.theme.DEFAULTS);[N,F].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(q){Q.modules[q]===!0&&(Q.modules[q]={})})});var M=Object.keys(N.modules).concat(Object.keys(F.modules)),V=M.reduce(function(Q,q){var j=L.import("modules/"+q);return j==null?k.error("Cannot load "+q+" module. Are you sure you registered it?"):Q[q]=j.DEFAULTS||{},Q},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,O.default)(!0,{},L.DEFAULTS,{modules:V},N,F),["bounds","container","scrollingContainer"].forEach(function(Q){typeof F[Q]=="string"&&(F[Q]=document.querySelector(F[Q]))}),F.modules=Object.keys(F.modules).reduce(function(Q,q){return F.modules[q]&&(Q[q]=F.modules[q]),Q},{}),F}function H(B,F,N,M){if(this.options.strict&&!this.isEnabled()&&F===m.default.sources.USER)return new u.default;var V=N==null?null:this.getSelection(),Q=this.editor.delta,q=B();if(V!=null&&(N===!0&&(N=V.index),M==null?V=G(V,q,F):M!==0&&(V=G(V,N,M,F)),this.setSelection(V,m.default.sources.SILENT)),q.length()>0){var j,z=[m.default.events.TEXT_CHANGE,q,Q,F];if((j=this.emitter).emit.apply(j,[m.default.events.EDITOR_CHANGE].concat(z)),F!==m.default.sources.SILENT){var J;(J=this.emitter).emit.apply(J,z)}}return q}function K(B,F,N,M,V){var Q={};return typeof B.index=="number"&&typeof B.length=="number"?typeof F!="number"?(V=M,M=N,N=F,F=B.length,B=B.index):(F=B.length,B=B.index):typeof F!="number"&&(V=M,M=N,N=F,F=0),(typeof N>"u"?"undefined":o(N))==="object"?(Q=N,V=M):typeof N=="string"&&(M!=null?Q[N]=M:V=N),V=V||m.default.sources.API,[B,F,Q,V]}function G(B,F,N,M){if(B==null)return null;var V=void 0,Q=void 0;if(F instanceof u.default){var q=[B.index,B.index+B.length].map(function(X){return F.transformPosition(X,M!==m.default.sources.USER)}),j=s(q,2);V=j[0],Q=j[1]}else{var z=[B.index,B.index+B.length].map(function(X){return X<F||X===F&&M===m.default.sources.USER?X:N>=0?X+N:Math.max(F,X+N)}),J=s(z,2);V=J[0],Q=J[1]}return new p.Range(V,Q-V)}r.expandConfig=U,r.overload=K,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var w=0;w<p.length;w++){var y=p[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,w){return p&&_(g.prototype,p),w&&_(g,w),g}}(),s=function _(g,p,w){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:_(O,p,w)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(w)}},a=i(7),l=f(a),u=i(0),h=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function m(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function E(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var v=function(_){E(g,_);function g(){return d(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(w,y,O,x){if(g.compare(this.statics.blotName,O)<0&&h.default.query(O,h.default.Scope.BLOT)){var A=this.isolate(w,y);x&&A.wrap(O,x)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,w,y,O,x)}},{key:"optimize",value:function(w){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,w),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(w,y){var O=g.order.indexOf(w),x=g.order.indexOf(y);return O>=0||x>=0?O-x:w===y?0:w<y?-1:1}}]),g}(h.default.Inline);v.allowedChildren=[v,h.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(w,y){for(var O=0;O<y.length;O++){var x=y[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}return function(w,y,O){return y&&p(w.prototype,y),O&&p(w,O),w}}(),s=function p(w,y,O){w===null&&(w=Function.prototype);var x=Object.getOwnPropertyDescriptor(w,y);if(x===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:p(A,y,O)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(O)}},a=i(54),l=f(a),u=i(10),h=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function m(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function E(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var v=(0,h.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(p){document.addEventListener(p,function(){for(var w=arguments.length,y=Array(w),O=0;O<w;O++)y[O]=arguments[O];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var A;(A=x.__quill.emitter).handleDOM.apply(A,y)}})})});var g=function(p){E(w,p);function w(){d(this,w);var y=m(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return y.listeners={},y.on("error",v.error),y}return o(w,[{key:"emit",value:function(){v.log.apply(v,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(O){for(var x=arguments.length,A=Array(x>1?x-1:0),S=1;S<x;S++)A[S-1]=arguments[S];(this.listeners[O.type]||[]).forEach(function(P){var T=P.node,b=P.handler;(O.target===T||T.contains(O.target))&&b.apply(void 0,[O].concat(A))})}},{key:"listenDOM",value:function(O,x,A){this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push({node:x,handler:A})}}]),w}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var h,f=arguments.length,d=Array(f>1?f-1:0),m=1;m<f;m++)d[m-1]=arguments[m];(h=console)[u].apply(h,d)}}function l(u){return o.reduce(function(h,f){return h[f]=a.bind(console,f,u),h},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,m,E){return E||(E={}),d===m?!0:d instanceof Date&&m instanceof Date?d.getTime()===m.getTime():!d||!m||typeof d!="object"&&typeof m!="object"?E.strict?d===m:d==m:f(d,m,E)};function u(d){return d==null}function h(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,m,E){var v,_;if(u(d)||u(m)||d.prototype!==m.prototype)return!1;if(a(d))return a(m)?(d=o.call(d),m=o.call(m),l(d,m,E)):!1;if(h(d)){if(!h(m)||d.length!==m.length)return!1;for(v=0;v<d.length;v++)if(d[v]!==m[v])return!1;return!0}try{var g=s(d),p=s(m)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),v=g.length-1;v>=0;v--)if(g[v]!=p[v])return!1;for(v=g.length-1;v>=0;v--)if(_=g[v],!l(d[_],m[_],E))return!1;return typeof d==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var h=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function S(P,T){var b=[],R=!0,k=!1,L=void 0;try{for(var U=P[Symbol.iterator](),H;!(R=(H=U.next()).done)&&(b.push(H.value),!(T&&b.length===T));R=!0);}catch(K){k=!0,L=K}finally{try{!R&&U.return&&U.return()}finally{if(k)throw L}}return b}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return S(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(P,T){for(var b=0;b<T.length;b++){var R=T[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,T,b){return T&&S(P.prototype,T),b&&S(P,b),P}}(),a=function S(P,T,b){P===null&&(P=Function.prototype);var R=Object.getOwnPropertyDescriptor(P,T);if(R===void 0){var k=Object.getPrototypeOf(P);return k===null?void 0:S(k,T,b)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(b)}},l=i(2),u=p(l),h=i(0),f=p(h),d=i(4),m=p(d),E=i(6),v=p(E),_=i(7),g=p(_);function p(S){return S&&S.__esModule?S:{default:S}}function w(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function y(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:S}function O(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}var x=function(S){O(P,S);function P(){return w(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(v.default);x.blotName="code",x.tagName="CODE";var A=function(S){O(P,S);function P(){return w(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var b=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(k,L){return k.insert(L).insert(`
`,b.formats())},new u.default)}},{key:"format",value:function(b,R){if(!(b===this.statics.blotName&&R)){var k=this.descendant(g.default,this.length()-1),L=o(k,1),U=L[0];U!=null&&U.deleteAt(U.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,b,R)}}},{key:"formatAt",value:function(b,R,k,L){if(R!==0&&!(f.default.query(k,f.default.Scope.BLOCK)==null||k===this.statics.blotName&&L===this.statics.formats(this.domNode))){var U=this.newlineIndex(b);if(!(U<0||U>=b+R)){var H=this.newlineIndex(b,!0)+1,K=U-H+1,G=this.isolate(H,K),B=G.next;G.format(k,L),B instanceof P&&B.formatAt(0,b-H+R-K,k,L)}}}},{key:"insertAt",value:function(b,R,k){if(k==null){var L=this.descendant(g.default,b),U=o(L,2),H=U[0],K=U[1];H.insertAt(K,R)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var k=this.domNode.textContent.slice(b).indexOf(`
`);return k>-1?b+k:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,b);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(b),R.moveChildren(this),R.remove())}},{key:"replace",value:function(b){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var k=f.default.find(R);k==null?R.parentNode.removeChild(R):k instanceof f.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(b){var R=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,b);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),P}(m.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=x,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(F,N){var M=[],V=!0,Q=!1,q=void 0;try{for(var j=F[Symbol.iterator](),z;!(V=(z=j.next()).done)&&(M.push(z.value),!(N&&M.length===N));V=!0);}catch(J){Q=!0,q=J}finally{try{!V&&j.return&&j.return()}finally{if(Q)throw q}}return M}return function(F,N){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,N){for(var M=0;M<N.length;M++){var V=N[M];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(F,V.key,V)}}return function(F,N,M){return N&&B(F.prototype,N),M&&B(F,M),F}}(),l=i(2),u=R(l),h=i(20),f=R(h),d=i(0),m=R(d),E=i(13),v=R(E),_=i(24),g=R(_),p=i(4),w=R(p),y=i(16),O=R(y),x=i(21),A=R(x),S=i(11),P=R(S),T=i(3),b=R(T);function R(B){return B&&B.__esModule?B:{default:B}}function k(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function L(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,H=function(){function B(F){L(this,B),this.scroll=F,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(N){var M=this,V=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),N=G(N),N.reduce(function(q,j){var z=j.retain||j.delete||j.insert.length||1,J=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var X=j.insert;X.endsWith(`
`)&&V&&(V=!1,X=X.slice(0,-1)),q>=Q&&!X.endsWith(`
`)&&(V=!0),M.scroll.insertAt(q,X);var re=M.scroll.line(q),pe=s(re,2),Ee=pe[0],Te=pe[1],Oe=(0,b.default)({},(0,p.bubbleFormats)(Ee));if(Ee instanceof w.default){var Ne=Ee.descendant(m.default.Leaf,Te),vt=s(Ne,1),Ge=vt[0];Oe=(0,b.default)(Oe,(0,p.bubbleFormats)(Ge))}J=f.default.attributes.diff(Oe,J)||{}}else if(o(j.insert)==="object"){var te=Object.keys(j.insert)[0];if(te==null)return q;M.scroll.insertAt(q,te,j.insert[te])}Q+=z}return Object.keys(J).forEach(function(ne){M.scroll.formatAt(q,z,ne,J[ne])}),q+z},0),N.reduce(function(q,j){return typeof j.delete=="number"?(M.scroll.deleteAt(q,j.delete),q):q+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,M){return this.scroll.deleteAt(N,M),this.update(new u.default().retain(N).delete(M))}},{key:"formatLine",value:function(N,M){var V=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(q){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[q])){var j=V.scroll.lines(N,Math.max(M,1)),z=M;j.forEach(function(J){var X=J.length();if(!(J instanceof v.default))J.format(q,Q[q]);else{var re=N-J.offset(V.scroll),pe=J.newlineIndex(re+z)-re+1;J.formatAt(re,pe,q,Q[q])}z-=X})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(M,(0,A.default)(Q)))}},{key:"formatText",value:function(N,M){var V=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Q).forEach(function(q){V.scroll.formatAt(N,M,q,Q[q])}),this.update(new u.default().retain(N).retain(M,(0,A.default)(Q)))}},{key:"getContents",value:function(N,M){return this.delta.slice(N,N+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,M){return N.concat(M.delta())},new u.default)}},{key:"getFormat",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],Q=[];M===0?this.scroll.path(N).forEach(function(j){var z=s(j,1),J=z[0];J instanceof w.default?V.push(J):J instanceof m.default.Leaf&&Q.push(J)}):(V=this.scroll.lines(N,M),Q=this.scroll.descendants(m.default.Leaf,N,M));var q=[V,Q].map(function(j){if(j.length===0)return{};for(var z=(0,p.bubbleFormats)(j.shift());Object.keys(z).length>0;){var J=j.shift();if(J==null)return z;z=K((0,p.bubbleFormats)(J),z)}return z});return b.default.apply(b.default,q)}},{key:"getText",value:function(N,M){return this.getContents(N,M).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(N,M,V){return this.scroll.insertAt(N,M,V),this.update(new u.default().retain(N).insert(k({},M,V)))}},{key:"insertText",value:function(N,M){var V=this,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,M),Object.keys(Q).forEach(function(q){V.scroll.formatAt(N,M.length,q,Q[q])}),this.update(new u.default().retain(N).insert(M,(0,A.default)(Q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==w.default.blotName||N.children.length>1?!1:N.children.head instanceof O.default}},{key:"removeFormat",value:function(N,M){var V=this.getText(N,M),Q=this.scroll.line(N+M),q=s(Q,2),j=q[0],z=q[1],J=0,X=new u.default;j!=null&&(j instanceof v.default?J=j.newlineIndex(z)-z+1:J=j.length()-z,X=j.delta().slice(z,z+J-1).insert(`
`));var re=this.getContents(N,M+J),pe=re.diff(new u.default().insert(V).concat(X)),Ee=new u.default().retain(N).concat(pe);return this.applyDelta(Ee)}},{key:"update",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Q=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(U)&&m.default.find(M[0].target)){var q=m.default.find(M[0].target),j=(0,p.bubbleFormats)(q),z=q.offset(this.scroll),J=M[0].oldValue.replace(g.default.CONTENTS,""),X=new u.default().insert(J),re=new u.default().insert(q.value()),pe=new u.default().retain(z).concat(X.diff(re,V));N=pe.reduce(function(Ee,Te){return Te.insert?Ee.insert(Te.insert,j):Ee.push(Te)},new u.default),this.delta=Q.compose(N)}else this.delta=this.getDelta(),(!N||!(0,P.default)(Q.compose(N),this.delta))&&(N=Q.diff(this.delta,V));return N}}]),B}();function K(B,F){return Object.keys(F).reduce(function(N,M){return B[M]==null||(F[M]===B[M]?N[M]=F[M]:Array.isArray(F[M])?F[M].indexOf(B[M])<0&&(N[M]=F[M].concat([B[M]])):N[M]=[F[M],B[M]]),N},{})}function G(B){return B.reduce(function(F,N){if(N.insert===1){var M=(0,A.default)(N.attributes);return delete M.image,F.insert({image:N.attributes.image},M)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,A.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var V=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(V,N.attributes)}return F.push(N)},new u.default)}r.default=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function S(P,T){var b=[],R=!0,k=!1,L=void 0;try{for(var U=P[Symbol.iterator](),H;!(R=(H=U.next()).done)&&(b.push(H.value),!(T&&b.length===T));R=!0);}catch(K){k=!0,L=K}finally{try{!R&&U.return&&U.return()}finally{if(k)throw L}}return b}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return S(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(P,T){for(var b=0;b<T.length;b++){var R=T[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,T,b){return T&&S(P.prototype,T),b&&S(P,b),P}}(),a=i(0),l=g(a),u=i(21),h=g(u),f=i(11),d=g(f),m=i(8),E=g(m),v=i(10),_=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function p(S){if(Array.isArray(S)){for(var P=0,T=Array(S.length);P<S.length;P++)T[P]=S[P];return T}else return Array.from(S)}function w(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}var y=(0,_.default)("quill:selection"),O=function S(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,S),this.index=P,this.length=T},x=function(){function S(P,T){var b=this;w(this,S),this.emitter=T,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new O(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,E.default.sources.USER),1)}),this.emitter.on(E.default.events.EDITOR_CHANGE,function(R,k){R===E.default.events.TEXT_CHANGE&&k.length()>0&&b.update(E.default.sources.SILENT)}),this.emitter.on(E.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var R=b.getNativeRange();R!=null&&R.start.node!==b.cursor.textNode&&b.emitter.once(E.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(E.default.events.SCROLL_OPTIMIZE,function(R,k){if(k.range){var L=k.range,U=L.startNode,H=L.startOffset,K=L.endNode,G=L.endOffset;b.setNativeRange(U,H,K,G)}}),this.update(E.default.sources.SILENT)}return s(S,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var b=T.cursor.restore();if(!b)return;setTimeout(function(){T.setNativeRange(b.startNode,b.startOffset,b.endNode,b.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(E.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,b){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var k=l.default.find(R.start.node,!1);if(k==null)return;if(k instanceof l.default.Leaf){var L=k.split(R.start.offset);k.parent.insertBefore(this.cursor,L)}else k.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(T,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();T=Math.min(T,R-1),b=Math.min(T+b,R-1)-T;var k=void 0,L=this.scroll.leaf(T),U=o(L,2),H=U[0],K=U[1];if(H==null)return null;var G=H.position(K,!0),B=o(G,2);k=B[0],K=B[1];var F=document.createRange();if(b>0){F.setStart(k,K);var N=this.scroll.leaf(T+b),M=o(N,2);if(H=M[0],K=M[1],H==null)return null;var V=H.position(K,!0),Q=o(V,2);return k=Q[0],K=Q[1],F.setEnd(k,K),F.getBoundingClientRect()}else{var q="left",j=void 0;return k instanceof Text?(K<k.data.length?(F.setStart(k,K),F.setEnd(k,K+1)):(F.setStart(k,K-1),F.setEnd(k,K),q="right"),j=F.getBoundingClientRect()):(j=H.domNode.getBoundingClientRect(),K>0&&(q="right")),{bottom:j.top+j.height,height:j.height,left:j[q],right:j[q],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var b=T.getRangeAt(0);if(b==null)return null;var R=this.normalizeNative(b);return y.info("getNativeRange",R),R}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var b=this.normalizedToRange(T);return[b,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var b=this,R=[[T.start.node,T.start.offset]];T.native.collapsed||R.push([T.end.node,T.end.offset]);var k=R.map(function(H){var K=o(H,2),G=K[0],B=K[1],F=l.default.find(G,!0),N=F.offset(b.scroll);return B===0?N:F instanceof l.default.Container?N+F.length():N+F.index(G,B)}),L=Math.min(Math.max.apply(Math,p(k)),this.scroll.length()-1),U=Math.min.apply(Math,[L].concat(p(k)));return new O(U,L-U)}},{key:"normalizeNative",value:function(T){if(!A(this.root,T.startContainer)||!T.collapsed&&!A(this.root,T.endContainer))return null;var b={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[b.start,b.end].forEach(function(R){for(var k=R.node,L=R.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>L)k=k.childNodes[L],L=0;else if(k.childNodes.length===L)k=k.lastChild,L=k instanceof Text?k.data.length:k.childNodes.length+1;else break;R.node=k,R.offset=L}),b}},{key:"rangeToNative",value:function(T){var b=this,R=T.collapsed?[T.index]:[T.index,T.index+T.length],k=[],L=this.scroll.length();return R.forEach(function(U,H){U=Math.min(L-1,U);var K=void 0,G=b.scroll.leaf(U),B=o(G,2),F=B[0],N=B[1],M=F.position(N,H!==0),V=o(M,2);K=V[0],N=V[1],k.push(K,N)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(T){var b=this.lastRange;if(b!=null){var R=this.getBounds(b.index,b.length);if(R!=null){var k=this.scroll.length()-1,L=this.scroll.line(Math.min(b.index,k)),U=o(L,1),H=U[0],K=H;if(b.length>0){var G=this.scroll.line(Math.min(b.index+b.length,k)),B=o(G,1);K=B[0]}if(!(H==null||K==null)){var F=T.getBoundingClientRect();R.top<F.top?T.scrollTop-=F.top-R.top:R.bottom>F.bottom&&(T.scrollTop+=R.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,b){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",T,b,R,k),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||R.parentNode==null))){var U=document.getSelection();if(U!=null)if(T!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||T!==H.startContainer||b!==H.startOffset||R!==H.endContainer||k!==H.endOffset){T.tagName=="BR"&&(b=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),R.tagName=="BR"&&(k=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var K=document.createRange();K.setStart(T,b),K.setEnd(R,k),U.removeAllRanges(),U.addRange(K)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof b=="string"&&(R=b,b=!1),y.info("setRange",T),T!=null){var k=this.rangeToNative(T);this.setNativeRange.apply(this,p(k).concat([b]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:E.default.sources.USER,b=this.lastRange,R=this.getRange(),k=o(R,2),L=k[0],U=k[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(b,this.lastRange)){var H;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var K=[E.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(b),T];if((H=this.emitter).emit.apply(H,[E.default.events.EDITOR_CHANGE].concat(K)),T!==E.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,K)}}}}]),S}();function A(S,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),S.contains(P)}r.Range=O,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&E(v.prototype,_),g&&E(v,g),v}}(),s=function E(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:E(w,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function f(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function d(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var m=function(E){d(v,E);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(g,p){g.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var E in m)m.hasOwnProperty(E)&&(d[E]=m[E])};return function(d,m){f(d,m);function E(){this.constructor=d}d.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(d,f);function d(m){var E=f.call(this,m)||this;return E.build(),E}return d.prototype.appendChild=function(m){this.insertBefore(m)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},d.prototype.build=function(){var m=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(E){try{var v=h(E);m.insertBefore(v,m.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(m,E){if(m===0&&E===this.length())return this.remove();this.children.forEachAt(m,E,function(v,_,g){v.deleteAt(_,g)})},d.prototype.descendant=function(m,E){var v=this.children.find(E),_=v[0],g=v[1];return m.blotName==null&&m(_)||m.blotName!=null&&_ instanceof m?[_,g]:_ instanceof d?_.descendant(m,g):[null,-1]},d.prototype.descendants=function(m,E,v){E===void 0&&(E=0),v===void 0&&(v=Number.MAX_VALUE);var _=[],g=v;return this.children.forEachAt(E,v,function(p,w,y){(m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m)&&_.push(p),p instanceof d&&(_=_.concat(p.descendants(m,w,g))),g-=y}),_},d.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(m,E,v,_){this.children.forEachAt(m,E,function(g,p,w){g.formatAt(p,w,v,_)})},d.prototype.insertAt=function(m,E,v){var _=this.children.find(m),g=_[0],p=_[1];if(g)g.insertAt(p,E,v);else{var w=v==null?l.create("text",E):l.create(E,v);this.appendChild(w)}},d.prototype.insertBefore=function(m,E){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return m instanceof v}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,E)},d.prototype.length=function(){return this.children.reduce(function(m,E){return m+E.length()},0)},d.prototype.moveChildren=function(m,E){this.children.forEach(function(v){m.insertBefore(v,E)})},d.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var E=l.create(this.statics.defaultChild);this.appendChild(E),E.optimize(m)}else this.remove()},d.prototype.path=function(m,E){E===void 0&&(E=!1);var v=this.children.find(m,E),_=v[0],g=v[1],p=[[this,m]];return _ instanceof d?p.concat(_.path(g,E)):(_!=null&&p.push([_,g]),p)},d.prototype.removeChild=function(m){this.children.remove(m)},d.prototype.replace=function(m){m instanceof d&&m.moveChildren(this),f.prototype.replace.call(this,m)},d.prototype.split=function(m,E){if(E===void 0&&(E=!1),!E){if(m===0)return this;if(m===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(m,this.length(),function(_,g,p){_=_.split(g,E),v.appendChild(_)}),v},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(m,E){var v=this,_=[],g=[];m.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(_.push.apply(_,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(p);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),_.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,w){return p===w?0:p.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var w=null;p.nextSibling!=null&&(w=l.find(p.nextSibling));var y=h(p);(y.next!=w||y.next==null)&&(y.parent!=null&&y.parent.removeChild(v),v.insertBefore(y,w||void 0))})},d}(a.default);function h(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch{d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(E){d.domNode.appendChild(E)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var E in m)m.hasOwnProperty(E)&&(d[E]=m[E])};return function(d,m){f(d,m);function E(){this.constructor=d}d.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),h=function(f){o(d,f);function d(m){var E=f.call(this,m)||this;return E.attributes=new a.default(E.domNode),E}return d.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},d.prototype.format=function(m,E){var v=u.query(m);v instanceof s.default?this.attributes.attribute(v,E):E&&v!=null&&(m!==this.statics.blotName||this.formats()[m]!==E)&&this.replaceWith(m,E)},d.prototype.formats=function(){var m=this.attributes.values(),E=this.statics.formats(this.domNode);return E!=null&&(m[this.statics.blotName]=E),m},d.prototype.replaceWith=function(m,E){var v=f.prototype.replaceWith.call(this,m,E);return this.attributes.copy(v),v},d.prototype.update=function(m,E){var v=this;f.prototype.update.call(this,m,E),m.some(function(_){return _.target===v.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(m,E){var v=f.prototype.wrap.call(this,m,E);return v instanceof d&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},d}(l.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(f){return!0},h.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},h.prototype.position=function(f,d){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},h.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,h,f){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=s(!0,{},h);f||(d=Object.keys(d).reduce(function(E,v){return d[v]!=null&&(E[v]=d[v]),E},{}));for(var m in u)u[m]!==void 0&&h[m]===void 0&&(d[m]=u[m]);return Object.keys(d).length>0?d:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=Object.keys(u).concat(Object.keys(h)).reduce(function(d,m){return o(u[m],h[m])||(d[m]=h[m]===void 0?null:h[m]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,h,f){if(typeof u!="object")return h;if(typeof h=="object"){if(!f)return h;var d=Object.keys(h).reduce(function(m,E){return u[E]===void 0&&(m[E]=h[E]),m},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var f=this.offset,d=a.length(h);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var m={};return h.attributes&&(m.attributes=h.attributes),typeof h.retain=="number"?m.retain=u:typeof h.insert=="string"?m.insert=h.insert.substr(f,u):m.insert=h.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=h,[f].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,_){return _!=null&&v instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,_,g,p,w){typeof _=="object"&&(g=_.depth,p=_.prototype,w=_.includeNonEnumerable,_=_.circular);var y=[],O=[],x=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof g>"u"&&(g=1/0);function A(S,P){if(S===null)return null;if(P===0)return S;var T,b;if(typeof S!="object")return S;if(o(S,s))T=new s;else if(o(S,a))T=new a;else if(o(S,l))T=new l(function(F,N){S.then(function(M){F(A(M,P-1))},function(M){N(A(M,P-1))})});else if(u.__isArray(S))T=[];else if(u.__isRegExp(S))T=new RegExp(S.source,E(S)),S.lastIndex&&(T.lastIndex=S.lastIndex);else if(u.__isDate(S))T=new Date(S.getTime());else{if(x&&Buffer.isBuffer(S))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(S.length):T=new Buffer(S.length),S.copy(T),T;o(S,Error)?T=Object.create(S):typeof p>"u"?(b=Object.getPrototypeOf(S),T=Object.create(b)):(T=Object.create(p),b=p)}if(_){var R=y.indexOf(S);if(R!=-1)return O[R];y.push(S),O.push(T)}o(S,s)&&S.forEach(function(F,N){var M=A(N,P-1),V=A(F,P-1);T.set(M,V)}),o(S,a)&&S.forEach(function(F){var N=A(F,P-1);T.add(N)});for(var k in S){var L;b&&(L=Object.getOwnPropertyDescriptor(b,k)),!(L&&L.set==null)&&(T[k]=A(S[k],P-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(S),k=0;k<U.length;k++){var H=U[k],K=Object.getOwnPropertyDescriptor(S,H);K&&!K.enumerable&&!w||(T[H]=A(S[H],P-1),K.enumerable||Object.defineProperty(T,H,{enumerable:!1}))}if(w)for(var G=Object.getOwnPropertyNames(S),k=0;k<G.length;k++){var B=G[k],K=Object.getOwnPropertyDescriptor(S,B);K&&K.enumerable||(T[B]=A(S[B],P-1),Object.defineProperty(T,B,{enumerable:!1}))}return T}return A(v,g)}u.clonePrototype=function(_){if(_===null)return null;var g=function(){};return g.prototype=_,new g};function h(v){return Object.prototype.toString.call(v)}u.__objToStr=h;function f(v){return typeof v=="object"&&h(v)==="[object Date]"}u.__isDate=f;function d(v){return typeof v=="object"&&h(v)==="[object Array]"}u.__isArray=d;function m(v){return typeof v=="object"&&h(v)==="[object RegExp]"}u.__isRegExp=m;function E(v){var _="";return v.global&&(_+="g"),v.ignoreCase&&(_+="i"),v.multiline&&(_+="m"),_}return u.__getRegExpFlags=E,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(b,R){var k=[],L=!0,U=!1,H=void 0;try{for(var K=b[Symbol.iterator](),G;!(L=(G=K.next()).done)&&(k.push(G.value),!(R&&k.length===R));L=!0);}catch(B){U=!0,H=B}finally{try{!L&&K.return&&K.return()}finally{if(U)throw H}}return k}return function(b,R){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return T(b,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(b,R){for(var k=0;k<R.length;k++){var L=R[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,R,k){return R&&T(b.prototype,R),k&&T(b,k),b}}(),a=function T(b,R,k){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,R);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:T(U,R,k)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(k)}},l=i(0),u=y(l),h=i(8),f=y(h),d=i(4),m=y(d),E=i(16),v=y(E),_=i(13),g=y(_),p=i(25),w=y(p);function y(T){return T&&T.__esModule?T:{default:T}}function O(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function x(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function A(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}function S(T){return T instanceof m.default||T instanceof d.BlockEmbed}var P=function(T){A(b,T);function b(R,k){O(this,b);var L=x(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R));return L.emitter=k.emitter,Array.isArray(k.whitelist)&&(L.whitelist=k.whitelist.reduce(function(U,H){return U[H]=!0,U},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,L){var U=this.line(k),H=o(U,2),K=H[0],G=H[1],B=this.line(k+L),F=o(B,1),N=F[0];if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,k,L),N!=null&&K!==N&&G>0){if(K instanceof d.BlockEmbed||N instanceof d.BlockEmbed){this.optimize();return}if(K instanceof g.default){var M=K.newlineIndex(K.length(),!0);if(M>-1&&(K=K.split(M+1),K===N)){this.optimize();return}}else if(N instanceof g.default){var V=N.newlineIndex(0);V>-1&&N.split(V+1)}var Q=N.children.head instanceof v.default?null:N.children.head;K.moveChildren(N,Q),K.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,L,U,H){this.whitelist!=null&&!this.whitelist[U]||(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,k,L,U,H),this.optimize())}},{key:"insertAt",value:function(k,L,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[L])){if(k>=this.length())if(U==null||u.default.query(L,u.default.Scope.BLOCK)==null){var H=u.default.create(this.statics.defaultChild);this.appendChild(H),U==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),H.insertAt(0,L,U)}else{var K=u.default.create(L,U);this.appendChild(K)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,k,L,U);this.optimize()}}},{key:"insertBefore",value:function(k,L){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var U=u.default.create(this.statics.defaultChild);U.appendChild(k),k=U}a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,k,L)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(S,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function H(K,G,B){var F=[],N=B;return K.children.forEachAt(G,B,function(M,V,Q){S(M)?F.push(M):M instanceof u.default.Container&&(F=F.concat(H(M,V,N))),N-=Q}),F};return U(this,k,L)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,k,L),k.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,k,L))}},{key:"path",value:function(k){return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var L=f.default.sources.USER;typeof k=="string"&&(L=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,L,k),a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,L,k)}}}]),b}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[m.default,d.BlockEmbed,w.default],r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(z,J){var X=[],re=!0,pe=!1,Ee=void 0;try{for(var Te=z[Symbol.iterator](),Oe;!(re=(Oe=Te.next()).done)&&(X.push(Oe.value),!(J&&X.length===J));re=!0);}catch(Ne){pe=!0,Ee=Ne}finally{try{!re&&Te.return&&Te.return()}finally{if(pe)throw Ee}}return X}return function(z,J){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return j(z,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(z,J){for(var X=0;X<J.length;X++){var re=J[X];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(z,re.key,re)}}return function(z,J,X){return J&&j(z.prototype,J),X&&j(z,X),z}}(),l=i(21),u=T(l),h=i(11),f=T(h),d=i(3),m=T(d),E=i(2),v=T(E),_=i(20),g=T(_),p=i(0),w=T(p),y=i(5),O=T(y),x=i(10),A=T(x),S=i(9),P=T(S);function T(j){return j&&j.__esModule?j:{default:j}}function b(j,z,J){return z in j?Object.defineProperty(j,z,{value:J,enumerable:!0,configurable:!0,writable:!0}):j[z]=J,j}function R(j,z){if(!(j instanceof z))throw new TypeError("Cannot call a class as a function")}function k(j,z){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:j}function L(j,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);j.prototype=Object.create(z&&z.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(j,z):j.__proto__=z)}var U=(0,A.default)("quill:keyboard"),H=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",K=function(j){L(z,j),a(z,null,[{key:"match",value:function(X,re){return re=q(re),["altKey","ctrlKey","metaKey","shiftKey"].some(function(pe){return!!re[pe]!==X[pe]&&re[pe]!==null})?!1:re.key===(X.which||X.keyCode)}}]);function z(J,X){R(this,z);var re=k(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,J,X));return re.bindings={},Object.keys(re.options.bindings).forEach(function(pe){pe==="list autofill"&&J.scroll.whitelist!=null&&!J.scroll.whitelist.list||re.options.bindings[pe]&&re.addBinding(re.options.bindings[pe])}),re.addBinding({key:z.keys.ENTER,shiftKey:null},M),re.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(re.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},B),re.addBinding({key:z.keys.DELETE},{collapsed:!0},F)):(re.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),re.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),re.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},N),re.addBinding({key:z.keys.DELETE},{collapsed:!1},N),re.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),re.listen(),re}return a(z,[{key:"addBinding",value:function(X){var re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ee=q(X);if(Ee==null||Ee.key==null)return U.warn("Attempted to add invalid keyboard binding",Ee);typeof re=="function"&&(re={handler:re}),typeof pe=="function"&&(pe={handler:pe}),Ee=(0,m.default)(Ee,re,pe),this.bindings[Ee.key]=this.bindings[Ee.key]||[],this.bindings[Ee.key].push(Ee)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(re){if(!re.defaultPrevented){var pe=re.which||re.keyCode,Ee=(X.bindings[pe]||[]).filter(function(Ye){return z.match(re,Ye)});if(Ee.length!==0){var Te=X.quill.getSelection();if(!(Te==null||!X.quill.hasFocus())){var Oe=X.quill.getLine(Te.index),Ne=s(Oe,2),vt=Ne[0],Ge=Ne[1],te=X.quill.getLeaf(Te.index),ne=s(te,2),ce=ne[0],de=ne[1],se=Te.length===0?[ce,de]:X.quill.getLeaf(Te.index+Te.length),Pe=s(se,2),be=Pe[0],Ie=Pe[1],Ve=ce instanceof w.default.Text?ce.value().slice(0,de):"",Qe=be instanceof w.default.Text?be.value().slice(Ie):"",He={collapsed:Te.length===0,empty:Te.length===0&&vt.length()<=1,format:X.quill.getFormat(Te),offset:Ge,prefix:Ve,suffix:Qe},ji=Ee.some(function(Ye){if(Ye.collapsed!=null&&Ye.collapsed!==He.collapsed||Ye.empty!=null&&Ye.empty!==He.empty||Ye.offset!=null&&Ye.offset!==He.offset)return!1;if(Array.isArray(Ye.format)){if(Ye.format.every(function(Tn){return He.format[Tn]==null}))return!1}else if(o(Ye.format)==="object"&&!Object.keys(Ye.format).every(function(Tn){return Ye.format[Tn]===!0?He.format[Tn]!=null:Ye.format[Tn]===!1?He.format[Tn]==null:(0,f.default)(Ye.format[Tn],He.format[Tn])}))return!1;return Ye.prefix!=null&&!Ye.prefix.test(He.prefix)||Ye.suffix!=null&&!Ye.suffix.test(He.suffix)?!1:Ye.handler.call(X,Te,He)!==!0});ji&&re.preventDefault()}}}})}}]),z}(P.default);K.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},K.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:K.keys.TAB,format:["blockquote","indent","list"],handler:function(z,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:K.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,J){if(J.collapsed&&J.offset!==0)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:K.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,J){J.format.indent!=null?this.quill.format("indent","-1",O.default.sources.USER):J.format.list!=null&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:K.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,O.default.sources.USER)}},tab:{key:K.keys.TAB,handler:function(z){this.quill.history.cutoff();var J=new v.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(J,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,O.default.sources.SILENT)}},"list empty enter":{key:K.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,J){this.quill.format("list",!1,O.default.sources.USER),J.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:K.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var J=this.quill.getLine(z.index),X=s(J,2),re=X[0],pe=X[1],Ee=(0,m.default)({},re.formats(),{list:"checked"}),Te=new v.default().retain(z.index).insert(`
`,Ee).retain(re.length()-pe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Te,O.default.sources.USER),this.quill.setSelection(z.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:K.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,J){var X=this.quill.getLine(z.index),re=s(X,2),pe=re[0],Ee=re[1],Te=new v.default().retain(z.index).insert(`
`,J.format).retain(pe.length()-Ee-1).retain(1,{header:null});this.quill.updateContents(Te,O.default.sources.USER),this.quill.setSelection(z.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,J){var X=J.prefix.length,re=this.quill.getLine(z.index),pe=s(re,2),Ee=pe[0],Te=pe[1];if(Te>X)return!0;var Oe=void 0;switch(J.prefix.trim()){case"[]":case"[ ]":Oe="unchecked";break;case"[x]":Oe="checked";break;case"-":case"*":Oe="bullet";break;default:Oe="ordered"}this.quill.insertText(z.index," ",O.default.sources.USER),this.quill.history.cutoff();var Ne=new v.default().retain(z.index-Te).delete(X+1).retain(Ee.length()-2-Te).retain(1,{list:Oe});this.quill.updateContents(Ne,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-X,O.default.sources.SILENT)}},"code exit":{key:K.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var J=this.quill.getLine(z.index),X=s(J,2),re=X[0],pe=X[1],Ee=new v.default().retain(z.index+re.length()-pe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ee,O.default.sources.USER)}},"embed left":G(K.keys.LEFT,!1),"embed left shift":G(K.keys.LEFT,!0),"embed right":G(K.keys.RIGHT,!1),"embed right shift":G(K.keys.RIGHT,!0)}};function G(j,z){var J,X=j===K.keys.LEFT?"prefix":"suffix";return J={key:j,shiftKey:z,altKey:null},b(J,X,/^$/),b(J,"handler",function(pe){var Ee=pe.index;j===K.keys.RIGHT&&(Ee+=pe.length+1);var Te=this.quill.getLeaf(Ee),Oe=s(Te,1),Ne=Oe[0];return Ne instanceof w.default.Embed?(j===K.keys.LEFT?z?this.quill.setSelection(pe.index-1,pe.length+1,O.default.sources.USER):this.quill.setSelection(pe.index-1,O.default.sources.USER):z?this.quill.setSelection(pe.index,pe.length+1,O.default.sources.USER):this.quill.setSelection(pe.index+pe.length+1,O.default.sources.USER),!1):!0}),J}function B(j,z){if(!(j.index===0||this.quill.getLength()<=1)){var J=this.quill.getLine(j.index),X=s(J,1),re=X[0],pe={};if(z.offset===0){var Ee=this.quill.getLine(j.index-1),Te=s(Ee,1),Oe=Te[0];if(Oe!=null&&Oe.length()>1){var Ne=re.formats(),vt=this.quill.getFormat(j.index-1,1);pe=g.default.attributes.diff(Ne,vt)||{}}}var Ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(j.index-Ge,Ge,O.default.sources.USER),Object.keys(pe).length>0&&this.quill.formatLine(j.index-Ge,Ge,pe,O.default.sources.USER),this.quill.focus()}}function F(j,z){var J=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(j.index>=this.quill.getLength()-J)){var X={},re=0,pe=this.quill.getLine(j.index),Ee=s(pe,1),Te=Ee[0];if(z.offset>=Te.length()-1){var Oe=this.quill.getLine(j.index+1),Ne=s(Oe,1),vt=Ne[0];if(vt){var Ge=Te.formats(),te=this.quill.getFormat(j.index,1);X=g.default.attributes.diff(Ge,te)||{},re=vt.length()}}this.quill.deleteText(j.index,J,O.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(j.index+re-1,J,X,O.default.sources.USER)}}function N(j){var z=this.quill.getLines(j),J={};if(z.length>1){var X=z[0].formats(),re=z[z.length-1].formats();J=g.default.attributes.diff(re,X)||{}}this.quill.deleteText(j,O.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(j.index,1,J,O.default.sources.USER),this.quill.setSelection(j.index,O.default.sources.SILENT),this.quill.focus()}function M(j,z){var J=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var X=Object.keys(z.format).reduce(function(re,pe){return w.default.query(pe,w.default.Scope.BLOCK)&&!Array.isArray(z.format[pe])&&(re[pe]=z.format[pe]),re},{});this.quill.insertText(j.index,`
`,X,O.default.sources.USER),this.quill.setSelection(j.index+1,O.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(re){X[re]==null&&(Array.isArray(z.format[re])||re!=="link"&&J.quill.format(re,z.format[re],O.default.sources.USER))})}function V(j){return{key:K.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(J){var X=w.default.query("code-block"),re=J.index,pe=J.length,Ee=this.quill.scroll.descendant(X,re),Te=s(Ee,2),Oe=Te[0],Ne=Te[1];if(Oe!=null){var vt=this.quill.getIndex(Oe),Ge=Oe.newlineIndex(Ne,!0)+1,te=Oe.newlineIndex(vt+Ne+pe),ne=Oe.domNode.textContent.slice(Ge,te).split(`
`);Ne=0,ne.forEach(function(ce,de){j?(Oe.insertAt(Ge+Ne,X.TAB),Ne+=X.TAB.length,de===0?re+=X.TAB.length:pe+=X.TAB.length):ce.startsWith(X.TAB)&&(Oe.deleteAt(Ge+Ne,X.TAB.length),Ne-=X.TAB.length,de===0?re-=X.TAB.length:pe-=X.TAB.length),Ne+=ce.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(re,pe,O.default.sources.SILENT)}}}}function Q(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(J,X){this.quill.format(j,!X.format[j],O.default.sources.USER)}}}function q(j){if(typeof j=="string"||typeof j=="number")return q({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(K.keys[j.key.toUpperCase()]!=null)j.key=K.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[H]=j.shortKey,delete j.shortKey),j}r.default=K,r.SHORTKEY=H},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,w){var y=[],O=!0,x=!1,A=void 0;try{for(var S=p[Symbol.iterator](),P;!(O=(P=S.next()).done)&&(y.push(P.value),!(w&&y.length===w));O=!0);}catch(T){x=!0,A=T}finally{try{!O&&S.return&&S.return()}finally{if(x)throw A}}return y}return function(p,w){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(p,w,y){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,w);if(O===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:g(x,w,y)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(y)}},a=function(){function g(p,w){for(var y=0;y<w.length;y++){var O=w[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,w,y){return w&&g(p.prototype,w),y&&g(p,y),p}}(),l=i(0),u=d(l),h=i(7),f=d(h);function d(g){return g&&g.__esModule?g:{default:g}}function m(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function E(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function v(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var _=function(g){v(p,g),a(p,null,[{key:"value",value:function(){}}]);function p(w,y){m(this,p);var O=E(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return O.selection=y,O.textNode=document.createTextNode(p.CONTENTS),O.domNode.appendChild(O.textNode),O._length=0,O}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,O){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,y,O);for(var x=this,A=0;x!=null&&x.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=p.CONTENTS.length,x.optimize(),x.formatAt(A,p.CONTENTS.length,y,O),this._length=0)}},{key:"index",value:function(y,O){return y===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,O)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,O=this.selection.getNativeRange(),x=void 0,A=void 0,S=void 0;if(O!=null&&O.start.node===y&&O.end.node===y){var P=[y,O.start.offset,O.end.offset];x=P[0],A=P[1],S=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof f.default?(x=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var b=[A,S].map(function(k){return Math.max(0,Math.min(x.data.length,k-1))}),R=o(b,2);return A=R[0],S=R[1],{startNode:x,startOffset:A,endNode:x,endOffset:S}}}}},{key:"update",value:function(y,O){var x=this;if(y.some(function(S){return S.type==="characterData"&&S.target===x.textNode})){var A=this.restore();A&&(O.range=A)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function f(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function d(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var m=function(E){d(v,E);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(g,p){for(var w=0;w<p.length;w++){var y=p[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,w){return p&&_(g.prototype,p),w&&_(g,w),g}}(),s=function _(g,p,w){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:_(O,p,w)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(w)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function f(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function d(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var m=function(_){d(g,_);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(w){var y=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,w);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(O){return("00"+parseInt(O).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),E=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=E,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(_,g){for(var p=0;p<g.length;p++){var w=g[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),s=function v(_,g,p){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,g);if(w===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:v(y,g,p)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function f(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m=function(v){d(_,v);function _(){return h(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(p,w){if(p!==this.statics.blotName||!w)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,p,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(p){var w=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,p);return p=this.sanitize(p),w.setAttribute("href",p),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return E(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),_}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function E(v,_){var g=document.createElement("a");g.href=v;var p=g.href.slice(0,g.href.indexOf(":"));return _.indexOf(p)>-1}r.default=m,r.sanitize=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(g,p){for(var w=0;w<p.length;w++){var y=p[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,w){return p&&_(g.prototype,p),w&&_(g,w),g}}(),a=i(23),l=f(a),u=i(107),h=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var m=0;function E(_,g){_.setAttribute(g,_.getAttribute(g)!=="true")}var v=function(){function _(g){var p=this;d(this,_),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),E(this.label,"aria-expanded"),E(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var w=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),p.hasAttribute("value")&&y.setAttribute("data-value",p.getAttribute("value")),p.textContent&&y.setAttribute("data-label",p.textContent),y.addEventListener("click",function(){w.selectItem(y,!0)}),y.addEventListener("keydown",function(O){switch(O.keyCode){case l.default.keys.ENTER:w.selectItem(y,!0),O.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),O.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=h.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(y){var O=p.buildItem(y);w.appendChild(O),y.selected===!0&&p.selectItem(O)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(w){p.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(p!==y&&(y!=null&&y.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var O=document.createEvent("Event");O.initEvent("change",!0,!0),this.select.dispatchEvent(O)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var y=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),_}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),a=i(5),l=U(a),u=i(4),h=U(u),f=i(16),d=U(f),m=i(25),E=U(m),v=i(24),_=U(v),g=i(35),p=U(g),w=i(6),y=U(w),O=i(22),x=U(O),A=i(7),S=U(A),P=i(55),T=U(P),b=i(42),R=U(b),k=i(23),L=U(k);function U(H){return H&&H.__esModule?H:{default:H}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":E.default,"blots/cursor":_.default,"blots/embed":p.default,"blots/inline":y.default,"blots/scroll":x.default,"blots/text":S.default,"modules/clipboard":T.default,"modules/history":R.default,"modules/keyboard":L.default}),s.default.register(h.default,d.default,_.default,y.default,x.default,S.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},a.prototype.formatAt=function(l,u,h,f){var d=this.isolate(l,u);if(o.query(h,o.Scope.BLOT)!=null&&f)d.wrap(h,f);else if(o.query(h,o.Scope.ATTRIBUTE)!=null){var m=o.create(this.statics.scope);d.wrap(m),m.format(h,f)}},a.prototype.insertAt=function(l,u,h){var f=h==null?o.create("text",u):o.create(u,h),d=this.split(l);this.parent.insertBefore(f,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return h.replace(this),h},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function h(f){this.attributes={},this.domNode=f,this.build()}return h.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},h.prototype.build=function(){var f=this;this.attributes={};var d=o.default.keys(this.domNode),m=s.default.keys(this.domNode),E=a.default.keys(this.domNode);d.concat(m).concat(E).forEach(function(v){var _=l.query(v,l.Scope.ATTRIBUTE);_ instanceof o.default&&(f.attributes[_.attrName]=_)})},h.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(m){var E=d.attributes[m].value(d.domNode);f.format(m,E)})},h.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){d.attributes[m].remove(d.domNode)}),this.attributes={}},h.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,m){return d[m]=f.attributes[m].value(f.domNode),d},{})},h}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,h){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(h+"-")===0})}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},h.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},h.prototype.remove=function(f){var d=a(f,this.keyName);d.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},h.prototype.value=function(f){var d=a(f,this.keyName)[0]||"",m=d.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var h=u.split("-"),f=h.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return h[0]+f}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var m=d.split(":");return m[0].trim()})},h.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[a(this.keyName)]=d,!0):!1},h.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},h.prototype.value=function(f){var d=f.style[a(this.keyName)];return this.canAdd(f,d)?d:""},h}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){s(this,l),this.quill=u,this.options=h,this.modules={}}return o(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(f){h.modules[f]==null&&h.addModule(f)})}},{key:"addModule",value:function(h){var f=this.quill.constructor.import("modules/"+h);return this.modules[h]=new f(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,w){for(var y=0;y<w.length;y++){var O=w[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,w,y){return w&&g(p.prototype,w),y&&g(p,y),p}}(),s=function g(p,w,y){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,w);if(O===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:g(x,w,y)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=f(a),u=i(7),h=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function m(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function E(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var v="\uFEFF",_=function(g){E(p,g);function p(w){d(this,p);var y=m(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(O){y.contentNode.appendChild(O)}),y.leftGuard=document.createTextNode(v),y.rightGuard=document.createTextNode(v),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(p,[{key:"index",value:function(y,O){return y===this.leftGuard?0:y===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,O)}},{key:"restore",value:function(y){var O=void 0,x=void 0,A=y.data.split(v).join("");if(y===this.leftGuard)if(this.prev instanceof h.default){var S=this.prev.length();this.prev.insertAt(S,A),O={startNode:this.prev.domNode,startOffset:S+A.length}}else x=document.createTextNode(A),this.parent.insertBefore(l.default.create(x),this),O={startNode:x,startOffset:A.length};else y===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,A),O={startNode:this.next.domNode,startOffset:A.length}):(x=document.createTextNode(A),this.parent.insertBefore(l.default.create(x),this.next),O={startNode:x,startOffset:A.length}));return y.data=v,O}},{key:"update",value:function(y,O){var x=this;y.forEach(function(A){if(A.type==="characterData"&&(A.target===x.leftGuard||A.target===x.rightGuard)){var S=x.restore(A.target);S&&(O.range=S)}})}}]),p}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),h=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),h=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),h=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(p,w){for(var y=0;y<w.length;y++){var O=w[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,w,y){return w&&g(p.prototype,w),y&&g(p,y),p}}(),s=function g(p,w,y){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,w);if(O===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:g(x,w,y)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function d(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},E=new l.default.Attributor.Class("font","ql-font",m),v=function(g){d(p,g);function p(){return h(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(y){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),_=new v("font","font-family",m);r.FontStyle=_,r.FontClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function w(y,O){for(var x=0;x<O.length;x++){var A=O[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,O,x){return O&&w(y.prototype,O),x&&w(y,x),y}}(),s=i(0),a=d(s),l=i(5),u=d(l),h=i(9),f=d(h);function d(w){return w&&w.__esModule?w:{default:w}}function m(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function E(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var _=function(w){v(y,w);function y(O,x){m(this,y);var A=E(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,O,x));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(S,P,T,b){S!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||b===u.default.sources.USER?A.record(P,T):A.transform(P))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return o(y,[{key:"change",value:function(x,A){if(this.stack[x].length!==0){var S=this.stack[x].pop();this.stack[A].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[x],u.default.sources.USER),this.ignoreChange=!1;var P=p(S[x]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,A){if(x.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(A),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var T=this.stack.undo.pop();S=S.compose(T.undo),x=T.redo.compose(x)}else this.lastRecorded=P;this.stack.undo.push({redo:x,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(A){A.undo=x.transform(A.undo,!0),A.redo=x.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=x.transform(A.undo,!0),A.redo=x.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(f.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(w){var y=w.ops[w.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(O){return a.default.query(O,a.default.Scope.BLOCK)!=null}):!1}function p(w){var y=w.reduce(function(x,A){return x+=A.delete||0,x},0),O=w.length()-y;return g(w)&&(O-=1),O}r.default=_,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(V,Q){for(var q=0;q<Q.length;q++){var j=Q[q];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(V,j.key,j)}}return function(V,Q,q){return Q&&M(V.prototype,Q),q&&M(V,q),V}}(),s=function M(V,Q,q){V===null&&(V=Function.prototype);var j=Object.getOwnPropertyDescriptor(V,Q);if(j===void 0){var z=Object.getPrototypeOf(V);return z===null?void 0:M(z,Q,q)}else{if("value"in j)return j.value;var J=j.get;return J===void 0?void 0:J.call(q)}},a=i(3),l=P(a),u=i(2),h=P(u),f=i(8),d=P(f),m=i(23),E=P(m),v=i(34),_=P(v),g=i(59),p=P(g),w=i(60),y=P(w),O=i(28),x=P(O),A=i(61),S=P(A);function P(M){return M&&M.__esModule?M:{default:M}}function T(M,V){if(!(M instanceof V))throw new TypeError("Cannot call a class as a function")}function b(M,V){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:M}function R(M,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);M.prototype=Object.create(V&&V.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(M,V):M.__proto__=V)}var k=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],H=["1","2","3",!1],K=["small",!1,"large","huge"],G=function(M){R(V,M);function V(Q,q){T(this,V);var j=b(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Q,q)),z=function J(X){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",J);j.tooltip!=null&&!j.tooltip.root.contains(X.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(re){re.container.contains(X.target)||re.close()})};return Q.emitter.listenDOM("click",document.body,z),j}return o(V,[{key:"addModule",value:function(q){var j=s(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,q);return q==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(q,j){q.forEach(function(z){var J=z.getAttribute("class")||"";J.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),j[X]!=null))if(X==="direction")z.innerHTML=j[X][""]+j[X].rtl;else if(typeof j[X]=="string")z.innerHTML=j[X];else{var re=z.value||"";re!=null&&j[X][re]&&(z.innerHTML=j[X][re])}})})}},{key:"buildPickers",value:function(q,j){var z=this;this.pickers=q.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&N(X,k),new y.default(X,j.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var re=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&N(X,L,re==="background"?"#ffffff":"#000000"),new p.default(X,j[re])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?N(X,U):X.classList.contains("ql-header")?N(X,H):X.classList.contains("ql-size")&&N(X,K)),new x.default(X)});var J=function(){z.pickers.forEach(function(re){re.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,J)}}]),V}(_.default);G.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,Q=this.container.querySelector("input.ql-image[type=file]");Q==null&&(Q=document.createElement("input"),Q.setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(Q.files!=null&&Q.files[0]!=null){var q=new FileReader;q.onload=function(j){var z=V.quill.getSelection(!0);V.quill.updateContents(new h.default().retain(z.index).delete(z.length).insert({image:j.target.result}),d.default.sources.USER),V.quill.setSelection(z.index+1,d.default.sources.SILENT),Q.value=""},q.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(M){R(V,M);function V(Q,q){T(this,V);var j=b(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,Q,q));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(V,[{key:"listen",value:function(){var q=this;this.textbox.addEventListener("keydown",function(j){E.default.match(j,"enter")?(q.save(),j.preventDefault()):E.default.match(j,"escape")&&(q.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+q)||""),this.root.setAttribute("data-mode",q)}},{key:"restoreFocus",value:function(){var q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=q}},{key:"save",value:function(){var q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",q,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",q,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":q=F(q);case"formula":{if(!q)break;var z=this.quill.getSelection(!0);if(z!=null){var J=z.index+z.length;this.quill.insertEmbed(J,this.root.getAttribute("data-mode"),q,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(J+1," ",d.default.sources.USER),this.quill.setSelection(J+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(S.default);function F(M){var V=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":M}function N(M,V){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(q){var j=document.createElement("option");q===Q?j.setAttribute("selected","selected"):j.setAttribute("value",q),M.appendChild(j)})}r.BaseTooltip=B,r.default=G},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var h=this.find(a),f=h[0],d=h[1],m,E=a-d,v=this.iterator(f);(m=v())&&E<a+l;){var _=m.length();a>E?u(m,a-E,Math.min(l,E+_-a)):u(m,0,Math.min(_,a+l-E)),E+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,h=this.iterator();u=h();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var E in m)m.hasOwnProperty(E)&&(d[E]=m[E])};return function(d,m){f(d,m);function E(){this.constructor=d}d.prototype=m===null?Object.create(m):(E.prototype=m.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(f){o(d,f);function d(m){var E=f.call(this,m)||this;return E.scroll=E,E.observer=new MutationObserver(function(v){E.update(v)}),E.observer.observe(E.domNode,l),E.attach(),E}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(m,E){this.update(),m===0&&E===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,m,E)},d.prototype.formatAt=function(m,E,v,_){this.update(),f.prototype.formatAt.call(this,m,E,v,_)},d.prototype.insertAt=function(m,E,v){this.update(),f.prototype.insertAt.call(this,m,E,v)},d.prototype.optimize=function(m,E){var v=this;m===void 0&&(m=[]),E===void 0&&(E={}),f.prototype.optimize.call(this,E);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)m.push(_.pop());for(var g=function(O,x){x===void 0&&(x=!0),!(O==null||O===v)&&O.domNode.parentNode!=null&&(O.domNode[a.DATA_KEY].mutations==null&&(O.domNode[a.DATA_KEY].mutations=[]),x&&g(O.parent))},p=function(O){O.domNode[a.DATA_KEY]==null||O.domNode[a.DATA_KEY].mutations==null||(O instanceof s.default&&O.children.forEach(p),O.optimize(E))},w=m,y=0;w.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(O){var x=a.find(O.target,!0);x!=null&&(x.domNode===O.target&&(O.type==="childList"?(g(a.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(A){var S=a.find(A,!1);g(S,!1),S instanceof s.default&&S.children.forEach(function(P){g(P,!1)})})):O.type==="attributes"&&g(x.prev)),g(x))}),this.children.forEach(p),w=[].slice.call(this.observer.takeRecords()),_=w.slice();_.length>0;)m.push(_.pop())}},d.prototype.update=function(m,E){var v=this;E===void 0&&(E={}),m=m||this.observer.takeRecords(),m.map(function(_){var g=a.find(_.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[_],g):(g.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===v||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],E)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,E),this.optimize(m,E)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){h(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(h,f){if(Object.keys(h).length!==Object.keys(f).length)return!1;for(var d in h)if(h[d]!==f[d])return!1;return!0}var u=function(h){o(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return h.formats.call(this,d)},f.prototype.format=function(d,m){var E=this;d===this.statics.blotName&&!m?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(f.blotName,!0)),E.attributes.copy(v)}),this.unwrap()):h.prototype.format.call(this,d,m)},f.prototype.formatAt=function(d,m,E,v){if(this.formats()[E]!=null||a.query(E,a.Scope.ATTRIBUTE)){var _=this.isolate(d,m);_.format(E,v)}else h.prototype.formatAt.call(this,d,m,E,v)},f.prototype.optimize=function(d){h.prototype.optimize.call(this,d);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var E=this.next;E instanceof f&&E.prev===this&&l(m,E.formats())&&(E.moveChildren(this),E.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(f){var d=a.query(h.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},h.prototype.format=function(f,d){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(h.blotName):u.prototype.format.call(this,f,d))},h.prototype.formatAt=function(f,d,m,E){a.query(m,a.Scope.BLOCK)!=null?this.format(m,E):u.prototype.formatAt.call(this,f,d,m,E)},h.prototype.insertAt=function(f,d,m){if(m==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,m);else{var E=this.split(f),v=a.create(d,m);E.parent.insertBefore(v,E)}},h.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},h.blotName="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="P",h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)h.hasOwnProperty(f)&&(u[f]=h[f])};return function(u,h){l(u,h);function f(){this.constructor=u}u.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,f){l.prototype.formatAt.call(this,0,this.length(),h,f)},u.prototype.formatAt=function(h,f,d,m){h===0&&f===this.length()?this.format(d,m):l.prototype.formatAt.call(this,h,f,d,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(h,u);function h(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return h.create=function(f){return document.createTextNode(f)},h.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},h.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},h.prototype.index=function(f,d){return this.domNode===f?d:-1},h.prototype.insertAt=function(f,d,m){m==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,m)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(f,d){return[this.domNode,f]},h.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},h.prototype.update=function(f,d){var m=this;f.some(function(E){return E.type==="characterData"&&E.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var h=u.indexOf(a,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,f=arguments[1],d,m=0;m<h;m++)if(d=u[m],l.call(f,d,m,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(y,O,x){if(y==O)return y?[[s,y]]:[];(x<0||y.length<x)&&(x=null);var A=f(y,O),S=y.substring(0,A);y=y.substring(A),O=O.substring(A),A=d(y,O);var P=y.substring(y.length-A);y=y.substring(0,y.length-A),O=O.substring(0,O.length-A);var T=l(y,O);return S&&T.unshift([s,S]),P&&T.push([s,P]),E(T),x!=null&&(T=g(T,x)),T=p(T),T}function l(y,O){var x;if(!y)return[[o,O]];if(!O)return[[i,y]];var A=y.length>O.length?y:O,S=y.length>O.length?O:y,P=A.indexOf(S);if(P!=-1)return x=[[o,A.substring(0,P)],[s,S],[o,A.substring(P+S.length)]],y.length>O.length&&(x[0][0]=x[2][0]=i),x;if(S.length==1)return[[i,y],[o,O]];var T=m(y,O);if(T){var b=T[0],R=T[1],k=T[2],L=T[3],U=T[4],H=a(b,k),K=a(R,L);return H.concat([[s,U]],K)}return u(y,O)}function u(y,O){for(var x=y.length,A=O.length,S=Math.ceil((x+A)/2),P=S,T=2*S,b=new Array(T),R=new Array(T),k=0;k<T;k++)b[k]=-1,R[k]=-1;b[P+1]=0,R[P+1]=0;for(var L=x-A,U=L%2!=0,H=0,K=0,G=0,B=0,F=0;F<S;F++){for(var N=-F+H;N<=F-K;N+=2){var M=P+N,V;N==-F||N!=F&&b[M-1]<b[M+1]?V=b[M+1]:V=b[M-1]+1;for(var Q=V-N;V<x&&Q<A&&y.charAt(V)==O.charAt(Q);)V++,Q++;if(b[M]=V,V>x)K+=2;else if(Q>A)H+=2;else if(U){var q=P+L-N;if(q>=0&&q<T&&R[q]!=-1){var j=x-R[q];if(V>=j)return h(y,O,V,Q)}}}for(var z=-F+G;z<=F-B;z+=2){var q=P+z,j;z==-F||z!=F&&R[q-1]<R[q+1]?j=R[q+1]:j=R[q-1]+1;for(var J=j-z;j<x&&J<A&&y.charAt(x-j-1)==O.charAt(A-J-1);)j++,J++;if(R[q]=j,j>x)B+=2;else if(J>A)G+=2;else if(!U){var M=P+L-z;if(M>=0&&M<T&&b[M]!=-1){var V=b[M],Q=P+V-M;if(j=x-j,V>=j)return h(y,O,V,Q)}}}}return[[i,y],[o,O]]}function h(y,O,x,A){var S=y.substring(0,x),P=O.substring(0,A),T=y.substring(x),b=O.substring(A),R=a(S,P),k=a(T,b);return R.concat(k)}function f(y,O){if(!y||!O||y.charAt(0)!=O.charAt(0))return 0;for(var x=0,A=Math.min(y.length,O.length),S=A,P=0;x<S;)y.substring(P,S)==O.substring(P,S)?(x=S,P=x):A=S,S=Math.floor((A-x)/2+x);return S}function d(y,O){if(!y||!O||y.charAt(y.length-1)!=O.charAt(O.length-1))return 0;for(var x=0,A=Math.min(y.length,O.length),S=A,P=0;x<S;)y.substring(y.length-S,y.length-P)==O.substring(O.length-S,O.length-P)?(x=S,P=x):A=S,S=Math.floor((A-x)/2+x);return S}function m(y,O){var x=y.length>O.length?y:O,A=y.length>O.length?O:y;if(x.length<4||A.length*2<x.length)return null;function S(K,G,B){for(var F=K.substring(B,B+Math.floor(K.length/4)),N=-1,M="",V,Q,q,j;(N=G.indexOf(F,N+1))!=-1;){var z=f(K.substring(B),G.substring(N)),J=d(K.substring(0,B),G.substring(0,N));M.length<J+z&&(M=G.substring(N-J,N)+G.substring(N,N+z),V=K.substring(0,B-J),Q=K.substring(B+z),q=G.substring(0,N-J),j=G.substring(N+z))}return M.length*2>=K.length?[V,Q,q,j,M]:null}var P=S(x,A,Math.ceil(x.length/4)),T=S(x,A,Math.ceil(x.length/2)),b;if(!P&&!T)return null;T?P?b=P[4].length>T[4].length?P:T:b=T:b=P;var R,k,L,U;y.length>O.length?(R=b[0],k=b[1],L=b[2],U=b[3]):(L=b[0],U=b[1],R=b[2],k=b[3]);var H=b[4];return[R,k,L,U,H]}function E(y){y.push([s,""]);for(var O=0,x=0,A=0,S="",P="",T;O<y.length;)switch(y[O][0]){case o:A++,P+=y[O][1],O++;break;case i:x++,S+=y[O][1],O++;break;case s:x+A>1?(x!==0&&A!==0&&(T=f(P,S),T!==0&&(O-x-A>0&&y[O-x-A-1][0]==s?y[O-x-A-1][1]+=P.substring(0,T):(y.splice(0,0,[s,P.substring(0,T)]),O++),P=P.substring(T),S=S.substring(T)),T=d(P,S),T!==0&&(y[O][1]=P.substring(P.length-T)+y[O][1],P=P.substring(0,P.length-T),S=S.substring(0,S.length-T))),x===0?y.splice(O-A,x+A,[o,P]):A===0?y.splice(O-x,x+A,[i,S]):y.splice(O-x-A,x+A,[i,S],[o,P]),O=O-x-A+(x?1:0)+(A?1:0)+1):O!==0&&y[O-1][0]==s?(y[O-1][1]+=y[O][1],y.splice(O,1)):O++,A=0,x=0,S="",P="";break}y[y.length-1][1]===""&&y.pop();var b=!1;for(O=1;O<y.length-1;)y[O-1][0]==s&&y[O+1][0]==s&&(y[O][1].substring(y[O][1].length-y[O-1][1].length)==y[O-1][1]?(y[O][1]=y[O-1][1]+y[O][1].substring(0,y[O][1].length-y[O-1][1].length),y[O+1][1]=y[O-1][1]+y[O+1][1],y.splice(O-1,1),b=!0):y[O][1].substring(0,y[O+1][1].length)==y[O+1][1]&&(y[O-1][1]+=y[O+1][1],y[O][1]=y[O][1].substring(y[O+1][1].length)+y[O+1][1],y.splice(O+1,1),b=!0)),O++;b&&E(y)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function _(y,O){if(O===0)return[s,y];for(var x=0,A=0;A<y.length;A++){var S=y[A];if(S[0]===i||S[0]===s){var P=x+S[1].length;if(O===P)return[A+1,y];if(O<P){y=y.slice();var T=O-x,b=[S[0],S[1].slice(0,T)],R=[S[0],S[1].slice(T)];return y.splice(A,1,b,R),[A+1,y]}else x=P}}throw new Error("cursor_pos is out of bounds!")}function g(y,O){var x=_(y,O),A=x[1],S=x[0],P=A[S],T=A[S+1];if(P==null)return y;if(P[0]!==s)return y;if(T!=null&&P[1]+T[1]===T[1]+P[1])return A.splice(S,2,T,P),w(A,S,2);if(T!=null&&T[1].indexOf(P[1])===0){A.splice(S,2,[T[0],P[1]],[0,P[1]]);var b=T[1].slice(P[1].length);return b.length>0&&A.splice(S+2,0,[T[0],b]),w(A,S,3)}else return y}function p(y){for(var O=!1,x=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},A=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},S=2;S<y.length;S+=1)y[S-2][0]===s&&A(y[S-2][1])&&y[S-1][0]===i&&x(y[S-1][1])&&y[S][0]===o&&x(y[S][1])&&(O=!0,y[S-1][1]=y[S-2][1].slice(-1)+y[S-1][1],y[S][1]=y[S-2][1].slice(-1)+y[S][1],y[S-2][1]=y[S-2][1].slice(0,-1));if(!O)return y;for(var P=[],S=0;S<y.length;S+=1)y[S][1].length>0&&P.push(y[S]);return P}function w(y,O,x){for(var A=O+x-1;A>=0&&A>=O-1;A--)if(A+1<y.length){var S=y[A],P=y[A+1];S[0]===P[1]&&y.splice(A,2,[S[0],S[1]+P[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,d;if(this._eventsCount===0)return h;for(d in f=this._events)i.call(f,d)&&h.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h,f){var d=o?o+h:h,m=this._events[d];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var E=0,v=m.length,_=new Array(v);E<v;E++)_[E]=m[E].fn;return _},l.prototype.emit=function(h,f,d,m,E,v){var _=o?o+h:h;if(!this._events[_])return!1;var g=this._events[_],p=arguments.length,w,y;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,m),!0;case 5:return g.fn.call(g.context,f,d,m,E),!0;case 6:return g.fn.call(g.context,f,d,m,E,v),!0}for(y=1,w=new Array(p-1);y<p;y++)w[y-1]=arguments[y];g.fn.apply(g.context,w)}else{var O=g.length,x;for(y=0;y<O;y++)switch(g[y].once&&this.removeListener(h,g[y].fn,void 0,!0),p){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,f);break;case 3:g[y].fn.call(g[y].context,f,d);break;case 4:g[y].fn.call(g[y].context,f,d,m);break;default:if(!w)for(x=1,w=new Array(p-1);x<p;x++)w[x-1]=arguments[x];g[y].fn.apply(g[y].context,w)}}return!0},l.prototype.on=function(h,f,d){var m=new a(f,d||this),E=o?o+h:h;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],m]:this._events[E].push(m):(this._events[E]=m,this._eventsCount++),this},l.prototype.once=function(h,f,d){var m=new a(f,d||this,!0),E=o?o+h:h;return this._events[E]?this._events[E].fn?this._events[E]=[this._events[E],m]:this._events[E].push(m):(this._events[E]=m,this._eventsCount++),this},l.prototype.removeListener=function(h,f,d,m){var E=o?o+h:h;if(!this._events[E])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[E],this;var v=this._events[E];if(v.fn)v.fn===f&&(!m||v.once)&&(!d||v.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[E]);else{for(var _=0,g=[],p=v.length;_<p;_++)(v[_].fn!==f||m&&!v[_].once||d&&v[_].context!==d)&&g.push(v[_]);g.length?this._events[E]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[E]}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=o?o+h:h,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},s=function(){function te(ne,ce){var de=[],se=!0,Pe=!1,be=void 0;try{for(var Ie=ne[Symbol.iterator](),Ve;!(se=(Ve=Ie.next()).done)&&(de.push(Ve.value),!(ce&&de.length===ce));se=!0);}catch(Qe){Pe=!0,be=Qe}finally{try{!se&&Ie.return&&Ie.return()}finally{if(Pe)throw be}}return de}return function(ne,ce){if(Array.isArray(ne))return ne;if(Symbol.iterator in Object(ne))return te(ne,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function te(ne,ce){for(var de=0;de<ce.length;de++){var se=ce[de];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(ne,se.key,se)}}return function(ne,ce,de){return ce&&te(ne.prototype,ce),de&&te(ne,de),ne}}(),l=i(3),u=R(l),h=i(2),f=R(h),d=i(0),m=R(d),E=i(5),v=R(E),_=i(10),g=R(_),p=i(9),w=R(p),y=i(36),O=i(37),x=i(13),A=R(x),S=i(26),P=i(38),T=i(39),b=i(40);function R(te){return te&&te.__esModule?te:{default:te}}function k(te,ne,ce){return ne in te?Object.defineProperty(te,ne,{value:ce,enumerable:!0,configurable:!0,writable:!0}):te[ne]=ce,te}function L(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}function U(te,ne){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne&&(typeof ne=="object"||typeof ne=="function")?ne:te}function H(te,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ne);te.prototype=Object.create(ne&&ne.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ne):te.__proto__=ne)}var K=(0,g.default)("quill:clipboard"),G="__ql-matcher",B=[[Node.TEXT_NODE,Ge],[Node.TEXT_NODE,Oe],["br",pe],[Node.ELEMENT_NODE,Oe],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,Ne],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,vt],["li",Te],["b",J.bind(J,"bold")],["i",J.bind(J,"italic")],["style",Ee]],F=[y.AlignAttribute,P.DirectionAttribute].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),N=[y.AlignStyle,O.BackgroundStyle,S.ColorStyle,P.DirectionStyle,T.FontStyle,b.SizeStyle].reduce(function(te,ne){return te[ne.keyName]=ne,te},{}),M=function(te){H(ne,te);function ne(ce,de){L(this,ne);var se=U(this,(ne.__proto__||Object.getPrototypeOf(ne)).call(this,ce,de));return se.quill.root.addEventListener("paste",se.onPaste.bind(se)),se.container=se.quill.addContainer("ql-clipboard"),se.container.setAttribute("contenteditable",!0),se.container.setAttribute("tabindex",-1),se.matchers=[],B.concat(se.options.matchers).forEach(function(Pe){var be=s(Pe,2),Ie=be[0],Ve=be[1];!de.matchVisual&&Ve===Ne||se.addMatcher(Ie,Ve)}),se}return a(ne,[{key:"addMatcher",value:function(de,se){this.matchers.push([de,se])}},{key:"convert",value:function(de){if(typeof de=="string")return this.container.innerHTML=de.replace(/\>\r?\n +\</g,"><"),this.convert();var se=this.quill.getFormat(this.quill.selection.savedRange.index);if(se[A.default.blotName]){var Pe=this.container.innerText;return this.container.innerHTML="",new f.default().insert(Pe,k({},A.default.blotName,se[A.default.blotName]))}var be=this.prepareMatching(),Ie=s(be,2),Ve=Ie[0],Qe=Ie[1],He=z(this.container,Ve,Qe);return q(He,`
`)&&He.ops[He.ops.length-1].attributes==null&&(He=He.compose(new f.default().retain(He.length()-1).delete(1))),K.log("convert",this.container.innerHTML,He),this.container.innerHTML="",He}},{key:"dangerouslyPasteHTML",value:function(de,se){var Pe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof de=="string")this.quill.setContents(this.convert(de),se),this.quill.setSelection(0,v.default.sources.SILENT);else{var be=this.convert(se);this.quill.updateContents(new f.default().retain(de).concat(be),Pe),this.quill.setSelection(de+be.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(de){var se=this;if(!(de.defaultPrevented||!this.quill.isEnabled())){var Pe=this.quill.getSelection(),be=new f.default().retain(Pe.index),Ie=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){be=be.concat(se.convert()).delete(Pe.length),se.quill.updateContents(be,v.default.sources.USER),se.quill.setSelection(be.length()-Pe.length,v.default.sources.SILENT),se.quill.scrollingContainer.scrollTop=Ie,se.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var de=this,se=[],Pe=[];return this.matchers.forEach(function(be){var Ie=s(be,2),Ve=Ie[0],Qe=Ie[1];switch(Ve){case Node.TEXT_NODE:Pe.push(Qe);break;case Node.ELEMENT_NODE:se.push(Qe);break;default:[].forEach.call(de.container.querySelectorAll(Ve),function(He){He[G]=He[G]||[],He[G].push(Qe)});break}}),[se,Pe]}}]),ne}(w.default);M.DEFAULTS={matchers:[],matchVisual:!0};function V(te,ne,ce){return(typeof ne>"u"?"undefined":o(ne))==="object"?Object.keys(ne).reduce(function(de,se){return V(de,se,ne[se])},te):te.reduce(function(de,se){return se.attributes&&se.attributes[ne]?de.push(se):de.insert(se.insert,(0,u.default)({},k({},ne,ce),se.attributes))},new f.default)}function Q(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ne="__ql-computed-style";return te[ne]||(te[ne]=window.getComputedStyle(te))}function q(te,ne){for(var ce="",de=te.ops.length-1;de>=0&&ce.length<ne.length;--de){var se=te.ops[de];if(typeof se.insert!="string")break;ce=se.insert+ce}return ce.slice(-1*ne.length)===ne}function j(te){if(te.childNodes.length===0)return!1;var ne=Q(te);return["block","list-item"].indexOf(ne.display)>-1}function z(te,ne,ce){return te.nodeType===te.TEXT_NODE?ce.reduce(function(de,se){return se(te,de)},new f.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(de,se){var Pe=z(se,ne,ce);return se.nodeType===te.ELEMENT_NODE&&(Pe=ne.reduce(function(be,Ie){return Ie(se,be)},Pe),Pe=(se[G]||[]).reduce(function(be,Ie){return Ie(se,be)},Pe)),de.concat(Pe)},new f.default):new f.default}function J(te,ne,ce){return V(ce,te,!0)}function X(te,ne){var ce=m.default.Attributor.Attribute.keys(te),de=m.default.Attributor.Class.keys(te),se=m.default.Attributor.Style.keys(te),Pe={};return ce.concat(de).concat(se).forEach(function(be){var Ie=m.default.query(be,m.default.Scope.ATTRIBUTE);Ie!=null&&(Pe[Ie.attrName]=Ie.value(te),Pe[Ie.attrName])||(Ie=F[be],Ie!=null&&(Ie.attrName===be||Ie.keyName===be)&&(Pe[Ie.attrName]=Ie.value(te)||void 0),Ie=N[be],Ie!=null&&(Ie.attrName===be||Ie.keyName===be)&&(Ie=N[be],Pe[Ie.attrName]=Ie.value(te)||void 0))}),Object.keys(Pe).length>0&&(ne=V(ne,Pe)),ne}function re(te,ne){var ce=m.default.query(te);if(ce==null)return ne;if(ce.prototype instanceof m.default.Embed){var de={},se=ce.value(te);se!=null&&(de[ce.blotName]=se,ne=new f.default().insert(de,ce.formats(te)))}else typeof ce.formats=="function"&&(ne=V(ne,ce.blotName,ce.formats(te)));return ne}function pe(te,ne){return q(ne,`
`)||ne.insert(`
`),ne}function Ee(){return new f.default}function Te(te,ne){var ce=m.default.query(te);if(ce==null||ce.blotName!=="list-item"||!q(ne,`
`))return ne;for(var de=-1,se=te.parentNode;!se.classList.contains("ql-clipboard");)(m.default.query(se)||{}).blotName==="list"&&(de+=1),se=se.parentNode;return de<=0?ne:ne.compose(new f.default().retain(ne.length()-1).retain(1,{indent:de}))}function Oe(te,ne){return q(ne,`
`)||(j(te)||ne.length()>0&&te.nextSibling&&j(te.nextSibling))&&ne.insert(`
`),ne}function Ne(te,ne){if(j(te)&&te.nextElementSibling!=null&&!q(ne,`

`)){var ce=te.offsetHeight+parseFloat(Q(te).marginTop)+parseFloat(Q(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+ce*1.5&&ne.insert(`
`)}return ne}function vt(te,ne){var ce={},de=te.style||{};return de.fontStyle&&Q(te).fontStyle==="italic"&&(ce.italic=!0),de.fontWeight&&(Q(te).fontWeight.startsWith("bold")||parseInt(Q(te).fontWeight)>=700)&&(ce.bold=!0),Object.keys(ce).length>0&&(ne=V(ne,ce)),parseFloat(de.textIndent||0)>0&&(ne=new f.default().insert("	").concat(ne)),ne}function Ge(te,ne){var ce=te.data;if(te.parentNode.tagName==="O:P")return ne.insert(ce.trim());if(ce.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ne;if(!Q(te.parentNode).whiteSpace.startsWith("pre")){var de=function(Pe,be){return be=be.replace(/[^\u00a0]/g,""),be.length<1&&Pe?" ":be};ce=ce.replace(/\r\n/g," ").replace(/\n/g," "),ce=ce.replace(/\s\s+/g,de.bind(de,!0)),(te.previousSibling==null&&j(te.parentNode)||te.previousSibling!=null&&j(te.previousSibling))&&(ce=ce.replace(/^\s+/,de.bind(de,!1))),(te.nextSibling==null&&j(te.parentNode)||te.nextSibling!=null&&j(te.nextSibling))&&(ce=ce.replace(/\s+$/,de.bind(de,!1)))}return ne.insert(ce)}r.default=M,r.matchAttributor=X,r.matchBlot=re,r.matchNewline=Oe,r.matchSpacing=Ne,r.matchText=Ge},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&E(v.prototype,_),g&&E(v,g),v}}(),s=function E(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:E(w,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function f(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function d(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var m=function(E){d(v,E);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function b(R,k){var L=[],U=!0,H=!1,K=void 0;try{for(var G=R[Symbol.iterator](),B;!(U=(B=G.next()).done)&&(L.push(B.value),!(k&&L.length===k));U=!0);}catch(F){H=!0,K=F}finally{try{!U&&G.return&&G.return()}finally{if(H)throw K}}return L}return function(R,k){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return b(R,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(R,k){for(var L=0;L<k.length;L++){var U=k[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(R,U.key,U)}}return function(R,k,L){return k&&b(R.prototype,k),L&&b(R,L),R}}(),a=i(2),l=g(a),u=i(0),h=g(u),f=i(5),d=g(f),m=i(10),E=g(m),v=i(9),_=g(v);function g(b){return b&&b.__esModule?b:{default:b}}function p(b,R,k){return R in b?Object.defineProperty(b,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[R]=k,b}function w(b,R){if(!(b instanceof R))throw new TypeError("Cannot call a class as a function")}function y(b,R){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:b}function O(b,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);b.prototype=Object.create(R&&R.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(b,R):b.__proto__=R)}var x=(0,E.default)("quill:toolbar"),A=function(b){O(R,b);function R(k,L){w(this,R);var U=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k,L));if(Array.isArray(U.options.container)){var H=document.createElement("div");P(H,U.options.container),k.container.parentNode.insertBefore(H,k.container),U.container=H}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var K;return K=x.error("Container required for toolbar",U.options),y(U,K)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(G){U.addHandler(G,U.options.handlers[G])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(G){U.attach(G)}),U.quill.on(d.default.events.EDITOR_CHANGE,function(G,B){G===d.default.events.SELECTION_CHANGE&&U.update(B)}),U.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var G=U.quill.selection.getRange(),B=o(G,1),F=B[0];U.update(F)}),U}return s(R,[{key:"addHandler",value:function(L,U){this.handlers[L]=U}},{key:"attach",value:function(L){var U=this,H=[].find.call(L.classList,function(G){return G.indexOf("ql-")===0});if(H){if(H=H.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[H]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[H]==null){x.warn("ignoring attaching to disabled format",H,L);return}if(h.default.query(H)==null){x.warn("ignoring attaching to nonexistent format",H,L);return}}var K=L.tagName==="SELECT"?"change":"click";L.addEventListener(K,function(G){var B=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var F=L.options[L.selectedIndex];F.hasAttribute("selected")?B=!1:B=F.value||!1}else L.classList.contains("ql-active")?B=!1:B=L.value||!L.hasAttribute("value"),G.preventDefault();U.quill.focus();var N=U.quill.selection.getRange(),M=o(N,1),V=M[0];if(U.handlers[H]!=null)U.handlers[H].call(U,B);else if(h.default.query(H).prototype instanceof h.default.Embed){if(B=prompt("Enter "+H),!B)return;U.quill.updateContents(new l.default().retain(V.index).delete(V.length).insert(p({},H,B)),d.default.sources.USER)}else U.quill.format(H,B,d.default.sources.USER);U.update(V)}),this.controls.push([H,L])}}},{key:"update",value:function(L){var U=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(H){var K=o(H,2),G=K[0],B=K[1];if(B.tagName==="SELECT"){var F=void 0;if(L==null)F=null;else if(U[G]==null)F=B.querySelector("option[selected]");else if(!Array.isArray(U[G])){var N=U[G];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),F=B.querySelector('option[value="'+N+'"]')}F==null?(B.value="",B.selectedIndex=-1):F.selected=!0}else if(L==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var M=U[G]===B.getAttribute("value")||U[G]!=null&&U[G].toString()===B.getAttribute("value")||U[G]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",M)}else B.classList.toggle("ql-active",U[G]!=null)})}}]),R}(_.default);A.DEFAULTS={};function S(b,R,k){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),k!=null&&(L.value=k),b.appendChild(L)}function P(b,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(k){var L=document.createElement("span");L.classList.add("ql-formats"),k.forEach(function(U){if(typeof U=="string")S(L,U);else{var H=Object.keys(U)[0],K=U[H];Array.isArray(K)?T(L,H,K):S(L,H,K)}}),b.appendChild(L)})}function T(b,R,k){var L=document.createElement("select");L.classList.add("ql-"+R),k.forEach(function(U){var H=document.createElement("option");U!==!1?H.setAttribute("value",U):H.setAttribute("selected","selected"),L.appendChild(H)}),b.appendChild(L)}A.DEFAULTS={container:null,handlers:{clean:function(){var R=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(U){h.default.query(U,h.default.Scope.INLINE)!=null&&R.quill.format(U,!1)})}else this.quill.removeFormat(k,d.default.sources.USER)},direction:function(R){var k=this.quill.getFormat().align;R==="rtl"&&k==null?this.quill.format("align","right",d.default.sources.USER):!R&&k==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",R,d.default.sources.USER)},indent:function(R){var k=this.quill.getSelection(),L=this.quill.getFormat(k),U=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var H=R==="+1"?1:-1;L.direction==="rtl"&&(H*=-1),this.quill.format("indent",U+H,d.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,d.default.sources.USER)},list:function(R){var k=this.quill.getSelection(),L=this.quill.getFormat(k);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",R,d.default.sources.USER)}}},r.default=A,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&E(v.prototype,_),g&&E(v,g),v}}(),s=function E(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:E(w,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function f(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function d(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var m=function(E){d(v,E);function v(_,g){h(this,v);var p=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(g){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p);var w=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=y:w.style.fill=y)}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&E(v.prototype,_),g&&E(v,g),v}}(),s=function E(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:E(w,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function f(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function d(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var m=function(E){d(v,E);function v(_,g){h(this,v);var p=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=g[w.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){var f=this;s(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var f=h.left+h.width/2-this.root.offsetWidth/2,d=h.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),E=this.root.getBoundingClientRect(),v=0;if(E.right>m.right&&(v=m.right-E.right,this.root.style.left=f+v+"px"),E.left<m.left&&(v=m.left-E.left,this.root.style.left=f+v+"px"),E.bottom>m.bottom){var _=E.bottom-E.top,g=h.bottom-h.top+_;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(b,R){var k=[],L=!0,U=!1,H=void 0;try{for(var K=b[Symbol.iterator](),G;!(L=(G=K.next()).done)&&(k.push(G.value),!(R&&k.length===R));L=!0);}catch(B){U=!0,H=B}finally{try{!L&&K.return&&K.return()}finally{if(U)throw H}}return k}return function(b,R){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return T(b,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(b,R,k){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,R);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:T(U,R,k)}else{if("value"in L)return L.value;var H=L.get;return H===void 0?void 0:H.call(k)}},a=function(){function T(b,R){for(var k=0;k<R.length;k++){var L=R[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,R,k){return R&&T(b.prototype,R),k&&T(b,k),b}}(),l=i(3),u=w(l),h=i(8),f=w(h),d=i(43),m=w(d),E=i(27),v=w(E),_=i(15),g=i(41),p=w(g);function w(T){return T&&T.__esModule?T:{default:T}}function y(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function O(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function x(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(T){x(b,T);function b(R,k){y(this,b),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=A);var L=O(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R,k));return L.quill.container.classList.add("ql-snow"),L}return a(b,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),p.default),this.tooltip=new P(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,U){k.handlers.link.call(k,!U.format.link)})}}]),b}(m.default);S.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){if(b){var R=this.quill.getSelection();if(R==null||R.length==0)return;var k=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var L=this.quill.theme.tooltip;L.edit("link",k)}else this.quill.format("link",!1)}}}}});var P=function(T){x(b,T);function b(R,k){y(this,b);var L=O(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,R,k));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(b,[{key:"listen",value:function(){var k=this;s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(k.linkRange!=null){var U=k.linkRange;k.restoreFocus(),k.quill.formatText(U,"link",!1,f.default.sources.USER),delete k.linkRange}L.preventDefault(),k.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(L,U,H){if(L!=null){if(L.length===0&&H===f.default.sources.USER){var K=k.quill.scroll.descendant(v.default,L.index),G=o(K,2),B=G[0],F=G[1];if(B!=null){k.linkRange=new _.Range(L.index-F,B.length());var N=v.default.formats(B.domNode);k.preview.textContent=N,k.preview.setAttribute("href",N),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(d.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=se(o),a=i(36),l=i(38),u=i(64),h=i(65),f=se(h),d=i(66),m=se(d),E=i(67),v=se(E),_=i(37),g=i(26),p=i(39),w=i(40),y=i(56),O=se(y),x=i(68),A=se(x),S=i(27),P=se(S),T=i(69),b=se(T),R=i(70),k=se(R),L=i(71),U=se(L),H=i(72),K=se(H),G=i(73),B=se(G),F=i(13),N=se(F),M=i(74),V=se(M),Q=i(75),q=se(Q),j=i(57),z=se(j),J=i(41),X=se(J),re=i(28),pe=se(re),Ee=i(59),Te=se(Ee),Oe=i(60),Ne=se(Oe),vt=i(61),Ge=se(vt),te=i(108),ne=se(te),ce=i(62),de=se(ce);function se(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":N.default,"formats/header":m.default,"formats/list":v.default,"formats/bold":O.default,"formats/code":F.Code,"formats/italic":A.default,"formats/link":P.default,"formats/script":b.default,"formats/strike":k.default,"formats/underline":U.default,"formats/image":K.default,"formats/video":B.default,"formats/list/item":E.ListItem,"modules/formula":V.default,"modules/syntax":q.default,"modules/toolbar":z.default,"themes/bubble":ne.default,"themes/snow":de.default,"ui/icons":X.default,"ui/picker":pe.default,"ui/icon-picker":Ne.default,"ui/color-picker":Te.default,"ui/tooltip":Ge.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(_,g){for(var p=0;p<g.length;p++){var w=g[p];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(_,w.key,w)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),s=function v(_,g,p){_===null&&(_=Function.prototype);var w=Object.getOwnPropertyDescriptor(_,g);if(w===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:v(y,g,p)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function f(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m=function(v){d(_,v);function _(){return h(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(p,w){if(w==="+1"||w==="-1"){var y=this.value(p)||0;w=w==="+1"?y+1:y-1}return w===0?(this.remove(p),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,p,w)}},{key:"canAdd",value:function(p,w){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,w)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,parseInt(w))}},{key:"value",value:function(p){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,p))||void 0}}]),_}(l.default.Attributor.Class),E=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(E,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(E,g.key,g)}}return function(E,v,_){return v&&m(E.prototype,v),_&&m(E,_),E}}(),s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}function h(m,E){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:m}function f(m,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);m.prototype=Object.create(E&&E.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(m,E):m.__proto__=E)}var d=function(m){f(E,m);function E(){return u(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),E}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(O,x){for(var A=0;A<x.length;A++){var S=x[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(O,S.key,S)}}return function(O,x,A){return x&&y(O.prototype,x),A&&y(O,A),O}}(),s=function y(O,x,A){O===null&&(O=Function.prototype);var S=Object.getOwnPropertyDescriptor(O,x);if(S===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:y(P,x,A)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(A)}},a=i(0),l=m(a),u=i(4),h=m(u),f=i(25),d=m(f);function m(y){return y&&y.__esModule?y:{default:y}}function E(y,O,x){return O in y?Object.defineProperty(y,O,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[O]=x,y}function v(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}function _(y,O){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:y}function g(y,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);y.prototype=Object.create(O&&O.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(y,O):y.__proto__=O)}var p=function(y){g(O,y);function O(){return v(this,O),_(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"format",value:function(A,S){A===w.blotName&&!S?this.replaceWith(l.default.create(this.statics.scope)):s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,A,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,S){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,S),this):(this.parent.unwrap(),s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,A,S))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(O.__proto__||Object.getPrototypeOf(O),"formats",this).call(this,A)}}]),O}(h.default);p.blotName="list-item",p.tagName="LI";var w=function(y){g(O,y),o(O,null,[{key:"create",value:function(A){var S=A==="ordered"?"OL":"UL",P=s(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,S);return(A==="checked"||A==="unchecked")&&P.setAttribute("data-checked",A==="checked"),P}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function O(x){v(this,O);var A=_(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,x)),S=function(T){if(T.target.parentNode===x){var b=A.statics.formats(x),R=l.default.find(T.target);b==="checked"?R.format("list","unchecked"):b==="unchecked"&&R.format("list","checked")}};return x.addEventListener("touchstart",S),x.addEventListener("mousedown",S),A}return o(O,[{key:"format",value:function(A,S){this.children.length>0&&this.children.tail.format(A,S)}},{key:"formats",value:function(){return E({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,S){if(A instanceof p)s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,A,S);else{var P=S==null?this.length():S.offset(this),T=this.split(P);T.parent.insertBefore(A,T)}}},{key:"optimize",value:function(A){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var S=l.default.create(this.statics.defaultChild);A.moveChildren(S),this.appendChild(S)}s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,A)}}]),O}(d.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[p],r.ListItem=p,r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&E(v.prototype,_),g&&E(v,g),v}}(),s=function E(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:E(w,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}function f(E,v){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:E}function d(E,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);E.prototype=Object.create(v&&v.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(E,v):E.__proto__=v)}var m=function(E){d(v,E);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var w=0;w<p.length;w++){var y=p[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,w){return p&&_(g.prototype,p),w&&_(g,w),g}}(),s=function _(g,p,w){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:_(O,p,w)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(w)}},a=i(0),l=h(a),u=i(27);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function m(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var E=["alt","height","width"],v=function(_){m(g,_);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(w,y){E.indexOf(w)>-1?y?this.domNode.setAttribute(w,y):this.domNode.removeAttribute(w):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,y)}}],[{key:"create",value:function(w){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return typeof w=="string"&&y.setAttribute("src",this.sanitize(w)),y}},{key:"formats",value:function(w){return E.reduce(function(y,O){return w.hasAttribute(O)&&(y[O]=w.getAttribute(O)),y},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),g}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var w=0;w<p.length;w++){var y=p[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,w){return p&&_(g.prototype,p),w&&_(g,w),g}}(),s=function _(g,p,w){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:_(O,p,w)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(w)}},a=i(4),l=i(27),u=h(l);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function m(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var E=["height","width"],v=function(_){m(g,_);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(w,y){E.indexOf(w)>-1?y?this.domNode.setAttribute(w,y):this.domNode.removeAttribute(w):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,w,y)}}],[{key:"create",value:function(w){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,w);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(w)),y}},{key:"formats",value:function(w){return E.reduce(function(y,O){return w.hasAttribute(O)&&(y[O]=w.getAttribute(O)),y},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),g}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function w(y,O){for(var x=0;x<O.length;x++){var A=O[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,O,x){return O&&w(y.prototype,O),x&&w(y,x),y}}(),s=function w(y,O,x){y===null&&(y=Function.prototype);var A=Object.getOwnPropertyDescriptor(y,O);if(A===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:w(S,O,x)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(x)}},a=i(35),l=m(a),u=i(5),h=m(u),f=i(9),d=m(f);function m(w){return w&&w.__esModule?w:{default:w}}function E(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function v(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function _(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var g=function(w){_(y,w);function y(){return E(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(x){var A=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",x)),A}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(w){_(y,w),o(y,null,[{key:"register",value:function(){h.default.register(g,!0)}}]);function y(){E(this,y);var O=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return O}return y}(d.default);r.FormulaBlot=g,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function x(A,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,S,P){return S&&x(A.prototype,S),P&&x(A,P),A}}(),s=function x(A,S,P){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,S);if(T===void 0){var b=Object.getPrototypeOf(A);return b===null?void 0:x(b,S,P)}else{if("value"in T)return T.value;var R=T.get;return R===void 0?void 0:R.call(P)}},a=i(0),l=v(a),u=i(5),h=v(u),f=i(9),d=v(f),m=i(13),E=v(m);function v(x){return x&&x.__esModule?x:{default:x}}function _(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function g(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function p(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var w=function(x){p(A,x);function A(){return _(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),A}(E.default);w.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),O=function(x){p(A,x),o(A,null,[{key:"register",value:function(){h.default.register(y,!0),h.default.register(w,!0)}}]);function A(S,P){_(this,A);var T=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,S,P));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return T.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){T.highlight(),b=null},T.options.interval)}),T.highlight(),T}return o(A,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(b){b.highlight(P.options.highlight)}),this.quill.update(h.default.sources.SILENT),T!=null&&this.quill.setSelection(T,h.default.sources.SILENT)}}}]),A}(d.default);O.DEFAULTS={highlight:function(){return window.hljs==null?null:function(x){var A=window.hljs.highlightAuto(x);return A.value}}(),interval:1e3},r.CodeBlock=w,r.CodeToken=y,r.default=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function A(S,P,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,P);if(b===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:A(R,P,T)}else{if("value"in b)return b.value;var k=b.get;return k===void 0?void 0:k.call(T)}},s=function(){function A(S,P){for(var T=0;T<P.length;T++){var b=P[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,P,T){return P&&A(S.prototype,P),T&&A(S,T),S}}(),a=i(3),l=_(a),u=i(8),h=_(u),f=i(43),d=_(f),m=i(15),E=i(41),v=_(E);function _(A){return A&&A.__esModule?A:{default:A}}function g(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function p(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:A}function w(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(A,S):A.__proto__=S)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],O=function(A){w(S,A);function S(P,T){g(this,S),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=y);var b=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,T));return b.quill.container.classList.add("ql-bubble"),b}return s(S,[{key:"extendToolbar",value:function(T){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),S}(d.default);O.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(A){w(S,A);function S(P,T){g(this,S);var b=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,T));return b.quill.on(h.default.events.EDITOR_CHANGE,function(R,k,L,U){if(R===h.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&U===h.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var H=b.quill.getLines(k.index,k.length);if(H.length===1)b.position(b.quill.getBounds(k));else{var K=H[H.length-1],G=b.quill.getIndex(K),B=Math.min(K.length()-1,k.index+k.length-G),F=b.quill.getBounds(new m.Range(G,B));b.position(F)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return s(S,[{key:"listen",value:function(){var T=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var b=T.quill.getSelection();b!=null&&T.position(T.quill.getBounds(b))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var b=o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,T),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",b===0)return b;R.style.marginLeft=-1*b-R.offsetWidth/2+"px"}}]),S}(f.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=x,r.default=O},function(n,r,i){n.exports=i(63)}]).default})})(PA);var S9=PA.exports,b9=Ut&&Ut.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),of=Ut&&Ut.__assign||function(){return of=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},of.apply(this,arguments)},A9=Ut&&Ut.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},dh=Ut&&Ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},sr=dh(oe),O9=dh(gg),Ta=dh(T9),T1=dh(S9),I9=function(t){b9(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,h,f,d;o==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((d=(f=r).onEditorChangeSelection)===null||d===void 0||d.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(sr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(sr.default.Children.count(n.children)){var i=sr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),A9(this.cleanProps,this.dirtyProps).some(function(l){return!Ta.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Ta.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),S1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new T1.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Ta.default(n.ops,r.ops):Ta.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),S1(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=O9.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return sr.default.Children.count(i)?sr.default.cloneElement(sr.default.Children.only(i),a):o?sr.default.createElement("pre",of({},a)):sr.default.createElement("div",of({},a))},e.prototype.render=function(){var n;return sr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,h;if(this.editor){var f=this.getEditorSelection(),d=!f&&n,m=f&&!n;Ta.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):m&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=T1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(sr.default.Component);function S1(t){Promise.resolve().then(t)}var P9=I9;const R9=yf(P9);/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:RA,setPrototypeOf:b1,isFrozen:k9,getPrototypeOf:C9,getOwnPropertyDescriptor:x9}=Object;let{freeze:an,seal:Un,create:kA}=Object,{apply:cm,construct:fm}=typeof Reflect<"u"&&Reflect;an||(an=function(e){return e});Un||(Un=function(e){return e});cm||(cm=function(e,n,r){return e.apply(n,r)});fm||(fm=function(e,n){return new e(...n)});const Vu=kn(Array.prototype.forEach),A1=kn(Array.prototype.pop),Sa=kn(Array.prototype.push),cc=kn(String.prototype.toLowerCase),yd=kn(String.prototype.toString),O1=kn(String.prototype.match),ba=kn(String.prototype.replace),N9=kn(String.prototype.indexOf),L9=kn(String.prototype.trim),Wn=kn(Object.prototype.hasOwnProperty),nn=kn(RegExp.prototype.test),Aa=D9(TypeError);function kn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return cm(t,e,r)}}function D9(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fm(t,n)}}function Le(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cc;b1&&b1(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(k9(e)||(e[r]=o),i=o)}t[i]=!0}return t}function M9(t){for(let e=0;e<t.length;e++)Wn(t,e)||(t[e]=null);return t}function Gi(t){const e=kA(null);for(const[n,r]of RA(t))Wn(t,n)&&(Array.isArray(r)?e[n]=M9(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Gi(r):e[n]=r);return e}function Oa(t,e){for(;t!==null;){const r=x9(t,e);if(r){if(r.get)return kn(r.get);if(typeof r.value=="function")return kn(r.value)}t=C9(t)}function n(){return null}return n}const I1=an(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vd=an(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_d=an(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),j9=an(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ed=an(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),V9=an(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P1=an(["#text"]),R1=an(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),wd=an(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),k1=an(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Fu=an(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),F9=Un(/\{\{[\w\W]*|[\w\W]*\}\}/gm),U9=Un(/<%[\w\W]*|[\w\W]*%>/gm),B9=Un(/\${[\w\W]*}/gm),q9=Un(/^data-[\-\w.\u00B7-\uFFFF]/),z9=Un(/^aria-[\-\w]+$/),CA=Un(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$9=Un(/^(?:\w+script|data):/i),H9=Un(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xA=Un(/^html$/i),W9=Un(/^[a-z][.\w]*(-[.\w]+)+$/i);var C1=Object.freeze({__proto__:null,MUSTACHE_EXPR:F9,ERB_EXPR:U9,TMPLIT_EXPR:B9,DATA_ATTR:q9,ARIA_ATTR:z9,IS_ALLOWED_URI:CA,IS_SCRIPT_OR_DATA:$9,ATTR_WHITESPACE:H9,DOCTYPE_NAME:xA,CUSTOM_ELEMENT:W9});const Ia={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},K9=function(){return typeof window>"u"?null:window},G9=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function NA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K9();const e=_e=>NA(_e);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Ia.document)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:m}=t,E=l.prototype,v=Oa(E,"cloneNode"),_=Oa(E,"remove"),g=Oa(E,"nextSibling"),p=Oa(E,"childNodes"),w=Oa(E,"parentNode");if(typeof s=="function"){const _e=n.createElement("template");_e.content&&_e.content.ownerDocument&&(n=_e.content.ownerDocument)}let y,O="";const{implementation:x,createNodeIterator:A,createDocumentFragment:S,getElementsByTagName:P}=n,{importNode:T}=r;let b={};e.isSupported=typeof RA=="function"&&typeof w=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:k,TMPLIT_EXPR:L,DATA_ATTR:U,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:B}=C1;let{IS_ALLOWED_URI:F}=C1,N=null;const M=Le({},[...I1,...vd,..._d,...Ed,...P1]);let V=null;const Q=Le({},[...R1,...wd,...k1,...Fu]);let q=Object.seal(kA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,z=null,J=!0,X=!0,re=!1,pe=!0,Ee=!1,Te=!0,Oe=!1,Ne=!1,vt=!1,Ge=!1,te=!1,ne=!1,ce=!0,de=!1;const se="user-content-";let Pe=!0,be=!1,Ie={},Ve=null;const Qe=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let He=null;const ji=Le({},["audio","video","img","source","image","track"]);let Ye=null;const Tn=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),nr="http://www.w3.org/1998/Math/MathML",Vi="http://www.w3.org/2000/svg",Nn="http://www.w3.org/1999/xhtml";let rr=Nn,Qs=!1,Ys=null;const Xs=Le({},[nr,Vi,Nn],yd);let $r=null;const Jl=["application/xhtml+xml","text/html"],Fi="text/html";let pt=null,ir=null;const yr=n.createElement("form"),Js=function(W){return W instanceof RegExp||W instanceof Function},Hr=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ir&&ir===W)){if((!W||typeof W!="object")&&(W={}),W=Gi(W),$r=Jl.indexOf(W.PARSER_MEDIA_TYPE)===-1?Fi:W.PARSER_MEDIA_TYPE,pt=$r==="application/xhtml+xml"?yd:cc,N=Wn(W,"ALLOWED_TAGS")?Le({},W.ALLOWED_TAGS,pt):M,V=Wn(W,"ALLOWED_ATTR")?Le({},W.ALLOWED_ATTR,pt):Q,Ys=Wn(W,"ALLOWED_NAMESPACES")?Le({},W.ALLOWED_NAMESPACES,yd):Xs,Ye=Wn(W,"ADD_URI_SAFE_ATTR")?Le(Gi(Tn),W.ADD_URI_SAFE_ATTR,pt):Tn,He=Wn(W,"ADD_DATA_URI_TAGS")?Le(Gi(ji),W.ADD_DATA_URI_TAGS,pt):ji,Ve=Wn(W,"FORBID_CONTENTS")?Le({},W.FORBID_CONTENTS,pt):Qe,j=Wn(W,"FORBID_TAGS")?Le({},W.FORBID_TAGS,pt):{},z=Wn(W,"FORBID_ATTR")?Le({},W.FORBID_ATTR,pt):{},Ie=Wn(W,"USE_PROFILES")?W.USE_PROFILES:!1,J=W.ALLOW_ARIA_ATTR!==!1,X=W.ALLOW_DATA_ATTR!==!1,re=W.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=W.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ee=W.SAFE_FOR_TEMPLATES||!1,Te=W.SAFE_FOR_XML!==!1,Oe=W.WHOLE_DOCUMENT||!1,Ge=W.RETURN_DOM||!1,te=W.RETURN_DOM_FRAGMENT||!1,ne=W.RETURN_TRUSTED_TYPE||!1,vt=W.FORCE_BODY||!1,ce=W.SANITIZE_DOM!==!1,de=W.SANITIZE_NAMED_PROPS||!1,Pe=W.KEEP_CONTENT!==!1,be=W.IN_PLACE||!1,F=W.ALLOWED_URI_REGEXP||CA,rr=W.NAMESPACE||Nn,q=W.CUSTOM_ELEMENT_HANDLING||{},W.CUSTOM_ELEMENT_HANDLING&&Js(W.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(q.tagNameCheck=W.CUSTOM_ELEMENT_HANDLING.tagNameCheck),W.CUSTOM_ELEMENT_HANDLING&&Js(W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(q.attributeNameCheck=W.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),W.CUSTOM_ELEMENT_HANDLING&&typeof W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(q.allowCustomizedBuiltInElements=W.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ee&&(X=!1),te&&(Ge=!0),Ie&&(N=Le({},P1),V=[],Ie.html===!0&&(Le(N,I1),Le(V,R1)),Ie.svg===!0&&(Le(N,vd),Le(V,wd),Le(V,Fu)),Ie.svgFilters===!0&&(Le(N,_d),Le(V,wd),Le(V,Fu)),Ie.mathMl===!0&&(Le(N,Ed),Le(V,k1),Le(V,Fu))),W.ADD_TAGS&&(N===M&&(N=Gi(N)),Le(N,W.ADD_TAGS,pt)),W.ADD_ATTR&&(V===Q&&(V=Gi(V)),Le(V,W.ADD_ATTR,pt)),W.ADD_URI_SAFE_ATTR&&Le(Ye,W.ADD_URI_SAFE_ATTR,pt),W.FORBID_CONTENTS&&(Ve===Qe&&(Ve=Gi(Ve)),Le(Ve,W.FORBID_CONTENTS,pt)),Pe&&(N["#text"]=!0),Oe&&Le(N,["html","head","body"]),N.table&&(Le(N,["tbody"]),delete j.tbody),W.TRUSTED_TYPES_POLICY){if(typeof W.TRUSTED_TYPES_POLICY.createHTML!="function")throw Aa('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof W.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Aa('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=W.TRUSTED_TYPES_POLICY,O=y.createHTML("")}else y===void 0&&(y=G9(m,i)),y!==null&&typeof O=="string"&&(O=y.createHTML(""));an&&an(W),ir=W}},Zs=Le({},["mi","mo","mn","ms","mtext"]),Wr=Le({},["annotation-xml"]),Zl=Le({},["title","style","font","a","script"]),Rt=Le({},[...vd,..._d,...j9]),ea=Le({},[...Ed,...V9]),Ui=function(W){let ue=w(W);(!ue||!ue.tagName)&&(ue={namespaceURI:rr,tagName:"template"});const ye=cc(W.tagName),We=cc(ue.tagName);return Ys[W.namespaceURI]?W.namespaceURI===Vi?ue.namespaceURI===Nn?ye==="svg":ue.namespaceURI===nr?ye==="svg"&&(We==="annotation-xml"||Zs[We]):!!Rt[ye]:W.namespaceURI===nr?ue.namespaceURI===Nn?ye==="math":ue.namespaceURI===Vi?ye==="math"&&Wr[We]:!!ea[ye]:W.namespaceURI===Nn?ue.namespaceURI===Vi&&!Wr[We]||ue.namespaceURI===nr&&!Zs[We]?!1:!ea[ye]&&(Zl[ye]||!Rt[ye]):!!($r==="application/xhtml+xml"&&Ys[W.namespaceURI]):!1},Ht=function(W){Sa(e.removed,{element:W});try{w(W).removeChild(W)}catch{_(W)}},bo=function(W,ue){try{Sa(e.removed,{attribute:ue.getAttributeNode(W),from:ue})}catch{Sa(e.removed,{attribute:null,from:ue})}if(ue.removeAttribute(W),W==="is"&&!V[W])if(Ge||te)try{Ht(ue)}catch{}else try{ue.setAttribute(W,"")}catch{}},eu=function(W){let ue=null,ye=null;if(vt)W="<remove></remove>"+W;else{const mt=O1(W,/^[\r\n\t ]+/);ye=mt&&mt[0]}$r==="application/xhtml+xml"&&rr===Nn&&(W='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+W+"</body></html>");const We=y?y.createHTML(W):W;if(rr===Nn)try{ue=new d().parseFromString(We,$r)}catch{}if(!ue||!ue.documentElement){ue=x.createDocument(rr,"template",null);try{ue.documentElement.innerHTML=Qs?O:We}catch{}}const kt=ue.body||ue.documentElement;return W&&ye&&kt.insertBefore(n.createTextNode(ye),kt.childNodes[0]||null),rr===Nn?P.call(ue,Oe?"html":"body")[0]:Oe?ue.documentElement:kt},vr=function(W){return A.call(W.ownerDocument||W,W,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},tu=function(W){return W instanceof f&&(typeof W.nodeName!="string"||typeof W.textContent!="string"||typeof W.removeChild!="function"||!(W.attributes instanceof h)||typeof W.removeAttribute!="function"||typeof W.setAttribute!="function"||typeof W.namespaceURI!="string"||typeof W.insertBefore!="function"||typeof W.hasChildNodes!="function")},nu=function(W){return typeof a=="function"&&W instanceof a},cn=function(W,ue,ye){b[W]&&Vu(b[W],We=>{We.call(e,ue,ye,ir)})},ta=function(W){let ue=null;if(cn("beforeSanitizeElements",W,null),tu(W))return Ht(W),!0;const ye=pt(W.nodeName);if(cn("uponSanitizeElement",W,{tagName:ye,allowedTags:N}),W.hasChildNodes()&&!nu(W.firstElementChild)&&nn(/<[/\w]/g,W.innerHTML)&&nn(/<[/\w]/g,W.textContent)||W.nodeType===Ia.progressingInstruction||Te&&W.nodeType===Ia.comment&&nn(/<[/\w]/g,W.data))return Ht(W),!0;if(!N[ye]||j[ye]){if(!j[ye]&&Bi(ye)&&(q.tagNameCheck instanceof RegExp&&nn(q.tagNameCheck,ye)||q.tagNameCheck instanceof Function&&q.tagNameCheck(ye)))return!1;if(Pe&&!Ve[ye]){const We=w(W)||W.parentNode,kt=p(W)||W.childNodes;if(kt&&We){const mt=kt.length;for(let Dt=mt-1;Dt>=0;--Dt){const fn=v(kt[Dt],!0);fn.__removalCount=(W.__removalCount||0)+1,We.insertBefore(fn,g(W))}}}return Ht(W),!0}return W instanceof l&&!Ui(W)||(ye==="noscript"||ye==="noembed"||ye==="noframes")&&nn(/<\/no(script|embed|frames)/i,W.innerHTML)?(Ht(W),!0):(Ee&&W.nodeType===Ia.text&&(ue=W.textContent,Vu([R,k,L],We=>{ue=ba(ue,We," ")}),W.textContent!==ue&&(Sa(e.removed,{element:W.cloneNode()}),W.textContent=ue)),cn("afterSanitizeElements",W,null),!1)},Ao=function(W,ue,ye){if(ce&&(ue==="id"||ue==="name")&&(ye in n||ye in yr))return!1;if(!(X&&!z[ue]&&nn(U,ue))){if(!(J&&nn(H,ue))){if(!V[ue]||z[ue]){if(!(Bi(W)&&(q.tagNameCheck instanceof RegExp&&nn(q.tagNameCheck,W)||q.tagNameCheck instanceof Function&&q.tagNameCheck(W))&&(q.attributeNameCheck instanceof RegExp&&nn(q.attributeNameCheck,ue)||q.attributeNameCheck instanceof Function&&q.attributeNameCheck(ue))||ue==="is"&&q.allowCustomizedBuiltInElements&&(q.tagNameCheck instanceof RegExp&&nn(q.tagNameCheck,ye)||q.tagNameCheck instanceof Function&&q.tagNameCheck(ye))))return!1}else if(!Ye[ue]){if(!nn(F,ba(ye,G,""))){if(!((ue==="src"||ue==="xlink:href"||ue==="href")&&W!=="script"&&N9(ye,"data:")===0&&He[W])){if(!(re&&!nn(K,ba(ye,G,"")))){if(ye)return!1}}}}}}return!0},Bi=function(W){return W!=="annotation-xml"&&O1(W,B)},Bn=function(W){cn("beforeSanitizeAttributes",W,null);const{attributes:ue}=W;if(!ue)return;const ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:V};let We=ue.length;for(;We--;){const kt=ue[We],{name:mt,namespaceURI:Dt,value:fn}=kt,qn=pt(mt);let lt=mt==="value"?fn:L9(fn);if(ye.attrName=qn,ye.attrValue=lt,ye.keepAttr=!0,ye.forceKeepAttr=void 0,cn("uponSanitizeAttribute",W,ye),lt=ye.attrValue,ye.forceKeepAttr||(bo(mt,W),!ye.keepAttr))continue;if(!pe&&nn(/\/>/i,lt)){bo(mt,W);continue}Ee&&Vu([R,k,L],iu=>{lt=ba(lt,iu," ")});const Oo=pt(W.nodeName);if(Ao(Oo,qn,lt)){if(de&&(qn==="id"||qn==="name")&&(bo(mt,W),lt=se+lt),Te&&nn(/((--!?|])>)|<\/(style|title)/i,lt)){bo(mt,W);continue}if(y&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Dt)switch(m.getAttributeType(Oo,qn)){case"TrustedHTML":{lt=y.createHTML(lt);break}case"TrustedScriptURL":{lt=y.createScriptURL(lt);break}}try{Dt?W.setAttributeNS(Dt,mt,lt):W.setAttribute(mt,lt),tu(W)?Ht(W):A1(e.removed)}catch{}}}cn("afterSanitizeAttributes",W,null)},ru=function _e(W){let ue=null;const ye=vr(W);for(cn("beforeSanitizeShadowDOM",W,null);ue=ye.nextNode();)cn("uponSanitizeShadowNode",ue,null),!ta(ue)&&(ue.content instanceof o&&_e(ue.content),Bn(ue));cn("afterSanitizeShadowDOM",W,null)};return e.sanitize=function(_e){let W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue=null,ye=null,We=null,kt=null;if(Qs=!_e,Qs&&(_e="<!-->"),typeof _e!="string"&&!nu(_e))if(typeof _e.toString=="function"){if(_e=_e.toString(),typeof _e!="string")throw Aa("dirty is not a string, aborting")}else throw Aa("toString is not a function");if(!e.isSupported)return _e;if(Ne||Hr(W),e.removed=[],typeof _e=="string"&&(be=!1),be){if(_e.nodeName){const fn=pt(_e.nodeName);if(!N[fn]||j[fn])throw Aa("root node is forbidden and cannot be sanitized in-place")}}else if(_e instanceof a)ue=eu("<!---->"),ye=ue.ownerDocument.importNode(_e,!0),ye.nodeType===Ia.element&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?ue=ye:ue.appendChild(ye);else{if(!Ge&&!Ee&&!Oe&&_e.indexOf("<")===-1)return y&&ne?y.createHTML(_e):_e;if(ue=eu(_e),!ue)return Ge?null:ne?O:""}ue&&vt&&Ht(ue.firstChild);const mt=vr(be?_e:ue);for(;We=mt.nextNode();)ta(We)||(We.content instanceof o&&ru(We.content),Bn(We));if(be)return _e;if(Ge){if(te)for(kt=S.call(ue.ownerDocument);ue.firstChild;)kt.appendChild(ue.firstChild);else kt=ue;return(V.shadowroot||V.shadowrootmode)&&(kt=T.call(r,kt,!0)),kt}let Dt=Oe?ue.outerHTML:ue.innerHTML;return Oe&&N["!doctype"]&&ue.ownerDocument&&ue.ownerDocument.doctype&&ue.ownerDocument.doctype.name&&nn(xA,ue.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+ue.ownerDocument.doctype.name+`>
`+Dt),Ee&&Vu([R,k,L],fn=>{Dt=ba(Dt,fn," ")}),y&&ne?y.createHTML(Dt):Dt},e.setConfig=function(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hr(_e),Ne=!0},e.clearConfig=function(){ir=null,Ne=!1},e.isValidAttribute=function(_e,W,ue){ir||Hr({});const ye=pt(_e),We=pt(W);return Ao(ye,We,ue)},e.addHook=function(_e,W){typeof W=="function"&&(b[_e]=b[_e]||[],Sa(b[_e],W))},e.removeHook=function(_e){if(b[_e])return A1(b[_e])},e.removeHooks=function(_e){b[_e]&&(b[_e]=[])},e.removeAllHooks=function(){b={}},e}var LA=NA();const Q9=({onSave:t})=>{const[e,n]=oe.useState(""),r=o=>{n(o)},i=()=>{const o=LA.sanitize(e);t(o)};return $.jsxs("div",{children:[$.jsx(R9,{theme:"snow",value:e,onChange:r}),$.jsx("button",{onClick:i,children:"Save Content"})]})},Y9=()=>{const[t,e]=oe.useState(""),[n,r]=oe.useState(""),[i,o]=oe.useState(""),[s,a]=oe.useState(""),[l,u]=oe.useState(""),[h,f]=oe.useState([""]),{currentUser:d}=mo(),m=p=>{u(p.target.value)},E=p=>{f(p)},v=(p,w)=>{const y=[...h];y[p]=w.target.value,f(y)},_=p=>{const w=h.filter((y,O)=>O!==p);f(w)},g=async p=>{if(p.preventDefault(),!d){console.error("User not authenticated");return}const w={title:t,description:n,deepdive:i,route:s,cardImage:l,images:h.filter(y=>y!==""),createdAt:oM(),createdBy:String(d.uid),userEmail:d.email};try{await Fb(Xf(Ss,"projects"),w),alert("Project added successfully!"),e(""),r(""),setImage(""),a("")}catch(y){console.error("Error adding project:",y)}};return $.jsxs("div",{children:[$.jsx("h1",{children:"Add New Project"}),$.jsxs("form",{onSubmit:g,children:[$.jsx("input",{type:"text",placeholder:"Project Title",value:t,onChange:p=>e(p.target.value),required:!0}),$.jsx("textarea",{placeholder:"Project Description",value:n,onChange:p=>r(p.target.value),required:!0}),$.jsx("h3",{children:"Project Deep Dive"}),$.jsx(Q9,{value:i,onChange:p=>o(p.target.value)}),$.jsx("input",{type:"text",placeholder:"Card Image URL",value:l,onChange:m}),$.jsx("h3",{children:"Project Image URLs (1-10)"}),h.map((p,w)=>$.jsxs("div",{children:[$.jsx("input",{type:"text",placeholder:`Image URL ${w+1}`,value:p,onChange:y=>v(w,y)}),$.jsx("button",{type:"button",onClick:()=>_(w),children:"Remove"})]},w)),h.length>0&&$.jsxs("div",{children:[$.jsx("h3",{children:"Uploaded Image URLs"}),$.jsx("ul",{children:h.map((p,w)=>$.jsx("li",{children:p},w))})]}),$.jsx("input",{type:"text",placeholder:"Unique Route",value:s,onChange:p=>a(p.target.value),required:!0}),$.jsx("button",{type:"submit",children:"Add Project"})]}),$.jsx(Qj,{onUploadComplete:E})]})},X9=()=>{const{projectId:t}=gT(),e=Eo(),[n,r]=oe.useState({title:"",description:"",route:"",cardImage:"",images:[]});oe.useEffect(()=>{(async()=>{const a=Yp(Ss,"projects",t),l=await nM(a);l.exists()&&r(l.data())})()},[t]);const i=s=>{const{name:a,value:l}=s.target;r({...n,[a]:l})},o=async()=>{const s=Yp(Ss,"projects",t);await rM(s,n),alert("Project updated successfully!"),e("/portfolio")};return $.jsxs("div",{children:[$.jsx("h2",{children:"Edit Project"}),$.jsxs("form",{children:[$.jsx("input",{type:"text",name:"title",value:n.title,onChange:i,placeholder:"Project Title",required:!0}),$.jsx("textarea",{name:"description",value:n.description,onChange:i,placeholder:"Project Description",required:!0}),$.jsx("input",{type:"text",name:"route",value:n.route,onChange:i,placeholder:"Project Route",required:!0}),$.jsx("input",{type:"text",name:"cardImage",value:n.cardImage,onChange:i,placeholder:"Card Image URL"}),$.jsx("button",{type:"button",onClick:o,children:"Save Changes"})]})]})};var DA={},MA={},ph={},jA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(jA);var J9="Expected a function",x1=NaN,Z9="[object Symbol]",eB=/^\s+|\s+$/g,tB=/^[-+]0x[0-9a-f]+$/i,nB=/^0b[01]+$/i,rB=/^0o[0-7]+$/i,iB=parseInt,oB=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,sB=typeof self=="object"&&self&&self.Object===Object&&self,aB=oB||sB||Function("return this")(),lB=Object.prototype,uB=lB.toString,cB=Math.max,fB=Math.min,Td=function(){return aB.Date.now()};function hB(t,e,n){var r,i,o,s,a,l,u=0,h=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(J9);e=N1(e)||0,hm(n)&&(h=!!n.leading,f="maxWait"in n,o=f?cB(N1(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function m(x){var A=r,S=i;return r=i=void 0,u=x,s=t.apply(S,A),s}function E(x){return u=x,a=setTimeout(g,e),h?m(x):s}function v(x){var A=x-l,S=x-u,P=e-A;return f?fB(P,o-S):P}function _(x){var A=x-l,S=x-u;return l===void 0||A>=e||A<0||f&&S>=o}function g(){var x=Td();if(_(x))return p(x);a=setTimeout(g,v(x))}function p(x){return a=void 0,d&&r?m(x):(r=i=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?s:p(Td())}function O(){var x=Td(),A=_(x);if(r=arguments,i=this,l=x,A){if(a===void 0)return E(l);if(f)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),s}return O.cancel=w,O.flush=y,O}function hm(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function dB(t){return!!t&&typeof t=="object"}function pB(t){return typeof t=="symbol"||dB(t)&&uB.call(t)==Z9}function N1(t){if(typeof t=="number")return t;if(pB(t))return x1;if(hm(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=hm(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(eB,"");var n=nB.test(t);return n||rB.test(t)?iB(t.slice(2),n?2:8):tB.test(t)?x1:+t}var mB=hB,VA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(VA);var mh=VA.exports,he={},wy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(oe);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(wy);Object.defineProperty(he,"__esModule",{value:!0});he.checkSpecKeys=he.checkNavigable=he.changeSlide=he.canUseDOM=he.canGoNext=void 0;he.clamp=UA;he.extractObject=void 0;he.filterSettings=kB;he.validSettings=he.swipeStart=he.swipeMove=he.swipeEnd=he.slidesOnRight=he.slidesOnLeft=he.slideHandler=he.siblingDirection=he.safePreventDefault=he.lazyStartIndex=he.lazySlidesOnRight=he.lazySlidesOnLeft=he.lazyEndIndex=he.keyHandler=he.initializedState=he.getWidth=he.getTrackLeft=he.getTrackCSS=he.getTrackAnimateCSS=he.getTotalSlides=he.getSwipeDirection=he.getSlideCount=he.getRequiredLazySlides=he.getPreClones=he.getPostClones=he.getOnDemandLazySlides=he.getNavigableIndexes=he.getHeight=void 0;var gB=FA(oe),yB=FA(wy);function FA(t){return t&&t.__esModule?t:{default:t}}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function L1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(n),!0).forEach(function(r){vB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vB(t,e,n){return e=_B(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _B(t){var e=EB(t,"string");return Pl(e)=="symbol"?e:String(e)}function EB(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UA(t,e,n){return Math.max(e,Math.min(t,n))}var os=he.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},BA=he.getOnDemandLazySlides=function(e){for(var n=[],r=qA(e),i=zA(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};he.getRequiredLazySlides=function(e){for(var n=[],r=qA(e),i=zA(e),o=r;o<i;o++)n.push(o);return n};var qA=he.lazyStartIndex=function(e){return e.currentSlide-wB(e)},zA=he.lazyEndIndex=function(e){return e.currentSlide+TB(e)},wB=he.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},TB=he.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},dm=he.getWidth=function(e){return e&&e.offsetWidth||0},$A=he.getHeight=function(e){return e&&e.offsetHeight||0},HA=he.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,o,s;return r=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,r),s=Math.round(o*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},WA=he.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};he.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};he.initializedState=function(e){var n=gB.default.Children.count(e.children),r=e.listRef,i=Math.ceil(dm(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(dm(o)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&$A(r.querySelector('[data-index="0"]')),h=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var d=e.lazyLoadedList||[],m=BA(st(st({},e),{},{currentSlide:f,lazyLoadedList:d}));d=d.concat(m);var E={slideCount:n,slideWidth:a,listWidth:i,trackWidth:s,currentSlide:f,slideHeight:u,listHeight:h,lazyLoadedList:d};return e.autoplaying===null&&e.autoplay&&(E.autoplaying="playing"),E};he.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,s=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,h=e.centerMode,f=e.slidesToScroll,d=e.slidesToShow,m=e.useCSS,E=e.lazyLoadedList;if(n&&r)return{};var v=s,_,g,p,w={},y={},O=o?s:UA(s,0,a-1);if(i){if(!o&&(s<0||s>=a))return{};s<0?v=s+a:s>=a&&(v=s-a),l&&E.indexOf(v)<0&&(E=E.concat(v)),w={animating:!0,currentSlide:v,lazyLoadedList:E,targetSlide:v},y={animating:!1,targetSlide:v}}else _=v,v<0?(_=v+a,o?a%f!==0&&(_=a-a%f):_=0):!WA(e)&&v>u?v=_=u:h&&v>=a?(v=o?a:a-1,_=o?0:a-1):v>=a&&(_=v-a,o?a%f!==0&&(_=0):_=a-d),!o&&v+d>=a&&(_=a-d),g=af(st(st({},e),{},{slideIndex:v})),p=af(st(st({},e),{},{slideIndex:_})),o||(g===p&&(v=_),g=p),l&&(E=E.concat(BA(st(st({},e),{},{currentSlide:v})))),m?(w={animating:!0,currentSlide:_,trackStyle:KA(st(st({},e),{},{left:g})),lazyLoadedList:E,targetSlide:O},y={animating:!1,currentSlide:_,trackStyle:sf(st(st({},e),{},{left:p})),swipeLeft:null,targetSlide:O}):w={currentSlide:_,trackStyle:sf(st(st({},e),{},{left:p})),lazyLoadedList:E,targetSlide:O};return{state:w,nextState:y}};he.changeSlide=function(e,n){var r,i,o,s,a,l=e.slidesToScroll,u=e.slidesToShow,h=e.slideCount,f=e.currentSlide,d=e.targetSlide,m=e.lazyLoad,E=e.infinite;if(s=h%l!==0,r=s?0:(h-f)%l,n.message==="previous")o=r===0?l:u-r,a=f-o,m&&!E&&(i=f-o,a=i===-1?h-1:i),E||(a=d-l);else if(n.message==="next")o=r===0?l:r,a=f+o,m&&!E&&(a=(f+l)%h+r),E||(a=d+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,E){var v=OB(st(st({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-h:a<n.currentSlide&&v==="right"&&(a=a+h)}}else n.message==="index"&&(a=Number(n.index));return a};he.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};he.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&os(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};he.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,s=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,h=n.edgeFriction,f=n.edgeDragged,d=n.onEdge,m=n.swiped,E=n.swiping,v=n.slideCount,_=n.slidesToScroll,g=n.infinite,p=n.touchObject,w=n.swipeEvent,y=n.listHeight,O=n.listWidth;if(!r){if(i)return os(e);o&&s&&a&&os(e);var x,A={},S=af(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var P=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!E&&P>10)return{scrolling:!0};a&&(p.swipeLength=P);var T=(l?-1:1)*(p.curX>p.startX?1:-1);a&&(T=p.curY>p.startY?1:-1);var b=Math.ceil(v/_),R=HA(n.touchObject,a),k=p.swipeLength;return g||(u===0&&(R==="right"||R==="down")||u+1>=b&&(R==="left"||R==="up")||!WA(n)&&(R==="left"||R==="up"))&&(k=p.swipeLength*h,f===!1&&d&&(d(R),A.edgeDragged=!0)),!m&&w&&(w(R),A.swiped=!0),o?x=S+k*(y/O)*T:l?x=S-k*T:x=S+k*T,a&&(x=S+k*T),A=st(st({},A),{},{touchObject:p,swipeLeft:x,trackStyle:sf(st(st({},n),{},{left:x}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(A.swiping=!0,os(e)),A}};he.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,s=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,h=n.swipeToSlide,f=n.scrolling,d=n.onSwipe,m=n.targetSlide,E=n.currentSlide,v=n.infinite;if(!r)return i&&os(e),{};var _=l?u/a:s/a,g=HA(o,l),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!o.swipeLength)return p;if(o.swipeLength>_){os(e),d&&d(g);var w,y,O=v?E:m;switch(g){case"left":case"up":y=O+M1(n),w=h?D1(n,y):y,p.currentDirection=0;break;case"right":case"down":y=O-M1(n),w=h?D1(n,y):y,p.currentDirection=1;break;default:w=O}p.triggerSlideHandler=w}else{var x=af(n);p.trackStyle=KA(st(st({},n),{},{left:x}))}return p};var SB=he.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},D1=he.checkNavigable=function(e,n){var r=SB(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},M1=he.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+$A(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+dm(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-s)||1;return a}else return e.slidesToScroll},Ty=he.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},sf=he.getTrackCSS=function(e){Ty(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=AB(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=st(st({},o),{},{WebkitTransform:s,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},KA=he.getTrackAnimateCSS=function(e){Ty(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=sf(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},af=he.getTrackLeft=function(e){if(e.unslick)return 0;Ty(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,h=e.listWidth,f=e.variableWidth,d=e.slideHeight,m=e.fade,E=e.vertical,v=0,_,g,p=0;if(m||e.slideCount===1)return 0;var w=0;if(i?(w=-fc(e),s%l!==0&&n+l>s&&(w=-(n>s?a-(n-s):s%l)),o&&(w+=parseInt(a/2))):(s%l!==0&&n+l>s&&(w=a-s%l),o&&(w=parseInt(a/2))),v=w*u,p=w*d,E?_=n*d*-1+p:_=n*u*-1+v,f===!0){var y,O=r&&r.node;if(y=n+fc(e),g=O&&O.childNodes[y],_=g?g.offsetLeft*-1:0,o===!0){y=i?n+fc(e):n,g=O&&O.children[y],_=0;for(var x=0;x<y;x++)_-=O&&O.children[x]&&O.children[x].offsetWidth;_-=parseInt(e.centerPadding),_+=g&&(h-g.offsetWidth)/2}}return _},fc=he.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},bB=he.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},AB=he.getTotalSlides=function(e){return e.slideCount===1?1:fc(e)+e.slideCount+bB(e)},OB=he.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+IB(e)?"left":"right":e.targetSlide<e.currentSlide-PB(e)?"right":"left"},IB=he.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},PB=he.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0};he.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var RB=he.validSettings=Object.keys(yB.default);function kB(t){return RB.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.Track=void 0;var ei=GA(oe),Sd=GA(mh),bd=he;function GA(t){return t&&t.__esModule?t:{default:t}}function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(this,arguments)}function CB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YA(r.key),r)}}function NB(t,e,n){return e&&xB(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mm(t,e)}function mm(t,e){return mm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mm(t,e)}function DB(t){var e=QA();return function(){var r=lf(t),i;if(e){var o=lf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return MB(this,i)}}function MB(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gm(t)}function gm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QA=function(){return!!t})()}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lf(t)}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(r){ym(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ym(t,e,n){return e=YA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YA(t){var e=jB(t,"string");return bs(e)=="symbol"?e:String(e)}function jB(t,e){if(bs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ad=function(e){var n,r,i,o,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,i=s<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=s===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},VB=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Od=function(e,n){return e.key||n},FB=function(e){var n,r=[],i=[],o=[],s=ei.default.Children.count(e.children),a=(0,bd.lazyStartIndex)(e),l=(0,bd.lazyEndIndex)(e);return ei.default.Children.forEach(e.children,function(u,h){var f,d={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f=u:f=ei.default.createElement("div",null);var m=VB(hn(hn({},e),{},{index:h})),E=f.props.className||"",v=Ad(hn(hn({},e),{},{index:h}));if(r.push(ei.default.cloneElement(f,{key:"original"+Od(f,h),"data-index":h,className:(0,Sd.default)(v,E),tabIndex:"-1","aria-hidden":!v["slick-active"],style:hn(hn({outline:"none"},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}})),e.infinite&&e.fade===!1){var _=s-h;_<=(0,bd.getPreClones)(e)&&(n=-_,n>=a&&(f=u),v=Ad(hn(hn({},e),{},{index:n})),i.push(ei.default.cloneElement(f,{key:"precloned"+Od(f,n),"data-index":n,tabIndex:"-1",className:(0,Sd.default)(v,E),"aria-hidden":!v["slick-active"],style:hn(hn({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}}))),n=s+h,n<l&&(f=u),v=Ad(hn(hn({},e),{},{index:n})),o.push(ei.default.cloneElement(f,{key:"postcloned"+Od(f,n),"data-index":n,tabIndex:"-1",className:(0,Sd.default)(v,E),"aria-hidden":!v["slick-active"],style:hn(hn({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}}))}}),e.rtl?i.concat(r,o).reverse():i.concat(r,o)};gh.Track=function(t){LB(n,t);var e=DB(n);function n(){var r;CB(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),ym(gm(r),"node",null),ym(gm(r),"handleRef",function(a){r.node=a}),r}return NB(n,[{key:"render",value:function(){var i=FB(this.props),o=this.props,s=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:s,onMouseOver:a,onMouseLeave:l};return ei.default.createElement("div",pm({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(ei.default.PureComponent);var yh={};function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}Object.defineProperty(yh,"__esModule",{value:!0});yh.Dots=void 0;var Uu=XA(oe),UB=XA(mh),V1=he;function XA(t){return t&&t.__esModule?t:{default:t}}function F1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F1(Object(n),!0).forEach(function(r){qB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qB(t,e,n){return e=JA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JA(r.key),r)}}function HB(t,e,n){return e&&$B(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JA(t){var e=WB(t,"string");return As(e)=="symbol"?e:String(e)}function WB(t,e){if(As(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vm(t,e)}function vm(t,e){return vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vm(t,e)}function GB(t){var e=ZA();return function(){var r=uf(t),i;if(e){var o=uf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return QB(this,i)}}function QB(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YB(t)}function YB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZA=function(){return!!t})()}function uf(t){return uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uf(t)}var XB=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};yh.Dots=function(t){KB(n,t);var e=GB(n);function n(){return zB(this,n),e.apply(this,arguments)}return HB(n,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,s=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,h=i.slidesToShow,f=i.slideCount,d=i.currentSlide,m=XB({slideCount:f,slidesToScroll:u,slidesToShow:h,infinite:l}),E={onMouseEnter:o,onMouseOver:s,onMouseLeave:a},v=[],_=0;_<m;_++){var g=(_+1)*u-1,p=l?g:(0,V1.clamp)(g,0,f-1),w=p-(u-1),y=l?w:(0,V1.clamp)(w,0,f-1),O=(0,UB.default)({"slick-active":l?d>=y&&d<=p:d===y}),x={message:"dots",index:_,slidesToScroll:u,currentSlide:d},A=this.clickHandler.bind(this,x);v=v.concat(Uu.default.createElement("li",{key:_,className:O},Uu.default.cloneElement(this.props.customPaging(_),{onClick:A})))}return Uu.default.cloneElement(this.props.appendDots(v),BB({className:this.props.dotsClass},E))}}]),n}(Uu.default.PureComponent);var Os={};function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}Object.defineProperty(Os,"__esModule",{value:!0});Os.PrevArrow=Os.NextArrow=void 0;var ss=tO(oe),eO=tO(mh),JB=he;function tO(t){return t&&t.__esModule?t:{default:t}}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function U1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U1(Object(n),!0).forEach(function(r){ZB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZB(t,e,n){return e=iO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iO(r.key),r)}}function rO(t,e,n){return e&&e6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iO(t){var e=t6(t,"string");return Is(e)=="symbol"?e:String(e)}function t6(t,e){if(Is(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_m(t,e)}function _m(t,e){return _m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_m(t,e)}function sO(t){var e=aO();return function(){var r=hf(t),i;if(e){var o=hf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return n6(this,i)}}function n6(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r6(t)}function r6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aO=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hf(t)}Os.PrevArrow=function(t){oO(n,t);var e=sO(n);function n(){return nO(this,n),e.apply(this,arguments)}return rO(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var s={key:"0","data-role":"none",className:(0,eO.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=ss.default.cloneElement(this.props.prevArrow,ff(ff({},s),a)):l=ss.default.createElement("button",cf({key:"0",type:"button"},s)," ","Previous"),l}}]),n}(ss.default.PureComponent);Os.NextArrow=function(t){oO(n,t);var e=sO(n);function n(){return nO(this,n),e.apply(this,arguments)}return rO(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,JB.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var s={key:"1","data-role":"none",className:(0,eO.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=ss.default.cloneElement(this.props.nextArrow,ff(ff({},s),a)):l=ss.default.createElement("button",cf({key:"1",type:"button"},s)," ","Next"),l}}]),n}(ss.default.PureComponent);var lO=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),Em=typeof window<"u"&&typeof document<"u"&&window.document===document,df=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),i6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(df):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),o6=2;function s6(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){i6(o)}function a(){var l=Date.now();if(n){if(l-i<o6)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var a6=20,l6=["top","right","bottom","left","width","height","size","weight"],u6=typeof MutationObserver<"u",c6=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s6(this.refresh.bind(this),a6)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Em||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u6?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Em||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=l6.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),uO=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ps=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||df},cO=vh(0,0,0,0);function pf(t){return parseFloat(t)||0}function B1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+pf(o)},0)}function f6(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=pf(s)}return n}function h6(t){var e=t.getBBox();return vh(0,0,e.width,e.height)}function d6(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return cO;var r=Ps(t).getComputedStyle(t),i=f6(r),o=i.left+i.right,s=i.top+i.bottom,a=pf(r.width),l=pf(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=B1(r,"left","right")+o),Math.round(l+s)!==n&&(l-=B1(r,"top","bottom")+s)),!m6(t)){var u=Math.round(a+o)-e,h=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(h)!==1&&(l-=h)}return vh(i.left,i.top,a,l)}var p6=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ps(t).SVGGraphicsElement}:function(t){return t instanceof Ps(t).SVGElement&&typeof t.getBBox=="function"}}();function m6(t){return t===Ps(t).document.documentElement}function g6(t){return Em?p6(t)?h6(t):d6(t):cO}function y6(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return uO(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function vh(t,e,n,r){return{x:t,y:e,width:n,height:r}}var v6=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vh(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=g6(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),_6=function(){function t(e,n){var r=y6(n);uO(this,{target:e,contentRect:r})}return t}(),E6=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new lO,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ps(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new v6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ps(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new _6(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),fO=typeof WeakMap<"u"?new WeakMap:new lO,hO=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c6.getInstance(),r=new E6(e,n,this);fO.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){hO.prototype[t]=function(){var e;return(e=fO.get(this))[t].apply(e,arguments)}});var w6=function(){return typeof df.ResizeObserver<"u"?df.ResizeObserver:hO}();const T6=Object.freeze(Object.defineProperty({__proto__:null,default:w6},Symbol.toStringTag,{value:"Module"})),S6=LO(T6);Object.defineProperty(ph,"__esModule",{value:!0});ph.InnerSlider=void 0;var rn=Xl(oe),b6=Xl(jA),A6=Xl(mB),O6=Xl(mh),ut=he,I6=gh,P6=yh,q1=Os,R6=Xl(S6);function Xl(t){return t&&t.__esModule?t:{default:t}}function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yo(t)}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function k6(t,e){if(t==null)return{};var n=C6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function C6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(n),!0).forEach(function(r){Me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pO(r.key),r)}}function L6(t,e,n){return e&&N6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wm(t,e)}function wm(t,e){return wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wm(t,e)}function M6(t){var e=dO();return function(){var r=gf(t),i;if(e){var o=gf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return j6(this,i)}}function j6(t,e){if(e&&(yo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dO=function(){return!!t})()}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gf(t)}function Me(t,e,n){return e=pO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pO(t){var e=V6(t,"string");return yo(e)=="symbol"?e:String(e)}function V6(t,e){if(yo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}ph.InnerSlider=function(t){D6(n,t);var e=M6(n);function n(r){var i;x6(this,n),i=e.call(this,r),Me(De(i),"listRefHandler",function(s){return i.list=s}),Me(De(i),"trackRefHandler",function(s){return i.track=s}),Me(De(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var s=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,ut.getHeight)(s)+"px"}}),Me(De(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var s=(0,ut.getOnDemandLazySlides)(Se(Se({},i.props),i.state));s.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}var a=Se({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new R6.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Me(De(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(s){return clearTimeout(s)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Me(De(i),"componentDidUpdate",function(s){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,ut.getOnDemandLazySlides)(Se(Se({},i.props),i.state));a.length>0&&(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=Se(Se({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(s);u&&i.updateState(l,u,function(){i.state.currentSlide>=rn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:rn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Me(De(i),"onWindowResized",function(s){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,A6.default)(function(){return i.resizeWindow(s)},50),i.debouncedResize()}),Me(De(i),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=Se(Se({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,s,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Me(De(i),"updateState",function(s,a,l){var u=(0,ut.initializedState)(s);s=Se(Se(Se({},s),u),{},{slideIndex:u.currentSlide});var h=(0,ut.getTrackLeft)(s);s=Se(Se({},s),{},{left:h});var f=(0,ut.getTrackCSS)(s);(a||rn.default.Children.count(i.props.children)!==rn.default.Children.count(s.children))&&(u.trackStyle=f),i.setState(u,l)}),Me(De(i),"ssrInit",function(){if(i.props.variableWidth){var s=0,a=0,l=[],u=(0,ut.getPreClones)(Se(Se(Se({},i.props),i.state),{},{slideCount:i.props.children.length})),h=(0,ut.getPostClones)(Se(Se(Se({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(A){l.push(A.props.style.width),s+=A.props.style.width});for(var f=0;f<u;f++)a+=l[l.length-1-f],s+=l[l.length-1-f];for(var d=0;d<h;d++)s+=l[d];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var E={width:s+"px",left:-a+"px"};if(i.props.centerMode){var v="".concat(l[i.state.currentSlide],"px");E.left="calc(".concat(E.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:E}}var _=rn.default.Children.count(i.props.children),g=Se(Se(Se({},i.props),i.state),{},{slideCount:_}),p=(0,ut.getPreClones)(g)+(0,ut.getPostClones)(g)+_,w=100/i.props.slidesToShow*p,y=100/p,O=-y*((0,ut.getPreClones)(g)+i.state.currentSlide)*w/100;i.props.centerMode&&(O+=(100-y*w/100)/2);var x={width:w+"%",left:O+"%"};return{slideWidth:y+"%",trackStyle:x}}),Me(De(i),"checkImagesLoad",function(){var s=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=s.length,l=0;Array.prototype.forEach.call(s,function(u){var h=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(d){f(d),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=h,u.onerror=function(){h(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Me(De(i),"progressiveLazyLoad",function(){for(var s=[],a=Se(Se({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,ut.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){s.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,ut.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}s.length>0?(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Me(De(i),"slideHandler",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,h=l.beforeChange,f=l.onLazyLoad,d=l.speed,m=l.afterChange,E=i.state.currentSlide,v=(0,ut.slideHandler)(Se(Se(Se({index:s},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=v.state,g=v.nextState;if(_){h&&h(E,_.currentSlide);var p=_.lazyLoadedList.filter(function(w){return i.state.lazyLoadedList.indexOf(w)<0});f&&p.length>0&&f(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(E),delete i.animationEndCallback),i.setState(_,function(){u&&i.asNavForIndex!==s&&(i.asNavForIndex=s,u.innerSlider.slideHandler(s)),g&&(i.animationEndCallback=setTimeout(function(){var w=g.animating,y=k6(g,["animating"]);i.setState(y,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:w})},10)),m&&m(_.currentSlide),delete i.animationEndCallback})},d))})}}),Me(De(i),"changeSlide",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Se(Se({},i.props),i.state),u=(0,ut.changeSlide)(l,s);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var h=i.list.querySelectorAll(".slick-current");h[0]&&h[0].focus()}}),Me(De(i),"clickHandler",function(s){i.clickable===!1&&(s.stopPropagation(),s.preventDefault()),i.clickable=!0}),Me(De(i),"keyHandler",function(s){var a=(0,ut.keyHandler)(s,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Me(De(i),"selectHandler",function(s){i.changeSlide(s)}),Me(De(i),"disableBodyScroll",function(){var s=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=s}),Me(De(i),"enableBodyScroll",function(){window.ontouchmove=null}),Me(De(i),"swipeStart",function(s){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,ut.swipeStart)(s,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Me(De(i),"swipeMove",function(s){var a=(0,ut.swipeMove)(s,Se(Se(Se({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Me(De(i),"swipeEnd",function(s){var a=(0,ut.swipeEnd)(s,Se(Se(Se({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Me(De(i),"touchEnd",function(s){i.swipeEnd(s),i.clickable=!0}),Me(De(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Me(De(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Me(De(i),"slickGoTo",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:s,currentSlide:i.state.currentSlide},a)},0))}),Me(De(i),"play",function(){var s;if(i.props.rtl)s=i.state.currentSlide-i.props.slidesToScroll;else if((0,ut.canGoNext)(Se(Se({},i.props),i.state)))s=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(s)}),Me(De(i),"autoPlay",function(s){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(s==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(s==="leave"){if(a==="paused"||a==="focused")return}else if(s==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Me(De(i),"pause",function(s){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;s==="paused"?i.setState({autoplaying:"paused"}):s==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Me(De(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Me(De(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Me(De(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Me(De(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Me(De(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Me(De(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Me(De(i),"render",function(){var s=(0,O6.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Se(Se({},i.props),i.state),l=(0,ut.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=Se(Se({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var h;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,ut.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=i.props.pauseOnDotsHover;f=Se(Se({},f),{},{clickHandler:i.changeSlide,onMouseEnter:d?i.onDotsLeave:null,onMouseOver:d?i.onDotsOver:null,onMouseLeave:d?i.onDotsLeave:null}),h=rn.default.createElement(P6.Dots,f)}var m,E,v=(0,ut.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=i.changeSlide,i.props.arrows&&(m=rn.default.createElement(q1.PrevArrow,v),E=rn.default.createElement(q1.NextArrow,v));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var p=Se(Se({},_),g),w=i.props.touchMove,y={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:w?i.swipeStart:null,onMouseMove:i.state.dragging&&w?i.swipeMove:null,onMouseUp:w?i.swipeEnd:null,onMouseLeave:i.state.dragging&&w?i.swipeEnd:null,onTouchStart:w?i.swipeStart:null,onTouchMove:i.state.dragging&&w?i.swipeMove:null,onTouchEnd:w?i.touchEnd:null,onTouchCancel:i.state.dragging&&w?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},O={className:s,dir:"ltr",style:i.props.style};return i.props.unslick&&(y={className:"slick-list"},O={className:s}),rn.default.createElement("div",O,i.props.unslick?"":m,rn.default.createElement("div",mf({ref:i.listRefHandler},y),rn.default.createElement(I6.Track,mf({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":E,i.props.unslick?"":h)}),i.list=null,i.track=null,i.state=Se(Se({},b6.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:rn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=Se(Se({},i.state),o),i}return L6(n,[{key:"didPropsChange",value:function(i){for(var o=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var l=a[s];if(!i.hasOwnProperty(l)){o=!0;break}if(!(yo(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){o=!0;break}}return o||rn.default.Children.count(this.props.children)!==rn.default.Children.count(i.children)}}]),n}(rn.default.Component);var F6=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},U6=F6,B6=U6,q6=function(t){var e=/[height|width]$/;return e.test(t)},$1=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=B6(r),q6(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},z6=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=$1(n),r<t.length-1&&(e+=", ")}),e):$1(t)},$6=z6,Id,H1;function H6(){if(H1)return Id;H1=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Id=t,Id}var Pd,W1;function mO(){if(W1)return Pd;W1=1;function t(r,i){var o=0,s=r.length,a;for(o;o<s&&(a=i(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Pd={isFunction:n,isArray:e,each:t},Pd}var Rd,K1;function W6(){if(K1)return Rd;K1=1;var t=H6(),e=mO().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(s){o.mql=s.currentTarget||s,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,s){if(o.equals(r))return o.destroy(),!i.splice(s,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},Rd=n,Rd}var kd,G1;function K6(){if(G1)return kd;G1=1;var t=W6(),e=mO(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(s,a,l){var u=this.queries,h=l&&this.browserIsIncapable;return u[s]||(u[s]=new t(s,h)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(f){r(f)&&(f={match:f}),u[s].addHandler(f)}),this},unregister:function(s,a){var l=this.queries[s];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[s])),this}},kd=o,kd}var Cd,Q1;function G6(){if(Q1)return Cd;Q1=1;var t=K6();return Cd=new t,Cd}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(oe),n=ph,r=s($6),i=s(wy),o=he;function s(P){return P&&P.__esModule?P:{default:P}}function a(P){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(P)}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var T=1;T<arguments.length;T++){var b=arguments[T];for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(P[R]=b[R])}return P},l.apply(this,arguments)}function u(P,T){var b=Object.keys(P);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(P);T&&(R=R.filter(function(k){return Object.getOwnPropertyDescriptor(P,k).enumerable})),b.push.apply(b,R)}return b}function h(P){for(var T=1;T<arguments.length;T++){var b=arguments[T]!=null?arguments[T]:{};T%2?u(Object(b),!0).forEach(function(R){O(P,R,b[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(R){Object.defineProperty(P,R,Object.getOwnPropertyDescriptor(b,R))})}return P}function f(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function d(P,T){for(var b=0;b<T.length;b++){var R=T[b];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,x(R.key),R)}}function m(P,T,b){return T&&d(P.prototype,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function E(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),T&&v(P,T)}function v(P,T){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,k){return R.__proto__=k,R},v(P,T)}function _(P){var T=w();return function(){var R=y(P),k;if(T){var L=y(this).constructor;k=Reflect.construct(R,arguments,L)}else k=R.apply(this,arguments);return g(this,k)}}function g(P,T){if(T&&(a(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function w(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!P})()}function y(P){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},y(P)}function O(P,T,b){return T=x(T),T in P?Object.defineProperty(P,T,{value:b,enumerable:!0,configurable:!0,writable:!0}):P[T]=b,P}function x(P){var T=A(P,"string");return a(T)=="symbol"?T:String(T)}function A(P,T){if(a(P)!="object"||!P)return P;var b=P[Symbol.toPrimitive];if(b!==void 0){var R=b.call(P,T||"default");if(a(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(P)}var S=(0,o.canUseDOM)()&&G6();t.default=function(P){E(b,P);var T=_(b);function b(R){var k;return f(this,b),k=T.call(this,R),O(p(k),"innerSliderRefHandler",function(L){return k.innerSlider=L}),O(p(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),O(p(k),"slickNext",function(){return k.innerSlider.slickNext()}),O(p(k),"slickGoTo",function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(L,U)}),O(p(k),"slickPause",function(){return k.innerSlider.pause("paused")}),O(p(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return m(b,[{key:"media",value:function(k,L){S.register(k,L),this._responsiveMediaHandlers.push({query:k,handler:L})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var L=this.props.responsive.map(function(H){return H.breakpoint});L.sort(function(H,K){return H-K}),L.forEach(function(H,K){var G;K===0?G=(0,r.default)({minWidth:0,maxWidth:H}):G=(0,r.default)({minWidth:L[K-1]+1,maxWidth:H}),(0,o.canUseDOM)()&&k.media(G,function(){k.setState({breakpoint:H})})});var U=(0,r.default)({minWidth:L.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(U,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){S.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,L,U;this.state.breakpoint?(U=this.props.responsive.filter(function(q){return q.breakpoint===k.state.breakpoint}),L=U[0].settings==="unslick"?"unslick":h(h(h({},i.default),this.props),U[0].settings)):L=h(h({},i.default),this.props),L.centerMode&&(L.slidesToScroll>1,L.slidesToScroll=1),L.fade&&(L.slidesToShow>1,L.slidesToScroll>1,L.slidesToShow=1,L.slidesToScroll=1);var H=e.default.Children.toArray(this.props.children);H=H.filter(function(q){return typeof q=="string"?!!q.trim():!!q}),L.variableWidth&&(L.rows>1||L.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),L.variableWidth=!1);for(var K=[],G=null,B=0;B<H.length;B+=L.rows*L.slidesPerRow){for(var F=[],N=B;N<B+L.rows*L.slidesPerRow;N+=L.slidesPerRow){for(var M=[],V=N;V<N+L.slidesPerRow&&(L.variableWidth&&H[V].props.style&&(G=H[V].props.style.width),!(V>=H.length));V+=1)M.push(e.default.cloneElement(H[V],{key:100*B+10*N+V,tabIndex:-1,style:{width:"".concat(100/L.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*B+N},M))}L.variableWidth?K.push(e.default.createElement("div",{key:B,style:{width:G}},F)):K.push(e.default.createElement("div",{key:B},F))}if(L==="unslick"){var Q="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Q},H)}else K.length<=L.slidesToShow&&!L.infinite&&(L.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(L)),K)}}]),b}(e.default.Component)})(MA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(MA);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(DA);const Q6=yf(DA),Y6=({images:t})=>{const e={dots:!0,infinite:t.length>1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0};return $.jsx("div",{className:"carousel-container",style:{width:"80%",height:"80%"},children:$.jsx(Q6,{...e,children:t.map((n,r)=>$.jsx("div",{children:$.jsx("img",{src:n,alt:`Slide ${r+1}`,style:{width:"100%",height:"auto"}})},r))})})},X6=()=>{const{projectId:t}=gT(),[e,n]=oe.useState(null),[r,i]=oe.useState(!0),[o,s]=oe.useState(null);return oe.useEffect(()=>{(async()=>{try{const l=Xf(Ss,"projects"),u=Nb(l,Lb("route","==",t)),h=await Vb(u);if(h.empty)s("Project not found");else{const f=h.docs[0].data(),d=LA.sanitize(f.deepdive);n({...f,deepdive:d})}}catch(l){console.error("Error fetching project:",l),s("Failed to fetch project")}finally{i(!1)}})()},[t]),r?$.jsx("div",{children:"Loading project..."}):o?$.jsx("div",{children:o}):$.jsxs("div",{style:Y1.container,children:[$.jsx("h1",{children:e.title}),$.jsx("p",{children:e.description}),e.images?$.jsx(Y6,{images:e.images,style:Y1.image}):$.jsx("p",{children:"No images to display"}),$.jsx("div",{dangerouslySetInnerHTML:{__html:e.deepdive}})]})},Y1={container:{padding:"40px",maxWidth:"800px",margin:"0 auto"},image:{width:"200px",height:"300px",borderRadius:"8px",marginBottom:"20px"}};function J6(){return $.jsxs("div",{children:[$.jsx("h1",{children:"TODO List"}),$.jsx("p",{children:"Welcome to the TODO list feature!"})]})}function Z6(){return $.jsxs("div",{children:[$.jsx("h1",{children:"Financial Tracker"}),$.jsx("p",{children:"Track your finances here!"})]})}function eq(){return $.jsxs("div",{children:[$.jsx("h1",{children:"Week Planner"}),$.jsx("p",{children:"Plan your weeks here!"})]})}function tq(){return $.jsxs("div",{children:[$.jsx("h1",{children:"CV"}),$.jsx("p",{children:"Add your CV here!"})]})}const nq=xd.createRoot(document.getElementById("root"));nq.render($.jsx(sE.StrictMode,{children:$.jsx(zb,{children:$.jsx(rq,{})})}));function rq(){return $.jsx(zb,{children:$.jsx(rk,{children:$.jsxs("div",{children:[$.jsx(dM,{}),$.jsxs(YR,{children:[$.jsx(Hn,{path:"/",element:$.jsx(pM,{})}),$.jsx(Hn,{path:"/login",element:$.jsx(mM,{})}),$.jsx(Hn,{path:"/portfolio",element:$.jsx(_M,{})}),$.jsx(Hn,{path:"/portfolio/:projectId",element:$.jsx(X6,{})}),$.jsx(Hn,{path:"/edit-project/:projectId",element:$.jsx(X9,{})}),$.jsx(Hn,{path:"/portfolio/addproject",element:$.jsx(_a,{children:$.jsx(Y9,{})})}),$.jsx(Hn,{path:"/CV",element:$.jsx(_a,{children:$.jsx(tq,{})})}),$.jsx(Hn,{path:"/todo",element:$.jsx(_a,{children:$.jsx(J6,{})})}),$.jsx(Hn,{path:"/finance",element:$.jsxs(_a,{children:[$.jsx(Z6,{}),$.jsx(aM,{}),$.jsx(lM,{})]})}),$.jsx(Hn,{path:"/weekplanner",element:$.jsx(_a,{children:$.jsx(eq,{})})})]})]})})})}
