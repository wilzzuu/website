function XA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function JA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var p1={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qa=Symbol.for("react.element"),ZA=Symbol.for("react.portal"),eI=Symbol.for("react.fragment"),tI=Symbol.for("react.strict_mode"),nI=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),iI=Symbol.for("react.context"),oI=Symbol.for("react.forward_ref"),sI=Symbol.for("react.suspense"),aI=Symbol.for("react.memo"),lI=Symbol.for("react.lazy"),Pv=Symbol.iterator;function uI(t){return t===null||typeof t!="object"?null:(t=Pv&&t[Pv]||t["@@iterator"],typeof t=="function"?t:null)}var m1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g1=Object.assign,v1={};function Go(t,e,n){this.props=t,this.context=e,this.refs=v1,this.updater=n||m1}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y1(){}y1.prototype=Go.prototype;function Np(t,e,n){this.props=t,this.context=e,this.refs=v1,this.updater=n||m1}var Lp=Np.prototype=new y1;Lp.constructor=Np;g1(Lp,Go.prototype);Lp.isPureReactComponent=!0;var kv=Array.isArray,_1=Object.prototype.hasOwnProperty,Dp={current:null},w1={key:!0,ref:!0,__self:!0,__source:!0};function E1(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)_1.call(e,r)&&!w1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qa,type:t,key:o,ref:s,props:i,_owner:Dp.current}}function cI(t,e){return{$$typeof:qa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mp(t){return typeof t=="object"&&t!==null&&t.$$typeof===qa}function fI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rv=/\/+/g;function zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fI(""+t.key):e.toString(36)}function Xl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qa:case ZA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+zf(s,0):r,kv(i)?(n="",t!=null&&(n=t.replace(Rv,"$&/")+"/"),Xl(i,e,n,"",function(u){return u})):i!=null&&(Mp(i)&&(i=cI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Rv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",kv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+zf(o,a);s+=Xl(o,e,n,l,i)}else if(l=uI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+zf(o,a++),s+=Xl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ol(t,e,n){if(t==null)return t;var r=[],i=0;return Xl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function hI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},Jl={transition:null},dI={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:Jl,ReactCurrentOwner:Dp};function T1(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Ol,forEach:function(t,e,n){Ol(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ol(t,function(){e++}),e},toArray:function(t){return Ol(t,function(e){return e})||[]},only:function(t){if(!Mp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Go;Ce.Fragment=eI;Ce.Profiler=nI;Ce.PureComponent=Np;Ce.StrictMode=tI;Ce.Suspense=sI;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI;Ce.act=T1;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=g1({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Dp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_1.call(e,l)&&!w1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qa,type:t.type,key:i,ref:o,props:r,_owner:s}};Ce.createContext=function(t){return t={$$typeof:iI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rI,_context:t},t.Consumer=t};Ce.createElement=E1;Ce.createFactory=function(t){var e=E1.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:oI,render:t}};Ce.isValidElement=Mp;Ce.lazy=function(t){return{$$typeof:lI,_payload:{_status:-1,_result:t},_init:hI}};Ce.memo=function(t,e){return{$$typeof:aI,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Jl.transition;Jl.transition={};try{t()}finally{Jl.transition=e}};Ce.unstable_act=T1;Ce.useCallback=function(t,e){return Wt.current.useCallback(t,e)};Ce.useContext=function(t){return Wt.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Wt.current.useEffect(t,e)};Ce.useId=function(){return Wt.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Wt.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};Ce.useRef=function(t){return Wt.current.useRef(t)};Ce.useState=function(t){return Wt.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Wt.current.useTransition()};Ce.version="18.3.1";p1.exports=Ce;var ie=p1.exports;const S1=xp(ie),pI=XA({__proto__:null,default:S1},[ie]);var Hh={},b1={exports:{}},hn={},A1={exports:{}},I1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,B){var V=W.length;W.push(B);e:for(;0<V;){var N=V-1>>>1,M=W[N];if(0<i(M,B))W[N]=B,W[V]=M,V=N;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var B=W[0],V=W.pop();if(V!==B){W[0]=V;e:for(var N=0,M=W.length,F=M>>>1;N<F;){var K=2*(N+1)-1,z=W[K],j=K+1,q=W[j];if(0>i(z,V))j<M&&0>i(q,z)?(W[N]=q,W[j]=V,N=j):(W[N]=z,W[K]=V,N=K);else if(j<M&&0>i(q,V))W[N]=q,W[j]=V,N=j;else break e}}return B}function i(W,B){var V=W.sortIndex-B.sortIndex;return V!==0?V:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,f=null,d=3,m=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=W)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function y(W){if(v=!1,E(W),!w)if(n(l)!==null)w=!0,$(I);else{var B=n(u);B!==null&&H(y,B.startTime-W)}}function I(W,B){w=!1,v&&(v=!1,g(S),S=-1),m=!0;var V=d;try{for(E(B),f=n(l);f!==null&&(!(f.expirationTime>B)||W&&!b());){var N=f.callback;if(typeof N=="function"){f.callback=null,d=f.priorityLevel;var M=N(f.expirationTime<=B);B=t.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&r(l),E(B)}else r(l);f=n(l)}if(f!==null)var F=!0;else{var K=n(u);K!==null&&H(y,K.startTime-B),F=!1}return F}finally{f=null,d=V,m=!1}}var x=!1,A=null,S=-1,P=5,T=-1;function b(){return!(t.unstable_now()-T<P)}function k(){if(A!==null){var W=t.unstable_now();T=W;var B=!0;try{B=A(!0,W)}finally{B?R():(x=!1,A=null)}}else x=!1}var R;if(typeof p=="function")R=function(){p(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=k,R=function(){U.postMessage(null)}}else R=function(){_(k,0)};function $(W){A=W,x||(x=!0,R())}function H(W,B){S=_(function(){W(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){w||m||(w=!0,$(I))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var V=d;d=B;try{return W()}finally{d=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var V=d;d=W;try{return B()}finally{d=V}},t.unstable_scheduleCallback=function(W,B,V){var N=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?N+V:N):V=N,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=V+M,W={id:h++,callback:B,priorityLevel:W,startTime:V,expirationTime:M,sortIndex:-1},V>N?(W.sortIndex=V,e(u,W),n(l)===null&&W===n(u)&&(v?(g(S),S=-1):v=!0,H(y,V-N))):(W.sortIndex=M,e(l,W),w||m||(w=!0,$(I))),W},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(W){var B=d;return function(){var V=d;d=B;try{return W.apply(this,arguments)}finally{d=V}}}})(I1);A1.exports=I1;var mI=A1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI=ie,fn=mI;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O1=new Set,fa={};function Ui(t,e){Oo(t,e),Oo(t+"Capture",e)}function Oo(t,e){for(fa[t]=e,t=0;t<e.length;t++)O1.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=Object.prototype.hasOwnProperty,vI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cv={},xv={};function yI(t){return Wh.call(xv,t)?!0:Wh.call(Cv,t)?!1:vI.test(t)?xv[t]=!0:(Cv[t]=!0,!1)}function _I(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wI(t,e,n,r){if(e===null||typeof e>"u"||_I(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function Vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jp,Vp);Rt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jp,Vp);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jp,Vp);Rt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fp(t,e,n,r){var i=Rt.hasOwnProperty(e)?Rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wI(e,n,i,r)&&(n=null),r||i===null?yI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=gI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Up=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),P1=Symbol.for("react.provider"),k1=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Qh=Symbol.for("react.suspense_list"),qp=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),R1=Symbol.for("react.offscreen"),Nv=Symbol.iterator;function Ps(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Hf;function Bs(t){if(Hf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Hf=e&&e[1]||""}return`
`+Hf+t}var Wf=!1;function Kf(t,e){if(!t||Wf)return"";Wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Wf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bs(t):""}function EI(t){switch(t.tag){case 5:return Bs(t.type);case 16:return Bs("Lazy");case 13:return Bs("Suspense");case 19:return Bs("SuspenseList");case 0:case 2:case 15:return t=Kf(t.type,!1),t;case 11:return t=Kf(t.type.render,!1),t;case 1:return t=Kf(t.type,!0),t;default:return""}}function Yh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case Kh:return"Profiler";case Up:return"StrictMode";case Gh:return"Suspense";case Qh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k1:return(t.displayName||"Context")+".Consumer";case P1:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qp:return e=t.displayName||null,e!==null?e:Yh(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return Yh(t(e))}catch{}}return null}function TI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yh(e);case 8:return e===Up?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SI(t){var e=C1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kl(t){t._valueTracker||(t._valueTracker=SI(t))}function x1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xh(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N1(t,e){e=e.checked,e!=null&&Fp(t,"checked",e,!1)}function Jh(t,e){N1(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zh(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zh(t,e,n){(e!=="number"||Eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qs=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ed(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(qs(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function L1(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function D1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function td(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,M1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bI=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(t){bI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Xs[e]=Xs[t]})});function j1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Xs.hasOwnProperty(t)&&Xs[t]?(""+e).trim():e+"px"}function V1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=j1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AI=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nd(t,e){if(e){if(AI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var id=null;function $p(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var od=null,mo=null,go=null;function Vv(t){if(t=Ha(t)){if(typeof od!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Cc(e),od(t.stateNode,t.type,e))}}function F1(t){mo?go?go.push(t):go=[t]:mo=t}function U1(){if(mo){var t=mo,e=go;if(go=mo=null,Vv(t),e)for(t=0;t<e.length;t++)Vv(e[t])}}function B1(t,e){return t(e)}function q1(){}var Gf=!1;function $1(t,e,n){if(Gf)return t(e,n);Gf=!0;try{return B1(t,e,n)}finally{Gf=!1,(mo!==null||go!==null)&&(q1(),U1())}}function da(t,e){var n=t.stateNode;if(n===null)return null;var r=Cc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var sd=!1;if(or)try{var ks={};Object.defineProperty(ks,"passive",{get:function(){sd=!0}}),window.addEventListener("test",ks,ks),window.removeEventListener("test",ks,ks)}catch{sd=!1}function II(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Js=!1,Tu=null,Su=!1,ad=null,OI={onError:function(t){Js=!0,Tu=t}};function PI(t,e,n,r,i,o,s,a,l){Js=!1,Tu=null,II.apply(OI,arguments)}function kI(t,e,n,r,i,o,s,a,l){if(PI.apply(this,arguments),Js){if(Js){var u=Tu;Js=!1,Tu=null}else throw Error(ae(198));Su||(Su=!0,ad=u)}}function Bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function z1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fv(t){if(Bi(t)!==t)throw Error(ae(188))}function RI(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Fv(i),t;if(o===r)return Fv(i),e;o=o.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function H1(t){return t=RI(t),t!==null?W1(t):null}function W1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=W1(t);if(e!==null)return e;t=t.sibling}return null}var K1=fn.unstable_scheduleCallback,Uv=fn.unstable_cancelCallback,CI=fn.unstable_shouldYield,xI=fn.unstable_requestPaint,ut=fn.unstable_now,NI=fn.unstable_getCurrentPriorityLevel,zp=fn.unstable_ImmediatePriority,G1=fn.unstable_UserBlockingPriority,bu=fn.unstable_NormalPriority,LI=fn.unstable_LowPriority,Q1=fn.unstable_IdlePriority,Oc=null,Vn=null;function DI(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Oc,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:VI,MI=Math.log,jI=Math.LN2;function VI(t){return t>>>=0,t===0?32:31-(MI(t)/jI|0)|0}var Cl=64,xl=4194304;function $s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Au(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=$s(a):(o&=s,o!==0&&(r=$s(o)))}else s=n&~i,s!==0?r=$s(s):o!==0&&(r=$s(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function FI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-In(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=FI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ld(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Y1(){var t=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),t}function Qf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $a(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function BI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Hp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function X1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var J1,Wp,Z1,ew,tw,ud=!1,Nl=[],Mr=null,jr=null,Vr=null,pa=new Map,ma=new Map,Ir=[],qI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bv(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(e.pointerId)}}function Rs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ha(e),e!==null&&Wp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $I(t,e,n,r,i){switch(e){case"focusin":return Mr=Rs(Mr,t,e,n,r,i),!0;case"dragenter":return jr=Rs(jr,t,e,n,r,i),!0;case"mouseover":return Vr=Rs(Vr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return pa.set(o,Rs(pa.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ma.set(o,Rs(ma.get(o)||null,t,e,n,r,i)),!0}return!1}function nw(t){var e=yi(t.target);if(e!==null){var n=Bi(e);if(n!==null){if(e=n.tag,e===13){if(e=z1(n),e!==null){t.blockedOn=e,tw(t.priority,function(){Z1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);id=r,n.target.dispatchEvent(r),id=null}else return e=Ha(n),e!==null&&Wp(e),t.blockedOn=n,!1;e.shift()}return!0}function qv(t,e,n){Zl(t)&&n.delete(e)}function zI(){ud=!1,Mr!==null&&Zl(Mr)&&(Mr=null),jr!==null&&Zl(jr)&&(jr=null),Vr!==null&&Zl(Vr)&&(Vr=null),pa.forEach(qv),ma.forEach(qv)}function Cs(t,e){t.blockedOn===e&&(t.blockedOn=null,ud||(ud=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,zI)))}function ga(t){function e(i){return Cs(i,t)}if(0<Nl.length){Cs(Nl[0],t);for(var n=1;n<Nl.length;n++){var r=Nl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Cs(Mr,t),jr!==null&&Cs(jr,t),Vr!==null&&Cs(Vr,t),pa.forEach(e),ma.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)nw(n),n.blockedOn===null&&Ir.shift()}var vo=dr.ReactCurrentBatchConfig,Iu=!0;function HI(t,e,n,r){var i=Ue,o=vo.transition;vo.transition=null;try{Ue=1,Kp(t,e,n,r)}finally{Ue=i,vo.transition=o}}function WI(t,e,n,r){var i=Ue,o=vo.transition;vo.transition=null;try{Ue=4,Kp(t,e,n,r)}finally{Ue=i,vo.transition=o}}function Kp(t,e,n,r){if(Iu){var i=cd(t,e,n,r);if(i===null)oh(t,e,r,Ou,n),Bv(t,r);else if($I(i,t,e,n,r))r.stopPropagation();else if(Bv(t,r),e&4&&-1<qI.indexOf(t)){for(;i!==null;){var o=Ha(i);if(o!==null&&J1(o),o=cd(t,e,n,r),o===null&&oh(t,e,r,Ou,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else oh(t,e,r,null,n)}}var Ou=null;function cd(t,e,n,r){if(Ou=null,t=$p(r),t=yi(t),t!==null)if(e=Bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=z1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ou=t,null}function rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NI()){case zp:return 1;case G1:return 4;case bu:case LI:return 16;case Q1:return 536870912;default:return 16}default:return 16}}var xr=null,Gp=null,eu=null;function iw(){if(eu)return eu;var t,e=Gp,n=e.length,r,i="value"in xr?xr.value:xr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return eu=i.slice(t,1<r?1-r:void 0)}function tu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ll(){return!0}function $v(){return!1}function dn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ll:$v,this.isPropagationStopped=$v,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),e}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qp=dn(Qo),za=rt({},Qo,{view:0,detail:0}),KI=dn(za),Yf,Xf,xs,Pc=rt({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(Yf=t.screenX-xs.screenX,Xf=t.screenY-xs.screenY):Xf=Yf=0,xs=t),Yf)},movementY:function(t){return"movementY"in t?t.movementY:Xf}}),zv=dn(Pc),GI=rt({},Pc,{dataTransfer:0}),QI=dn(GI),YI=rt({},za,{relatedTarget:0}),Jf=dn(YI),XI=rt({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),JI=dn(XI),ZI=rt({},Qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eO=dn(ZI),tO=rt({},Qo,{data:0}),Hv=dn(tO),nO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iO[t])?!!e[t]:!1}function Yp(){return oO}var sO=rt({},za,{key:function(t){if(t.key){var e=nO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yp,charCode:function(t){return t.type==="keypress"?tu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aO=dn(sO),lO=rt({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wv=dn(lO),uO=rt({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yp}),cO=dn(uO),fO=rt({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hO=dn(fO),dO=rt({},Pc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pO=dn(dO),mO=[9,13,27,32],Xp=or&&"CompositionEvent"in window,Zs=null;or&&"documentMode"in document&&(Zs=document.documentMode);var gO=or&&"TextEvent"in window&&!Zs,ow=or&&(!Xp||Zs&&8<Zs&&11>=Zs),Kv=" ",Gv=!1;function sw(t,e){switch(t){case"keyup":return mO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function vO(t,e){switch(t){case"compositionend":return aw(e);case"keypress":return e.which!==32?null:(Gv=!0,Kv);case"textInput":return t=e.data,t===Kv&&Gv?null:t;default:return null}}function yO(t,e){if(no)return t==="compositionend"||!Xp&&sw(t,e)?(t=iw(),eu=Gp=xr=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ow&&e.locale!=="ko"?null:e.data;default:return null}}var _O={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_O[t.type]:e==="textarea"}function lw(t,e,n,r){F1(r),e=Pu(e,"onChange"),0<e.length&&(n=new Qp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ea=null,va=null;function wO(t){_w(t,0)}function kc(t){var e=oo(t);if(x1(e))return t}function EO(t,e){if(t==="change")return e}var uw=!1;if(or){var Zf;if(or){var eh="oninput"in document;if(!eh){var Yv=document.createElement("div");Yv.setAttribute("oninput","return;"),eh=typeof Yv.oninput=="function"}Zf=eh}else Zf=!1;uw=Zf&&(!document.documentMode||9<document.documentMode)}function Xv(){ea&&(ea.detachEvent("onpropertychange",cw),va=ea=null)}function cw(t){if(t.propertyName==="value"&&kc(va)){var e=[];lw(e,va,t,$p(t)),$1(wO,e)}}function TO(t,e,n){t==="focusin"?(Xv(),ea=e,va=n,ea.attachEvent("onpropertychange",cw)):t==="focusout"&&Xv()}function SO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kc(va)}function bO(t,e){if(t==="click")return kc(e)}function AO(t,e){if(t==="input"||t==="change")return kc(e)}function IO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:IO;function ya(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wh.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Jv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zv(t,e){var n=Jv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jv(n)}}function fw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hw(){for(var t=window,e=Eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eu(t.document)}return e}function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OO(t){var e=hw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fw(n.ownerDocument.documentElement,n)){if(r!==null&&Jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Zv(n,o);var s=Zv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PO=or&&"documentMode"in document&&11>=document.documentMode,ro=null,fd=null,ta=null,hd=!1;function ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hd||ro==null||ro!==Eu(r)||(r=ro,"selectionStart"in r&&Jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&ya(ta,r)||(ta=r,r=Pu(fd,"onSelect"),0<r.length&&(e=new Qp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function Dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var io={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},th={},dw={};or&&(dw=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Rc(t){if(th[t])return th[t];if(!io[t])return t;var e=io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dw)return th[t]=e[n];return t}var pw=Rc("animationend"),mw=Rc("animationiteration"),gw=Rc("animationstart"),vw=Rc("transitionend"),yw=new Map,ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){yw.set(t,e),Ui(e,[t])}for(var nh=0;nh<ty.length;nh++){var rh=ty[nh],kO=rh.toLowerCase(),RO=rh[0].toUpperCase()+rh.slice(1);ri(kO,"on"+RO)}ri(pw,"onAnimationEnd");ri(mw,"onAnimationIteration");ri(gw,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(vw,"onTransitionEnd");Oo("onMouseEnter",["mouseout","mouseover"]);Oo("onMouseLeave",["mouseout","mouseover"]);Oo("onPointerEnter",["pointerout","pointerover"]);Oo("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CO=new Set("cancel close invalid load scroll toggle".split(" ").concat(zs));function ny(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kI(r,e,void 0,t),t.currentTarget=null}function _w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ny(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ny(i,a,u),o=l}}}if(Su)throw t=ad,Su=!1,ad=null,t}function Ke(t,e){var n=e[vd];n===void 0&&(n=e[vd]=new Set);var r=t+"__bubble";n.has(r)||(ww(e,t,2,!1),n.add(r))}function ih(t,e,n){var r=0;e&&(r|=4),ww(n,t,r,e)}var Ml="_reactListening"+Math.random().toString(36).slice(2);function _a(t){if(!t[Ml]){t[Ml]=!0,O1.forEach(function(n){n!=="selectionchange"&&(CO.has(n)||ih(n,!1,t),ih(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ml]||(e[Ml]=!0,ih("selectionchange",!1,e))}}function ww(t,e,n,r){switch(rw(e)){case 1:var i=HI;break;case 4:i=WI;break;default:i=Kp}n=i.bind(null,e,n,t),i=void 0,!sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function oh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=yi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}$1(function(){var u=o,h=$p(n),f=[];e:{var d=yw.get(t);if(d!==void 0){var m=Qp,w=t;switch(t){case"keypress":if(tu(n)===0)break e;case"keydown":case"keyup":m=aO;break;case"focusin":w="focus",m=Jf;break;case"focusout":w="blur",m=Jf;break;case"beforeblur":case"afterblur":m=Jf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cO;break;case pw:case mw:case gw:m=JI;break;case vw:m=hO;break;case"scroll":m=KI;break;case"wheel":m=pO;break;case"copy":case"cut":case"paste":m=eO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wv}var v=(e&4)!==0,_=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,E;p!==null;){E=p;var y=E.stateNode;if(E.tag===5&&y!==null&&(E=y,g!==null&&(y=da(p,g),y!=null&&v.push(wa(p,y,E)))),_)break;p=p.return}0<v.length&&(d=new m(d,w,null,n,h),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==id&&(w=n.relatedTarget||n.fromElement)&&(yi(w)||w[sr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(w=n.relatedTarget||n.toElement,m=u,w=w?yi(w):null,w!==null&&(_=Bi(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(v=zv,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=Wv,y="onPointerLeave",g="onPointerEnter",p="pointer"),_=m==null?d:oo(m),E=w==null?d:oo(w),d=new v(y,p+"leave",m,n,h),d.target=_,d.relatedTarget=E,y=null,yi(h)===u&&(v=new v(g,p+"enter",w,n,h),v.target=E,v.relatedTarget=_,y=v),_=y,m&&w)t:{for(v=m,g=w,p=0,E=v;E;E=Yi(E))p++;for(E=0,y=g;y;y=Yi(y))E++;for(;0<p-E;)v=Yi(v),p--;for(;0<E-p;)g=Yi(g),E--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=Yi(v),g=Yi(g)}v=null}else v=null;m!==null&&ry(f,d,m,v,!1),w!==null&&_!==null&&ry(f,_,w,v,!0)}}e:{if(d=u?oo(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var I=EO;else if(Qv(d))if(uw)I=AO;else{I=SO;var x=TO}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=bO);if(I&&(I=I(t,u))){lw(f,I,n,h);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Zh(d,"number",d.value)}switch(x=u?oo(u):window,t){case"focusin":(Qv(x)||x.contentEditable==="true")&&(ro=x,fd=u,ta=null);break;case"focusout":ta=fd=ro=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,ey(f,n,h);break;case"selectionchange":if(PO)break;case"keydown":case"keyup":ey(f,n,h)}var A;if(Xp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else no?sw(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ow&&n.locale!=="ko"&&(no||S!=="onCompositionStart"?S==="onCompositionEnd"&&no&&(A=iw()):(xr=h,Gp="value"in xr?xr.value:xr.textContent,no=!0)),x=Pu(u,S),0<x.length&&(S=new Hv(S,t,null,n,h),f.push({event:S,listeners:x}),A?S.data=A:(A=aw(n),A!==null&&(S.data=A)))),(A=gO?vO(t,n):yO(t,n))&&(u=Pu(u,"onBeforeInput"),0<u.length&&(h=new Hv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=A))}_w(f,e)})}function wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=da(t,n),o!=null&&r.unshift(wa(t,o,i)),o=da(t,e),o!=null&&r.push(wa(t,o,i))),t=t.return}return r}function Yi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ry(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=da(n,o),l!=null&&s.unshift(wa(n,l,a))):i||(l=da(n,o),l!=null&&s.push(wa(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var xO=/\r\n?/g,NO=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(xO,`
`).replace(NO,"")}function jl(t,e,n){if(e=iy(e),iy(t)!==e&&n)throw Error(ae(425))}function ku(){}var dd=null,pd=null;function md(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,LO=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,DO=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(t){return oy.resolve(null).then(t).catch(MO)}:gd;function MO(t){setTimeout(function(){throw t})}function sh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ga(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ga(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),jn="__reactFiber$"+Yo,Ea="__reactProps$"+Yo,sr="__reactContainer$"+Yo,vd="__reactEvents$"+Yo,jO="__reactListeners$"+Yo,VO="__reactHandles$"+Yo;function yi(t){var e=t[jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sy(t);t!==null;){if(n=t[jn])return n;t=sy(t)}return e}t=n,n=t.parentNode}return null}function Ha(t){return t=t[jn]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function oo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Cc(t){return t[Ea]||null}var yd=[],so=-1;function ii(t){return{current:t}}function Ye(t){0>so||(t.current=yd[so],yd[so]=null,so--)}function ze(t,e){so++,yd[so]=t.current,t.current=e}var Xr={},Ut=ii(Xr),Jt=ii(!1),Oi=Xr;function Po(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(t){return t=t.childContextTypes,t!=null}function Ru(){Ye(Jt),Ye(Ut)}function ay(t,e,n){if(Ut.current!==Xr)throw Error(ae(168));ze(Ut,e),ze(Jt,n)}function Ew(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,TI(t)||"Unknown",i));return rt({},n,r)}function Cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Oi=Ut.current,ze(Ut,t),ze(Jt,Jt.current),!0}function ly(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=Ew(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Ye(Jt),Ye(Ut),ze(Ut,t)):Ye(Jt),ze(Jt,n)}var Yn=null,xc=!1,ah=!1;function Tw(t){Yn===null?Yn=[t]:Yn.push(t)}function FO(t){xc=!0,Tw(t)}function oi(){if(!ah&&Yn!==null){ah=!0;var t=0,e=Ue;try{var n=Yn;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,xc=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),K1(zp,oi),i}finally{Ue=e,ah=!1}}return null}var ao=[],lo=0,xu=null,Nu=0,pn=[],mn=0,Pi=null,Xn=1,Jn="";function di(t,e){ao[lo++]=Nu,ao[lo++]=xu,xu=t,Nu=e}function Sw(t,e,n){pn[mn++]=Xn,pn[mn++]=Jn,pn[mn++]=Pi,Pi=t;var r=Xn;t=Jn;var i=32-In(r)-1;r&=~(1<<i),n+=1;var o=32-In(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xn=1<<32-In(e)+i|n<<i|r,Jn=o+t}else Xn=1<<o|n<<i|r,Jn=t}function Zp(t){t.return!==null&&(di(t,1),Sw(t,1,0))}function em(t){for(;t===xu;)xu=ao[--lo],ao[lo]=null,Nu=ao[--lo],ao[lo]=null;for(;t===Pi;)Pi=pn[--mn],pn[mn]=null,Jn=pn[--mn],pn[mn]=null,Xn=pn[--mn],pn[mn]=null}var un=null,an=null,Je=!1,An=null;function bw(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function _d(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wd(t){if(Je){var e=an;if(e){var n=e;if(!uy(t,e)){if(_d(t))throw Error(ae(418));e=Fr(n.nextSibling);var r=un;e&&uy(t,e)?bw(r,n):(t.flags=t.flags&-4097|2,Je=!1,un=t)}}else{if(_d(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Je=!1,un=t}}}function cy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Vl(t){if(t!==un)return!1;if(!Je)return cy(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!md(t.type,t.memoizedProps)),e&&(e=an)){if(_d(t))throw Aw(),Error(ae(418));for(;e;)bw(t,e),e=Fr(e.nextSibling)}if(cy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?Fr(t.stateNode.nextSibling):null;return!0}function Aw(){for(var t=an;t;)t=Fr(t.nextSibling)}function ko(){an=un=null,Je=!1}function tm(t){An===null?An=[t]:An.push(t)}var UO=dr.ReactCurrentBatchConfig;function Ns(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function Fl(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fy(t){var e=t._init;return e(t._payload)}function Iw(t){function e(g,p){if(t){var E=g.deletions;E===null?(g.deletions=[p],g.flags|=16):E.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=$r(g,p),g.index=0,g.sibling=null,g}function o(g,p,E){return g.index=E,t?(E=g.alternate,E!==null?(E=E.index,E<p?(g.flags|=2,p):E):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,E,y){return p===null||p.tag!==6?(p=ph(E,g.mode,y),p.return=g,p):(p=i(p,E),p.return=g,p)}function l(g,p,E,y){var I=E.type;return I===to?h(g,p,E.props.children,y,E.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&fy(I)===p.type)?(y=i(p,E.props),y.ref=Ns(g,p,E),y.return=g,y):(y=lu(E.type,E.key,E.props,null,g.mode,y),y.ref=Ns(g,p,E),y.return=g,y)}function u(g,p,E,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==E.containerInfo||p.stateNode.implementation!==E.implementation?(p=mh(E,g.mode,y),p.return=g,p):(p=i(p,E.children||[]),p.return=g,p)}function h(g,p,E,y,I){return p===null||p.tag!==7?(p=bi(E,g.mode,y,I),p.return=g,p):(p=i(p,E),p.return=g,p)}function f(g,p,E){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ph(""+p,g.mode,E),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pl:return E=lu(p.type,p.key,p.props,null,g.mode,E),E.ref=Ns(g,null,p),E.return=g,E;case eo:return p=mh(p,g.mode,E),p.return=g,p;case Sr:var y=p._init;return f(g,y(p._payload),E)}if(qs(p)||Ps(p))return p=bi(p,g.mode,E,null),p.return=g,p;Fl(g,p)}return null}function d(g,p,E,y){var I=p!==null?p.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:a(g,p,""+E,y);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:return E.key===I?l(g,p,E,y):null;case eo:return E.key===I?u(g,p,E,y):null;case Sr:return I=E._init,d(g,p,I(E._payload),y)}if(qs(E)||Ps(E))return I!==null?null:h(g,p,E,y,null);Fl(g,E)}return null}function m(g,p,E,y,I){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(E)||null,a(p,g,""+y,I);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pl:return g=g.get(y.key===null?E:y.key)||null,l(p,g,y,I);case eo:return g=g.get(y.key===null?E:y.key)||null,u(p,g,y,I);case Sr:var x=y._init;return m(g,p,E,x(y._payload),I)}if(qs(y)||Ps(y))return g=g.get(E)||null,h(p,g,y,I,null);Fl(p,y)}return null}function w(g,p,E,y){for(var I=null,x=null,A=p,S=p=0,P=null;A!==null&&S<E.length;S++){A.index>S?(P=A,A=null):P=A.sibling;var T=d(g,A,E[S],y);if(T===null){A===null&&(A=P);break}t&&A&&T.alternate===null&&e(g,A),p=o(T,p,S),x===null?I=T:x.sibling=T,x=T,A=P}if(S===E.length)return n(g,A),Je&&di(g,S),I;if(A===null){for(;S<E.length;S++)A=f(g,E[S],y),A!==null&&(p=o(A,p,S),x===null?I=A:x.sibling=A,x=A);return Je&&di(g,S),I}for(A=r(g,A);S<E.length;S++)P=m(A,g,S,E[S],y),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?S:P.key),p=o(P,p,S),x===null?I=P:x.sibling=P,x=P);return t&&A.forEach(function(b){return e(g,b)}),Je&&di(g,S),I}function v(g,p,E,y){var I=Ps(E);if(typeof I!="function")throw Error(ae(150));if(E=I.call(E),E==null)throw Error(ae(151));for(var x=I=null,A=p,S=p=0,P=null,T=E.next();A!==null&&!T.done;S++,T=E.next()){A.index>S?(P=A,A=null):P=A.sibling;var b=d(g,A,T.value,y);if(b===null){A===null&&(A=P);break}t&&A&&b.alternate===null&&e(g,A),p=o(b,p,S),x===null?I=b:x.sibling=b,x=b,A=P}if(T.done)return n(g,A),Je&&di(g,S),I;if(A===null){for(;!T.done;S++,T=E.next())T=f(g,T.value,y),T!==null&&(p=o(T,p,S),x===null?I=T:x.sibling=T,x=T);return Je&&di(g,S),I}for(A=r(g,A);!T.done;S++,T=E.next())T=m(A,g,S,T.value,y),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?S:T.key),p=o(T,p,S),x===null?I=T:x.sibling=T,x=T);return t&&A.forEach(function(k){return e(g,k)}),Je&&di(g,S),I}function _(g,p,E,y){if(typeof E=="object"&&E!==null&&E.type===to&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pl:e:{for(var I=E.key,x=p;x!==null;){if(x.key===I){if(I=E.type,I===to){if(x.tag===7){n(g,x.sibling),p=i(x,E.props.children),p.return=g,g=p;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Sr&&fy(I)===x.type){n(g,x.sibling),p=i(x,E.props),p.ref=Ns(g,x,E),p.return=g,g=p;break e}n(g,x);break}else e(g,x);x=x.sibling}E.type===to?(p=bi(E.props.children,g.mode,y,E.key),p.return=g,g=p):(y=lu(E.type,E.key,E.props,null,g.mode,y),y.ref=Ns(g,p,E),y.return=g,g=y)}return s(g);case eo:e:{for(x=E.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===E.containerInfo&&p.stateNode.implementation===E.implementation){n(g,p.sibling),p=i(p,E.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=mh(E,g.mode,y),p.return=g,g=p}return s(g);case Sr:return x=E._init,_(g,p,x(E._payload),y)}if(qs(E))return w(g,p,E,y);if(Ps(E))return v(g,p,E,y);Fl(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,E),p.return=g,g=p):(n(g,p),p=ph(E,g.mode,y),p.return=g,g=p),s(g)):n(g,p)}return _}var Ro=Iw(!0),Ow=Iw(!1),Lu=ii(null),Du=null,uo=null,nm=null;function rm(){nm=uo=Du=null}function im(t){var e=Lu.current;Ye(Lu),t._currentValue=e}function Ed(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){Du=t,nm=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(nm!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(Du===null)throw Error(ae(308));uo=t,Du.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var _i=null;function om(t){_i===null?_i=[t]:_i.push(t)}function Pw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,om(e)):(n.next=i.next,i.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var br=!1;function sm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ar(t,n)}return i=r.interleaved,i===null?(e.next=e,om(r)):(e.next=i.next,i.next=e),r.interleaved=e,ar(t,n)}function nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}function hy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mu(t,e,n,r){var i=t.updateQueue;br=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,h=u=l=null,a=o;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(d=e,m=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(m,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,d=typeof w=="function"?w.call(m,f,d):w,d==null)break e;f=rt({},f,d);break e;case 2:br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ri|=s,t.lanes=s,t.memoizedState=f}}function dy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Wa={},Fn=ii(Wa),Ta=ii(Wa),Sa=ii(Wa);function wi(t){if(t===Wa)throw Error(ae(174));return t}function am(t,e){switch(ze(Sa,e),ze(Ta,t),ze(Fn,Wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:td(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=td(e,t)}Ye(Fn),ze(Fn,e)}function Co(){Ye(Fn),Ye(Ta),Ye(Sa)}function Rw(t){wi(Sa.current);var e=wi(Fn.current),n=td(e,t.type);e!==n&&(ze(Ta,t),ze(Fn,n))}function lm(t){Ta.current===t&&(Ye(Fn),Ye(Ta))}var tt=ii(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lh=[];function um(){for(var t=0;t<lh.length;t++)lh[t]._workInProgressVersionPrimary=null;lh.length=0}var ru=dr.ReactCurrentDispatcher,uh=dr.ReactCurrentBatchConfig,ki=0,nt=null,mt=null,_t=null,Vu=!1,na=!1,ba=0,BO=0;function Lt(){throw Error(ae(321))}function cm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function fm(t,e,n,r,i,o){if(ki=o,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ru.current=t===null||t.memoizedState===null?HO:WO,t=n(r,i),na){o=0;do{if(na=!1,ba=0,25<=o)throw Error(ae(301));o+=1,_t=mt=null,e.updateQueue=null,ru.current=KO,t=n(r,i)}while(na)}if(ru.current=Fu,e=mt!==null&&mt.next!==null,ki=0,_t=mt=nt=null,Vu=!1,e)throw Error(ae(300));return t}function hm(){var t=ba!==0;return ba=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?nt.memoizedState=_t=t:_t=_t.next=t,_t}function _n(){if(mt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=_t===null?nt.memoizedState:_t.next;if(e!==null)_t=e,mt=t;else{if(t===null)throw Error(ae(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},_t===null?nt.memoizedState=_t=t:_t=_t.next=t}return _t}function Aa(t,e){return typeof e=="function"?e(t):e}function ch(t){var e=_n(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((ki&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,nt.lanes|=h,Ri|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Pn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nt.lanes|=o,Ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fh(t){var e=_n(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Pn(o,e.memoizedState)||(Xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Cw(){}function xw(t,e){var n=nt,r=_n(),i=e(),o=!Pn(r.memoizedState,i);if(o&&(r.memoizedState=i,Xt=!0),r=r.queue,dm(Dw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Ia(9,Lw.bind(null,n,r,i,e),void 0,null),wt===null)throw Error(ae(349));ki&30||Nw(n,e,i)}return i}function Nw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lw(t,e,n,r){e.value=n,e.getSnapshot=r,Mw(e)&&jw(t)}function Dw(t,e,n){return n(function(){Mw(e)&&jw(t)})}function Mw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function jw(t){var e=ar(t,1);e!==null&&On(e,t,1,-1)}function py(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},e.queue=t,t=t.dispatch=zO.bind(null,nt,t),[e.memoizedState,t]}function Ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Vw(){return _n().memoizedState}function iu(t,e,n,r){var i=Mn();nt.flags|=t,i.memoizedState=Ia(1|e,n,void 0,r===void 0?null:r)}function Nc(t,e,n,r){var i=_n();r=r===void 0?null:r;var o=void 0;if(mt!==null){var s=mt.memoizedState;if(o=s.destroy,r!==null&&cm(r,s.deps)){i.memoizedState=Ia(e,n,o,r);return}}nt.flags|=t,i.memoizedState=Ia(1|e,n,o,r)}function my(t,e){return iu(8390656,8,t,e)}function dm(t,e){return Nc(2048,8,t,e)}function Fw(t,e){return Nc(4,2,t,e)}function Uw(t,e){return Nc(4,4,t,e)}function Bw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qw(t,e,n){return n=n!=null?n.concat([t]):null,Nc(4,4,Bw.bind(null,e,t),n)}function pm(){}function $w(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zw(t,e){var n=_n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hw(t,e,n){return ki&21?(Pn(n,e)||(n=Y1(),nt.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function qO(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=uh.transition;uh.transition={};try{t(!1),e()}finally{Ue=n,uh.transition=r}}function Ww(){return _n().memoizedState}function $O(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kw(t))Gw(e,n);else if(n=Pw(t,e,n,r),n!==null){var i=Ht();On(n,t,r,i),Qw(n,e,r)}}function zO(t,e,n){var r=qr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kw(t))Gw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,s)){var l=e.interleaved;l===null?(i.next=i,om(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Pw(t,e,i,r),n!==null&&(i=Ht(),On(n,t,r,i),Qw(n,e,r))}}function Kw(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function Gw(t,e){na=Vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hp(t,n)}}var Fu={readContext:yn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},HO={readContext:yn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:my,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,iu(4194308,4,Bw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return iu(4194308,4,t,e)},useInsertionEffect:function(t,e){return iu(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$O.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:py,useDebugValue:pm,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=py(!1),e=t[0];return t=qO.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Mn();if(Je){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),wt===null)throw Error(ae(349));ki&30||Nw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,my(Dw.bind(null,r,o,t),[t]),r.flags|=2048,Ia(9,Lw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mn(),e=wt.identifierPrefix;if(Je){var n=Jn,r=Xn;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WO={readContext:yn,useCallback:$w,useContext:yn,useEffect:dm,useImperativeHandle:qw,useInsertionEffect:Fw,useLayoutEffect:Uw,useMemo:zw,useReducer:ch,useRef:Vw,useState:function(){return ch(Aa)},useDebugValue:pm,useDeferredValue:function(t){var e=_n();return Hw(e,mt.memoizedState,t)},useTransition:function(){var t=ch(Aa)[0],e=_n().memoizedState;return[t,e]},useMutableSource:Cw,useSyncExternalStore:xw,useId:Ww,unstable_isNewReconciler:!1},KO={readContext:yn,useCallback:$w,useContext:yn,useEffect:dm,useImperativeHandle:qw,useInsertionEffect:Fw,useLayoutEffect:Uw,useMemo:zw,useReducer:fh,useRef:Vw,useState:function(){return fh(Aa)},useDebugValue:pm,useDeferredValue:function(t){var e=_n();return mt===null?e.memoizedState=t:Hw(e,mt.memoizedState,t)},useTransition:function(){var t=fh(Aa)[0],e=_n().memoizedState;return[t,e]},useMutableSource:Cw,useSyncExternalStore:xw,useId:Ww,unstable_isNewReconciler:!1};function Sn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Td(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Lc={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=qr(t),o=rr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ur(t,o,i),e!==null&&(On(e,t,i,r),nu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=qr(t),o=rr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ur(t,o,i),e!==null&&(On(e,t,i,r),nu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=qr(t),i=rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,r),e!==null&&(On(e,t,r,n),nu(e,t,r))}};function gy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ya(n,r)||!ya(i,o):!0}function Yw(t,e,n){var r=!1,i=Xr,o=e.contextType;return typeof o=="object"&&o!==null?o=yn(o):(i=Zt(e)?Oi:Ut.current,r=e.contextTypes,o=(r=r!=null)?Po(t,i):Xr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Lc.enqueueReplaceState(e,e.state,null)}function Sd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},sm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=yn(o):(o=Zt(e)?Oi:Ut.current,i.context=Po(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Td(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lc.enqueueReplaceState(i,i.state,null),Mu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e){try{var n="",r=e;do n+=EI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function hh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GO=typeof WeakMap=="function"?WeakMap:Map;function Xw(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,Ld=r),bd(t,e)},n}function Jw(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bd(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function yy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lP.bind(null,t,e,n),e.then(t,t))}function _y(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var QO=dr.ReactCurrentOwner,Xt=!1;function zt(t,e,n,r){e.child=t===null?Ow(e,null,n,r):Ro(e,t.child,n,r)}function Ey(t,e,n,r,i){n=n.render;var o=e.ref;return yo(e,i),r=fm(t,e,n,r,o,i),n=hm(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Je&&n&&Zp(e),e.flags|=1,zt(t,e,r,i),e.child)}function Ty(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Tm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Zw(t,e,o,r,i)):(t=lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(s,r)&&t.ref===e.ref)return lr(t,e,i)}return e.flags|=1,t=$r(o,r),t.ref=e.ref,t.return=e,e.child=t}function Zw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ya(o,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,lr(t,e,i)}return Ad(t,e,n,r,i)}function eE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(fo,sn),sn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(fo,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ze(fo,sn),sn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ze(fo,sn),sn|=r;return zt(t,e,i,n),e.child}function tE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ad(t,e,n,r,i){var o=Zt(n)?Oi:Ut.current;return o=Po(e,o),yo(e,i),n=fm(t,e,n,r,o,i),r=hm(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(Je&&r&&Zp(e),e.flags|=1,zt(t,e,n,i),e.child)}function Sy(t,e,n,r,i){if(Zt(n)){var o=!0;Cu(e)}else o=!1;if(yo(e,i),e.stateNode===null)ou(t,e),Yw(e,n,r),Sd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=Zt(n)?Oi:Ut.current,u=Po(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&vy(e,s,r,u),br=!1;var d=e.memoizedState;s.state=d,Mu(e,r,s,i),l=e.memoizedState,a!==r||d!==l||Jt.current||br?(typeof h=="function"&&(Td(e,n,h,r),l=e.memoizedState),(a=br||gy(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Sn(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Zt(n)?Oi:Ut.current,l=Po(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&vy(e,s,r,l),br=!1,d=e.memoizedState,s.state=d,Mu(e,r,s,i);var w=e.memoizedState;a!==f||d!==w||Jt.current||br?(typeof m=="function"&&(Td(e,n,m,r),w=e.memoizedState),(u=br||gy(e,n,u,r,d,w,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Id(t,e,n,r,o,i)}function Id(t,e,n,r,i,o){tE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ly(e,n,!1),lr(t,e,o);r=e.stateNode,QO.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ro(e,t.child,null,o),e.child=Ro(e,null,a,o)):zt(t,e,a,o),e.memoizedState=r.state,i&&ly(e,n,!0),e.child}function nE(t){var e=t.stateNode;e.pendingContext?ay(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ay(t,e.context,!1),am(t,e.containerInfo)}function by(t,e,n,r,i){return ko(),tm(i),e.flags|=256,zt(t,e,n,r),e.child}var Od={dehydrated:null,treeContext:null,retryLane:0};function Pd(t){return{baseLanes:t,cachePool:null,transitions:null}}function rE(t,e,n){var r=e.pendingProps,i=tt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(tt,i&1),t===null)return wd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=jc(s,r,0,null),t=bi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pd(n),e.memoizedState=Od,t):mm(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YO(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$r(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$r(a,o):(o=bi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Pd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Od,r}return o=t.child,t=o.sibling,r=$r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mm(t,e){return e=jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ul(t,e,n,r){return r!==null&&tm(r),Ro(e,t.child,null,n),t=mm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YO(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=hh(Error(ae(422))),Ul(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=jc({mode:"visible",children:r.children},i,0,null),o=bi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ro(e,t.child,null,s),e.child.memoizedState=Pd(s),e.memoizedState=Od,o);if(!(e.mode&1))return Ul(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ae(419)),r=hh(o,r,void 0),Ul(t,e,s,r)}if(a=(s&t.childLanes)!==0,Xt||a){if(r=wt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ar(t,i),On(r,t,i,-1))}return Em(),r=hh(Error(ae(421))),Ul(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,an=Fr(i.nextSibling),un=e,Je=!0,An=null,t!==null&&(pn[mn++]=Xn,pn[mn++]=Jn,pn[mn++]=Pi,Xn=t.id,Jn=t.overflow,Pi=e),e=mm(e,r.children),e.flags|=4096,e)}function Ay(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ed(t.return,e,n)}function dh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function iE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ay(t,n,e);else if(t.tag===19)Ay(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(tt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ju(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),dh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ju(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}dh(e,!0,n,null,o);break;case"together":dh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ou(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XO(t,e,n){switch(e.tag){case 3:nE(e),ko();break;case 5:Rw(e);break;case 1:Zt(e.type)&&Cu(e);break;case 4:am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Lu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?rE(t,e,n):(ze(tt,tt.current&1),t=lr(t,e,n),t!==null?t.sibling:null);ze(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,eE(t,e,n)}return lr(t,e,n)}var oE,kd,sE,aE;oE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kd=function(){};sE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,wi(Fn.current);var o=null;switch(n){case"input":i=Xh(t,i),r=Xh(t,r),o=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":i=ed(t,i),r=ed(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ku)}nd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};aE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ls(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JO(t,e,n){var r=e.pendingProps;switch(em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return Zt(e.type)&&Ru(),Dt(e),null;case 3:return r=e.stateNode,Co(),Ye(Jt),Ye(Ut),um(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(jd(An),An=null))),kd(t,e),Dt(e),null;case 5:lm(e);var i=wi(Sa.current);if(n=e.type,t!==null&&e.stateNode!=null)sE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return Dt(e),null}if(t=wi(Fn.current),Vl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jn]=e,r[Ea]=o,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(i=0;i<zs.length;i++)Ke(zs[i],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":Lv(r,o),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ke("invalid",r);break;case"textarea":Mv(r,o),Ke("invalid",r)}nd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&jl(r.textContent,a,t),i=["children",""+a]):fa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ke("scroll",r)}switch(n){case"input":kl(r),Dv(r,o,!0);break;case"textarea":kl(r),jv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ku)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=D1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[jn]=e,t[Ea]=r,oE(t,e,!1,!1),e.stateNode=t;e:{switch(s=rd(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),i=r;break;case"iframe":case"object":case"embed":Ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<zs.length;i++)Ke(zs[i],t);i=r;break;case"source":Ke("error",t),i=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=r;break;case"details":Ke("toggle",t),i=r;break;case"input":Lv(t,r),i=Xh(t,r),Ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":Mv(t,r),i=ed(t,r),Ke("invalid",t);break;default:i=r}nd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?V1(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&M1(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ha(t,l):typeof l=="number"&&ha(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ke("scroll",t):l!=null&&Fp(t,o,l,s))}switch(n){case"input":kl(t),Dv(t,r,!1);break;case"textarea":kl(t),jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?po(t,!!r.multiple,o,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ku)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)aE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=wi(Sa.current),wi(Fn.current),Vl(e)){if(r=e.stateNode,n=e.memoizedProps,r[jn]=e,(o=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jn]=e,e.stateNode=r}return Dt(e),null;case 13:if(Ye(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&an!==null&&e.mode&1&&!(e.flags&128))Aw(),ko(),e.flags|=98560,o=!1;else if(o=Vl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ae(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[jn]=e}else ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),o=!1}else An!==null&&(jd(An),An=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?gt===0&&(gt=3):Em())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Co(),kd(t,e),t===null&&_a(e.stateNode.containerInfo),Dt(e),null;case 10:return im(e.type._context),Dt(e),null;case 17:return Zt(e.type)&&Ru(),Dt(e),null;case 19:if(Ye(tt),o=e.memoizedState,o===null)return Dt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ls(o,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ju(t),s!==null){for(e.flags|=128,Ls(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(tt,tt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ut()>No&&(e.flags|=128,r=!0,Ls(o,!1),e.lanes=4194304)}else{if(!r)if(t=ju(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Je)return Dt(e),null}else 2*ut()-o.renderingStartTime>No&&n!==1073741824&&(e.flags|=128,r=!0,Ls(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ut(),e.sibling=null,n=tt.current,ze(tt,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return wm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function ZO(t,e){switch(em(e),e.tag){case 1:return Zt(e.type)&&Ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),Ye(Jt),Ye(Ut),um(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lm(e),null;case 13:if(Ye(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(tt),null;case 4:return Co(),null;case 10:return im(e.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var Bl=!1,Vt=!1,eP=typeof WeakSet=="function"?WeakSet:Set,de=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function Rd(t,e,n){try{n()}catch(r){st(t,e,r)}}var Iy=!1;function tP(t,e){if(dd=Iu,t=hw(),Jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++h===r&&(l=s),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pd={focusedElem:t,selectionRange:n},Iu=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Sn(e.type,v),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(y){st(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return w=Iy,Iy=!1,w}function ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rd(e,n,o)}i=i.next}while(i!==r)}}function Dc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lE(t){var e=t.alternate;e!==null&&(t.alternate=null,lE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jn],delete e[Ea],delete e[vd],delete e[jO],delete e[VO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uE(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ku));else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}function Nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}var bt=null,bn=!1;function wr(t,e,n){for(n=n.child;n!==null;)cE(t,e,n),n=n.sibling}function cE(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Oc,n)}catch{}switch(n.tag){case 5:Vt||co(n,e);case 6:var r=bt,i=bn;bt=null,wr(t,e,n),bt=r,bn=i,bt!==null&&(bn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(bn?(t=bt,n=n.stateNode,t.nodeType===8?sh(t.parentNode,n):t.nodeType===1&&sh(t,n),ga(t)):sh(bt,n.stateNode));break;case 4:r=bt,i=bn,bt=n.stateNode.containerInfo,bn=!0,wr(t,e,n),bt=r,bn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Rd(n,e,s),i=i.next}while(i!==r)}wr(t,e,n);break;case 1:if(!Vt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,wr(t,e,n),Vt=r):wr(t,e,n);break;default:wr(t,e,n)}}function Py(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eP),e.forEach(function(r){var i=cP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,bn=!1;break e;case 3:bt=a.stateNode.containerInfo,bn=!0;break e;case 4:bt=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(bt===null)throw Error(ae(160));cE(o,s,i),bt=null,bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){st(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fE(e,t),e=e.sibling}function fE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Nn(t),r&4){try{ra(3,t,t.return),Dc(3,t)}catch(v){st(t,t.return,v)}try{ra(5,t,t.return)}catch(v){st(t,t.return,v)}}break;case 1:En(e,t),Nn(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(En(e,t),Nn(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{ha(i,"")}catch(v){st(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&N1(i,o),rd(a,s);var u=rd(a,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];h==="style"?V1(i,f):h==="dangerouslySetInnerHTML"?M1(i,f):h==="children"?ha(i,f):Fp(i,h,f,u)}switch(a){case"input":Jh(i,o);break;case"textarea":L1(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?po(i,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?po(i,!!o.multiple,o.defaultValue,!0):po(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ea]=o}catch(v){st(t,t.return,v)}}break;case 6:if(En(e,t),Nn(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){st(t,t.return,v)}}break;case 3:if(En(e,t),Nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ga(e.containerInfo)}catch(v){st(t,t.return,v)}break;case 4:En(e,t),Nn(t);break;case 13:En(e,t),Nn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ym=ut())),r&4&&Py(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||h,En(e,t),Vt=u):En(e,t),Nn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(de=t,h=t.child;h!==null;){for(f=de=h;de!==null;){switch(d=de,m=d.child,d.tag){case 0:case 11:case 14:case 15:ra(4,d,d.return);break;case 1:co(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){st(r,n,v)}}break;case 5:co(d,d.return);break;case 22:if(d.memoizedState!==null){Ry(f);continue}}m!==null?(m.return=d,de=m):Ry(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=j1("display",s))}catch(v){st(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){st(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Nn(t),r&4&&Py(t);break;case 21:break;default:En(e,t),Nn(t)}}function Nn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uE(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ha(i,""),r.flags&=-33);var o=Oy(t);Nd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Oy(t);xd(t,a,s);break;default:throw Error(ae(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nP(t,e,n){de=t,hE(t)}function hE(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Bl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Bl;var u=Vt;if(Bl=s,(Vt=l)&&!u)for(de=i;de!==null;)s=de,l=s.child,s.tag===22&&s.memoizedState!==null?Cy(i):l!==null?(l.return=s,de=l):Cy(i);for(;o!==null;)de=o,hE(o),o=o.sibling;de=i,Bl=a,Vt=u}ky(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,de=o):ky(t)}}function ky(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||Dc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&dy(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dy(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ga(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Vt||e.flags&512&&Cd(e)}catch(d){st(e,e.return,d)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function Ry(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function Cy(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dc(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){st(e,i,l)}}var o=e.return;try{Cd(e)}catch(l){st(e,o,l)}break;case 5:var s=e.return;try{Cd(e)}catch(l){st(e,s,l)}}}catch(l){st(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var rP=Math.ceil,Uu=dr.ReactCurrentDispatcher,gm=dr.ReactCurrentOwner,vn=dr.ReactCurrentBatchConfig,Me=0,wt=null,ht=null,Pt=0,sn=0,fo=ii(0),gt=0,Oa=null,Ri=0,Mc=0,vm=0,ia=null,Qt=null,ym=0,No=1/0,Qn=null,Bu=!1,Ld=null,Br=null,ql=!1,Nr=null,qu=0,oa=0,Dd=null,su=-1,au=0;function Ht(){return Me&6?ut():su!==-1?su:su=ut()}function qr(t){return t.mode&1?Me&2&&Pt!==0?Pt&-Pt:UO.transition!==null?(au===0&&(au=Y1()),au):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:rw(t.type)),t):1}function On(t,e,n,r){if(50<oa)throw oa=0,Dd=null,Error(ae(185));$a(t,n,r),(!(Me&2)||t!==wt)&&(t===wt&&(!(Me&2)&&(Mc|=n),gt===4&&Or(t,Pt)),en(t,r),n===1&&Me===0&&!(e.mode&1)&&(No=ut()+500,xc&&oi()))}function en(t,e){var n=t.callbackNode;UI(t,e);var r=Au(t,t===wt?Pt:0);if(r===0)n!==null&&Uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uv(n),e===1)t.tag===0?FO(xy.bind(null,t)):Tw(xy.bind(null,t)),DO(function(){!(Me&6)&&oi()}),n=null;else{switch(X1(r)){case 1:n=zp;break;case 4:n=G1;break;case 16:n=bu;break;case 536870912:n=Q1;break;default:n=bu}n=wE(n,dE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dE(t,e){if(su=-1,au=0,Me&6)throw Error(ae(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=Au(t,t===wt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$u(t,r);else{e=r;var i=Me;Me|=2;var o=mE();(wt!==t||Pt!==e)&&(Qn=null,No=ut()+500,Si(t,e));do try{sP();break}catch(a){pE(t,a)}while(!0);rm(),Uu.current=o,Me=i,ht!==null?e=0:(wt=null,Pt=0,e=gt)}if(e!==0){if(e===2&&(i=ld(t),i!==0&&(r=i,e=Md(t,i))),e===1)throw n=Oa,Si(t,0),Or(t,r),en(t,ut()),n;if(e===6)Or(t,r);else{if(i=t.current.alternate,!(r&30)&&!iP(i)&&(e=$u(t,r),e===2&&(o=ld(t),o!==0&&(r=o,e=Md(t,o))),e===1))throw n=Oa,Si(t,0),Or(t,r),en(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:pi(t,Qt,Qn);break;case 3:if(Or(t,r),(r&130023424)===r&&(e=ym+500-ut(),10<e)){if(Au(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gd(pi.bind(null,t,Qt,Qn),e);break}pi(t,Qt,Qn);break;case 4:if(Or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-In(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rP(r/1960))-r,10<r){t.timeoutHandle=gd(pi.bind(null,t,Qt,Qn),r);break}pi(t,Qt,Qn);break;case 5:pi(t,Qt,Qn);break;default:throw Error(ae(329))}}}return en(t,ut()),t.callbackNode===n?dE.bind(null,t):null}function Md(t,e){var n=ia;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=$u(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&jd(e)),t}function jd(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function iP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Pn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~vm,e&=~Mc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function xy(t){if(Me&6)throw Error(ae(327));_o();var e=Au(t,0);if(!(e&1))return en(t,ut()),null;var n=$u(t,e);if(t.tag!==0&&n===2){var r=ld(t);r!==0&&(e=r,n=Md(t,r))}if(n===1)throw n=Oa,Si(t,0),Or(t,e),en(t,ut()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,Qt,Qn),en(t,ut()),null}function _m(t,e){var n=Me;Me|=1;try{return t(e)}finally{Me=n,Me===0&&(No=ut()+500,xc&&oi())}}function Ci(t){Nr!==null&&Nr.tag===0&&!(Me&6)&&_o();var e=Me;Me|=1;var n=vn.transition,r=Ue;try{if(vn.transition=null,Ue=1,t)return t()}finally{Ue=r,vn.transition=n,Me=e,!(Me&6)&&oi()}}function wm(){sn=fo.current,Ye(fo)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:Co(),Ye(Jt),Ye(Ut),um();break;case 5:lm(r);break;case 4:Co();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:im(r.type._context);break;case 22:case 23:wm()}n=n.return}if(wt=t,ht=t=$r(t.current,null),Pt=sn=e,gt=0,Oa=null,vm=Mc=Ri=0,Qt=ia=null,_i!==null){for(e=0;e<_i.length;e++)if(n=_i[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}_i=null}return t}function pE(t,e){do{var n=ht;try{if(rm(),ru.current=Fu,Vu){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vu=!1}if(ki=0,_t=mt=nt=null,na=!1,ba=0,gm.current=null,n===null||n.return===null){gt=1,Oa=e,ht=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=_y(s);if(m!==null){m.flags&=-257,wy(m,s,a,o,e),m.mode&1&&yy(o,u,e),e=m,l=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){yy(o,u,e),Em();break e}l=Error(ae(426))}}else if(Je&&a.mode&1){var _=_y(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),wy(_,s,a,o,e),tm(xo(l,a));break e}}o=l=xo(l,a),gt!==4&&(gt=2),ia===null?ia=[o]:ia.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Xw(o,l,e);hy(o,g);break e;case 1:a=l;var p=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Br===null||!Br.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=Jw(o,a,e);hy(o,y);break e}}o=o.return}while(o!==null)}vE(n)}catch(I){e=I,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function mE(){var t=Uu.current;return Uu.current=Fu,t===null?Fu:t}function Em(){(gt===0||gt===3||gt===2)&&(gt=4),wt===null||!(Ri&268435455)&&!(Mc&268435455)||Or(wt,Pt)}function $u(t,e){var n=Me;Me|=2;var r=mE();(wt!==t||Pt!==e)&&(Qn=null,Si(t,e));do try{oP();break}catch(i){pE(t,i)}while(!0);if(rm(),Me=n,Uu.current=r,ht!==null)throw Error(ae(261));return wt=null,Pt=0,gt}function oP(){for(;ht!==null;)gE(ht)}function sP(){for(;ht!==null&&!CI();)gE(ht)}function gE(t){var e=_E(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?vE(t):ht=e,gm.current=null}function vE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ht=null;return}}else if(n=JO(n,e,sn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);gt===0&&(gt=5)}function pi(t,e,n){var r=Ue,i=vn.transition;try{vn.transition=null,Ue=1,aP(t,e,n,r)}finally{vn.transition=i,Ue=r}return null}function aP(t,e,n,r){do _o();while(Nr!==null);if(Me&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(BI(t,o),t===wt&&(ht=wt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ql||(ql=!0,wE(bu,function(){return _o(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vn.transition,vn.transition=null;var s=Ue;Ue=1;var a=Me;Me|=4,gm.current=null,tP(t,n),fE(n,t),OO(pd),Iu=!!dd,pd=dd=null,t.current=n,nP(n),xI(),Me=a,Ue=s,vn.transition=o}else t.current=n;if(ql&&(ql=!1,Nr=t,qu=i),o=t.pendingLanes,o===0&&(Br=null),DI(n.stateNode),en(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,t=Ld,Ld=null,t;return qu&1&&t.tag!==0&&_o(),o=t.pendingLanes,o&1?t===Dd?oa++:(oa=0,Dd=t):oa=0,oi(),null}function _o(){if(Nr!==null){var t=X1(qu),e=vn.transition,n=Ue;try{if(vn.transition=null,Ue=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,qu=0,Me&6)throw Error(ae(331));var i=Me;for(Me|=4,de=t.current;de!==null;){var o=de,s=o.child;if(de.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var h=de;switch(h.tag){case 0:case 11:case 15:ra(8,h,o)}var f=h.child;if(f!==null)f.return=h,de=f;else for(;de!==null;){h=de;var d=h.sibling,m=h.return;if(lE(h),h===u){de=null;break}if(d!==null){d.return=m,de=d;break}de=m}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}de=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,de=s;else e:for(;de!==null;){if(o=de,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ra(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,de=g;break e}de=o.return}}var p=t.current;for(de=p;de!==null;){s=de;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,de=E;else e:for(s=p;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dc(9,a)}}catch(I){st(a,a.return,I)}if(a===s){de=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,de=y;break e}de=a.return}}if(Me=i,oi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Oc,t)}catch{}r=!0}return r}finally{Ue=n,vn.transition=e}}return!1}function Ny(t,e,n){e=xo(n,e),e=Xw(t,e,1),t=Ur(t,e,1),e=Ht(),t!==null&&($a(t,1,e),en(t,e))}function st(t,e,n){if(t.tag===3)Ny(t,t,n);else for(;e!==null;){if(e.tag===3){Ny(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=xo(n,t),t=Jw(e,t,1),e=Ur(e,t,1),t=Ht(),e!==null&&($a(e,1,t),en(e,t));break}}e=e.return}}function lP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(Pt&n)===n&&(gt===4||gt===3&&(Pt&130023424)===Pt&&500>ut()-ym?Si(t,0):vm|=n),en(t,e)}function yE(t,e){e===0&&(t.mode&1?(e=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):e=1);var n=Ht();t=ar(t,e),t!==null&&($a(t,e,n),en(t,n))}function uP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yE(t,n)}function cP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),yE(t,n)}var _E;_E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,XO(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,Je&&e.flags&1048576&&Sw(e,Nu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ou(t,e),t=e.pendingProps;var i=Po(e,Ut.current);yo(e,n),i=fm(null,e,r,t,i,n);var o=hm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(o=!0,Cu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sm(e),i.updater=Lc,e.stateNode=i,i._reactInternals=e,Sd(e,r,t,n),e=Id(null,e,r,!0,o,n)):(e.tag=0,Je&&o&&Zp(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ou(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hP(r),t=Sn(r,t),i){case 0:e=Ad(null,e,r,t,n);break e;case 1:e=Sy(null,e,r,t,n);break e;case 11:e=Ey(null,e,r,t,n);break e;case 14:e=Ty(null,e,r,Sn(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Ad(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Sy(t,e,r,i,n);case 3:e:{if(nE(e),t===null)throw Error(ae(387));r=e.pendingProps,o=e.memoizedState,i=o.element,kw(t,e),Mu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xo(Error(ae(423)),e),e=by(t,e,r,n,i);break e}else if(r!==i){i=xo(Error(ae(424)),e),e=by(t,e,r,n,i);break e}else for(an=Fr(e.stateNode.containerInfo.firstChild),un=e,Je=!0,An=null,n=Ow(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),r===i){e=lr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return Rw(e),t===null&&wd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,md(r,i)?s=null:o!==null&&md(r,o)&&(e.flags|=32),tE(t,e),zt(t,e,s,n),e.child;case 6:return t===null&&wd(e),null;case 13:return rE(t,e,n);case 4:return am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Ey(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ze(Lu,r._currentValue),r._currentValue=s,o!==null)if(Pn(o.value,s)){if(o.children===i.children&&!Jt.current){e=lr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=rr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ed(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ae(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ed(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yo(e,n),i=yn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),Ty(t,e,r,i,n);case 15:return Zw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),ou(t,e),e.tag=1,Zt(r)?(t=!0,Cu(e)):t=!1,yo(e,n),Yw(e,r,i),Sd(e,r,i,n),Id(null,e,r,!0,t,n);case 19:return iE(t,e,n);case 22:return eE(t,e,n)}throw Error(ae(156,e.tag))};function wE(t,e){return K1(t,e)}function fP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,r){return new fP(t,e,n,r)}function Tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hP(t){if(typeof t=="function")return Tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===qp)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Tm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case to:return bi(n.children,i,o,e);case Up:s=8,i|=8;break;case Kh:return t=gn(12,n,e,i|2),t.elementType=Kh,t.lanes=o,t;case Gh:return t=gn(13,n,e,i),t.elementType=Gh,t.lanes=o,t;case Qh:return t=gn(19,n,e,i),t.elementType=Qh,t.lanes=o,t;case R1:return jc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P1:s=10;break e;case k1:s=9;break e;case Bp:s=11;break e;case qp:s=14;break e;case Sr:s=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=gn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function bi(t,e,n,r){return t=gn(7,t,r,e),t.lanes=n,t}function jc(t,e,n,r){return t=gn(22,t,r,e),t.elementType=R1,t.lanes=n,t.stateNode={isHidden:!1},t}function ph(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function mh(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qf(0),this.expirationTimes=Qf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sm(t,e,n,r,i,o,s,a,l){return t=new dP(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sm(o),t}function pP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EE(t){if(!t)return Xr;t=t._reactInternals;e:{if(Bi(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Zt(n))return Ew(t,n,e)}return e}function TE(t,e,n,r,i,o,s,a,l){return t=Sm(n,r,!0,t,i,o,s,a,l),t.context=EE(null),n=t.current,r=Ht(),i=qr(n),o=rr(r,i),o.callback=e??null,Ur(n,o,i),t.current.lanes=i,$a(t,i,r),en(t,r),t}function Vc(t,e,n,r){var i=e.current,o=Ht(),s=qr(i);return n=EE(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(i,e,s),t!==null&&(On(t,i,s,o),nu(t,i,s)),s}function zu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ly(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bm(t,e){Ly(t,e),(t=t.alternate)&&Ly(t,e)}function mP(){return null}var SE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Am(t){this._internalRoot=t}Fc.prototype.render=Am.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Vc(t,e,null,null)};Fc.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){Vc(null,t,null,null)}),e[sr]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&nw(t)}};function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dy(){}function gP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=zu(s);o.call(u)}}var s=TE(e,r,t,0,null,!1,!1,"",Dy);return t._reactRootContainer=s,t[sr]=s.current,_a(t.nodeType===8?t.parentNode:t),Ci(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=zu(l);a.call(u)}}var l=Sm(t,0,!1,null,null,!1,!1,"",Dy);return t._reactRootContainer=l,t[sr]=l.current,_a(t.nodeType===8?t.parentNode:t),Ci(function(){Vc(e,l,n,r)}),l}function Bc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=zu(s);a.call(l)}}Vc(e,s,t,i)}else s=gP(n,e,t,i,r);return zu(s)}J1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$s(e.pendingLanes);n!==0&&(Hp(e,n|1),en(e,ut()),!(Me&6)&&(No=ut()+500,oi()))}break;case 13:Ci(function(){var r=ar(t,1);if(r!==null){var i=Ht();On(r,t,1,i)}}),bm(t,1)}};Wp=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=Ht();On(e,t,134217728,n)}bm(t,134217728)}};Z1=function(t){if(t.tag===13){var e=qr(t),n=ar(t,e);if(n!==null){var r=Ht();On(n,t,e,r)}bm(t,e)}};ew=function(){return Ue};tw=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};od=function(t,e,n){switch(e){case"input":if(Jh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cc(r);if(!i)throw Error(ae(90));x1(r),Jh(r,i)}}}break;case"textarea":L1(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};B1=_m;q1=Ci;var vP={usingClientEntryPoint:!1,Events:[Ha,oo,Cc,F1,U1,_m]},Ds={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yP={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=H1(t),t===null?null:t.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||mP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Oc=$l.inject(yP),Vn=$l}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Im(e))throw Error(ae(200));return pP(t,e,null,n)};hn.createRoot=function(t,e){if(!Im(t))throw Error(ae(299));var n=!1,r="",i=SE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sm(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,_a(t.nodeType===8?t.parentNode:t),new Am(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=H1(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Ci(t)};hn.hydrate=function(t,e,n){if(!Uc(e))throw Error(ae(200));return Bc(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!Im(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=SE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=TE(e,null,t,1,n??null,i,!1,o,s),t[sr]=e.current,_a(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fc(e)};hn.render=function(t,e,n){if(!Uc(e))throw Error(ae(200));return Bc(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Uc(t))throw Error(ae(40));return t._reactRootContainer?(Ci(function(){Bc(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};hn.unstable_batchedUpdates=_m;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uc(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Bc(t,e,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function bE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bE)}catch(t){console.error(t)}}bE(),b1.exports=hn;var AE=b1.exports,My=AE;Hh.createRoot=My.createRoot,Hh.hydrateRoot=My.hydrateRoot;var IE={exports:{}},qc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P=ie,wP=Symbol.for("react.element"),EP=Symbol.for("react.fragment"),TP=Object.prototype.hasOwnProperty,SP=_P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bP={key:!0,ref:!0,__self:!0,__source:!0};function OE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)TP.call(e,r)&&!bP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wP,type:t,key:o,ref:s,props:i,_owner:SP.current}}qc.Fragment=EP;qc.jsx=OE;qc.jsxs=OE;IE.exports=qc;var G=IE.exports;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const jy="popstate";function AP(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Vd("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Hu(i)}return OP(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IP(){return Math.random().toString(36).substr(2,8)}function Vy(t,e){return{usr:t.state,key:t.key,idx:e}}function Vd(t,e,n,r){return n===void 0&&(n=null),Pa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||IP()})}function Hu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Lr.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(Pa({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function f(){a=Lr.Pop;let _=h(),g=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:g})}function d(_,g){a=Lr.Push;let p=Vd(v.location,_,g);u=h()+1;let E=Vy(p,u),y=v.createHref(p);try{s.pushState(E,"",y)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(y)}o&&l&&l({action:a,location:v.location,delta:1})}function m(_,g){a=Lr.Replace;let p=Vd(v.location,_,g);u=h();let E=Vy(p,u),y=v.createHref(p);s.replaceState(E,"",y),o&&l&&l({action:a,location:v.location,delta:0})}function w(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:Hu(_);return p=p.replace(/ $/,"%20"),ct(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(jy,f),l=_,()=>{i.removeEventListener(jy,f),l=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let g=w(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(_){return s.go(_)}};return v}var Fy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fy||(Fy={}));function PP(t,e,n){return n===void 0&&(n="/"),kP(t,e,n,!1)}function kP(t,e,n,r){let i=typeof e=="string"?Xo(e):e,o=Om(i.pathname||"/",n);if(o==null)return null;let s=kE(t);RP(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=BP(o);a=FP(s[l],u,r)}return a}function kE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=zr([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(ct(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kE(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:jP(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of RE(o.path))i(o,s,l)}),e}function RE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=RE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CP=/^:[\w-]+$/,xP=3,NP=2,LP=1,DP=10,MP=-2,Uy=t=>t==="*";function jP(t,e){let n=t.split("/"),r=n.length;return n.some(Uy)&&(r+=MP),e&&(r+=NP),n.filter(i=>!Uy(i)).reduce((i,o)=>i+(CP.test(o)?xP:o===""?LP:DP),r)}function VP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FP(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=By({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),d=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=By({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:zr([o,f.pathname]),pathnameBase:HP(zr([o,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(o=zr([o,f.pathnameBase]))}return s}function By(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:d,isOptional:m}=h;if(d==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[f];return m&&!w?u[d]=void 0:u[d]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function UP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Om(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:$P(n,e):e,search:WP(r),hash:KP(i)}}function $P(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(t,e){let n=zP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function km(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xo(t):(i=Pa({},t),ct(!i.pathname||!i.pathname.includes("?"),gh("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),gh("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),gh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=qP(i,a),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),HP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CE=["post","put","patch","delete"];new Set(CE);const QP=["get",...CE];new Set(QP);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}const Rm=ie.createContext(null),YP=ie.createContext(null),si=ie.createContext(null),$c=ie.createContext(null),pr=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),xE=ie.createContext(null);function XP(t,e){let{relative:n}=e===void 0?{}:e;Jo()||ct(!1);let{basename:r,navigator:i}=ie.useContext(si),{hash:o,pathname:s,search:a}=DE(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:zr([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Jo(){return ie.useContext($c)!=null}function Ka(){return Jo()||ct(!1),ie.useContext($c).location}function NE(t){ie.useContext(si).static||ie.useLayoutEffect(t)}function qi(){let{isDataRoute:t}=ie.useContext(pr);return t?ck():JP()}function JP(){Jo()||ct(!1);let t=ie.useContext(Rm),{basename:e,future:n,navigator:r}=ie.useContext(si),{matches:i}=ie.useContext(pr),{pathname:o}=Ka(),s=JSON.stringify(Pm(i,n.v7_relativeSplatPath)),a=ie.useRef(!1);return NE(()=>{a.current=!0}),ie.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=km(u,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:zr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,s,o,t])}function LE(){let{matches:t}=ie.useContext(pr),e=t[t.length-1];return e?e.params:{}}function DE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ie.useContext(si),{matches:i}=ie.useContext(pr),{pathname:o}=Ka(),s=JSON.stringify(Pm(i,r.v7_relativeSplatPath));return ie.useMemo(()=>km(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function ZP(t,e){return ek(t,e)}function ek(t,e,n,r){Jo()||ct(!1);let{navigator:i}=ie.useContext(si),{matches:o}=ie.useContext(pr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ka(),h;if(e){var f;let _=typeof e=="string"?Xo(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||ct(!1),h=_}else h=u;let d=h.pathname||"/",m=d;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=PP(t,{pathname:m}),v=ok(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:zr([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:zr([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&v?ie.createElement($c.Provider,{value:{location:ka({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Lr.Pop}},v):v}function tk(){let t=uk(),e=GP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),n?ie.createElement("pre",{style:i},n):null,null)}const nk=ie.createElement(tk,null);class rk extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ie.createElement(pr.Provider,{value:this.props.routeContext},ie.createElement(xE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ik(t){let{routeContext:e,match:n,children:r}=t,i=ie.useContext(Rm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ie.createElement(pr.Provider,{value:e},r)}function ok(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ct(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:m}=n,w=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,d)=>{let m,w=!1,v=null,_=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||nk,l&&(u<0&&d===0?(w=!0,_=null):u===d&&(w=!0,_=f.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let E;return m?E=v:w?E=_:f.route.Component?E=ie.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,ie.createElement(ik,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ie.createElement(rk,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var ME=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ME||{}),Wu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wu||{});function sk(t){let e=ie.useContext(Rm);return e||ct(!1),e}function ak(t){let e=ie.useContext(YP);return e||ct(!1),e}function lk(t){let e=ie.useContext(pr);return e||ct(!1),e}function jE(t){let e=lk(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function uk(){var t;let e=ie.useContext(xE),n=ak(Wu.UseRouteError),r=jE(Wu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ck(){let{router:t}=sk(ME.UseNavigateStable),e=jE(Wu.UseNavigateStable),n=ie.useRef(!1);return NE(()=>{n.current=!0}),ie.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ka({fromRouteId:e},o)))},[t,e])}function fk(t){let{to:e,replace:n,state:r,relative:i}=t;Jo()||ct(!1);let{future:o,static:s}=ie.useContext(si),{matches:a}=ie.useContext(pr),{pathname:l}=Ka(),u=qi(),h=km(e,Pm(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return ie.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Tn(t){ct(!1)}function hk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Lr.Pop,navigator:o,static:s=!1,future:a}=t;Jo()&&ct(!1);let l=e.replace(/^\/*/,"/"),u=ie.useMemo(()=>({basename:l,navigator:o,static:s,future:ka({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Xo(r));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:w="default"}=r,v=ie.useMemo(()=>{let _=Om(h,l);return _==null?null:{location:{pathname:_,search:f,hash:d,state:m,key:w},navigationType:i}},[l,h,f,d,m,w,i]);return v==null?null:ie.createElement(si.Provider,{value:u},ie.createElement($c.Provider,{children:n,value:v}))}function dk(t){let{children:e,location:n}=t;return ZP(Fd(e),n)}new Promise(()=>{});function Fd(t,e){e===void 0&&(e=[]);let n=[];return ie.Children.forEach(t,(r,i)=>{if(!ie.isValidElement(r))return;let o=[...e,i];if(r.type===ie.Fragment){n.push.apply(n,Fd(r.props.children,o));return}r.type!==Tn&&ct(!1),!r.props.index||!r.props.children||ct(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fd(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function pk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gk(t,e){return t.button===0&&(!e||e==="_self")&&!mk(t)}const vk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yk="6";try{window.__reactRouterVersion=yk}catch{}const _k="startTransition",qy=pI[_k];function wk(t){let{basename:e,children:n,future:r,window:i}=t,o=ie.useRef();o.current==null&&(o.current=AP({window:i,v5Compat:!0}));let s=o.current,[a,l]=ie.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=ie.useCallback(f=>{u&&qy?qy(()=>l(f)):l(f)},[l,u]);return ie.useLayoutEffect(()=>s.listen(h),[s,h]),ie.createElement(hk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const Ek=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mi=ie.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:f}=e,d=pk(e,vk),{basename:m}=ie.useContext(si),w,v=!1;if(typeof u=="string"&&Tk.test(u)&&(w=u,Ek))try{let E=new URL(window.location.href),y=u.startsWith("//")?new URL(E.protocol+u):new URL(u),I=Om(y.pathname,m);y.origin===E.origin&&I!=null?u=I+y.search+y.hash:v=!0}catch{}let _=XP(u,{relative:i}),g=Sk(u,{replace:s,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:f});function p(E){r&&r(E),E.defaultPrevented||g(E)}return ie.createElement("a",Ud({},d,{href:w||_,onClick:v||o?r:p,ref:n,target:l}))});var $y;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($y||($y={}));var zy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zy||(zy={}));function Sk(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=qi(),u=Ka(),h=DE(t,{relative:s});return ie.useCallback(f=>{if(gk(f,n)){f.preventDefault();let d=r!==void 0?r:Hu(u)===Hu(h);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,h,r,i,n,t,o,s,a])}var Hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Ak;const d=o<<2|a>>4;if(r.push(d),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ik=function(t){const e=VE(t);return FE.encodeByteArray(e,!0)},Ku=function(t){return Ik(t).replace(/\./g,"")},UE=function(t){try{return FE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=()=>Ok().__FIREBASE_DEFAULTS__,kk=()=>{if(typeof process>"u"||typeof Hy>"u")return;const t=Hy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Rk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UE(t[1]);return e&&JSON.parse(e)},zc=()=>{try{return Pk()||kk()||Rk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BE=t=>{var e,n;return(n=(e=zc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ck=t=>{const e=BE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qE=()=>{var t;return(t=zc())===null||t===void 0?void 0:t.config},$E=t=>{var e;return(e=zc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ku(JSON.stringify(n)),Ku(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function Dk(){var t;const e=(t=zc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fk(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Uk(){return!Dk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bk(){try{return typeof indexedDB=="object"}catch{return!1}}function qk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$k,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ga.prototype.create)}}class Ga{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?zk(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mr(i,a,r)}}function zk(t,e){return t.replace(Hk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Hk=/\{\$([^}]+)}/g;function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Wy(o)&&Wy(s)){if(!Gu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Wy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ws(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Kk(t,e){const n=new Gk(t,e);return n.subscribe.bind(n)}class Gk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vh),i.error===void 0&&(i.error=vh),i.complete===void 0&&(i.complete=vh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jk(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xk(t){return t===gi?void 0:t}function Jk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const eR={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},tR=Ne.INFO,nR={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},rR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=rR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const iR=(t,e)=>e.some(n=>t instanceof n);let Ky,Gy;function oR(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sR(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,Bd=new WeakMap,HE=new WeakMap,yh=new WeakMap,xm=new WeakMap;function aR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Hr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zE.set(n,t)}).catch(()=>{}),xm.set(e,t),e}function lR(t){if(Bd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Bd.set(t,e)}let qd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||HE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uR(t){qd=t(qd)}function cR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_h(this),e,...n);return HE.set(r,e.sort?e.sort():[e]),Hr(r)}:sR().includes(t)?function(...e){return t.apply(_h(this),e),Hr(zE.get(this))}:function(...e){return Hr(t.apply(_h(this),e))}}function fR(t){return typeof t=="function"?cR(t):(t instanceof IDBTransaction&&lR(t),iR(t,oR())?new Proxy(t,qd):t)}function Hr(t){if(t instanceof IDBRequest)return aR(t);if(yh.has(t))return yh.get(t);const e=fR(t);return e!==t&&(yh.set(t,e),xm.set(e,t)),e}const _h=t=>xm.get(t);function hR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Hr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Hr(s.result),l.oldVersion,l.newVersion,Hr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dR=["get","getKey","getAll","getAllKeys","count"],pR=["put","add","delete","clear"],wh=new Map;function Qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dR.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return wh.set(e,o),o}uR(t=>({...t,get:(e,n,r)=>Qy(e,n)||t.get(e,n,r),has:(e,n)=>!!Qy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $d="@firebase/app",Yy="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Cm("@firebase/app"),vR="@firebase/app-compat",yR="@firebase/analytics-compat",_R="@firebase/analytics",wR="@firebase/app-check-compat",ER="@firebase/app-check",TR="@firebase/auth",SR="@firebase/auth-compat",bR="@firebase/database",AR="@firebase/database-compat",IR="@firebase/functions",OR="@firebase/functions-compat",PR="@firebase/installations",kR="@firebase/installations-compat",RR="@firebase/messaging",CR="@firebase/messaging-compat",xR="@firebase/performance",NR="@firebase/performance-compat",LR="@firebase/remote-config",DR="@firebase/remote-config-compat",MR="@firebase/storage",jR="@firebase/storage-compat",VR="@firebase/firestore",FR="@firebase/vertexai-preview",UR="@firebase/firestore-compat",BR="firebase",qR="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",$R={[$d]:"fire-core",[vR]:"fire-core-compat",[_R]:"fire-analytics",[yR]:"fire-analytics-compat",[ER]:"fire-app-check",[wR]:"fire-app-check-compat",[TR]:"fire-auth",[SR]:"fire-auth-compat",[bR]:"fire-rtdb",[AR]:"fire-rtdb-compat",[IR]:"fire-fn",[OR]:"fire-fn-compat",[PR]:"fire-iid",[kR]:"fire-iid-compat",[RR]:"fire-fcm",[CR]:"fire-fcm-compat",[xR]:"fire-perf",[NR]:"fire-perf-compat",[LR]:"fire-rc",[DR]:"fire-rc-compat",[MR]:"fire-gcs",[jR]:"fire-gcs-compat",[VR]:"fire-fst",[UR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[BR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,zR=new Map,Hd=new Map;function Xy(t,e){try{t.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(Hd.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;Hd.set(e,t);for(const n of Qu.values())Xy(n,t);for(const n of zR.values())Xy(n,t);return!0}function Nm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new Ga("app","Firebase",HR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=qR;function WE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Wr.create("bad-app-name",{appName:String(i)});if(n||(n=qE()),!n)throw Wr.create("no-options");const o=Qu.get(i);if(o){if(Gu(n,o.options)&&Gu(r,o.config))return o;throw Wr.create("duplicate-app",{appName:i})}const s=new Zk(i);for(const l of Hd.values())s.addComponent(l);const a=new WR(n,r,s);return Qu.set(i,a),a}function KE(t=zd){const e=Qu.get(t);if(!e&&t===zd&&qE())return WE();if(!e)throw Wr.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=$R[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(a.join(" "));return}Lo(new xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebase-heartbeat-database",GR=1,Ra="firebase-heartbeat-store";let Eh=null;function GE(){return Eh||(Eh=hR(KR,GR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wr.create("idb-open",{originalErrorMessage:t.message})})),Eh}async function QR(t){try{const n=(await GE()).transaction(Ra),r=await n.objectStore(Ra).get(QE(t));return await n.done,r}catch(e){if(e instanceof mr)ur.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function Jy(t,e){try{const r=(await GE()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,QE(t)),await r.done}catch(n){if(n instanceof mr)ur.warn(n.message);else{const r=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(r.message)}}}function QE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1024,XR=30*24*60*60*1e3;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Zy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=XR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zy(),{heartbeatsToSend:r,unsentEntries:i}=ZR(this._heartbeatsCache.heartbeats),o=Ku(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ur.warn(n),""}}}function Zy(){return new Date().toISOString().substring(0,10)}function ZR(t,e=YR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),e_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bk()?qk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function e_(t){return Ku(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){Lo(new xi("platform-logger",e=>new mR(e),"PRIVATE")),Lo(new xi("heartbeat",e=>new JR(e),"PRIVATE")),Kr($d,Yy,t),Kr($d,Yy,"esm2017"),Kr("fire-js","")}tC("");function Lm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nC=YE,XE=new Ga("auth","Firebase",YE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Cm("@firebase/auth");function rC(t,...e){Yu.logLevel<=Ne.WARN&&Yu.warn(`Auth (${Zo}): ${t}`,...e)}function uu(t,...e){Yu.logLevel<=Ne.ERROR&&Yu.error(`Auth (${Zo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw Dm(t,...e)}function Un(t,...e){return Dm(t,...e)}function JE(t,e,n){const r=Object.assign(Object.assign({},nC()),{[e]:n});return new Ga("auth","Firebase",r).create(e,{appName:t.name})}function Gr(t){return JE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XE.create(t,...e)}function _e(t,e,...n){if(!t)throw Dm(e,...n)}function er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uu(e),new Error(e)}function cr(t,e){t||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iC(){return t_()==="http:"||t_()==="https:"}function t_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iC()||jk()||"connection"in navigator)?navigator.onLine:!0}function sC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=Lk()||Vk()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new Ya(3e4,6e4);function $i(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ai(t,e,n,r,i={}){return eT(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Qa(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return Mk()||(u.referrerPolicy="no-referrer"),ZE.fetch()(tT(t,t.config.apiHost,n,a),u)})}async function eT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aC),e);try{const i=new cC(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw zl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw zl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw zl(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JE(t,h,u);kn(t,h)}}catch(i){if(i instanceof mr)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function Hc(t,e,n,r,i={}){const o=await ai(t,e,n,r,i);return"mfaPendingCredential"in o&&kn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function tT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mm(t.config,i):`${t.config.apiScheme}://${i}`}function uC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),lC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Un(t,e,r);return i.customData._tokenResponse=n,i}function n_(t){return t!==void 0&&t.enterprise!==void 0}class fC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hC(t,e){return ai(t,"GET","/v2/recaptchaConfig",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,e){return ai(t,"POST","/v1/accounts:delete",e)}async function nT(t,e){return ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pC(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=jm(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sa(Th(i.auth_time)),issuedAtTime:sa(Th(i.iat)),expirationTime:sa(Th(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Th(t){return Number(t)*1e3}function jm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uu("JWT malformed, contained fewer than 3 sections"),null;try{const i=UE(n);return i?JSON.parse(i):(uu("Failed to decode base64 JWT payload"),null)}catch(i){return uu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function r_(t){const e=jm(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&mC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ca(t,nT(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rT(o.providerUserInfo):[],a=yC(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kd(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function vC(t){const e=Et(t);await Xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rT(t){return t.map(e=>{var{providerId:n}=e,r=Lm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e){const n=await eT(t,{},async()=>{const r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=tT(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZE.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wC(t,e){return ai(t,"POST","/v2/accounts:revokeToken",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=r_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await _C(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new wo;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Lm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pC(this,e)}reload(){return vC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Gr(this.auth));const e=await this.getIdToken();return await Ca(this,dC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:y,isAnonymous:I,providerData:x,stsTokenManager:A}=n;_e(E&&A,e,"internal-error");const S=wo.fromJSON(this.name,A);_e(typeof E=="string",e,"internal-error"),Er(f,e.name),Er(d,e.name),_e(typeof y=="boolean",e,"internal-error"),_e(typeof I=="boolean",e,"internal-error"),Er(m,e.name),Er(w,e.name),Er(v,e.name),Er(_,e.name),Er(g,e.name),Er(p,e.name);const P=new tr({uid:E,auth:e,email:d,emailVerified:y,displayName:f,isAnonymous:I,photoURL:w,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:p});return x&&Array.isArray(x)&&(P.providerData=x.map(T=>Object.assign({},T))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new wo;i.updateFromServerResponse(n);const o=new tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?rT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new wo;a.updateFromIdToken(r);const l=new tr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Kd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;function nr(t){cr(t instanceof Function,"Expected a class definition");let e=i_.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const o_=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e,n){return`firebase:${t}:${e}:${n}`}class Eo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cu(this.userKey,i.apiKey,o),this.fullPersistenceKey=cu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Eo(nr(o_),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||nr(o_);const s=cu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const f=tr._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Eo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Eo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cT(e))return"Blackberry";if(fT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(uT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oT(t=Bt()){return/firefox\//i.test(t)}function sT(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(t=Bt()){return/crios\//i.test(t)}function lT(t=Bt()){return/iemobile/i.test(t)}function uT(t=Bt()){return/android/i.test(t)}function cT(t=Bt()){return/blackberry/i.test(t)}function fT(t=Bt()){return/webos/i.test(t)}function Vm(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EC(t=Bt()){var e;return Vm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TC(){return Fk()&&document.documentMode===10}function hT(t=Bt()){return Vm(t)||uT(t)||fT(t)||cT(t)||/windows phone/i.test(t)||lT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(t,e=[]){let n;switch(t){case"Browser":n=s_(Bt());break;case"Worker":n=`${s_(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e={}){return ai(t,"GET","/v2/passwordPolicy",$i(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=6;class IC{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:AC,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a_(this),this.idTokenSubscription=new a_(this),this.beforeStateQueue=new SC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nT(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Gr(this));const n=e?Et(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bC(this),n=new IC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ga("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function es(t){return Et(t)}class a_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kk(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PC(t){Wc=t}function pT(t){return Wc.loadJS(t)}function kC(){return Wc.recaptchaEnterpriseScript}function RC(){return Wc.gapiScript}function CC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const xC="recaptcha-enterprise",NC="NO_RECAPTCHA";class LC{constructor(e){this.type=xC,this.auth=es(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{hC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new fC(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;n_(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(NC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&n_(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=kC();l.length!==0&&(l+=a),pT(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function l_(t,e,n,r=!1){const i=new LC(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function u_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await l_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await l_(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){const n=Nm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Gu(o,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function MC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jC(t,e,n){const r=es(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=mT(e),{host:s,port:a}=VC(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),FC()}function mT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VC(t){const e=mT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:c_(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:c_(s)}}}function c_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function UC(t,e){return ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(t,e){return Hc(t,"POST","/v1/accounts:signInWithPassword",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(t,e){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}async function $C(t,e){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Fm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xa(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xa(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,n,"signInWithPassword",BC);case"emailLink":return qC(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,r,"signUpPassword",UC);case"emailLink":return $C(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return Hc(t,"POST","/v1/accounts:signInWithIdp",$i(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="http://localhost";class Ni extends Fm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Lm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ni(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,To(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:zC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WC(t){const e=Hs(Ws(t)).link,n=e?Hs(Ws(e)).deep_link_id:null,r=Hs(Ws(t)).deep_link_id;return(r?Hs(Ws(r)).link:null)||r||n||e||t}class Um{constructor(e){var n,r,i,o,s,a;const l=Hs(Ws(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=HC((i=l.mode)!==null&&i!==void 0?i:null);_e(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=WC(e);try{return new Um(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.providerId=ts.PROVIDER_ID}static credential(e,n){return xa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Um.parseLink(n);return _e(r,"argument-error"),xa._fromEmailAndCode(e,r.code,r.tenantId)}}ts.PROVIDER_ID="password";ts.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ts.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends gT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Xa{constructor(){super("facebook.com")}static credential(e){return Ni._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Xa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ni._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Xa{constructor(){super("github.com")}static credential(e){return Ni._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Xa{constructor(){super("twitter.com")}static credential(e,n){return Ni._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await tr._fromIdTokenResponse(e,r,i),s=f_(r);return new Do({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=f_(r);return new Do({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function f_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ju(e,n,r,i)}}function vT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(t,o,e,r):o})}async function KC(t,e,n=!1){const r=await Ca(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(Gr(r));const i="reauthenticate";try{const o=await Ca(t,vT(r,i,e,t),n);_e(o.idToken,r,"internal-error");const s=jm(o.idToken);_e(s,r,"internal-error");const{sub:a}=s;return _e(t.uid===a,r,"user-mismatch"),Do._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(t,e,n=!1){if(Zn(t.app))return Promise.reject(Gr(t));const r="signIn",i=await vT(t,r,e),o=await Do._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function QC(t,e){return yT(es(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t){const e=es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function XC(t,e,n){return Zn(t.app)?Promise.reject(Gr(t)):QC(Et(t),ts.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&YC(t),r})}function JC(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function ZC(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function ex(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function _T(t){return Et(t).signOut()}const Zu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zu,"1"),this.storage.removeItem(Zu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=1e3,nx=10;class ET extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);TC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nx):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ET.type="LOCAL";const rx=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TT.type="SESSION";const ST=TT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await ix(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Bm("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(){return window}function sx(t){Bn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function ax(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ux(){return bT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",cx=1,ec="firebaseLocalStorage",IT="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gc(t,e){return t.transaction([ec],e?"readwrite":"readonly").objectStore(ec)}function fx(){const t=indexedDB.deleteDatabase(AT);return new Ja(t).toPromise()}function Gd(){const t=indexedDB.open(AT,cx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ec,{keyPath:IT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ec)?e(r):(r.close(),await fx(),e(await Gd()))})})}async function h_(t,e,n){const r=Gc(t,!0).put({[IT]:e,value:n});return new Ja(r).toPromise()}async function hx(t,e){const n=Gc(t,!1).get(e),r=await new Ja(n).toPromise();return r===void 0?null:r.value}function d_(t,e){const n=Gc(t,!0).delete(e);return new Ja(n).toPromise()}const dx=800,px=3;class OT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>px)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(ux()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ax(),!this.activeServiceWorker)return;this.sender=new ox(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gd();return await h_(e,Zu,"1"),await d_(e,Zu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>h_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Gc(i,!1).getAll();return new Ja(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}OT.type="LOCAL";const mx=OT;new Ya(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t,e){return e?nr(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm extends Fm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vx(t){return yT(t.auth,new qm(t),t.bypassAuthState)}function yx(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),GC(n,new qm(t),t.bypassAuthState)}async function _x(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),KC(n,new qm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vx;case"linkViaPopup":case"linkViaRedirect":return _x;case"reauthViaPopup":case"reauthViaRedirect":return yx;default:kn(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new Ya(2e3,1e4);class ho extends PT{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wx.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="pendingRedirect",fu=new Map;class Tx extends PT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fu.get(this.auth._key());if(!e){try{const r=await Sx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fu.set(this.auth._key(),e)}return this.bypassAuthState||fu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sx(t,e){const n=Ix(e),r=Ax(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bx(t,e){fu.set(t._key(),e)}function Ax(t){return nr(t._redirectPersistence)}function Ix(t){return cu(Ex,t.config.apiKey,t.name)}async function Ox(t,e,n=!1){if(Zn(t.app))return Promise.reject(Gr(t));const r=es(t),i=gx(r,e),s=await new Tx(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=10*60*1e3;class kx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Px&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Rx(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cx(t,e={}){return ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nx=/^https?/;async function Lx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Cx(t);for(const n of e)try{if(Dx(n))return}catch{}kn(t,"unauthorized-domain")}function Dx(t){const e=Wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Nx.test(n))return!1;if(xx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Ya(3e4,6e4);function m_(){const t=Bn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jx(t){return new Promise((e,n)=>{var r,i,o;function s(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),n(Un(t,"network-request-failed"))},timeout:Mx.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Bn().gapi)===null||o===void 0)&&o.load)s();else{const a=CC("iframefcb");return Bn()[a]=()=>{gapi.load?s():n(Un(t,"network-request-failed"))},pT(`${RC()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw hu=null,e})}let hu=null;function Vx(t){return hu=hu||jx(t),hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=new Ya(5e3,15e3),Ux="__/auth/iframe",Bx="emulator/auth/iframe",qx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zx(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mm(e,Bx):`https://${t.config.authDomain}/${Ux}`,r={apiKey:e.apiKey,appName:t.name,v:Zo},i=$x.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Qa(r).slice(1)}`}async function Hx(t){const e=await Vx(t),n=Bn().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:zx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qx,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Un(t,"network-request-failed"),a=Bn().setTimeout(()=>{o(s)},Fx.get());function l(){Bn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kx=500,Gx=600,Qx="_blank",Yx="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xx(t,e,n,r=Kx,i=Gx){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Wx),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Bt().toLowerCase();n&&(a=aT(u)?Qx:n),oT(u)&&(e=e||Yx,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[m,w])=>`${d}${m}=${w},`,"");if(EC(u)&&a!=="_self")return Jx(e||"",a),new g_(null);const f=window.open(e||"",a,h);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new g_(f)}function Jx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="__/auth/handler",eN="emulator/auth/handler",tN=encodeURIComponent("fac");async function v_(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zo,eventId:i};if(e instanceof gT){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Wk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(e instanceof Xa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${tN}=${encodeURIComponent(l)}`:"";return`${nN(t)}?${Qa(a).slice(1)}${u}`}function nN({config:t}){return t.emulator?Mm(t,eN):`https://${t.authDomain}/${Zx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="webStorageSupport";class rN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=Ox,this._overrideRedirectResult=bx}async _openPopup(e,n,r,i){var o;cr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await v_(e,n,r,Wd(),i);return Xx(e,s,Bm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await v_(e,n,r,Wd(),i);return sx(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(cr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Hx(e),r=new kx(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sh,{type:Sh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Sh];s!==void 0&&n(!!s),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||Vm()}}const iN=rN;var y_="@firebase/auth",__="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aN(t){Lo(new xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(t)},u=new OC(r,i,o,l);return MC(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lo(new xi("auth-internal",e=>{const n=es(e.getProvider("auth").getImmediate());return(r=>new oN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(y_,__,sN(t)),Kr(y_,__,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=5*60,uN=$E("authIdTokenMaxAge")||lN;let w_=null;const cN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>uN)return;const i=n==null?void 0:n.token;w_!==i&&(w_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function fN(t=KE()){const e=Nm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DC(t,{popupRedirectResolver:iN,persistence:[mx,rx,ST]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=cN(o.toString());ZC(n,s,()=>s(n.currentUser)),JC(n,a=>s(a))}}const i=BE("auth");return i&&jC(n,`http://${i}`),n}function hN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Un("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",hN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aN("Browser");var dN="firebase",pN="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(dN,pN,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ai,RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function P(){}P.prototype=S.prototype,A.D=S.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(T,b,k){for(var R=Array(arguments.length-2),L=2;L<arguments.length;L++)R[L-2]=arguments[L];return S.prototype[b].apply(T,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,P){P||(P=0);var T=Array(16);if(typeof S=="string")for(var b=0;16>b;++b)T[b]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(b=0;16>b;++b)T[b]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=A.g[0],P=A.g[1],b=A.g[2];var k=A.g[3],R=S+(k^P&(b^k))+T[0]+3614090360&4294967295;S=P+(R<<7&4294967295|R>>>25),R=k+(b^S&(P^b))+T[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=b+(P^k&(S^P))+T[2]+606105819&4294967295,b=k+(R<<17&4294967295|R>>>15),R=P+(S^b&(k^S))+T[3]+3250441966&4294967295,P=b+(R<<22&4294967295|R>>>10),R=S+(k^P&(b^k))+T[4]+4118548399&4294967295,S=P+(R<<7&4294967295|R>>>25),R=k+(b^S&(P^b))+T[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=b+(P^k&(S^P))+T[6]+2821735955&4294967295,b=k+(R<<17&4294967295|R>>>15),R=P+(S^b&(k^S))+T[7]+4249261313&4294967295,P=b+(R<<22&4294967295|R>>>10),R=S+(k^P&(b^k))+T[8]+1770035416&4294967295,S=P+(R<<7&4294967295|R>>>25),R=k+(b^S&(P^b))+T[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=b+(P^k&(S^P))+T[10]+4294925233&4294967295,b=k+(R<<17&4294967295|R>>>15),R=P+(S^b&(k^S))+T[11]+2304563134&4294967295,P=b+(R<<22&4294967295|R>>>10),R=S+(k^P&(b^k))+T[12]+1804603682&4294967295,S=P+(R<<7&4294967295|R>>>25),R=k+(b^S&(P^b))+T[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=b+(P^k&(S^P))+T[14]+2792965006&4294967295,b=k+(R<<17&4294967295|R>>>15),R=P+(S^b&(k^S))+T[15]+1236535329&4294967295,P=b+(R<<22&4294967295|R>>>10),R=S+(b^k&(P^b))+T[1]+4129170786&4294967295,S=P+(R<<5&4294967295|R>>>27),R=k+(P^b&(S^P))+T[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=b+(S^P&(k^S))+T[11]+643717713&4294967295,b=k+(R<<14&4294967295|R>>>18),R=P+(k^S&(b^k))+T[0]+3921069994&4294967295,P=b+(R<<20&4294967295|R>>>12),R=S+(b^k&(P^b))+T[5]+3593408605&4294967295,S=P+(R<<5&4294967295|R>>>27),R=k+(P^b&(S^P))+T[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=b+(S^P&(k^S))+T[15]+3634488961&4294967295,b=k+(R<<14&4294967295|R>>>18),R=P+(k^S&(b^k))+T[4]+3889429448&4294967295,P=b+(R<<20&4294967295|R>>>12),R=S+(b^k&(P^b))+T[9]+568446438&4294967295,S=P+(R<<5&4294967295|R>>>27),R=k+(P^b&(S^P))+T[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=b+(S^P&(k^S))+T[3]+4107603335&4294967295,b=k+(R<<14&4294967295|R>>>18),R=P+(k^S&(b^k))+T[8]+1163531501&4294967295,P=b+(R<<20&4294967295|R>>>12),R=S+(b^k&(P^b))+T[13]+2850285829&4294967295,S=P+(R<<5&4294967295|R>>>27),R=k+(P^b&(S^P))+T[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=b+(S^P&(k^S))+T[7]+1735328473&4294967295,b=k+(R<<14&4294967295|R>>>18),R=P+(k^S&(b^k))+T[12]+2368359562&4294967295,P=b+(R<<20&4294967295|R>>>12),R=S+(P^b^k)+T[5]+4294588738&4294967295,S=P+(R<<4&4294967295|R>>>28),R=k+(S^P^b)+T[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=b+(k^S^P)+T[11]+1839030562&4294967295,b=k+(R<<16&4294967295|R>>>16),R=P+(b^k^S)+T[14]+4259657740&4294967295,P=b+(R<<23&4294967295|R>>>9),R=S+(P^b^k)+T[1]+2763975236&4294967295,S=P+(R<<4&4294967295|R>>>28),R=k+(S^P^b)+T[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=b+(k^S^P)+T[7]+4139469664&4294967295,b=k+(R<<16&4294967295|R>>>16),R=P+(b^k^S)+T[10]+3200236656&4294967295,P=b+(R<<23&4294967295|R>>>9),R=S+(P^b^k)+T[13]+681279174&4294967295,S=P+(R<<4&4294967295|R>>>28),R=k+(S^P^b)+T[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=b+(k^S^P)+T[3]+3572445317&4294967295,b=k+(R<<16&4294967295|R>>>16),R=P+(b^k^S)+T[6]+76029189&4294967295,P=b+(R<<23&4294967295|R>>>9),R=S+(P^b^k)+T[9]+3654602809&4294967295,S=P+(R<<4&4294967295|R>>>28),R=k+(S^P^b)+T[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=b+(k^S^P)+T[15]+530742520&4294967295,b=k+(R<<16&4294967295|R>>>16),R=P+(b^k^S)+T[2]+3299628645&4294967295,P=b+(R<<23&4294967295|R>>>9),R=S+(b^(P|~k))+T[0]+4096336452&4294967295,S=P+(R<<6&4294967295|R>>>26),R=k+(P^(S|~b))+T[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=b+(S^(k|~P))+T[14]+2878612391&4294967295,b=k+(R<<15&4294967295|R>>>17),R=P+(k^(b|~S))+T[5]+4237533241&4294967295,P=b+(R<<21&4294967295|R>>>11),R=S+(b^(P|~k))+T[12]+1700485571&4294967295,S=P+(R<<6&4294967295|R>>>26),R=k+(P^(S|~b))+T[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=b+(S^(k|~P))+T[10]+4293915773&4294967295,b=k+(R<<15&4294967295|R>>>17),R=P+(k^(b|~S))+T[1]+2240044497&4294967295,P=b+(R<<21&4294967295|R>>>11),R=S+(b^(P|~k))+T[8]+1873313359&4294967295,S=P+(R<<6&4294967295|R>>>26),R=k+(P^(S|~b))+T[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=b+(S^(k|~P))+T[6]+2734768916&4294967295,b=k+(R<<15&4294967295|R>>>17),R=P+(k^(b|~S))+T[13]+1309151649&4294967295,P=b+(R<<21&4294967295|R>>>11),R=S+(b^(P|~k))+T[4]+4149444226&4294967295,S=P+(R<<6&4294967295|R>>>26),R=k+(P^(S|~b))+T[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=b+(S^(k|~P))+T[2]+718787259&4294967295,b=k+(R<<15&4294967295|R>>>17),R=P+(k^(b|~S))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+b&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var P=S-this.blockSize,T=this.B,b=this.h,k=0;k<S;){if(b==0)for(;k<=P;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<S;)if(T[b++]=A.charCodeAt(k++),b==this.blockSize){i(this,T),b=0;break}}else for(;k<S;)if(T[b++]=A[k++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var P=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=P&255,P/=256;for(this.u(A),A=Array(16),S=P=0;4>S;++S)for(var T=0;32>T;T+=8)A[P++]=this.g[S]>>>T&255;return A};function o(A,S){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=S(A)}function s(A,S){this.h=S;for(var P=[],T=!0,b=A.length-1;0<=b;b--){var k=A[b]|0;T&&k==S||(P[b]=k,T=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?o(A,function(S){return new s([S|0],0>S?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return _(u(-A));for(var S=[],P=1,T=0;A>=P;T++)S[T]=A/P|0,P*=4294967296;return new s(S,0)}function h(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return _(h(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),T=f,b=0;b<A.length;b+=8){var k=Math.min(8,A.length-b),R=parseInt(A.substring(b,b+k),S);8>k?(k=u(Math.pow(S,k)),T=T.j(k).add(u(R))):(T=T.j(P),T=T.add(u(R)))}return T}var f=l(0),d=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-_(this).m();for(var A=0,S=1,P=0;P<this.g.length;P++){var T=this.i(P);A+=(0<=T?T:4294967296+T)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(v(this))return"-"+_(this).toString(A);for(var S=u(Math.pow(A,6)),P=this,T="";;){var b=y(P,S).g;P=g(P,b.j(S));var k=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=b,w(P))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=g(this,A),v(A)?-1:w(A)?0:1};function _(A){for(var S=A.g.length,P=[],T=0;T<S;T++)P[T]=~A.g[T];return new s(P,~A.h).add(d)}t.abs=function(){return v(this)?_(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0,b=0;b<=S;b++){var k=T+(this.i(b)&65535)+(A.i(b)&65535),R=(k>>>16)+(this.i(b)>>>16)+(A.i(b)>>>16);T=R>>>16,k&=65535,R&=65535,P[b]=R<<16|k}return new s(P,P[P.length-1]&-2147483648?-1:0)};function g(A,S){return A.add(_(S))}t.j=function(A){if(w(this)||w(A))return f;if(v(this))return v(A)?_(this).j(_(A)):_(_(this).j(A));if(v(A))return _(this.j(_(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,P=[],T=0;T<2*S;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<A.g.length;b++){var k=this.i(T)>>>16,R=this.i(T)&65535,L=A.i(b)>>>16,U=A.i(b)&65535;P[2*T+2*b]+=R*U,p(P,2*T+2*b),P[2*T+2*b+1]+=k*U,p(P,2*T+2*b+1),P[2*T+2*b+1]+=R*L,p(P,2*T+2*b+1),P[2*T+2*b+2]+=k*L,p(P,2*T+2*b+2)}for(T=0;T<S;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=S;T<2*S;T++)P[T]=0;return new s(P,0)};function p(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function E(A,S){this.g=A,this.h=S}function y(A,S){if(w(S))throw Error("division by zero");if(w(A))return new E(f,f);if(v(A))return S=y(_(A),S),new E(_(S.g),_(S.h));if(v(S))return S=y(A,_(S)),new E(_(S.g),S.h);if(30<A.g.length){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=d,T=S;0>=T.l(A);)P=I(P),T=I(T);var b=x(P,1),k=x(T,1);for(T=x(T,2),P=x(P,2);!w(T);){var R=k.add(T);0>=R.l(A)&&(b=b.add(P),k=R),T=x(T,1),P=x(P,1)}return S=g(A,b.j(S)),new E(b,S)}for(b=f;0<=A.l(S);){for(P=Math.max(1,Math.floor(A.m()/S.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=u(P),R=k.j(S);v(R)||0<R.l(A);)P-=T,k=u(P),R=k.j(S);w(k)&&(k=d),b=b.add(k),A=g(A,R)}return new E(b,A)}t.A=function(A){return y(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)&A.i(T);return new s(P,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)|A.i(T);return new s(P,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),P=[],T=0;T<S;T++)P[T]=this.i(T)^A.i(T);return new s(P,this.h^A.h)};function I(A){for(var S=A.g.length+1,P=[],T=0;T<S;T++)P[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(P,A.h)}function x(A,S){var P=S>>5;S%=32;for(var T=A.g.length-P,b=[],k=0;k<T;k++)b[k]=0<S?A.i(k+P)>>>S|A.i(k+P+1)<<32-S:A.i(k+P);return new s(b,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RT=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Ai=s}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CT,xT,Ks,NT,du,Qd,LT,DT,MT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,O,C){return c==Array.prototype||c==Object.prototype||(c[O]=C.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hl=="object"&&Hl];for(var O=0;O<c.length;++O){var C=c[O];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(c,O){if(O)e:{var C=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var Q=c[D];if(!(Q in C))break e;C=C[Q]}c=c[c.length-1],D=C[c],O=O(D),O!=D&&O!=null&&e(C,c,{configurable:!0,writable:!0,value:O})}}function o(c,O){c instanceof String&&(c+="");var C=0,D=!1,Q={next:function(){if(!D&&C<c.length){var J=C++;return{value:O(J,c[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(c){return c||function(){return o(this,function(O,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var O=typeof c;return O=O!="object"?O:c?Array.isArray(c)?"array":O:"null",O=="array"||O=="object"&&typeof c.length=="number"}function u(c){var O=typeof c;return O=="object"&&c!=null||O=="function"}function h(c,O,C){return c.call.apply(c.bind,arguments)}function f(c,O,C){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,D),c.apply(O,Q)}}return function(){return c.apply(O,arguments)}}function d(c,O,C){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(c,O){var C=Array.prototype.slice.call(arguments,1);return function(){var D=C.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function w(c,O){function C(){}C.prototype=O.prototype,c.aa=O.prototype,c.prototype=new C,c.prototype.constructor=c,c.Qb=function(D,Q,J){for(var le=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)le[qe-2]=arguments[qe];return O.prototype[Q].apply(D,le)}}function v(c){const O=c.length;if(0<O){const C=Array(O);for(let D=0;D<O;D++)C[D]=c[D];return C}return[]}function _(c,O){for(let C=1;C<arguments.length;C++){const D=arguments[C];if(l(D)){const Q=c.length||0,J=D.length||0;c.length=Q+J;for(let le=0;le<J;le++)c[Q+le]=D[le]}else c.push(D)}}class g{constructor(O,C){this.i=O,this.j=C,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function p(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function y(c){return y[" "](c),c}y[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function x(c,O,C){for(const D in c)O.call(C,c[D],D,c)}function A(c,O){for(const C in c)O.call(void 0,c[C],C,c)}function S(c){const O={};for(const C in c)O[C]=c[C];return O}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,O){let C,D;for(let Q=1;Q<arguments.length;Q++){D=arguments[Q];for(C in D)c[C]=D[C];for(let J=0;J<P.length;J++)C=P[J],Object.prototype.hasOwnProperty.call(D,C)&&(c[C]=D[C])}}function b(c){var O=1;c=c.split(":");const C=[];for(;0<O&&c.length;)C.push(c.shift()),O--;return c.length&&C.push(c.join(":")),C}function k(c){a.setTimeout(()=>{throw c},0)}function R(){var c=B;let O=null;return c.g&&(O=c.g,c.g=c.g.next,c.g||(c.h=null),O.next=null),O}class L{constructor(){this.h=this.g=null}add(O,C){const D=U.get();D.set(O,C),this.h?this.h.next=D:this.g=D,this.h=D}}var U=new g(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(O,C){this.h=O,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let H,W=!1,B=new L,V=()=>{const c=a.Promise.resolve(void 0);H=()=>{c.then(N)}};var N=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(C){k(C)}var O=U;O.j(c),100>O.h&&(O.h++,c.next=O.g,O.g=c)}W=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(c,O){this.type=c,this.g=this.target=O,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,O=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const C=()=>{};a.addEventListener("test",C,O),a.removeEventListener("test",C,O)}catch{}return c}();function z(c,O){if(F.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var C=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=O,O=c.relatedTarget){if(I){e:{try{y(O.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(O=null)}}else C=="mouseover"?O=c.fromElement:C=="mouseout"&&(O=c.toElement);this.relatedTarget=O,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:j[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&z.aa.h.call(this)}}w(z,F);var j={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),Y=0;function X(c,O,C,D,Q){this.listener=c,this.proxy=null,this.src=O,this.type=C,this.capture=!!D,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function ne(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,O,C,D,Q){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var le=we(c,O,D,Q);return-1<le?(O=c[le],C||(O.fa=!1)):(O=new X(O,this.src,J,!!D,Q),O.fa=C,c.push(O)),O};function ye(c,O){var C=O.type;if(C in c.g){var D=c.g[C],Q=Array.prototype.indexOf.call(D,O,void 0),J;(J=0<=Q)&&Array.prototype.splice.call(D,Q,1),J&&(ne(O),c.g[C].length==0&&(delete c.g[C],c.h--))}}function we(c,O,C,D){for(var Q=0;Q<c.length;++Q){var J=c[Q];if(!J.da&&J.listener==O&&J.capture==!!C&&J.ha==D)return Q}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),De={};function Tt(c,O,C,D,Q){if(Array.isArray(O)){for(var J=0;J<O.length;J++)Tt(c,O[J],C,D,Q);return null}return C=Oe(C),c&&c[q]?c.K(O,C,u(D)?!!D.capture:!!D,Q):at(c,O,C,!1,D,Q)}function at(c,O,C,D,Q,J){if(!O)throw Error("Invalid event type");var le=u(Q)?!!Q.capture:!!Q,qe=be(c);if(qe||(c[Pe]=qe=new he(c)),C=qe.add(O,C,D,le,J),C.proxy)return C;if(D=ee(),C.proxy=D,D.src=c,D.listener=C,c.addEventListener)K||(Q=le),Q===void 0&&(Q=!1),c.addEventListener(O.toString(),D,Q);else if(c.attachEvent)c.attachEvent(fe(O.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return C}function ee(){function c(C){return O.call(c.src,c.listener,C)}const O=oe;return c}function te(c,O,C,D,Q){if(Array.isArray(O))for(var J=0;J<O.length;J++)te(c,O[J],C,D,Q);else D=u(D)?!!D.capture:!!D,C=Oe(C),c&&c[q]?(c=c.i,O=String(O).toString(),O in c.g&&(J=c.g[O],C=we(J,C,D,Q),-1<C&&(ne(J[C]),Array.prototype.splice.call(J,C,1),J.length==0&&(delete c.g[O],c.h--)))):c&&(c=be(c))&&(O=c.g[O.toString()],c=-1,O&&(c=we(O,C,D,Q)),(C=-1<c?O[c]:null)&&ue(C))}function ue(c){if(typeof c!="number"&&c&&!c.da){var O=c.src;if(O&&O[q])ye(O.i,c);else{var C=c.type,D=c.proxy;O.removeEventListener?O.removeEventListener(C,D,c.capture):O.detachEvent?O.detachEvent(fe(C),D):O.addListener&&O.removeListener&&O.removeListener(D),(C=be(O))?(ye(C,c),C.h==0&&(C.src=null,O[Pe]=null)):ne(c)}}}function fe(c){return c in De?De[c]:De[c]="on"+c}function oe(c,O){if(c.da)c=!0;else{O=new z(O,this);var C=c.listener,D=c.ha||c.src;c.fa&&ue(c),c=C.call(D,O)}return c}function be(c){return c=c[Pe],c instanceof he?c:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(c){return typeof c=="function"?c:(c[Ae]||(c[Ae]=function(O){return c.handleEvent(O)}),c[Ae])}function Fe(){M.call(this),this.i=new he(this),this.M=this,this.F=null}w(Fe,M),Fe.prototype[q]=!0,Fe.prototype.removeEventListener=function(c,O,C,D){te(this,c,O,C,D)};function He(c,O){var C,D=c.F;if(D)for(C=[];D;D=D.F)C.push(D);if(c=c.M,D=O.type||O,typeof O=="string")O=new F(O,c);else if(O instanceof F)O.target=O.target||c;else{var Q=O;O=new F(D,c),T(O,Q)}if(Q=!0,C)for(var J=C.length-1;0<=J;J--){var le=O.g=C[J];Q=Be(le,D,!0,O)&&Q}if(le=O.g=c,Q=Be(le,D,!0,O)&&Q,Q=Be(le,D,!1,O)&&Q,C)for(J=0;J<C.length;J++)le=O.g=C[J],Q=Be(le,D,!1,O)&&Q}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var c=this.i,O;for(O in c.g){for(var C=c.g[O],D=0;D<C.length;D++)ne(C[D]);delete c.g[O],c.h--}}this.F=null},Fe.prototype.K=function(c,O,C,D){return this.i.add(String(c),O,!1,C,D)},Fe.prototype.L=function(c,O,C,D){return this.i.add(String(c),O,!0,C,D)};function Be(c,O,C,D){if(O=c.i.g[String(O)],!O)return!0;O=O.concat();for(var Q=!0,J=0;J<O.length;++J){var le=O[J];if(le&&!le.da&&le.capture==C){var qe=le.listener,St=le.ha||le.src;le.fa&&ye(c.i,le),Q=qe.call(St,D)!==!1&&Q}}return Q&&!D.defaultPrevented}function hl(c,O,C){if(typeof c=="function")C&&(c=d(c,C));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:a.setTimeout(c,O||0)}function Ze(c){c.g=hl(()=>{c.g=null,c.i&&(c.i=!1,Ze(c))},c.l);const O=c.h;c.h=null,c.m.apply(null,O)}class xn extends M{constructor(O,C){super(),this.m=O,this.l=C,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){M.call(this),this.h=c,this.g={}}w(ps,M);var Dg=[];function Mg(c){x(c.g,function(O,C){this.g.hasOwnProperty(C)&&ue(O)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),Mg(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pf=a.JSON.stringify,IA=a.JSON.parse,OA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function kf(){}kf.prototype.h=null;function jg(c){return c.h||(c.h=c.i())}function Vg(){}var ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rf(){F.call(this,"d")}w(Rf,F);function Cf(){F.call(this,"c")}w(Cf,F);var ui={},Fg=null;function dl(){return Fg=Fg||new Fe}ui.La="serverreachability";function Ug(c){F.call(this,ui.La,c)}w(Ug,F);function gs(c){const O=dl();He(O,new Ug(O))}ui.STAT_EVENT="statevent";function Bg(c,O){F.call(this,ui.STAT_EVENT,c),this.stat=O}w(Bg,F);function qt(c){const O=dl();He(O,new Bg(O,c))}ui.Ma="timingevent";function qg(c,O){F.call(this,ui.Ma,c),this.size=O}w(qg,F);function vs(c,O){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},O)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function PA(c,O,C,D,Q,J){c.info(function(){if(c.g)if(J)for(var le="",qe=J.split("&"),St=0;St<qe.length;St++){var je=qe[St].split("=");if(1<je.length){var xt=je[0];je=je[1];var Nt=xt.split("_");le=2<=Nt.length&&Nt[1]=="type"?le+(xt+"="+je+"&"):le+(xt+"=redacted&")}}else le=null;else le=J;return"XMLHTTP REQ ("+D+") [attempt "+Q+"]: "+O+`
`+C+`
`+le})}function kA(c,O,C,D,Q,J,le){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Q+"]: "+O+`
`+C+`
`+J+" "+le})}function Wi(c,O,C,D){c.info(function(){return"XMLHTTP TEXT ("+O+"): "+CA(c,C)+(D?" "+D:"")})}function RA(c,O){c.info(function(){return"TIMEOUT: "+O})}ys.prototype.info=function(){};function CA(c,O){if(!c.g)return O;if(!O)return null;try{var C=JSON.parse(O);if(C){for(c=0;c<C.length;c++)if(Array.isArray(C[c])){var D=C[c];if(!(2>D.length)){var Q=D[1];if(Array.isArray(Q)&&!(1>Q.length)){var J=Q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var le=1;le<Q.length;le++)Q[le]=""}}}}return Pf(C)}catch{return O}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$g={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xf;function ml(){}w(ml,kf),ml.prototype.g=function(){return new XMLHttpRequest},ml.prototype.i=function(){return{}},xf=new ml;function vr(c,O,C,D){this.j=c,this.i=O,this.l=C,this.R=D||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zg}function zg(){this.i=null,this.g="",this.h=!1}var Hg={},Nf={};function Lf(c,O,C){c.L=1,c.v=_l(Wn(O)),c.m=C,c.P=!0,Wg(c,null)}function Wg(c,O){c.F=Date.now(),gl(c),c.A=Wn(c.v);var C=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),sv(C.i,"t",D),c.C=0,C=c.j.J,c.h=new zg,c.g=bv(c.j,C?O:null,!c.m),0<c.O&&(c.M=new xn(d(c.Y,c,c.g),c.O)),O=c.U,C=c.g,D=c.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Dg[0]=Q.toString()),Q=Dg);for(var J=0;J<Q.length;J++){var le=Tt(C,Q[J],D||O.handleEvent,!1,O.h||O);if(!le)break;O.g[le.key]=le}O=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,O)):(c.u="GET",c.g.ea(c.A,c.u,null,O)),gs(),PA(c.i,c.u,c.A,c.l,c.R,c.m)}vr.prototype.ca=function(c){c=c.target;const O=this.M;O&&Kn(c)==3?O.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Kn(this.g);var O=this.g.Ba();const Qi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||dv(this.g)))){this.J||Nt!=4||O==7||(O==8||0>=Qi?gs(3):gs(2)),Df(this);var C=this.g.Z();this.X=C;t:if(Kg(this)){var D=dv(this.g);c="";var Q=D.length,J=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),_s(this);var le="";break t}this.h.i=new a.TextDecoder}for(O=0;O<Q;O++)this.h.h=!0,c+=this.h.i.decode(D[O],{stream:!(J&&O==Q-1)});D.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=C==200,kA(this.i,this.u,this.A,this.l,this.R,Nt,C),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,St=this.g;if((qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(qe)){var je=qe;break t}}je=null}if(C=je)Wi(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mf(this,C);else{this.o=!1,this.s=3,qt(12),ci(this),_s(this);break e}}if(this.P){C=!0;let wn;for(;!this.J&&this.C<le.length;)if(wn=xA(this,le),wn==Nf){Nt==4&&(this.s=4,qt(14),C=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Hg){this.s=4,qt(15),Wi(this.i,this.l,le,"[Invalid Chunk]"),C=!1;break}else Wi(this.i,this.l,wn,null),Mf(this,wn);if(Kg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||le.length!=0||this.h.h||(this.s=1,qt(16),C=!1),this.o=this.o&&C,!C)Wi(this.i,this.l,le,"[Invalid Chunked Response]"),ci(this),_s(this);else if(0<le.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),qf(xt),xt.M=!0,qt(11))}}else Wi(this.i,this.l,le,null),Mf(this,le);Nt==4&&ci(this),this.o&&!this.J&&(Nt==4?wv(this.j,this):(this.o=!1,gl(this)))}else QA(this.g),C==400&&0<le.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),ci(this),_s(this)}}}catch{}finally{}};function Kg(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xA(c,O){var C=c.C,D=O.indexOf(`
`,C);return D==-1?Nf:(C=Number(O.substring(C,D)),isNaN(C)?Hg:(D+=1,D+C>O.length?Nf:(O=O.slice(D,D+C),c.C=D+C,O)))}vr.prototype.cancel=function(){this.J=!0,ci(this)};function gl(c){c.S=Date.now()+c.I,Gg(c,c.I)}function Gg(c,O){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vs(d(c.ba,c),O)}function Df(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(RA(this.i,this.A),this.L!=2&&(gs(),qt(17)),ci(this),this.s=2,_s(this)):Gg(this,this.S-c)};function _s(c){c.j.G==0||c.J||wv(c.j,c)}function ci(c){Df(c);var O=c.M;O&&typeof O.ma=="function"&&O.ma(),c.M=null,Mg(c.U),c.g&&(O=c.g,c.g=null,O.abort(),O.ma())}function Mf(c,O){try{var C=c.j;if(C.G!=0&&(C.g==c||jf(C.h,c))){if(!c.K&&jf(C.h,c)&&C.G==3){try{var D=C.Da.g.parse(O)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Q=D;if(Q[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<c.F)bl(C),Tl(C);else break e;Bf(C),qt(18)}}else C.za=Q[1],0<C.za-C.T&&37500>Q[2]&&C.F&&C.v==0&&!C.C&&(C.C=vs(d(C.Za,C),6e3));if(1>=Xg(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else hi(C,11)}else if((c.K||C.g==c)&&bl(C),!p(O))for(Q=C.Da.g.parse(O),O=0;O<Q.length;O++){let je=Q[O];if(C.T=je[0],je=je[1],C.G==2)if(je[0]=="c"){C.K=je[1],C.ia=je[2];const xt=je[3];xt!=null&&(C.la=xt,C.j.info("VER="+C.la));const Nt=je[4];Nt!=null&&(C.Aa=Nt,C.j.info("SVER="+C.Aa));const Qi=je[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(D=1.5*Qi,C.L=D,C.j.info("backChannelRequestTimeoutMs_="+D)),D=C;const wn=c.g;if(wn){const Il=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Il){var J=D.h;J.g||Il.indexOf("spdy")==-1&&Il.indexOf("quic")==-1&&Il.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Vf(J,J.h),J.h=null))}if(D.D){const $f=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;$f&&(D.ya=$f,We(D.I,D.D,$f))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-c.F,C.j.info("Handshake RTT: "+C.R+"ms")),D=C;var le=c;if(D.qa=Sv(D,D.J?D.ia:null,D.W),le.K){Jg(D.h,le);var qe=le,St=D.L;St&&(qe.I=St),qe.B&&(Df(qe),gl(qe)),D.g=le}else yv(D);0<C.i.length&&Sl(C)}else je[0]!="stop"&&je[0]!="close"||hi(C,7);else C.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?hi(C,7):Uf(C):je[0]!="noop"&&C.l&&C.l.ta(je),C.v=0)}}gs(4)}catch{}}var NA=class{constructor(c,O){this.g=c,this.map=O}};function Qg(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yg(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Xg(c){return c.h?1:c.g?c.g.size:0}function jf(c,O){return c.h?c.h==O:c.g?c.g.has(O):!1}function Vf(c,O){c.g?c.g.add(O):c.h=O}function Jg(c,O){c.h&&c.h==O?c.h=null:c.g&&c.g.has(O)&&c.g.delete(O)}Qg.prototype.cancel=function(){if(this.i=Zg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zg(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let O=c.i;for(const C of c.g.values())O=O.concat(C.D);return O}return v(c.i)}function LA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var O=[],C=c.length,D=0;D<C;D++)O.push(c[D]);return O}O=[],C=0;for(D in c)O[C++]=c[D];return O}function DA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var O=[];c=c.length;for(var C=0;C<c;C++)O.push(C);return O}O=[],C=0;for(const D in c)O[C++]=D;return O}}}function ev(c,O){if(c.forEach&&typeof c.forEach=="function")c.forEach(O,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,O,void 0);else for(var C=DA(c),D=LA(c),Q=D.length,J=0;J<Q;J++)O.call(void 0,D[J],C&&C[J],c)}var tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MA(c,O){if(c){c=c.split("&");for(var C=0;C<c.length;C++){var D=c[C].indexOf("="),Q=null;if(0<=D){var J=c[C].substring(0,D);Q=c[C].substring(D+1)}else J=c[C];O(J,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fi){this.h=c.h,vl(this,c.j),this.o=c.o,this.g=c.g,yl(this,c.s),this.l=c.l;var O=c.i,C=new Ts;C.i=O.i,O.g&&(C.g=new Map(O.g),C.h=O.h),nv(this,C),this.m=c.m}else c&&(O=String(c).match(tv))?(this.h=!1,vl(this,O[1]||"",!0),this.o=ws(O[2]||""),this.g=ws(O[3]||"",!0),yl(this,O[4]),this.l=ws(O[5]||"",!0),nv(this,O[6]||"",!0),this.m=ws(O[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}fi.prototype.toString=function(){var c=[],O=this.j;O&&c.push(Es(O,rv,!0),":");var C=this.g;return(C||O=="file")&&(c.push("//"),(O=this.o)&&c.push(Es(O,rv,!0),"@"),c.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&c.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&c.push("/"),c.push(Es(C,C.charAt(0)=="/"?FA:VA,!0))),(C=this.i.toString())&&c.push("?",C),(C=this.m)&&c.push("#",Es(C,BA)),c.join("")};function Wn(c){return new fi(c)}function vl(c,O,C){c.j=C?ws(O,!0):O,c.j&&(c.j=c.j.replace(/:$/,""))}function yl(c,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);c.s=O}else c.s=null}function nv(c,O,C){O instanceof Ts?(c.i=O,qA(c.i,c.h)):(C||(O=Es(O,UA)),c.i=new Ts(O,c.h))}function We(c,O,C){c.i.set(O,C)}function _l(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ws(c,O){return c?O?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,O,C){return typeof c=="string"?(c=encodeURI(c).replace(O,jA),C&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rv=/[#\/\?@]/g,VA=/[#\?:]/g,FA=/[#\?]/g,UA=/[#\?@]/g,BA=/#/g;function Ts(c,O){this.h=this.g=null,this.i=c||null,this.j=!!O}function yr(c){c.g||(c.g=new Map,c.h=0,c.i&&MA(c.i,function(O,C){c.add(decodeURIComponent(O.replace(/\+/g," ")),C)}))}t=Ts.prototype,t.add=function(c,O){yr(this),this.i=null,c=Ki(this,c);var C=this.g.get(c);return C||this.g.set(c,C=[]),C.push(O),this.h+=1,this};function iv(c,O){yr(c),O=Ki(c,O),c.g.has(O)&&(c.i=null,c.h-=c.g.get(O).length,c.g.delete(O))}function ov(c,O){return yr(c),O=Ki(c,O),c.g.has(O)}t.forEach=function(c,O){yr(this),this.g.forEach(function(C,D){C.forEach(function(Q){c.call(O,Q,D,this)},this)},this)},t.na=function(){yr(this);const c=Array.from(this.g.values()),O=Array.from(this.g.keys()),C=[];for(let D=0;D<O.length;D++){const Q=c[D];for(let J=0;J<Q.length;J++)C.push(O[D])}return C},t.V=function(c){yr(this);let O=[];if(typeof c=="string")ov(this,c)&&(O=O.concat(this.g.get(Ki(this,c))));else{c=Array.from(this.g.values());for(let C=0;C<c.length;C++)O=O.concat(c[C])}return O},t.set=function(c,O){return yr(this),this.i=null,c=Ki(this,c),ov(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[O]),this.h+=1,this},t.get=function(c,O){return c?(c=this.V(c),0<c.length?String(c[0]):O):O};function sv(c,O,C){iv(c,O),0<C.length&&(c.i=null,c.g.set(Ki(c,O),v(C)),c.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],O=Array.from(this.g.keys());for(var C=0;C<O.length;C++){var D=O[C];const J=encodeURIComponent(String(D)),le=this.V(D);for(D=0;D<le.length;D++){var Q=J;le[D]!==""&&(Q+="="+encodeURIComponent(String(le[D]))),c.push(Q)}}return this.i=c.join("&")};function Ki(c,O){return O=String(O),c.j&&(O=O.toLowerCase()),O}function qA(c,O){O&&!c.j&&(yr(c),c.i=null,c.g.forEach(function(C,D){var Q=D.toLowerCase();D!=Q&&(iv(this,D),sv(this,Q,C))},c)),c.j=O}function $A(c,O){const C=new ys;if(a.Image){const D=new Image;D.onload=m(_r,C,"TestLoadImage: loaded",!0,O,D),D.onerror=m(_r,C,"TestLoadImage: error",!1,O,D),D.onabort=m(_r,C,"TestLoadImage: abort",!1,O,D),D.ontimeout=m(_r,C,"TestLoadImage: timeout",!1,O,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else O(!1)}function zA(c,O){const C=new ys,D=new AbortController,Q=setTimeout(()=>{D.abort(),_r(C,"TestPingServer: timeout",!1,O)},1e4);fetch(c,{signal:D.signal}).then(J=>{clearTimeout(Q),J.ok?_r(C,"TestPingServer: ok",!0,O):_r(C,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Q),_r(C,"TestPingServer: error",!1,O)})}function _r(c,O,C,D,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),D(C)}catch{}}function HA(){this.g=new OA}function WA(c,O,C){const D=C||"";try{ev(c,function(Q,J){let le=Q;u(Q)&&(le=Pf(Q)),O.push(D+J+"="+encodeURIComponent(le))})}catch(Q){throw O.push(D+"type="+encodeURIComponent("_badmap")),Q}}function Ss(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Ss,kf),Ss.prototype.g=function(){return new wl(this.l,this.j)},Ss.prototype.i=function(c){return function(){return c}}({});function wl(c,O){Fe.call(this),this.D=c,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(wl,Fe),t=wl.prototype,t.open=function(c,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=O,this.readyState=1,As(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(O.body=c),(this.D||a).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;av(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function av(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var O=c.value?c.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!c.done}))&&(this.response=this.responseText+=O)}c.done?bs(this):As(this),this.readyState==3&&av(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,bs(this))},t.Qa=function(c){this.g&&(this.response=c,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,As(c)}t.setRequestHeader=function(c,O){this.u.append(c,O)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],O=this.h.entries();for(var C=O.next();!C.done;)C=C.value,c.push(C[0]+": "+C[1]),C=O.next();return c.join(`\r
`)};function As(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function lv(c){let O="";return x(c,function(C,D){O+=D,O+=":",O+=C,O+=`\r
`}),O}function Ff(c,O,C){e:{for(D in C){var D=!1;break e}D=!0}D||(C=lv(C),typeof c=="string"?C!=null&&encodeURIComponent(String(C)):We(c,O,C))}function ot(c){Fe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ot,Fe);var KA=/^https?$/i,GA=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,O,C,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);O=O?O.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xf.g(),this.v=this.o?jg(this.o):jg(xf),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(O,String(c),!0),this.B=!1}catch(J){uv(this,J);return}if(c=C||"",C=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Q in D)C.set(Q,D[Q]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())C.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),Q=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GA,O,void 0))||D||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,le]of C)this.g.setRequestHeader(J,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hv(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){uv(this,J)}};function uv(c,O){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=O,c.m=5,cv(c),El(c)}function cv(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),El(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),El(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fv(this):this.bb())},t.bb=function(){fv(this)};function fv(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Kn(c)!=4||c.Z()!=2)){if(c.u&&Kn(c)==4)hl(c.Ea,0,c);else if(He(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var C;if(!(C=O)){var D;if(D=le===0){var Q=String(c.D).match(tv)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),D=!KA.test(Q?Q.toLowerCase():"")}C=D}if(C)He(c,"complete"),He(c,"success");else{c.m=6;try{var J=2<Kn(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",cv(c)}}finally{El(c)}}}}function El(c,O){if(c.g){hv(c);const C=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,O||He(c,"ready");try{C.onreadystatechange=D}catch{}}}function hv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var O=this.g.responseText;return c&&O.indexOf(c)==0&&(O=O.substring(c.length)),IA(O)}};function dv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function QA(c){const O={};c=(c.g&&2<=Kn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(p(c[D]))continue;var C=b(c[D]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=O[Q]||[];O[Q]=J,J.push(C)}A(O,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,O,C){return C&&C.internalChannelParams&&C.internalChannelParams[c]||O}function pv(c){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Qg(c&&c.concurrentRequestLimit),this.Da=new HA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pv.prototype,t.la=8,t.G=1,t.connect=function(c,O,C,D){qt(0),this.W=c,this.H=O||{},C&&D!==void 0&&(this.H.OSID=C,this.H.OAID=D),this.F=this.X,this.I=Sv(this,null,this.W),Sl(this)};function Uf(c){if(mv(c),c.G==3){var O=c.U++,C=Wn(c.I);if(We(C,"SID",c.K),We(C,"RID",O),We(C,"TYPE","terminate"),Os(c,C),O=new vr(c,c.j,O),O.L=2,O.v=_l(Wn(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(O.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=O.v,C=!0),C||(O.g=bv(O.j,null),O.g.ea(O.v)),O.F=Date.now(),gl(O)}Tv(c)}function Tl(c){c.g&&(qf(c),c.g.cancel(),c.g=null)}function mv(c){Tl(c),c.u&&(a.clearTimeout(c.u),c.u=null),bl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Sl(c){if(!Yg(c.h)&&!c.s){c.s=!0;var O=c.Ga;H||V(),W||(H(),W=!0),B.add(O,c),c.B=0}}function YA(c,O){return Xg(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=O.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vs(d(c.Ga,c,O),Ev(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const Q=new vr(this,this.j,c);let J=this.o;if(this.S&&(J?(J=S(J),T(J,this.S)):J=this.S),this.m!==null||this.O||(Q.H=J,J=null),this.P)e:{for(var O=0,C=0;C<this.i.length;C++){t:{var D=this.i[C];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(O+=D,4096<O){O=C;break e}if(O===4096||C===this.i.length-1){O=C+1;break e}}O=1e3}else O=1e3;O=vv(this,Q,O),C=Wn(this.I),We(C,"RID",c),We(C,"CVER",22),this.D&&We(C,"X-HTTP-Session-Id",this.D),Os(this,C),J&&(this.O?O="headers="+encodeURIComponent(String(lv(J)))+"&"+O:this.m&&Ff(C,this.m,J)),Vf(this.h,Q),this.Ua&&We(C,"TYPE","init"),this.P?(We(C,"$req",O),We(C,"SID","null"),Q.T=!0,Lf(Q,C,null)):Lf(Q,C,O),this.G=2}}else this.G==3&&(c?gv(this,c):this.i.length==0||Yg(this.h)||gv(this))};function gv(c,O){var C;O?C=O.l:C=c.U++;const D=Wn(c.I);We(D,"SID",c.K),We(D,"RID",C),We(D,"AID",c.T),Os(c,D),c.m&&c.o&&Ff(D,c.m,c.o),C=new vr(c,c.j,C,c.B+1),c.m===null&&(C.H=c.o),O&&(c.i=O.D.concat(c.i)),O=vv(c,C,1e3),C.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vf(c.h,C),Lf(C,D,O)}function Os(c,O){c.H&&x(c.H,function(C,D){We(O,D,C)}),c.l&&ev({},function(C,D){We(O,D,C)})}function vv(c,O,C){C=Math.min(c.i.length,C);var D=c.l?d(c.l.Na,c.l,c):null;e:{var Q=c.i;let J=-1;for(;;){const le=["count="+C];J==-1?0<C?(J=Q[0].g,le.push("ofs="+J)):J=0:le.push("ofs="+J);let qe=!0;for(let St=0;St<C;St++){let je=Q[St].g;const xt=Q[St].map;if(je-=J,0>je)J=Math.max(0,Q[St].g-100),qe=!1;else try{WA(xt,le,"req"+je+"_")}catch{D&&D(xt)}}if(qe){D=le.join("&");break e}}}return c=c.i.splice(0,C),O.D=c,D}function yv(c){if(!c.g&&!c.u){c.Y=1;var O=c.Fa;H||V(),W||(H(),W=!0),B.add(O,c),c.v=0}}function Bf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vs(d(c.Fa,c),Ev(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,_v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vs(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Tl(this),_v(this))};function qf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function _v(c){c.g=new vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var O=Wn(c.qa);We(O,"RID","rpc"),We(O,"SID",c.K),We(O,"AID",c.T),We(O,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(O,"TO",c.ja),We(O,"TYPE","xmlhttp"),Os(c,O),c.m&&c.o&&Ff(O,c.m,c.o),c.L&&(c.g.I=c.L);var C=c.g;c=c.ia,C.L=1,C.v=_l(Wn(O)),C.m=null,C.P=!0,Wg(C,c)}t.Za=function(){this.C!=null&&(this.C=null,Tl(this),Bf(this),qt(19))};function bl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function wv(c,O){var C=null;if(c.g==O){bl(c),qf(c),c.g=null;var D=2}else if(jf(c.h,O))C=O.D,Jg(c.h,O),D=1;else return;if(c.G!=0){if(O.o)if(D==1){C=O.m?O.m.length:0,O=Date.now()-O.F;var Q=c.B;D=dl(),He(D,new qg(D,C)),Sl(c)}else yv(c);else if(Q=O.s,Q==3||Q==0&&0<O.X||!(D==1&&YA(c,O)||D==2&&Bf(c)))switch(C&&0<C.length&&(O=c.h,O.i=O.i.concat(C)),Q){case 1:hi(c,5);break;case 4:hi(c,10);break;case 3:hi(c,6);break;default:hi(c,2)}}}function Ev(c,O){let C=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(C*=2),C*O}function hi(c,O){if(c.j.info("Error code "+O),O==2){var C=d(c.fb,c),D=c.Xa;const Q=!D;D=new fi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vl(D,"https"),_l(D),Q?$A(D.toString(),C):zA(D.toString(),C)}else qt(2);c.G=0,c.l&&c.l.sa(O),Tv(c),mv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Tv(c){if(c.G=0,c.ka=[],c.l){const O=Zg(c.h);(O.length!=0||c.i.length!=0)&&(_(c.ka,O),_(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Sv(c,O,C){var D=C instanceof fi?Wn(C):new fi(C);if(D.g!="")O&&(D.g=O+"."+D.g),yl(D,D.s);else{var Q=a.location;D=Q.protocol,O=O?O+"."+Q.hostname:Q.hostname,Q=+Q.port;var J=new fi(null);D&&vl(J,D),O&&(J.g=O),Q&&yl(J,Q),C&&(J.l=C),D=J}return C=c.D,O=c.ya,C&&O&&We(D,C,O),We(D,"VER",c.la),Os(c,D),D}function bv(c,O,C){if(O&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=c.Ca&&!c.pa?new ot(new Ss({eb:C})):new ot(c.pa),O.Ha(c.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Av(){}t=Av.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Al(){}Al.prototype.g=function(c,O){return new on(c,O)};function on(c,O){Fe.call(this),this.g=new pv(O),this.l=c,this.h=O&&O.messageUrlParams||null,c=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(c?c["X-WebChannel-Content-Type"]=O.messageContentType:c={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(c?c["X-WebChannel-Client-Profile"]=O.va:c={"X-WebChannel-Client-Profile":O.va}),this.g.S=c,(c=O&&O.Sb)&&!p(c)&&(this.g.m=c),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!p(O)&&(this.g.D=O,c=this.h,c!==null&&O in c&&(c=this.h,O in c&&delete c[O])),this.j=new Gi(this)}w(on,Fe),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Uf(this.g)},on.prototype.o=function(c){var O=this.g;if(typeof c=="string"){var C={};C.__data__=c,c=C}else this.u&&(C={},C.__data__=Pf(c),c=C);O.i.push(new NA(O.Ya++,c)),O.G==3&&Sl(O)},on.prototype.N=function(){this.g.l=null,delete this.j,Uf(this.g),delete this.g,on.aa.N.call(this)};function Iv(c){Rf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var O=c.__sm__;if(O){e:{for(const C in O){c=C;break e}c=void 0}(this.i=c)&&(c=this.i,O=O!==null&&c in O?O[c]:void 0),this.data=O}else this.data=c}w(Iv,Rf);function Ov(){Cf.call(this),this.status=1}w(Ov,Cf);function Gi(c){this.g=c}w(Gi,Av),Gi.prototype.ua=function(){He(this.g,"a")},Gi.prototype.ta=function(c){He(this.g,new Iv(c))},Gi.prototype.sa=function(c){He(this.g,new Ov)},Gi.prototype.ra=function(){He(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,MT=function(){return new Al},DT=function(){return dl()},LT=ui,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,du=pl,$g.COMPLETE="complete",NT=$g,Vg.EventType=ms,ms.OPEN="a",ms.CLOSE="b",ms.ERROR="c",ms.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Ks=Vg,xT=Ss,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,CT=ot}).apply(typeof Hl<"u"?Hl:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Cm("@firebase/firestore");function Ms(){return Li.logLevel}function me(t,...e){if(Li.logLevel<=Ne.DEBUG){const n=e.map($m);Li.debug(`Firestore (${ns}): ${t}`,...n)}}function fr(t,...e){if(Li.logLevel<=Ne.ERROR){const n=e.map($m);Li.error(`Firestore (${ns}): ${t}`,...n)}}function Mo(t,...e){if(Li.logLevel<=Ne.WARN){const n=e.map($m);Li.warn(`Firestore (${ns}): ${t}`,...n)}}function $m(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function $e(t,e){t||Ee()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class gN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ir,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new jT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new jt(e)}}class yN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _N{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new wN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new vt(0,0))}static max(){return new Te(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Na.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Na?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends Na{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const SN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Na{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return SN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Qe.fromString(e))}static fromName(e){return new ge(Qe.fromString(e).popFirst(5))}static empty(){return new ge(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Qe(e.slice()))}}function bN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Jr(i,ge.empty(),e)}function AN(t){return new Jr(t.readTime,t.key,-1)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(Te.min(),ge.empty(),-1)}static max(){return new Jr(Te.max(),ge.empty(),-1)}}function IN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==ON)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new se((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function kN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zm.oe=-1;function Qc(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function RN(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wl(this.root,e,this.comparator,!0)}}class Wl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??At.RED,this.left=i??At.EMPTY,this.right=o??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new At(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new ln([])}unionWith(e){let n=new kt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UT("Invalid base64 string: "+o):o}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const CN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if($e(!!t),typeof t=="string"){let e=0;const n=CN.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Di(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wm(t){const e=t.mapValue.fields.__previous_value__;return Hm(e)?Wm(e):e}function La(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hm(t)?4:LN(t)?9007199254740991:NN(t)?10:11:Ee()}function Hn(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return La(t).isEqual(La(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Zr(i.timestampValue),a=Zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Di(i.bytesValue).isEqual(Di(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=lt(i.doubleValue),a=lt(o.doubleValue);return s===a?tc(s)===tc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(S_(s)!==S_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Hn(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Ma(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=lt(o.integerValue||o.doubleValue),l=lt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(La(t),La(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Di(o),l=Di(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ve(a[u],l[u]);if(h!==0)return h}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ve(lt(o.latitude),lt(s.latitude));return a!==0?a:Ve(lt(o.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return I_(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;const f=o.fields||{},d=s.fields||{},m=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=Ve(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:I_(m,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Kl.mapValue&&s===Kl.mapValue)return 0;if(o===Kl.mapValue)return 1;if(s===Kl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Ve(l[f],h[f]);if(d!==0)return d;const m=Vo(a[l[f]],u[h[f]]);if(m!==0)return m}return Ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Zr(t),r=Zr(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function I_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Vo(n[i],r[i]);if(o)return o}return Ve(n.length,r.length)}function Fo(t){return Yd(t)}function Yd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ge.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Yd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Yd(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function O_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xd(t){return!!t&&"integerValue"in t}function Km(t){return!!t&&"arrayValue"in t}function P_(t){return!!t&&"nullValue"in t}function k_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pu(t){return!!t&&"mapValue"in t}function NN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function aa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=aa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=aa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=aa(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=aa(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());pu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yt(aa(this.value))}}function BT(t){const e=[];return zi(t.fields,(n,r)=>{const i=new It([n]);if(pu(r)){const o=BT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,Te.min(),Te.min(),Te.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,Te.min(),Te.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Te.min(),Te.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n){this.position=e,this.inclusive=n}}function R_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ge.comparator(ge.fromName(s.referenceValue),n.key):r=Vo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function C_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function DN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class dt extends qT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jN(e,n,r):n==="array-contains"?new UN(e,r):n==="in"?new BN(e,r):n==="not-in"?new qN(e,r):n==="array-contains-any"?new $N(e,r):new dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VN(e,r):new FN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rn(e,n)}matches(e){return $T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $T(t){return t.op==="and"}function zT(t){return MN(t)&&$T(t)}function MN(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function Jd(t){if(t instanceof dt)return t.field.canonicalString()+t.op.toString()+Fo(t.value);if(zT(t))return t.filters.map(e=>Jd(e)).join(",");{const e=t.filters.map(n=>Jd(n)).join(",");return`${t.op}(${e})`}}function HT(t,e){return t instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&Hn(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&HT(s,i.filters[a]),!0):!1}(t,e):void Ee()}function WT(t){return t instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Fo(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(t):"Filter"}class jN extends dt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class VN extends dt{constructor(e,n){super(e,"in",n),this.keys=KT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FN extends dt{constructor(e,n){super(e,"not-in",n),this.keys=KT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ge.fromName(r.referenceValue))}class UN extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Km(n)&&Ma(n.arrayValue,this.value)}}class BN extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ma(this.value.arrayValue,n)}}class qN extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ma(this.value.arrayValue,n)}}class $N extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Km(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ma(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function x_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zN(t,e,n,r,i,o,s)}function Gm(t){const e=Se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fo(r)).join(",")),e.ue=n}return e.ue}function Qm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!C_(t.startAt,e.startAt)&&C_(t.endAt,e.endAt)}function Zd(t){return ge.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HN(t,e,n,r,i,o,s,a){return new tl(t,e,n,r,i,o,s,a)}function Ym(t){return new tl(t)}function N_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GT(t){return t.collectionGroup!==null}function la(t){const e=Se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new kt(It.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new rc(o,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new rc(It.keyField(),r))}return e.ce}function qn(t){const e=Se(t);return e.le||(e.le=WN(e,la(t))),e.le}function WN(t,e){if(t.limitType==="F")return x_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new rc(i.field,o)});const n=t.endAt?new nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nc(t.startAt.position,t.startAt.inclusive):null;return x_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ep(t,e){const n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tp(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yc(t,e){return Qm(qn(t),qn(e))&&t.limitType===e.limitType}function QT(t){return`${Gm(qn(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WT(i)).join(", ")}]`),Qc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fo(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Xc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ge.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of la(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=R_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,la(r),i)||r.endAt&&!function(s,a,l){const u=R_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,la(r),i))}(t,e)}function KN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YT(t){return(e,n)=>{let r=!1;for(const i of la(t)){const o=GN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GN(t,e,n){const r=t.field.isKeyField()?ge.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Vo(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=new it(ge.comparator);function hr(){return QN}const XT=new it(ge.comparator);function Gs(...t){let e=XT;for(const n of t)e=e.insert(n.key,n);return e}function JT(t){let e=XT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return ua()}function ZT(){return ua()}function ua(){return new rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const YN=new it(ge.comparator),XN=new kt(ge.comparator);function xe(...t){let e=XN;for(const n of t)e=e.add(n);return e}const JN=new kt(Ve);function ZN(){return JN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function eS(t){return{integerValue:""+t}}function e2(t,e){return RN(e)?eS(e):Xm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function t2(t,e,n){return t instanceof ja?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hm(o)&&(o=Wm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Va?nS(t,e):t instanceof Fa?rS(t,e):function(i,o){const s=tS(i,o),a=L_(s)+L_(i.Pe);return Xd(s)&&Xd(i.Pe)?eS(a):Xm(i.serializer,a)}(t,e)}function n2(t,e,n){return t instanceof Va?nS(t,e):t instanceof Fa?rS(t,e):n}function tS(t,e){return t instanceof ic?function(r){return Xd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ja extends Jc{}class Va extends Jc{constructor(e){super(),this.elements=e}}function nS(t,e){const n=iS(e);for(const r of t.elements)n.some(i=>Hn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fa extends Jc{constructor(e){super(),this.elements=e}}function rS(t,e){let n=iS(e);for(const r of t.elements)n=n.filter(i=>!Hn(i,r));return{arrayValue:{values:n}}}class ic extends Jc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function L_(t){return lt(t.integerValue||t.doubleValue)}function iS(t){return Km(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.field=e,this.transform=n}}function i2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Va&&i instanceof Va||r instanceof Fa&&i instanceof Fa?jo(r.elements,i.elements,Hn):r instanceof ic&&i instanceof ic?Hn(r.Pe,i.Pe):r instanceof ja&&i instanceof ja}(t.transform,e.transform)}class o2{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zc{}function oS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aS(t.key,$n.none()):new nl(t.key,t.data,$n.none());{const n=t.data,r=Yt.empty();let i=new kt(It.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new li(t.key,r,new ln(i.toArray()),$n.none())}}function s2(t,e,n){t instanceof nl?function(i,o,s){const a=i.value.clone(),l=M_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof li?function(i,o,s){if(!mu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=M_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(sS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ca(t,e,n,r){return t instanceof nl?function(o,s,a,l){if(!mu(o.precondition,s))return a;const u=o.value.clone(),h=j_(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(o,s,a,l){if(!mu(o.precondition,s))return a;const u=j_(o.fieldTransforms,l,s),h=s.data;return h.setAll(sS(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return mu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function a2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=tS(r.transform,i||null);o!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,o))}return n||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jo(r,i,(o,s)=>i2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nl extends Zc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends Zc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function M_(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,n2(s,a,n[i]))}return r}function j_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,t2(o,s,e))}return r}class aS extends Zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&s2(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ca(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ca(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=oS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>D_(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>D_(n,r))}}class Jm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=function(){return YN}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Le;function h2(t){switch(t){default:return Ee();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function lS(t){if(t===void 0)return fr("GRPC error has no .code"),re.UNKNOWN;switch(t){case ft.OK:return re.OK;case ft.CANCELLED:return re.CANCELLED;case ft.UNKNOWN:return re.UNKNOWN;case ft.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case ft.INTERNAL:return re.INTERNAL;case ft.UNAVAILABLE:return re.UNAVAILABLE;case ft.UNAUTHENTICATED:return re.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case ft.NOT_FOUND:return re.NOT_FOUND;case ft.ALREADY_EXISTS:return re.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return re.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case ft.ABORTED:return re.ABORTED;case ft.OUT_OF_RANGE:return re.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return re.UNIMPLEMENTED;case ft.DATA_LOSS:return re.DATA_LOSS;default:return Ee()}}(Le=ft||(ft={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Ai([4294967295,4294967295],0);function V_(t){const e=d2().encode(t),n=new RT;return n.update(e),new Uint8Array(n.digest())}function F_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ai([n,r],0),new Ai([i,o],0)]}class Zm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qs(`Invalid padding: ${n}`);if(r<0)throw new Qs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ai.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ai.fromNumber(r)));return i.compare(p2)===1&&(i=new Ai([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=V_(e),[r,i]=F_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Zm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=V_(e),[r,i]=F_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ef(Te.min(),i,new it(Ve),hr(),xe())}}class rl{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rl(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class uS{constructor(e,n){this.targetId=e,this.me=n}}class cS{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class U_{constructor(){this.fe=0,this.ge=q_(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new rl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=q_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class m2{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=B_(),this.Qe=new it(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Zd(o))if(r===0){const s=new ge(o.path);this.Ue(n,s,Ft.newNoDocument(s,Te.min()))}else $e(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Di(r).toUint8Array()}catch(l){if(l instanceof UT)return Mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Zm(s,i,o)}catch(l){return Mo(l instanceof Qs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Zd(a.target)){const l=new ge(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ft.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=xe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ef(e,n,this.Qe,this.ke,r);return this.ke=hr(),this.qe=B_(),this.Qe=new it(Ve),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new U_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new kt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new U_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function B_(){return new it(ge.comparator)}function q_(){return new it(ge.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},v2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class _2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(t,e){return t.useProto3Json||Qc(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w2(t,e){return oc(t,e.toTimestamp())}function zn(t){return $e(!!t),Te.fromTimestamp(function(n){const r=Zr(n);return new vt(r.seconds,r.nanos)}(t))}function eg(t,e){return rp(t,e).canonicalString()}function rp(t,e){const n=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hS(t){const e=Qe.fromString(t);return $e(vS(e)),e}function ip(t,e){return eg(t.databaseId,e.path)}function bh(t,e){const n=hS(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ge(pS(n))}function dS(t,e){return eg(t.databaseId,e)}function E2(t){const e=hS(t);return e.length===4?Qe.emptyPath():pS(e)}function op(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pS(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $_(t,e,n){return{name:ip(t,e),fields:n.value.mapValue.fields}}function T2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?($e(h===void 0||typeof h=="string"),Ct.fromBase64String(h||"")):($e(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ct.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=u.code===void 0?re.UNKNOWN:lS(u.code);return new pe(h,u.message||"")}(s);n=new cS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bh(t,r.document.name),o=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):Te.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new gu(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bh(t,r.document),o=r.readTime?zn(r.readTime):Te.min(),s=Ft.newNoDocument(i,o),a=r.removedTargetIds||[];n=new gu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bh(t,r.document),o=r.removedTargetIds||[];n=new gu([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new f2(i,o),a=r.targetId;n=new uS(a,s)}}return n}function S2(t,e){let n;if(e instanceof nl)n={update:$_(t,e.key,e.value)};else if(e instanceof aS)n={delete:ip(t,e.key)};else if(e instanceof li)n={update:$_(t,e.key,e.data),updateMask:x2(e.fieldMask)};else{if(!(e instanceof l2))return Ee();n={verify:ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Va)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ic)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:w2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function b2(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?zn(i.updateTime):zn(o);return s.isEqual(Te.min())&&(s=zn(o)),new o2(s,i.transformResults||[])}(n,e))):[]}function A2(t,e){return{documents:[dS(t,e.path)]}}function I2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dS(t,i);const o=function(u){if(u.length!==0)return gS(Rn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:Ji(d.field),direction:k2(d.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=np(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function O2(t){let e=E2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const d=mS(f);return d instanceof Rn&&zT(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(w){return new rc(Zi(w.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Qc(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new nc(m,d)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const d=!f.before,m=f.values||[];return new nc(m,d)}(n.endAt)),HN(e,i,s,o,a,"F",l,u)}function P2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zi(n.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zi(n.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zi(n.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zi(n.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return dt.create(Zi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>mS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function k2(t){return g2[t]}function R2(t){return v2[t]}function C2(t){return y2[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Zi(t){return It.fromServerFormat(t.fieldPath)}function gS(t){return t instanceof dt?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if(P_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if(P_(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:R2(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(i=>gS(i));return r.length===1?r[0]:{compositeFilter:{op:C2(n.op),filters:r}}}(t):Ee()}function x2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,i,o=Te.min(),s=Te.min(),a=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.ct=e}}function L2(t){const e=O2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.un=new M2}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Jr.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class M2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kt(Qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uo(0)}static kn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.changes=new rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ca(r.mutation,i,ln.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Ei();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Gs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr();const s=ua(),a=function(){return ua()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof li)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),ca(h.mutation,u,h.mutation.getFieldMask(),vt.now())):s.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new V2(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ua();let i=new it((s,a)=>s-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ln.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=ZT();h.forEach(d=>{if(!o.has(d)){const m=oS(n.get(d),r.get(d));m!==null&&f.set(d,m),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return se.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):se.resolve(Ei());let a=-1,l=o;return s.next(u=>se.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?se.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(h=>({batchId:a,changes:JT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(r=>{let i=Gs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Gs();return this.indexManager.getCollectionParents(e,o).next(a=>se.forEach(a,l=>{const u=function(f,d){return new tl(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,Ft.newInvalidDocument(h)))});let a=Gs();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&ca(h.mutation,u,ln.empty(),vt.now()),Xc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:L2(i.bundledQuery),readTime:zn(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.overlays=new it(ge.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return se.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=Ei(),o=n.length+1,s=new ge(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new it((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Ei(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ei(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return se.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new c2(n,r));let o=this.Ir.get(n);o===void 0&&(o=xe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Tr=new kt(yt.Er),this.dr=new kt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new yt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ge(new Qe([])),r=new yt(n,e),i=new yt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new Qe([])),r=new yt(n,e),i=new yt(n,e+1);let o=xe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new yt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new kt(yt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new u2(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new yt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return se.resolve(s)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Ve);return n.forEach(i=>{const o=new yt(i,0),s=new yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),se.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ge.isDocumentKey(o)||(o=o.child(""));const s=new yt(new ge(o),0);let a=new kt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),se.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return se.forEach(n.mutations,i=>{const o=new yt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new yt(n,0),i=this.br.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.Mr=e,this.docs=function(){return new it(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ft.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr();const s=n.path,a=new ge(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||IN(AN(h),r)<=0||(i.has(h.key)||Xc(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new H2(this)}getSize(e){return se.resolve(this.size)}}class H2 extends j2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.persistence=e,this.Nr=new rs(n=>Gm(n),Qm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tg,this.targetCount=0,this.kr=Uo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),se.waitFor(o).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zm(0),this.Kr=!1,this.Kr=!0,this.$r=new q2,this.referenceDelegate=e(this),this.Ur=new W2(this),this.indexManager=new D2,this.remoteDocumentCache=function(i){return new z2(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new N2(n),this.Gr=new U2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $2(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new G2(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return se.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class G2 extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Jr=new tg,this.Yr=null}static Zr(e){return new ng(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,r=>{const i=ge.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xe(),i=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Uk()?8:kN(Bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Q2;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ms()<=Ne.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(Ms()<=Ne.DEBUG&&me("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ms()<=Ne.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):se.resolve())}Yi(e,n){if(N_(n))return se.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tp(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=xe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,tp(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return N_(n)||i.isEqual(Te.min())?se.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?se.resolve(null):(Ms()<=Ne.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.rs(e,s,n,bN(i,-1)).next(a=>a))})}ts(e,n){let r=new kt(YT(e));return n.forEach((i,o)=>{Xc(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ms()<=Ne.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Jr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new it(Ve),this._s=new rs(o=>Gm(o),Qm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function J2(t,e,n,r){return new X2(t,e,n,r)}async function yS(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=xe();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function Z2(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,d=f.keys();let m=se.resolve();return d.forEach(w=>{m=m.next(()=>h.getEntry(l,w)).next(v=>{const _=u.docVersions.get(w);$e(_!==null),v.version.compareTo(_)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _S(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function eL(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let m=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Ct.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(v,_,g){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,m,h)&&a.push(n.Ur.updateTargetData(o,m))});let l=hr(),u=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(tL(o,s,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(Te.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return se.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function tL(t,e,n){let r=xe(),i=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function nL(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rL(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,se.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Dr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function sp(t,e,n){const r=Se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!el(s))throw s;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function z_(t,e,n){const r=Se(t);let i=Te.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const f=Se(l),d=f._s.get(h);return d!==void 0?se.resolve(f.os.get(d)):f.Ur.getTargetData(u,h)}(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Te.min(),n?o:xe())).next(a=>(iL(r,KN(e),a),{documents:a,Ts:o})))}function iL(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class H_{constructor(){this.activeTargetIds=ZN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oL{constructor(){this.so=new H_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new H_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gl=null;function Ah(){return Gl===null?Gl=function(){return 268435456+Math.round(2147483648*Math.random())}():Gl++,"0x"+Gl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class uL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Ah(),l=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(h=>(me("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Mo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=aL[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Ah();return new Promise((s,a)=>{const l=new CT;l.setWithCredentials(!0),l.listenOnce(NT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case du.NO_ERROR:const h=l.getResponseJson();me(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case du.TIMEOUT:me(Mt,`RPC '${e}' ${o} timed out`),a(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:const f=l.getStatus();if(me(Mt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const w=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(g)>=0?g:re.UNKNOWN}(m.status);a(new pe(w,m.message))}else a(new pe(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(re.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{me(Mt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);me(Mt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Ah(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=MT(),a=DT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new xT({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");me(Mt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=s.createWebChannel(h,l);let d=!1,m=!1;const w=new lL({Io:_=>{m?me(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(me(Mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),me(Mt,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),v=(_,g,p)=>{_.listen(g,E=>{try{p(E)}catch(y){setTimeout(()=>{throw y},0)}})};return v(f,Ks.EventType.OPEN,()=>{m||(me(Mt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),v(f,Ks.EventType.CLOSE,()=>{m||(m=!0,me(Mt,`RPC '${e}' stream ${i} transport closed`),w.So())}),v(f,Ks.EventType.ERROR,_=>{m||(m=!0,Mo(Mt,`RPC '${e}' stream ${i} transport errored:`,_),w.So(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),v(f,Ks.EventType.MESSAGE,_=>{var g;if(!m){const p=_.data[0];$e(!!p);const E=p,y=E.error||((g=E[0])===null||g===void 0?void 0:g.error);if(y){me(Mt,`RPC '${e}' stream ${i} received error:`,y);const I=y.status;let x=function(P){const T=ft[P];if(T!==void 0)return lS(T)}(I),A=y.message;x===void 0&&(x=re.INTERNAL,A="Unknown error status: "+I+" with message "+y.message),m=!0,w.So(new pe(x,A)),f.close()}else me(Mt,`RPC '${e}' stream ${i} received:`,p),w.bo(p)}}),v(a,LT.STAT_EVENT,_=>{_.stat===Qd.PROXY?me(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Qd.NOPROXY&&me(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){return new _2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cL extends ES{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=T2(this.serializer,e),r=function(o){if(!("targetChange"in o))return Te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Te.min():s.readTime?zn(s.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=op(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Zd(l)?{documents:A2(o,l)}:{query:I2(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=fS(o,s.resumeToken);const u=np(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Te.min())>0){a.readTime=oc(o,s.snapshotVersion.toTimestamp());const u=np(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=P2(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.a_(n)}}class fL extends ES{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=b2(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=op(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S2(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,rp(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(re.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,rp(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(re.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fr(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Hi(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.L_.add(4),await il(u),u.q_.set("Unknown"),u.L_.delete(4),await nf(u)}(this))})}),this.q_=new dL(r,i)}}async function nf(t){if(Hi(t))for(const e of t.B_)await e(!0)}async function il(t){for(const e of t.B_)await e(!1)}function TS(t,e){const n=Se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ag(n)?sg(n):is(n).r_()&&og(n,e))}function ig(t,e){const n=Se(t),r=is(n);n.N_.delete(e),r.r_()&&SS(n,e),n.N_.size===0&&(r.r_()?r.o_():Hi(n)&&n.q_.set("Unknown"))}function og(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}is(t).A_(e)}function SS(t,e){t.Q_.xe(e),is(t).R_(e)}function sg(t){t.Q_=new m2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),is(t).start(),t.q_.v_()}function ag(t){return Hi(t)&&!is(t).n_()&&t.N_.size>0}function Hi(t){return Se(t).L_.size===0}function bS(t){t.Q_=void 0}async function mL(t){t.q_.set("Online")}async function gL(t){t.N_.forEach((e,n)=>{og(t,e)})}async function vL(t,e){bS(t),ag(t)?(t.q_.M_(e),sg(t)):t.q_.set("Unknown")}async function yL(t,e,n){if(t.q_.set("Online"),e instanceof cS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sc(t,r)}else if(e instanceof gu?t.Q_.Ke(e):e instanceof uS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await _S(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.N_.get(u);h&&o.N_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.N_.get(l);if(!h)return;o.N_.set(l,h.withResumeToken(Ct.EMPTY_BYTE_STRING,h.snapshotVersion)),SS(o,l);const f=new Dr(h.target,l,u,h.sequenceNumber);og(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await sc(t,r)}}async function sc(t,e,n){if(!el(e))throw e;t.L_.add(1),await il(t),t.q_.set("Offline"),n||(n=()=>_S(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nf(t)})}function AS(t,e){return e().catch(n=>sc(t,n,e))}async function rf(t){const e=Se(t),n=ei(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;_L(e);)try{const i=await nL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,wL(e,i)}catch(i){await sc(e,i)}IS(e)&&OS(e)}function _L(t){return Hi(t)&&t.O_.length<10}function wL(t,e){t.O_.push(e);const n=ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function IS(t){return Hi(t)&&!ei(t).n_()&&t.O_.length>0}function OS(t){ei(t).start()}async function EL(t){ei(t).p_()}async function TL(t){const e=ei(t);for(const n of t.O_)e.m_(n.mutations)}async function SL(t,e,n){const r=t.O_.shift(),i=Jm.from(r,e,n);await AS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rf(t)}async function bL(t,e){e&&ei(t).V_&&await async function(r,i){if(function(s){return h2(s)&&s!==re.ABORTED}(i.code)){const o=r.O_.shift();ei(r).s_(),await AS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rf(r)}}(t,e),IS(t)&&OS(t)}async function K_(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Hi(n);n.L_.add(3),await il(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nf(n)}async function AL(t,e){const n=Se(t);e?(n.L_.delete(2),await nf(n)):e||(n.L_.add(2),await il(n),n.q_.set("Unknown"))}function is(t){return t.K_||(t.K_=function(n,r,i){const o=Se(n);return o.w_(),new cL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:mL.bind(null,t),Ro:gL.bind(null,t),mo:vL.bind(null,t),d_:yL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ag(t)?sg(t):t.q_.set("Unknown")):(await t.K_.stop(),bS(t))})),t.K_}function ei(t){return t.U_||(t.U_=function(n,r,i){const o=Se(n);return o.w_(),new fL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:EL.bind(null,t),mo:bL.bind(null,t),f_:TL.bind(null,t),g_:SL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rf(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new lg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(t,e){if(fr("AsyncQueue",`${e}: ${t}`),el(t))return new pe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=Gs(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new So(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new So;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.W_=new it(ge.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Bo(e,n,So.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class OL{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Se(n),o=i.queries;i.queries=Q_(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function Q_(){return new rs(t=>QT(t),Yc)}async function PS(t,e){const n=Se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new IL,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=ug(s,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&cg(n)}async function kS(t,e){const n=Se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function PL(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&cg(n)}function kL(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function cg(t){t.Y_.forEach(e=>{e.next()})}var ap,Y_;(Y_=ap||(ap={})).ea="default",Y_.Cache="cache";class RS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class RL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=YT(e),this.Ra=new So(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new G_,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=Xc(this.query,f)?f:null,w=!!d&&this.mutatedKeys.has(d.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;d&&m?d.data.isEqual(m.data)?w!==v&&(r.track({type:3,doc:m}),_=!0):this.ga(d,m)||(r.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),_=!0):d&&!m&&(r.track({type:1,doc:d}),_=!0,(l||u)&&(a=!0)),_&&(m?(s=s.add(m),o=v?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,f)=>function(m,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return v(m)-v(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Bo(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new G_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new CS(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Bo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class CL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xL{constructor(e){this.key=e,this.va=!1}}class NL{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new rs(a=>QT(a),Yc),this.Ma=new Map,this.xa=new Set,this.Oa=new it(ge.comparator),this.Na=new Map,this.La=new tg,this.Ba={},this.ka=new Map,this.qa=Uo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LL(t,e,n=!0){const r=VS(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await NS(r,e,n,!0),i}async function DL(t,e){const n=VS(t);await NS(n,e,!0,!1)}async function NS(t,e,n,r){const i=await rL(t.localStore,qn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await ML(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&TS(t.remoteStore,i),a}async function ML(t,e,n,r,i){t.Ka=(f,d,m)=>async function(v,_,g,p){let E=_.view.ma(g);E.ns&&(E=await z_(v.localStore,_.query,!1).then(({documents:A})=>_.view.ma(A,E)));const y=p&&p.targetChanges.get(_.targetId),I=p&&p.targetMismatches.get(_.targetId)!=null,x=_.view.applyChanges(E,v.isPrimaryClient,y,I);return J_(v,_.targetId,x.wa),x.snapshot}(t,f,d,m);const o=await z_(t.localStore,e,!0),s=new RL(e,o.Ts),a=s.ma(o.documents),l=rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);J_(t,n,u.wa);const h=new CL(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function jL(t,e,n){const r=Se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Yc(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ig(r.remoteStore,i.targetId),lp(r,i.targetId)}).catch(Za)):(lp(r,i.targetId),await sp(r.localStore,i.targetId,!0))}async function VL(t,e){const n=Se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function FL(t,e,n){const r=WL(t);try{const i=await function(s,a){const l=Se(s),u=vt.now(),h=a.reduce((m,w)=>m.add(w.key),xe());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=hr(),v=xe();return l.cs.getEntries(m,h).next(_=>{w=_,w.forEach((g,p)=>{p.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(_=>{f=_;const g=[];for(const p of a){const E=a2(p,f.get(p.key).overlayedDocument);E!=null&&g.push(new li(p.key,E,BT(E.value.mapValue),$n.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(_=>{d=_;const g=_.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,_.batchId,g)})}).then(()=>({batchId:d.batchId,changes:JT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new it(Ve)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await ol(r,i.changes),await rf(r.remoteStore)}catch(i){const o=ug(i,"Failed to persist write");n.reject(o)}}async function LS(t,e){const n=Se(t);try{const r=await eL(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?$e(s.va):i.removedDocuments.size>0&&($e(s.va),s.va=!1))}),await ol(n,r,e)}catch(r){await Za(r)}}function X_(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Se(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(a)&&(u=!0)}),u&&cg(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UL(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new it(ge.comparator);s=s.insert(o,Ft.newNoDocument(o,Te.min()));const a=xe().add(o),l=new ef(Te.min(),new Map,new it(Ve),s,a);await LS(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),fg(r)}else await sp(r.localStore,e,!1).then(()=>lp(r,e,n)).catch(Za)}async function BL(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await Z2(n.localStore,e);MS(n,r,null),DS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ol(n,i)}catch(i){await Za(i)}}async function qL(t,e,n){const r=Se(t);try{const i=await function(s,a){const l=Se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>($e(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);MS(r,e,n),DS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ol(r,i)}catch(i){await Za(i)}}function DS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function MS(t,e,n){const r=Se(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function lp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jS(t,r)})}function jS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(ig(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),fg(t))}function J_(t,e,n){for(const r of n)r instanceof CS?(t.La.addReference(r.key,e),$L(t,r)):r instanceof xS?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jS(t,r.key)):Ee()}function $L(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),fg(t))}function fg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ge(Qe.fromString(e)),r=t.qa.next();t.Na.set(r,new xL(n)),t.Oa=t.Oa.insert(n,r),TS(t.remoteStore,new Dr(qn(Ym(n.path)),r,"TargetPurposeLimboResolution",zm.oe))}}async function ol(t,e,n){const r=Se(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=rg.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const h=Se(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>se.forEach(u,d=>se.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>se.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!el(f))throw f;me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),w=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(d,v)}}}(r.localStore,o))}async function zL(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await yS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new pe(re.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ol(n,r.hs)}}function HL(t,e){const n=Se(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let i=xe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function VS(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UL.bind(null,e),e.Ca.d_=PL.bind(null,e.eventManager),e.Ca.$a=kL.bind(null,e.eventManager),e}function WL(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,e),e}class Z_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return J2(this.persistence,new Y2,e.initialUser,this.serializer)}createPersistence(e){return new K2(ng.Zr,this.serializer)}createSharedClientState(e){return new oL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class KL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zL.bind(null,this.syncEngine),await AL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OL}()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),r=function(o){return new uL(o)}(e.databaseInfo);return function(o,s,a,l){return new hL(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new pL(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>X_(this.syncEngine,n,0),function(){return W_.D()?new W_:new sL}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const f=new NL(i,o,s,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Se(i);me("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await il(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=VT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Oh(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YL(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>K_(e.remoteStore,i)),t._onlineComponents=e}function QL(t){return t.name==="FirebaseError"?t.code===re.FAILED_PRECONDITION||t.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function YL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!QL(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await Oh(t,new Z_)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Oh(t,new Z_);return t._offlineComponents}async function US(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await e0(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await e0(t,new KL))),t._onlineComponents}function XL(t){return US(t).then(e=>e.syncEngine)}async function BS(t){const e=await US(t),n=e.eventManager;return n.onListen=LL.bind(null,e.syncEngine),n.onUnlisten=jL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VL.bind(null,e.syncEngine),n}function JL(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new FS({next:d=>{s.enqueueAndForget(()=>kS(o,f));const m=d.docs.has(a);!m&&d.fromCache?u.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?u.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new RS(Ym(a.path),h,{includeMetadataChanges:!0,_a:!0});return PS(o,f)}(await BS(t),t.asyncQueue,e,n,r)),r.promise}function ZL(t,e,n={}){const r=new ir;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new FS({next:d=>{s.enqueueAndForget(()=>kS(o,f)),d.fromCache&&l.source==="server"?u.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new RS(a,h,{includeMetadataChanges:!0,_a:!0});return PS(o,f)}(await BS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eD(t,e,n,r){if(e===!0&&r===!0)throw new pe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function n0(t){if(!ge.isDocumentKey(t))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function r0(t){if(ge.isDocumentKey(t))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mN;switch(r.type){case"firstParty":return new _N(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=t0.get(n);r&&(me("ComponentProvider","Removing Datastore"),t0.delete(n),r.terminate())}(this),Promise.resolve()}}function tD(t,e,n,r={}){var i;const o=(t=ti(t,sf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=Nk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(u)}t._authCredentials=new gN(new jT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Qr extends os{constructor(e,n,r){super(e,n,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ge(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function sl(t,e,...n){if(t=Et(t),$S("collection","path",e),t instanceof sf){const r=Qe.fromString(e,...n);return r0(r),new Qr(t,null,r)}{if(!(t instanceof tn||t instanceof Qr))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return r0(r),new Qr(t.firestore,null,r)}}function ac(t,e,...n){if(t=Et(t),arguments.length===1&&(e=VT.newId()),$S("doc","path",e),t instanceof sf){const r=Qe.fromString(e,...n);return n0(r),new tn(t,null,new ge(r))}{if(!(t instanceof tn||t instanceof Qr))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return n0(r),new tn(t.firestore,t instanceof Qr?t.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new wS(this,"async_queue_retry"),this.Eu=()=>{const n=Ih();n&&me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Ih();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new ir;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!el(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=lg.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Ee()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class al extends sf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new nD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zS(this),this._firestoreClient.terminate()}}function rD(t,e){const n=typeof t=="object"?t:KE(),r=typeof t=="string"?t:"(default)",i=Nm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Ck("firestore");o&&tD(i,...o)}return i}function hg(t){return t._firestoreClient||zS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zS(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,h){return new xN(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,qS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new GL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qo(Ct.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qo(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^__.*__$/;class oD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new nl(e,this.data,n,this.fieldTransforms)}}class HS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class mg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return lc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(WS(this.wu)&&iD.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class sD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tf(e)}Nu(e,n,r,i=!1){return new mg({wu:e,methodName:n,Ou:r,path:It.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(t){const e=t._freezeSettings(),n=tf(t._databaseId);return new sD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aD(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);yg("Data must be an object, but it was:",s,r);const a=KS(r,s);let l,u;if(o.merge)l=new ln(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const d=up(e,f,n);if(!s.contains(d))throw new pe(re.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);QS(h,d)||h.push(d)}l=new ln(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new oD(new Yt(a),l,u)}class uf extends lf{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}class vg extends lf{_toFieldTransform(e){return new r2(e.path,new ja)}isEqual(e){return e instanceof vg}}function lD(t,e,n,r){const i=t.Nu(1,e,n);yg("Data must be an object, but it was:",i,r);const o=[],s=Yt.empty();zi(r,(l,u)=>{const h=_g(e,l,n);u=Et(u);const f=i.Cu(h);if(u instanceof uf)o.push(h);else{const d=ll(u,f);d!=null&&(o.push(h),s.set(h,d))}});const a=new ln(o);return new HS(s,a,i.fieldTransforms)}function uD(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[up(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(up(e,o[d])),l.push(o[d+1]);const u=[],h=Yt.empty();for(let d=a.length-1;d>=0;--d)if(!QS(u,a[d])){const m=a[d];let w=l[d];w=Et(w);const v=s.Cu(m);if(w instanceof uf)u.push(m);else{const _=ll(w,v);_!=null&&(u.push(m),h.set(m,_))}}const f=new ln(u);return new HS(h,f,s.fieldTransforms)}function cD(t,e,n,r=!1){return ll(n,t.Nu(r?4:3,e))}function ll(t,e){if(GS(t=Et(t)))return yg("Unsupported field value:",e,t),KS(t,e);if(t instanceof lf)return function(r,i){if(!WS(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=ll(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vt.fromDate(r);return{timestampValue:oc(i.serializer,o)}}if(r instanceof vt){const o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(i.serializer,o)}}if(r instanceof dg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qo)return{bytesValue:fS(i.serializer,r._byteString)};if(r instanceof tn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pg)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return Xm(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${of(r)}`)}(t,e)}function KS(t,e){const n={};return FT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const o=ll(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof dg||t instanceof qo||t instanceof tn||t instanceof lf||t instanceof pg)}function yg(t,e,n){if(!GS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=of(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function up(t,e,n){if((e=Et(e))instanceof af)return e._internalPath;if(typeof e=="string")return _g(t,e);throw lc("Field path arguments must be of type string or ",t,!1,void 0,n)}const fD=new RegExp("[~\\*/\\[\\]]");function _g(t,e,n){if(e.search(fD)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lc(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new pe(re.INVALID_ARGUMENT,a+t+l)}function QS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hD extends YS{data(){return super.data()}}function wg(t,e){return typeof e=="string"?_g(t,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class pD extends Eg{}function uc(t,e,...n){let r=[];e instanceof Eg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Sg).length,a=o.filter(l=>l instanceof cf).length;if(s>1||s>0&&a>0)throw new pe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cf extends pD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cf(e,n,r)}_apply(e){const n=this._parse(e);return XS(e._query,n),new os(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=gg(e.firestore);return function(o,s,a,l,u,h,f){let d;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new pe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){s0(f,h);const m=[];for(const w of f)m.push(o0(l,o,w));d={arrayValue:{values:m}}}else d=o0(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||s0(f,h),d=cD(a,s,f,h==="in"||h==="not-in");return dt.create(u,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tg(t,e,n){const r=e,i=wg("where",t);return cf._create(i,r,n)}class Sg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)XS(s,l),s=ep(s,l)}(e._query,n),new os(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function o0(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new pe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GT(e)&&n.indexOf("/")!==-1)throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qe.fromString(n));if(!ge.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O_(t,new ge(r))}if(n instanceof tn)return O_(t,n._key);throw new pe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function s0(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XS(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mD{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>lt(s.doubleValue));return new pg(o)}convertGeoPoint(e){return new dg(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);$e(vS(r));const i=new Da(r.get(1),r.get(3)),o=new ge(r.popFirst(5));return i.isEqual(n)||fr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JS extends YS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vu extends JS{data(e={}){return super.data(e)}}class vD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ys(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vu(this._firestore,this._userDataWriter,r.key,r,new Ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new vu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new vu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:yD(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){t=ti(t,tn);const e=ti(t.firestore,al);return JL(hg(e),t._key).then(n=>wD(e,t,n))}class ZS extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function bg(t){t=ti(t,os);const e=ti(t.firestore,al),n=hg(e),r=new ZS(e);return dD(t._query),ZL(n,t._query).then(i=>new vD(e,r,t,i))}function eb(t,e,n,...r){t=ti(t,tn);const i=ti(t.firestore,al),o=gg(i);let s;return s=typeof(e=Et(e))=="string"||e instanceof af?uD(o,"updateDoc",t._key,e,n,r):lD(o,"updateDoc",t._key,e),nb(i,[s.toMutation(t._key,$n.exists(!0))])}function tb(t,e){const n=ti(t.firestore,al),r=ac(t),i=gD(t.converter,e);return nb(n,[aD(gg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function nb(t,e){return function(r,i){const o=new ir;return r.asyncQueue.enqueueAndForget(async()=>FL(await XL(r),i,o)),o.promise}(hg(t),e)}function wD(t,e,n){const r=n.docs.get(e._key),i=new ZS(t);return new JS(t,i,e._key,r,new Ys(n.hasPendingWrites,n.fromCache),e.converter)}function ED(){return new vg("serverTimestamp")}(function(e,n=!0){(function(i){ns=i})(Zo),Lo(new xi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new al(new vN(r.getProvider("auth-internal")),new EN(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Kr(T_,"4.7.2",e),Kr(T_,"4.7.2","esm2017")})();const TD={apiKey:"AIzaSyDW3pSJuO8cZCE5Xj9E9jtinyzc5jE-6mE",authDomain:"mywebsiteauth-4ecd1.firebaseapp.com",projectId:"mywebsiteauth-4ecd1",storageBucket:"mywebsiteauth-4ecd1.appspot.com",messagingSenderId:"835611860806",appId:"1:835611860806:web:f1c4c8e388e09089984f47"},rb=WE(TD),ni=rD(rb),bo=fN(rb),ib=ie.createContext();function ji(){return ie.useContext(ib)}function ob({children:t}){const[e,n]=ie.useState(null),[r,i]=ie.useState(!0);ie.useEffect(()=>ex(bo,u=>{n(u),i(!1)}),[]);function o(l,u){return XC(bo,l,u)}function s(){return _T(bo)}const a={currentUser:e,login:o,logout:s};return G.jsx(ib.Provider,{value:a,children:!r&&t})}function js({children:t}){const{currentUser:e}=ji();return e?t:G.jsx(fk,{to:"/login"})}function SD(){const[t,e]=ie.useState("expense"),[n,r]=ie.useState(""),[i,o]=ie.useState(""),[s,a]=ie.useState(""),{currentUser:l}=ji(),u=async h=>{h.preventDefault();const f={type:t,amount:parseFloat(n),category:i,description:s,date:new Date,userId:String(l.uid)};try{await tb(sl(ni,"transactions"),f),alert("Transaction added successfully!"),r(""),o(""),a("")}catch(d){console.error("Error adding document:",d)}};return G.jsxs("form",{onSubmit:u,className:"transaction-form",children:[G.jsx("h2",{children:"Add a New Transaction"}),G.jsxs("select",{value:t,onChange:h=>e(h.target.value),children:[G.jsx("option",{value:"income",children:"Income"}),G.jsx("option",{value:"expense",children:"Expense"})]}),G.jsx("input",{type:"number",value:n,onChange:h=>r(h.target.value),placeholder:"Amount",required:!0}),G.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),placeholder:"Category",required:!0}),G.jsx("input",{type:"text",value:s,onChange:h=>a(h.target.value),placeholder:"Description"}),G.jsx("button",{type:"submit",children:"Add Transaction"})]})}const bD=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState(null);return ie.useEffect(()=>{(async()=>{try{if(!bo.currentUser){console.error("No user is currently logged in."),r("User is not authenticated.");return}const o=uc(sl(ni,"transactions"),Tg("userId","==",bo.currentUser.uid)),s=await bg(o);s.empty&&console.warn("No transactions found for this user.");const a=s.docs.map(l=>({...l.data(),id:l.id}));e(a)}catch(o){console.error("Error fetching transactions:",o),r(o.message)}})()},[]),n?G.jsxs("div",{children:["Error: ",n]}):G.jsxs("div",{children:[G.jsx("h2",{children:"Your Transactions"}),G.jsx("ul",{children:t.length>0?t.map(i=>G.jsxs("li",{children:[i.type==="income"?"+":"-","$",i.amount," - ",i.category]},i.id)):G.jsx("p",{children:"No transactions found."})})]})},AD=()=>{const t=qi(),e=()=>{_T(bo).then(()=>{console.log("User logged out successfully."),t("/login")}).catch(n=>{console.error("Error logging out:",n)})};return G.jsx("button",{id:"logoutButton",onClick:e,style:ID.logoutButton,children:"Logout"})},ID={logoutButton:{padding:"6px 15px",backgroundColor:"#e06e6e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},OD=()=>{const t=qi(),e=()=>{t("/login")};return G.jsx("button",{id:"loginButton",onClick:e,style:PD.logoutButton,children:"Login"})},PD={logoutButton:{padding:"6px 15px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}};function kD(){const{currentUser:t}=ji();return G.jsx("nav",{children:G.jsxs("ul",{children:[G.jsx("li",{id:"homeLink",children:G.jsx(mi,{to:"/",children:"Home"})}),G.jsx("li",{id:"portfolioLink",children:G.jsx(mi,{to:"/portfolio",children:"Portfolio"})}),t?G.jsxs(G.Fragment,{children:[G.jsx("li",{id:"cvLink",children:G.jsx(mi,{to:"/CV",children:"CV"})}),G.jsx("li",{id:"todoLink",children:G.jsx(mi,{to:"/todo",children:"TODO List"})}),G.jsx("li",{id:"financeLink",children:G.jsx(mi,{to:"/finance",children:"Financial Tracker"})}),G.jsx("li",{id:"weekplannerLink",children:G.jsx(mi,{to:"/weekplanner",children:"Week Planner"})}),G.jsxs("p",{id:"loggedInText",children:["Logged in as: ",t.email.split("@website.local")]}),G.jsx(AD,{})]}):G.jsx(OD,{})]})})}function RD(){return G.jsxs("div",{children:[G.jsx("h1",{id:"homeTitle",children:"Home"}),G.jsx("p",{children:"This is the home site!"})]})}function CD(){const{login:t}=ji(),[e,n]=ie.useState(""),[r,i]=ie.useState(!1),{currentUser:o}=ji(),s=qi(),[a,l]=ie.useState(""),[u,h]=ie.useState("");async function f(d){const m=`${a}@website.local`;d.preventDefault();try{n(""),i(!0),console.log("Current user: ",o),await t(m,u),s("/login")}catch{n("Failed to log in")}i(!1)}return G.jsx("div",{style:Gn.container,children:o?G.jsxs("div",{children:[G.jsxs("h1",{style:Gn.header,children:["Welcome, ",o.email.split("@website.local"),"!"]}),G.jsx("div",{style:Gn.homeButton,children:G.jsx("button",{onClick:()=>s("/"),children:"Got to Home"})})]}):G.jsxs("div",{children:[G.jsx("h2",{style:Gn.header,children:"Log In"}),e&&G.jsx("p",{children:e}),G.jsx("div",{style:Gn.card,children:G.jsxs("form",{onSubmit:f,style:Gn.form,children:[G.jsx("div",{children:G.jsx("input",{style:Gn.username,type:"text",placeholder:"Username",value:a,onChange:d=>l(d.target.value)})}),G.jsx("div",{children:G.jsx("input",{style:Gn.password,type:"password",placeholder:"Password",value:u,onChange:d=>h(d.target.value)})}),G.jsx("div",{children:G.jsx("button",{style:Gn.loginButton,type:"submit",disabled:r,children:"Log In"})})]})})]})})}const Gn={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},homeButton:{textAlign:"center",padding:"20px"},loginButton:{margin:"10px",textAlign:"center"},header:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},card:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"300px",margin:"auto",height:"auto"},form:{textAlign:"center",margin:"auto"},link:{textDecoration:"none",color:"inherit"},image:{width:"100%",height:"150px",objectFit:"cover"},username:{margin:"5px",height:"20px",width:"225px"},password:{margin:"5px",height:"20px",width:"225px"},passwordReset:{margin:"10px",textDecoration:"underline"}},xD=()=>{const t=qi(),e=()=>{t("/portfolio/addproject")};return G.jsx("button",{onClick:e,style:ND.addProjectButton,children:"Add Project"})},ND={logoutButton:{padding:"6px 10px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},LD=()=>{const[t,e]=ie.useState([]),[n,r]=ie.useState(!0),[i,o]=ie.useState(null),{currentUser:s}=ji();ie.useEffect(()=>{a()},[s]),ie.useEffect(()=>{a()},[t]);const a=async()=>{const l=sl(ni,"projects");let u;s?u=uc(l):u=uc(l,Tg("isPublished","==",!0));const f=(await bg(u)).docs.map(d=>({id:d.id,...d.data()}));e(f),o(i),r(!1)};return n?G.jsx("div",{children:"Loading projects..."}):i?G.jsx("div",{children:i}):G.jsx("div",{children:G.jsxs("div",{style:Ln.container,children:[G.jsx("h1",{style:Ln.header,children:"My Projects"}),s?G.jsx("div",{style:Ln.button,children:G.jsx(xD,{})}):G.jsx(G.Fragment,{}),G.jsx("div",{style:Ln.grid,children:t.map(l=>G.jsxs("div",{style:Ln.card,children:[G.jsxs(mi,{to:`/portfolio/${l.route}`,style:Ln.link,children:[G.jsx("img",{src:l.cardImage,alt:l.title,style:Ln.image}),G.jsx("h2",{children:l.title}),G.jsx("p",{children:l.description})]}),G.jsx("div",{style:Ln.buttons,children:s?G.jsxs(G.Fragment,{children:[G.jsx("button",{style:Ln.isPublishedButton,onClick:()=>DD(l.id,l.isPublished),children:l.isPublished?"Hide":"Publish"}),G.jsx("button",{style:Ln.editProjectButton,onClick:()=>MD(l.id),children:"Edit"})]}):G.jsx(G.Fragment,{})})]},l.id))})]})})},DD=async(t,e)=>{const n=ac(ni,"projects",t);await eb(n,{isPublished:!e}),setProjects(r=>r.map(i=>i.id===t?{...i,isPublished:!e}:i))},MD=t=>{window.location.href=`/edit-project/${t}`},Ln={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},button:{textAlign:"center",padding:"20px"},header:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},card:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"300",height:"400px",position:"relative"},link:{textDecoration:"none",color:"inherit"},image:{width:"100%",height:"150px",objectFit:"cover"},buttons:{position:"absolute",bottom:"5px",left:"10px"},isPublishedButton:{textAlign:"left",margin:"auto",bottom:"10px"},editProjectButton:{textAlign:"left",margin:"10px",bottom:"10px"}};function sb(t,e){return function(){return t.apply(e,arguments)}}const{toString:jD}=Object.prototype,{getPrototypeOf:Ag}=Object,ff=(t=>e=>{const n=jD.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cn=t=>(t=t.toLowerCase(),e=>ff(e)===t),hf=t=>e=>typeof e===t,{isArray:ss}=Array,Ua=hf("undefined");function VD(t){return t!==null&&!Ua(t)&&t.constructor!==null&&!Ua(t.constructor)&&cn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ab=Cn("ArrayBuffer");function FD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ab(t.buffer),e}const UD=hf("string"),cn=hf("function"),lb=hf("number"),df=t=>t!==null&&typeof t=="object",BD=t=>t===!0||t===!1,yu=t=>{if(ff(t)!=="object")return!1;const e=Ag(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},qD=Cn("Date"),$D=Cn("File"),zD=Cn("Blob"),HD=Cn("FileList"),WD=t=>df(t)&&cn(t.pipe),KD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||cn(t.append)&&((e=ff(t))==="formdata"||e==="object"&&cn(t.toString)&&t.toString()==="[object FormData]"))},GD=Cn("URLSearchParams"),[QD,YD,XD,JD]=["ReadableStream","Request","Response","Headers"].map(Cn),ZD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ul(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ss(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function ub(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cb=t=>!Ua(t)&&t!==Ti;function cp(){const{caseless:t}=cb(this)&&this||{},e={},n=(r,i)=>{const o=t&&ub(e,i)||i;yu(e[o])&&yu(r)?e[o]=cp(e[o],r):yu(r)?e[o]=cp({},r):ss(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ul(arguments[r],n);return e}const eM=(t,e,n,{allOwnKeys:r}={})=>(ul(e,(i,o)=>{n&&cn(i)?t[o]=sb(i,n):t[o]=i},{allOwnKeys:r}),t),tM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nM=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rM=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Ag(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},iM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},oM=t=>{if(!t)return null;if(ss(t))return t;let e=t.length;if(!lb(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},sM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ag(Uint8Array)),aM=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},lM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},uM=Cn("HTMLFormElement"),cM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),a0=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),fM=Cn("RegExp"),fb=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ul(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},hM=t=>{fb(t,(e,n)=>{if(cn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(cn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dM=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return ss(t)?r(t):r(String(t).split(e)),n},pM=()=>{},mM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Ph="abcdefghijklmnopqrstuvwxyz",l0="0123456789",hb={DIGIT:l0,ALPHA:Ph,ALPHA_DIGIT:Ph+Ph.toUpperCase()+l0},gM=(t=16,e=hb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function vM(t){return!!(t&&cn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const yM=t=>{const e=new Array(10),n=(r,i)=>{if(df(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=ss(r)?[]:{};return ul(r,(s,a)=>{const l=n(s,i+1);!Ua(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},_M=Cn("AsyncFunction"),wM=t=>t&&(df(t)||cn(t))&&cn(t.then)&&cn(t.catch),db=((t,e)=>t?setImmediate:e?((n,r)=>(Ti.addEventListener("message",({source:i,data:o})=>{i===Ti&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ti.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cn(Ti.postMessage)),EM=typeof queueMicrotask<"u"?queueMicrotask.bind(Ti):typeof process<"u"&&process.nextTick||db,Z={isArray:ss,isArrayBuffer:ab,isBuffer:VD,isFormData:KD,isArrayBufferView:FD,isString:UD,isNumber:lb,isBoolean:BD,isObject:df,isPlainObject:yu,isReadableStream:QD,isRequest:YD,isResponse:XD,isHeaders:JD,isUndefined:Ua,isDate:qD,isFile:$D,isBlob:zD,isRegExp:fM,isFunction:cn,isStream:WD,isURLSearchParams:GD,isTypedArray:sM,isFileList:HD,forEach:ul,merge:cp,extend:eM,trim:ZD,stripBOM:tM,inherits:nM,toFlatObject:rM,kindOf:ff,kindOfTest:Cn,endsWith:iM,toArray:oM,forEachEntry:aM,matchAll:lM,isHTMLForm:uM,hasOwnProperty:a0,hasOwnProp:a0,reduceDescriptors:fb,freezeMethods:hM,toObjectSet:dM,toCamelCase:cM,noop:pM,toFiniteNumber:mM,findKey:ub,global:Ti,isContextDefined:cb,ALPHABET:hb,generateString:gM,isSpecCompliantForm:vM,toJSONObject:yM,isAsyncFn:_M,isThenable:wM,setImmediate:db,asap:EM};function Ie(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Z.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const pb=Ie.prototype,mb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mb[t]={value:t}});Object.defineProperties(Ie,mb);Object.defineProperty(pb,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,i,o)=>{const s=Object.create(pb);return Z.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ie.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const TM=null;function fp(t){return Z.isPlainObject(t)||Z.isArray(t)}function gb(t){return Z.endsWith(t,"[]")?t.slice(0,-2):t}function u0(t,e,n){return t?t.concat(e).map(function(i,o){return i=gb(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function SM(t){return Z.isArray(t)&&!t.some(fp)}const bM=Z.toFlatObject(Z,{},null,function(e){return/^is[A-Z]/.test(e)});function pf(t,e,n){if(!Z.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,_){return!Z.isUndefined(_[v])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(e);if(!Z.isFunction(i))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(Z.isDate(w))return w.toISOString();if(!l&&Z.isBlob(w))throw new Ie("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(w)||Z.isTypedArray(w)?l&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,v,_){let g=w;if(w&&!_&&typeof w=="object"){if(Z.endsWith(v,"{}"))v=r?v:v.slice(0,-2),w=JSON.stringify(w);else if(Z.isArray(w)&&SM(w)||(Z.isFileList(w)||Z.endsWith(v,"[]"))&&(g=Z.toArray(w)))return v=gb(v),g.forEach(function(E,y){!(Z.isUndefined(E)||E===null)&&e.append(s===!0?u0([v],y,o):s===null?v:v+"[]",u(E))}),!1}return fp(w)?!0:(e.append(u0(_,v,o),u(w)),!1)}const f=[],d=Object.assign(bM,{defaultVisitor:h,convertValue:u,isVisitable:fp});function m(w,v){if(!Z.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(w),Z.forEach(w,function(g,p){(!(Z.isUndefined(g)||g===null)&&i.call(e,g,Z.isString(p)?p.trim():p,v,d))===!0&&m(g,v?v.concat(p):[p])}),f.pop()}}if(!Z.isObject(t))throw new TypeError("data must be an object");return m(t),e}function c0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ig(t,e){this._pairs=[],t&&pf(t,this,e)}const vb=Ig.prototype;vb.append=function(e,n){this._pairs.push([e,n])};vb.toString=function(e){const n=e?function(r){return e.call(this,r,c0)}:c0;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function AM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yb(t,e,n){if(!e)return t;const r=n&&n.encode||AM,i=n&&n.serialize;let o;if(i?o=i(e,n):o=Z.isURLSearchParams(e)?e.toString():new Ig(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class f0{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Z.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _b={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},IM=typeof URLSearchParams<"u"?URLSearchParams:Ig,OM=typeof FormData<"u"?FormData:null,PM=typeof Blob<"u"?Blob:null,kM={isBrowser:!0,classes:{URLSearchParams:IM,FormData:OM,Blob:PM},protocols:["http","https","file","blob","url","data"]},Og=typeof window<"u"&&typeof document<"u",hp=typeof navigator=="object"&&navigator||void 0,RM=Og&&(!hp||["ReactNative","NativeScript","NS"].indexOf(hp.product)<0),CM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xM=Og&&window.location.href||"http://localhost",NM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Og,hasStandardBrowserEnv:RM,hasStandardBrowserWebWorkerEnv:CM,navigator:hp,origin:xM},Symbol.toStringTag,{value:"Module"})),nn={...NM,...kM};function LM(t,e){return pf(t,new nn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return nn.isNode&&Z.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function DM(t){return Z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function MM(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function wb(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Z.isArray(i)?i.length:s,l?(Z.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Z.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&Z.isArray(i[s])&&(i[s]=MM(i[s])),!a)}if(Z.isFormData(t)&&Z.isFunction(t.entries)){const n={};return Z.forEachEntry(t,(r,i)=>{e(DM(r),i,n,0)}),n}return null}function jM(t,e,n){if(Z.isString(t))try{return(e||JSON.parse)(t),Z.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const cl={transitional:_b,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Z.isObject(e);if(o&&Z.isHTMLForm(e)&&(e=new FormData(e)),Z.isFormData(e))return i?JSON.stringify(wb(e)):e;if(Z.isArrayBuffer(e)||Z.isBuffer(e)||Z.isStream(e)||Z.isFile(e)||Z.isBlob(e)||Z.isReadableStream(e))return e;if(Z.isArrayBufferView(e))return e.buffer;if(Z.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LM(e,this.formSerializer).toString();if((a=Z.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return pf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),jM(e)):e}],transformResponse:[function(e){const n=this.transitional||cl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Z.isResponse(e)||Z.isReadableStream(e))return e;if(e&&Z.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ie.from(a,Ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],t=>{cl.headers[t]={}});const VM=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FM=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&VM[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},h0=Symbol("internals");function Vs(t){return t&&String(t).trim().toLowerCase()}function _u(t){return t===!1||t==null?t:Z.isArray(t)?t.map(_u):String(t)}function UM(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const BM=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kh(t,e,n,r,i){if(Z.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Z.isString(e)){if(Z.isString(r))return e.indexOf(r)!==-1;if(Z.isRegExp(r))return r.test(e)}}function qM(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function $M(t,e){const n=Z.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class rn{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const h=Vs(l);if(!h)throw new Error("header name must be a non-empty string");const f=Z.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=_u(a))}const s=(a,l)=>Z.forEach(a,(u,h)=>o(u,h,l));if(Z.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Z.isString(e)&&(e=e.trim())&&!BM(e))s(FM(e),n);else if(Z.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Vs(e),e){const r=Z.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return UM(i);if(Z.isFunction(n))return n.call(this,i,r);if(Z.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vs(e),e){const r=Z.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kh(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Vs(s),s){const a=Z.findKey(r,s);a&&(!n||kh(r,r[a],a,n))&&(delete r[a],i=!0)}}return Z.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||kh(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return Z.forEach(this,(i,o)=>{const s=Z.findKey(r,o);if(s){n[s]=_u(i),delete n[o];return}const a=e?qM(o):String(o).trim();a!==o&&delete n[o],n[a]=_u(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Z.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Z.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[h0]=this[h0]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Vs(s);r[a]||($M(i,s),r[a]=!0)}return Z.isArray(e)?e.forEach(o):o(e),this}}rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(rn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Z.freezeMethods(rn);function Rh(t,e){const n=this||cl,r=e||n,i=rn.from(r.headers);let o=r.data;return Z.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Eb(t){return!!(t&&t.__CANCEL__)}function as(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}Z.inherits(as,Ie,{__CANCEL__:!0});function Tb(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function zM(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function HM(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),h=r[o];s||(s=u),n[i]=l,r[i]=u;let f=o,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const m=h&&u-h;return m?Math.round(d*1e3/m):void 0}}function WM(t,e){let n=0,r=1e3/e,i,o;const s=(u,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?s(u,h):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const cc=(t,e,n=3)=>{let r=0;const i=HM(50,250);return WM(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),h=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&h?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},d0=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},p0=t=>(...e)=>Z.asap(()=>t(...e)),KM=nn.hasStandardBrowserEnv?function(){const e=nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=Z.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),GM=nn.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];Z.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Z.isString(r)&&s.push("path="+r),Z.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QM(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function YM(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Sb(t,e){return t&&!QM(e)?YM(t,e):e}const m0=t=>t instanceof rn?{...t}:t;function Vi(t,e){e=e||{};const n={};function r(u,h,f){return Z.isPlainObject(u)&&Z.isPlainObject(h)?Z.merge.call({caseless:f},u,h):Z.isPlainObject(h)?Z.merge({},h):Z.isArray(h)?h.slice():h}function i(u,h,f){if(Z.isUndefined(h)){if(!Z.isUndefined(u))return r(void 0,u,f)}else return r(u,h,f)}function o(u,h){if(!Z.isUndefined(h))return r(void 0,h)}function s(u,h){if(Z.isUndefined(h)){if(!Z.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function a(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,h)=>i(m0(u),m0(h),!0)};return Z.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=l[h]||i,d=f(t[h],e[h],h);Z.isUndefined(d)&&f!==a||(n[h]=d)}),n}const bb=t=>{const e=Vi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=rn.from(s),e.url=yb(Sb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Z.isFormData(n)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...h]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...h].join("; "))}}if(nn.hasStandardBrowserEnv&&(r&&Z.isFunction(r)&&(r=r(e)),r||r!==!1&&KM(e.url))){const u=i&&o&&GM.read(o);u&&s.set(i,u)}return e},XM=typeof XMLHttpRequest<"u",JM=XM&&function(t){return new Promise(function(n,r){const i=bb(t);let o=i.data;const s=rn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,h,f,d,m,w;function v(){m&&m(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function g(){if(!_)return;const E=rn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),I={data:!a||a==="text"||a==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:E,config:t,request:_};Tb(function(A){n(A),v()},function(A){r(A),v()},I),_=null}"onloadend"in _?_.onloadend=g:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(g)},_.onabort=function(){_&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||_b;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),r(new Ie(y,I.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,_)),_=null},o===void 0&&s.setContentType(null),"setRequestHeader"in _&&Z.forEach(s.toJSON(),function(y,I){_.setRequestHeader(I,y)}),Z.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),a&&a!=="json"&&(_.responseType=i.responseType),u&&([d,w]=cc(u,!0),_.addEventListener("progress",d)),l&&_.upload&&([f,m]=cc(l),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=E=>{_&&(r(!E||E.type?new as(null,t,_):E),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const p=zM(i.url);if(p&&nn.protocols.indexOf(p)===-1){r(new Ie("Unsupported protocol "+p+":",Ie.ERR_BAD_REQUEST,t));return}_.send(o||null)})},ZM=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Ie?h:new as(h instanceof Error?h.message:h))}};let s=e&&setTimeout(()=>{s=null,o(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Z.asap(a),l}},ej=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},tj=async function*(t,e){for await(const n of nj(t))yield*ej(n,e)},nj=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},g0=(t,e,n,r)=>{const i=tj(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:h}=await i.next();if(u){a(),l.close();return}let f=h.byteLength;if(n){let d=o+=f;n(d)}l.enqueue(new Uint8Array(h))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},mf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ab=mf&&typeof ReadableStream=="function",rj=mf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ib=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ij=Ab&&Ib(()=>{let t=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),v0=64*1024,dp=Ab&&Ib(()=>Z.isReadableStream(new Response("").body)),fc={stream:dp&&(t=>t.body)};mf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fc[e]&&(fc[e]=Z.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ie(`Response type '${e}' is not supported`,Ie.ERR_NOT_SUPPORT,r)})})})(new Response);const oj=async t=>{if(t==null)return 0;if(Z.isBlob(t))return t.size;if(Z.isSpecCompliantForm(t))return(await new Request(nn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(t)||Z.isArrayBuffer(t))return t.byteLength;if(Z.isURLSearchParams(t)&&(t=t+""),Z.isString(t))return(await rj(t)).byteLength},sj=async(t,e)=>{const n=Z.toFiniteNumber(t.getContentLength());return n??oj(e)},aj=mf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:d}=bb(t);u=u?(u+"").toLowerCase():"text";let m=ZM([i,o&&o.toAbortSignal()],s),w;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(l&&ij&&n!=="get"&&n!=="head"&&(_=await sj(h,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),x;if(Z.isFormData(r)&&(x=I.headers.get("content-type"))&&h.setContentType(x),I.body){const[A,S]=d0(_,cc(p0(l)));r=g0(I.body,v0,A,S)}}Z.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;w=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let p=await fetch(w);const E=dp&&(u==="stream"||u==="response");if(dp&&(a||E&&v)){const I={};["status","statusText","headers"].forEach(P=>{I[P]=p[P]});const x=Z.toFiniteNumber(p.headers.get("content-length")),[A,S]=a&&d0(x,cc(p0(a),!0))||[];p=new Response(g0(p.body,v0,A,()=>{S&&S(),v&&v()}),I)}u=u||"text";let y=await fc[Z.findKey(fc,u)||"text"](p,t);return!E&&v&&v(),await new Promise((I,x)=>{Tb(I,x,{data:y,headers:rn.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:w})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,t,w),{cause:g.cause||g}):Ie.from(g,g&&g.code,t,w)}}),pp={http:TM,xhr:JM,fetch:aj};Z.forEach(pp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const y0=t=>`- ${t}`,lj=t=>Z.isFunction(t)||t===null||t===!1,Ob={getAdapter:t=>{t=Z.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!lj(n)&&(r=pp[(s=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(y0).join(`
`):" "+y0(o[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:pp};function Ch(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new as(null,t)}function _0(t){return Ch(t),t.headers=rn.from(t.headers),t.data=Rh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ob.getAdapter(t.adapter||cl.adapter)(t).then(function(r){return Ch(t),r.data=Rh.call(t,t.transformResponse,r),r.headers=rn.from(r.headers),r},function(r){return Eb(r)||(Ch(t),r&&r.response&&(r.response.data=Rh.call(t,t.transformResponse,r.response),r.response.headers=rn.from(r.response.headers))),Promise.reject(r)})}const Pb="1.7.7",Pg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Pg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const w0={};Pg.transitional=function(e,n,r){function i(o,s){return"[Axios v"+Pb+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Ie(i(s," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!w0[s]&&(w0[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function uj(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ie("option "+o+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+o,Ie.ERR_BAD_OPTION)}}const mp={assertOptions:uj,validators:Pg},Tr=mp.validators;class Ii{constructor(e){this.defaults=e,this.interceptors={request:new f0,response:new f0}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Vi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&mp.assertOptions(r,{silentJSONParsing:Tr.transitional(Tr.boolean),forcedJSONParsing:Tr.transitional(Tr.boolean),clarifyTimeoutError:Tr.transitional(Tr.boolean)},!1),i!=null&&(Z.isFunction(i)?n.paramsSerializer={serialize:i}:mp.assertOptions(i,{encode:Tr.function,serialize:Tr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Z.merge(o.common,o[n.method]);o&&Z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=rn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,f=0,d;if(!l){const w=[_0.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,u),d=w.length,h=Promise.resolve(n);f<d;)h=h.then(w[f++],w[f++]);return h}d=a.length;let m=n;for(f=0;f<d;){const w=a[f++],v=a[f++];try{m=w(m)}catch(_){v.call(this,_);break}}try{h=_0.call(this,m)}catch(w){return Promise.reject(w)}for(f=0,d=u.length;f<d;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=Vi(this.defaults,e);const n=Sb(e.baseURL,e.url);return yb(n,e.params,e.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(e){Ii.prototype[e]=function(n,r){return this.request(Vi(r||{},{method:e,url:n,data:(r||{}).data}))}});Z.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Vi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ii.prototype[e]=n(),Ii.prototype[e+"Form"]=n(!0)});class kg{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new as(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new kg(function(i){e=i}),cancel:e}}}function cj(t){return function(n){return t.apply(null,n)}}function fj(t){return Z.isObject(t)&&t.isAxiosError===!0}const gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gp).forEach(([t,e])=>{gp[e]=t});function kb(t){const e=new Ii(t),n=sb(Ii.prototype.request,e);return Z.extend(n,Ii.prototype,e,{allOwnKeys:!0}),Z.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return kb(Vi(t,i))},n}const pt=kb(cl);pt.Axios=Ii;pt.CanceledError=as;pt.CancelToken=kg;pt.isCancel=Eb;pt.VERSION=Pb;pt.toFormData=pf;pt.AxiosError=Ie;pt.Cancel=pt.CanceledError;pt.all=function(e){return Promise.all(e)};pt.spread=cj;pt.isAxiosError=fj;pt.mergeConfig=Vi;pt.AxiosHeaders=rn;pt.formToJSON=t=>wb(Z.isHTMLForm(t)?new FormData(t):t);pt.getAdapter=Ob.getAdapter;pt.HttpStatusCode=gp;pt.default=pt;const hj=({onUploadComplete:t})=>{const[e,n]=ie.useState([]),r=o=>{n([...o.target.files])},i=async()=>{const o=new FormData;e.forEach(s=>{o.append("images",s)});try{const a=(await pt.post("http://localhost:3001/upload",o,{headers:{"Content-Type":"multipart/form-data"}})).data.urls;t(a),alert("Images uploaded successfully!")}catch(s){alert("Failed to upload images."),console.error(s)}};return G.jsxs("div",{children:[G.jsx("h2",{children:"Upload Project Images"}),G.jsx("input",{type:"file",multiple:!0,onChange:r}),G.jsx("button",{onClick:i,children:"Upload Images"})]})};function dj(){this.__data__=[],this.size=0}var pj=dj;function mj(t,e){return t===e||t!==t&&e!==e}var Rb=mj,gj=Rb;function vj(t,e){for(var n=t.length;n--;)if(gj(t[n][0],e))return n;return-1}var gf=vj,yj=gf,_j=Array.prototype,wj=_j.splice;function Ej(t){var e=this.__data__,n=yj(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():wj.call(e,n,1),--this.size,!0}var Tj=Ej,Sj=gf;function bj(t){var e=this.__data__,n=Sj(e,t);return n<0?void 0:e[n][1]}var Aj=bj,Ij=gf;function Oj(t){return Ij(this.__data__,t)>-1}var Pj=Oj,kj=gf;function Rj(t,e){var n=this.__data__,r=kj(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Cj=Rj,xj=pj,Nj=Tj,Lj=Aj,Dj=Pj,Mj=Cj;function ls(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ls.prototype.clear=xj;ls.prototype.delete=Nj;ls.prototype.get=Lj;ls.prototype.has=Dj;ls.prototype.set=Mj;var vf=ls,jj=vf;function Vj(){this.__data__=new jj,this.size=0}var Fj=Vj;function Uj(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Bj=Uj;function qj(t){return this.__data__.get(t)}var $j=qj;function zj(t){return this.__data__.has(t)}var Hj=zj,Wj=typeof Ot=="object"&&Ot&&Ot.Object===Object&&Ot,Cb=Wj,Kj=Cb,Gj=typeof self=="object"&&self&&self.Object===Object&&self,Qj=Kj||Gj||Function("return this")(),gr=Qj,Yj=gr,Xj=Yj.Symbol,Rg=Xj,E0=Rg,xb=Object.prototype,Jj=xb.hasOwnProperty,Zj=xb.toString,Fs=E0?E0.toStringTag:void 0;function e4(t){var e=Jj.call(t,Fs),n=t[Fs];try{t[Fs]=void 0;var r=!0}catch{}var i=Zj.call(t);return r&&(e?t[Fs]=n:delete t[Fs]),i}var t4=e4,n4=Object.prototype,r4=n4.toString;function i4(t){return r4.call(t)}var o4=i4,T0=Rg,s4=t4,a4=o4,l4="[object Null]",u4="[object Undefined]",S0=T0?T0.toStringTag:void 0;function c4(t){return t==null?t===void 0?u4:l4:S0&&S0 in Object(t)?s4(t):a4(t)}var yf=c4;function f4(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nb=f4,h4=yf,d4=Nb,p4="[object AsyncFunction]",m4="[object Function]",g4="[object GeneratorFunction]",v4="[object Proxy]";function y4(t){if(!d4(t))return!1;var e=h4(t);return e==m4||e==g4||e==p4||e==v4}var Lb=y4,_4=gr,w4=_4["__core-js_shared__"],E4=w4,xh=E4,b0=function(){var t=/[^.]+$/.exec(xh&&xh.keys&&xh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function T4(t){return!!b0&&b0 in t}var S4=T4,b4=Function.prototype,A4=b4.toString;function I4(t){if(t!=null){try{return A4.call(t)}catch{}try{return t+""}catch{}}return""}var Db=I4,O4=Lb,P4=S4,k4=Nb,R4=Db,C4=/[\\^$.*+?()[\]{}|]/g,x4=/^\[object .+?Constructor\]$/,N4=Function.prototype,L4=Object.prototype,D4=N4.toString,M4=L4.hasOwnProperty,j4=RegExp("^"+D4.call(M4).replace(C4,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V4(t){if(!k4(t)||P4(t))return!1;var e=O4(t)?j4:x4;return e.test(R4(t))}var F4=V4;function U4(t,e){return t==null?void 0:t[e]}var B4=U4,q4=F4,$4=B4;function z4(t,e){var n=$4(t,e);return q4(n)?n:void 0}var us=z4,H4=us,W4=gr,K4=H4(W4,"Map"),Cg=K4,G4=us,Q4=G4(Object,"create"),_f=Q4,A0=_f;function Y4(){this.__data__=A0?A0(null):{},this.size=0}var X4=Y4;function J4(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Z4=J4,eV=_f,tV="__lodash_hash_undefined__",nV=Object.prototype,rV=nV.hasOwnProperty;function iV(t){var e=this.__data__;if(eV){var n=e[t];return n===tV?void 0:n}return rV.call(e,t)?e[t]:void 0}var oV=iV,sV=_f,aV=Object.prototype,lV=aV.hasOwnProperty;function uV(t){var e=this.__data__;return sV?e[t]!==void 0:lV.call(e,t)}var cV=uV,fV=_f,hV="__lodash_hash_undefined__";function dV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=fV&&e===void 0?hV:e,this}var pV=dV,mV=X4,gV=Z4,vV=oV,yV=cV,_V=pV;function cs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}cs.prototype.clear=mV;cs.prototype.delete=gV;cs.prototype.get=vV;cs.prototype.has=yV;cs.prototype.set=_V;var wV=cs,I0=wV,EV=vf,TV=Cg;function SV(){this.size=0,this.__data__={hash:new I0,map:new(TV||EV),string:new I0}}var bV=SV;function AV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var IV=AV,OV=IV;function PV(t,e){var n=t.__data__;return OV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var wf=PV,kV=wf;function RV(t){var e=kV(this,t).delete(t);return this.size-=e?1:0,e}var CV=RV,xV=wf;function NV(t){return xV(this,t).get(t)}var LV=NV,DV=wf;function MV(t){return DV(this,t).has(t)}var jV=MV,VV=wf;function FV(t,e){var n=VV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var UV=FV,BV=bV,qV=CV,$V=LV,zV=jV,HV=UV;function fs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fs.prototype.clear=BV;fs.prototype.delete=qV;fs.prototype.get=$V;fs.prototype.has=zV;fs.prototype.set=HV;var Mb=fs,WV=vf,KV=Cg,GV=Mb,QV=200;function YV(t,e){var n=this.__data__;if(n instanceof WV){var r=n.__data__;if(!KV||r.length<QV-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new GV(r)}return n.set(t,e),this.size=n.size,this}var XV=YV,JV=vf,ZV=Fj,e3=Bj,t3=$j,n3=Hj,r3=XV;function hs(t){var e=this.__data__=new JV(t);this.size=e.size}hs.prototype.clear=ZV;hs.prototype.delete=e3;hs.prototype.get=t3;hs.prototype.has=n3;hs.prototype.set=r3;var i3=hs,o3="__lodash_hash_undefined__";function s3(t){return this.__data__.set(t,o3),this}var a3=s3;function l3(t){return this.__data__.has(t)}var u3=l3,c3=Mb,f3=a3,h3=u3;function hc(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new c3;++e<n;)this.add(t[e])}hc.prototype.add=hc.prototype.push=f3;hc.prototype.has=h3;var d3=hc;function p3(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var m3=p3;function g3(t,e){return t.has(e)}var v3=g3,y3=d3,_3=m3,w3=v3,E3=1,T3=2;function S3(t,e,n,r,i,o){var s=n&E3,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var f=-1,d=!0,m=n&T3?new y3:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var w=t[f],v=e[f];if(r)var _=s?r(v,w,f,e,t,o):r(w,v,f,t,e,o);if(_!==void 0){if(_)continue;d=!1;break}if(m){if(!_3(e,function(g,p){if(!w3(m,p)&&(w===g||i(w,g,n,r,o)))return m.push(p)})){d=!1;break}}else if(!(w===v||i(w,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var jb=S3,b3=gr,A3=b3.Uint8Array,I3=A3;function O3(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var P3=O3;function k3(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var R3=k3,O0=Rg,P0=I3,C3=Rb,x3=jb,N3=P3,L3=R3,D3=1,M3=2,j3="[object Boolean]",V3="[object Date]",F3="[object Error]",U3="[object Map]",B3="[object Number]",q3="[object RegExp]",$3="[object Set]",z3="[object String]",H3="[object Symbol]",W3="[object ArrayBuffer]",K3="[object DataView]",k0=O0?O0.prototype:void 0,Nh=k0?k0.valueOf:void 0;function G3(t,e,n,r,i,o,s){switch(n){case K3:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case W3:return!(t.byteLength!=e.byteLength||!o(new P0(t),new P0(e)));case j3:case V3:case B3:return C3(+t,+e);case F3:return t.name==e.name&&t.message==e.message;case q3:case z3:return t==e+"";case U3:var a=N3;case $3:var l=r&D3;if(a||(a=L3),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=M3,s.set(t,e);var h=x3(a(t),a(e),r,i,o,s);return s.delete(t),h;case H3:if(Nh)return Nh.call(t)==Nh.call(e)}return!1}var Q3=G3;function Y3(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var X3=Y3,J3=Array.isArray,xg=J3,Z3=X3,eF=xg;function tF(t,e,n){var r=e(t);return eF(t)?r:Z3(r,n(t))}var nF=tF;function rF(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var iF=rF;function oF(){return[]}var sF=oF,aF=iF,lF=sF,uF=Object.prototype,cF=uF.propertyIsEnumerable,R0=Object.getOwnPropertySymbols,fF=R0?function(t){return t==null?[]:(t=Object(t),aF(R0(t),function(e){return cF.call(t,e)}))}:lF,hF=fF;function dF(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pF=dF;function mF(t){return t!=null&&typeof t=="object"}var Ef=mF,gF=yf,vF=Ef,yF="[object Arguments]";function _F(t){return vF(t)&&gF(t)==yF}var wF=_F,C0=wF,EF=Ef,Vb=Object.prototype,TF=Vb.hasOwnProperty,SF=Vb.propertyIsEnumerable,bF=C0(function(){return arguments}())?C0:function(t){return EF(t)&&TF.call(t,"callee")&&!SF.call(t,"callee")},AF=bF,dc={exports:{}};function IF(){return!1}var OF=IF;dc.exports;(function(t,e){var n=gr,r=OF,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(dc,dc.exports);var Fb=dc.exports,PF=9007199254740991,kF=/^(?:0|[1-9]\d*)$/;function RF(t,e){var n=typeof t;return e=e??PF,!!e&&(n=="number"||n!="symbol"&&kF.test(t))&&t>-1&&t%1==0&&t<e}var CF=RF,xF=9007199254740991;function NF(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=xF}var Ub=NF,LF=yf,DF=Ub,MF=Ef,jF="[object Arguments]",VF="[object Array]",FF="[object Boolean]",UF="[object Date]",BF="[object Error]",qF="[object Function]",$F="[object Map]",zF="[object Number]",HF="[object Object]",WF="[object RegExp]",KF="[object Set]",GF="[object String]",QF="[object WeakMap]",YF="[object ArrayBuffer]",XF="[object DataView]",JF="[object Float32Array]",ZF="[object Float64Array]",e5="[object Int8Array]",t5="[object Int16Array]",n5="[object Int32Array]",r5="[object Uint8Array]",i5="[object Uint8ClampedArray]",o5="[object Uint16Array]",s5="[object Uint32Array]",Ge={};Ge[JF]=Ge[ZF]=Ge[e5]=Ge[t5]=Ge[n5]=Ge[r5]=Ge[i5]=Ge[o5]=Ge[s5]=!0;Ge[jF]=Ge[VF]=Ge[YF]=Ge[FF]=Ge[XF]=Ge[UF]=Ge[BF]=Ge[qF]=Ge[$F]=Ge[zF]=Ge[HF]=Ge[WF]=Ge[KF]=Ge[GF]=Ge[QF]=!1;function a5(t){return MF(t)&&DF(t.length)&&!!Ge[LF(t)]}var l5=a5;function u5(t){return function(e){return t(e)}}var c5=u5,pc={exports:{}};pc.exports;(function(t,e){var n=Cb,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(pc,pc.exports);var f5=pc.exports,h5=l5,d5=c5,x0=f5,N0=x0&&x0.isTypedArray,p5=N0?d5(N0):h5,Bb=p5,m5=pF,g5=AF,v5=xg,y5=Fb,_5=CF,w5=Bb,E5=Object.prototype,T5=E5.hasOwnProperty;function S5(t,e){var n=v5(t),r=!n&&g5(t),i=!n&&!r&&y5(t),o=!n&&!r&&!i&&w5(t),s=n||r||i||o,a=s?m5(t.length,String):[],l=a.length;for(var u in t)(e||T5.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_5(u,l)))&&a.push(u);return a}var b5=S5,A5=Object.prototype;function I5(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||A5;return t===n}var O5=I5;function P5(t,e){return function(n){return t(e(n))}}var k5=P5,R5=k5,C5=R5(Object.keys,Object),x5=C5,N5=O5,L5=x5,D5=Object.prototype,M5=D5.hasOwnProperty;function j5(t){if(!N5(t))return L5(t);var e=[];for(var n in Object(t))M5.call(t,n)&&n!="constructor"&&e.push(n);return e}var V5=j5,F5=Lb,U5=Ub;function B5(t){return t!=null&&U5(t.length)&&!F5(t)}var q5=B5,$5=b5,z5=V5,H5=q5;function W5(t){return H5(t)?$5(t):z5(t)}var K5=W5,G5=nF,Q5=hF,Y5=K5;function X5(t){return G5(t,Y5,Q5)}var J5=X5,L0=J5,Z5=1,eU=Object.prototype,tU=eU.hasOwnProperty;function nU(t,e,n,r,i,o){var s=n&Z5,a=L0(t),l=a.length,u=L0(e),h=u.length;if(l!=h&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in e:tU.call(e,d)))return!1}var m=o.get(t),w=o.get(e);if(m&&w)return m==e&&w==t;var v=!0;o.set(t,e),o.set(e,t);for(var _=s;++f<l;){d=a[f];var g=t[d],p=e[d];if(r)var E=s?r(p,g,d,e,t,o):r(g,p,d,t,e,o);if(!(E===void 0?g===p||i(g,p,n,r,o):E)){v=!1;break}_||(_=d=="constructor")}if(v&&!_){var y=t.constructor,I=e.constructor;y!=I&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof I=="function"&&I instanceof I)&&(v=!1)}return o.delete(t),o.delete(e),v}var rU=nU,iU=us,oU=gr,sU=iU(oU,"DataView"),aU=sU,lU=us,uU=gr,cU=lU(uU,"Promise"),fU=cU,hU=us,dU=gr,pU=hU(dU,"Set"),mU=pU,gU=us,vU=gr,yU=gU(vU,"WeakMap"),_U=yU,vp=aU,yp=Cg,_p=fU,wp=mU,Ep=_U,qb=yf,ds=Db,D0="[object Map]",wU="[object Object]",M0="[object Promise]",j0="[object Set]",V0="[object WeakMap]",F0="[object DataView]",EU=ds(vp),TU=ds(yp),SU=ds(_p),bU=ds(wp),AU=ds(Ep),vi=qb;(vp&&vi(new vp(new ArrayBuffer(1)))!=F0||yp&&vi(new yp)!=D0||_p&&vi(_p.resolve())!=M0||wp&&vi(new wp)!=j0||Ep&&vi(new Ep)!=V0)&&(vi=function(t){var e=qb(t),n=e==wU?t.constructor:void 0,r=n?ds(n):"";if(r)switch(r){case EU:return F0;case TU:return D0;case SU:return M0;case bU:return j0;case AU:return V0}return e});var IU=vi,Lh=i3,OU=jb,PU=Q3,kU=rU,U0=IU,B0=xg,q0=Fb,RU=Bb,CU=1,$0="[object Arguments]",z0="[object Array]",Ql="[object Object]",xU=Object.prototype,H0=xU.hasOwnProperty;function NU(t,e,n,r,i,o){var s=B0(t),a=B0(e),l=s?z0:U0(t),u=a?z0:U0(e);l=l==$0?Ql:l,u=u==$0?Ql:u;var h=l==Ql,f=u==Ql,d=l==u;if(d&&q0(t)){if(!q0(e))return!1;s=!0,h=!1}if(d&&!h)return o||(o=new Lh),s||RU(t)?OU(t,e,n,r,i,o):PU(t,e,l,n,r,i,o);if(!(n&CU)){var m=h&&H0.call(t,"__wrapped__"),w=f&&H0.call(e,"__wrapped__");if(m||w){var v=m?t.value():t,_=w?e.value():e;return o||(o=new Lh),i(v,_,n,r,o)}}return d?(o||(o=new Lh),kU(t,e,n,r,i,o)):!1}var LU=NU,DU=LU,W0=Ef;function $b(t,e,n,r,i){return t===e?!0:t==null||e==null||!W0(t)&&!W0(e)?t!==t&&e!==e:DU(t,e,n,r,$b,i)}var MU=$b,jU=MU;function VU(t,e){return jU(t,e)}var FU=VU,zb={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Ot,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),h=i(47),f=i(48),d=i(49),m=i(12),w=i(32),v=i(33),_=i(31),g=i(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:d.default,Attributor:{Attribute:m.default,Class:w.default,Style:v.default,Store:_.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var E in p)p.hasOwnProperty(E)&&(g[E]=p[E])};return function(g,p){_(g,p);function E(){this.constructor=g}g.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(g,_);function g(p){var E=this;return p="[Parchment] "+p,E=_.call(this,p)||this,E.message=p,E.name=E.constructor.name,E}return g}(Error);r.ParchmentError=s;var a={},l={},u={},h={};r.DATA_KEY="__blot";var f;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function d(_,g){var p=w(_);if(p==null)throw new s("Unable to create "+_+" blot");var E=p,y=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:E.create(g);return new E(y,g)}r.create=d;function m(_,g){return g===void 0&&(g=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:g?m(_.parentNode,g):null}r.find=m;function w(_,g){g===void 0&&(g=f.ANY);var p;if(typeof _=="string")p=h[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)p=h.text;else if(typeof _=="number")_&f.LEVEL&f.BLOCK?p=h.block:_&f.LEVEL&f.INLINE&&(p=h.inline);else if(_ instanceof HTMLElement){var E=(_.getAttribute("class")||"").split(/\s+/);for(var y in E)if(p=l[E[y]],p)break;p=p||u[_.tagName]}return p==null?null:g&f.LEVEL&p.scope&&g&f.TYPE&p.scope?p:null}r.query=w;function v(){for(var _=[],g=0;g<arguments.length;g++)_[g]=arguments[g];if(_.length>1)return _.map(function(y){return v(y)});var p=_[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(h[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(y){return y.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var E=Array.isArray(p.tagName)?p.tagName:[p.tagName];E.forEach(function(y){(u[y]==null||p.className==null)&&(u[y]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",h=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};h.prototype.insert=function(f,d){var m={};return f.length===0?this:(m.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m))},h.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},h.prototype.retain=function(f,d){if(f<=0)return this;var m={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m)},h.prototype.push=function(f){var d=this.ops.length,m=this.ops[d-1];if(f=a(!0,{},f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[d-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(d-=1,m=this.ops[d-1],typeof m!="object"))return this.ops.unshift(f),this;if(s(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[d-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[d-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},h.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},h.prototype.filter=function(f){return this.ops.filter(f)},h.prototype.forEach=function(f){this.ops.forEach(f)},h.prototype.map=function(f){return this.ops.map(f)},h.prototype.partition=function(f){var d=[],m=[];return this.forEach(function(w){var v=f(w)?d:m;v.push(w)}),[d,m]},h.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},h.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},h.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},h.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var m=[],w=l.iterator(this.ops),v=0;v<d&&w.hasNext();){var _;v<f?_=w.next(f-v):(_=w.next(d-v),m.push(_)),v+=l.length(_)}return new h(m)},h.prototype.compose=function(f){var d=l.iterator(this.ops),m=l.iterator(f.ops),w=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var _=v.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),w.push(d.next());v.retain-_>0&&m.next(v.retain-_)}for(var g=new h(w);d.hasNext()||m.hasNext();)if(m.peekType()==="insert")g.push(m.next());else if(d.peekType()==="delete")g.push(d.next());else{var p=Math.min(d.peekLength(),m.peekLength()),E=d.next(p),y=m.next(p);if(typeof y.retain=="number"){var I={};typeof E.retain=="number"?I.retain=p:I.insert=E.insert;var x=l.attributes.compose(E.attributes,y.attributes,typeof E.retain=="number");if(x&&(I.attributes=x),g.push(I),!m.hasNext()&&s(g.ops[g.ops.length-1],I)){var A=new h(d.rest());return g.concat(A).chop()}}else typeof y.delete=="number"&&typeof E.retain=="number"&&g.push(y)}return g.chop()},h.prototype.concat=function(f){var d=new h(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},h.prototype.diff=function(f,d){if(this.ops===f.ops)return new h;var m=[this,f].map(function(p){return p.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:u;var y=p===f?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),w=new h,v=o(m[0],m[1],d),_=l.iterator(this.ops),g=l.iterator(f.ops);return v.forEach(function(p){for(var E=p[1].length;E>0;){var y=0;switch(p[0]){case o.INSERT:y=Math.min(g.peekLength(),E),w.push(g.next(y));break;case o.DELETE:y=Math.min(E,_.peekLength()),_.next(y),w.delete(y);break;case o.EQUAL:y=Math.min(_.peekLength(),g.peekLength(),E);var I=_.next(y),x=g.next(y);s(I.insert,x.insert)?w.retain(y,l.attributes.diff(I.attributes,x.attributes)):w.push(x).delete(y);break}E-=y}}),w.chop()},h.prototype.eachLine=function(f,d){d=d||`
`;for(var m=l.iterator(this.ops),w=new h,v=0;m.hasNext();){if(m.peekType()!=="insert")return;var _=m.peek(),g=l.length(_)-m.peekLength(),p=typeof _.insert=="string"?_.insert.indexOf(d,g)-g:-1;if(p<0)w.push(m.next());else if(p>0)w.push(m.next(p));else{if(f(w,m.next(1).attributes||{},v)===!1)return;v+=1,w=new h}}w.length()>0&&f(w,{},v)},h.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var m=l.iterator(this.ops),w=l.iterator(f.ops),v=new h;m.hasNext()||w.hasNext();)if(m.peekType()==="insert"&&(d||w.peekType()!=="insert"))v.retain(l.length(m.next()));else if(w.peekType()==="insert")v.push(w.next());else{var _=Math.min(m.peekLength(),w.peekLength()),g=m.next(_),p=w.next(_);if(g.delete)continue;p.delete?v.push(p):v.retain(_,l.attributes.transform(g.attributes,p.attributes,d))}return v.chop()},h.prototype.transformPosition=function(f,d){d=!!d;for(var m=l.iterator(this.ops),w=0;m.hasNext()&&w<=f;){var v=m.peekLength(),_=m.peekType();if(m.next(),_==="delete"){f-=Math.min(v,f-w);continue}else _==="insert"&&(w<f||!d)&&(f+=v);w+=v}return f},n.exports=h},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):o.call(m)==="[object Array]"},u=function(m){if(!m||o.call(m)!=="[object Object]")return!1;var w=i.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!w&&!v)return!1;var _;for(_ in m);return typeof _>"u"||i.call(m,_)},h=function(m,w){s&&w.name==="__proto__"?s(m,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):m[w.name]=w.newValue},f=function(m,w){if(w==="__proto__")if(i.call(m,w)){if(a)return a(m,w).value}else return;return m[w]};n.exports=function d(){var m,w,v,_,g,p,E=arguments[0],y=1,I=arguments.length,x=!1;for(typeof E=="boolean"&&(x=E,E=arguments[1]||{},y=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});y<I;++y)if(m=arguments[y],m!=null)for(w in m)v=f(E,w),_=f(m,w),E!==_&&(x&&_&&(u(_)||(g=l(_)))?(g?(g=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},h(E,{name:w,newValue:d(x,p,_)})):typeof _<"u"&&h(E,{name:w,newValue:_}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function b(k,R){for(var L=0;L<R.length;L++){var U=R[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,R,L){return R&&b(k.prototype,R),L&&b(k,L),k}}(),s=function b(k,R,L){k===null&&(k=Function.prototype);var U=Object.getOwnPropertyDescriptor(k,R);if(U===void 0){var $=Object.getPrototypeOf(k);return $===null?void 0:b($,R,L)}else{if("value"in U)return U.value;var H=U.get;return H===void 0?void 0:H.call(L)}},a=i(3),l=E(a),u=i(2),h=E(u),f=i(0),d=E(f),m=i(16),w=E(m),v=i(6),_=E(v),g=i(7),p=E(g);function E(b){return b&&b.__esModule?b:{default:b}}function y(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")}function I(b,k){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:b}function x(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);b.prototype=Object.create(k&&k.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(b,k):b.__proto__=k)}var A=1,S=function(b){x(k,b);function k(){return y(this,k),I(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"attach",value:function(){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,U){var $=d.default.query(L,d.default.Scope.BLOCK_ATTRIBUTE);$!=null&&this.attributes.attribute($,U)}},{key:"formatAt",value:function(L,U,$,H){this.format($,H)}},{key:"insertAt",value:function(L,U,$){if(typeof U=="string"&&U.endsWith(`
`)){var H=d.default.create(P.blotName);this.parent.insertBefore(H,L===0?this:this.next),H.insertAt(0,U.slice(0,-1))}else s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,L,U,$)}}]),k}(d.default.Embed);S.scope=d.default.Scope.BLOCK_BLOT;var P=function(b){x(k,b);function k(R){y(this,k);var L=I(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,R));return L.cache={},L}return o(k,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(L,U){return U.length()===0?L:L.insert(U.value(),T(U))},new h.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(L,U){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,L,U),this.cache={}}},{key:"formatAt",value:function(L,U,$,H){U<=0||(d.default.query($,d.default.Scope.BLOCK)?L+U===this.length()&&this.format($,H):s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,L,Math.min(U,this.length()-L-1),$,H),this.cache={})}},{key:"insertAt",value:function(L,U,$){if($!=null)return s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,L,U,$);if(U.length!==0){var H=U.split(`
`),W=H.shift();W.length>0&&(L<this.length()-1||this.children.tail==null?s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var B=this;H.reduce(function(V,N){return B=B.split(V,!0),B.insertAt(0,N),N.length},L+W.length)}}},{key:"insertBefore",value:function(L,U){var $=this.children.head;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,L,U),$ instanceof w.default&&$.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(L,U){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"moveChildren",this).call(this,L,U),this.cache={}}},{key:"optimize",value:function(L){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(L===0||L>=this.length()-A)){var $=this.clone();return L===0?(this.parent.insertBefore($,this),this):(this.parent.insertBefore($,this.next),$)}else{var H=s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"split",this).call(this,L,U);return this.cache={},H}}}]),k}(d.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[_.default,d.default.Embed,p.default];function T(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b==null||(typeof b.formats=="function"&&(k=(0,l.default)(k,b.formats())),b.parent==null||b.parent.blotName=="scroll"||b.parent.statics.scope!==b.statics.scope)?k:T(b.parent,k)}r.bubbleFormats=T,r.BlockEmbed=S,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(V,N){var M=[],F=!0,K=!1,z=void 0;try{for(var j=V[Symbol.iterator](),q;!(F=(q=j.next()).done)&&(M.push(q.value),!(N&&M.length===N));F=!0);}catch(Y){K=!0,z=Y}finally{try{!F&&j.return&&j.return()}finally{if(K)throw z}}return M}return function(V,N){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return B(V,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(V,N){for(var M=0;M<N.length;M++){var F=N[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}return function(V,N,M){return N&&B(V.prototype,N),M&&B(V,M),V}}();i(50);var l=i(2),u=T(l),h=i(14),f=T(h),d=i(8),m=T(d),w=i(9),v=T(w),_=i(0),g=T(_),p=i(15),E=T(p),y=i(3),I=T(y),x=i(10),A=T(x),S=i(34),P=T(S);function T(B){return B&&B.__esModule?B:{default:B}}function b(B,V,N){return V in B?Object.defineProperty(B,V,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[V]=N,B}function k(B,V){if(!(B instanceof V))throw new TypeError("Cannot call a class as a function")}var R=(0,A.default)("quill"),L=function(){a(B,null,[{key:"debug",value:function(N){N===!0&&(N="log"),A.default.level(N)}},{key:"find",value:function(N){return N.__quill||g.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&R.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,M){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var z=N.attrName||N.blotName;typeof z=="string"?this.register("formats/"+z,N,M):Object.keys(N).forEach(function(j){F.register(j,N[j],M)})}else this.imports[N]!=null&&!K&&R.warn("Overwriting "+N+" with",M),this.imports[N]=M,(N.startsWith("blots/")||N.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):N.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function B(V){var N=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(k(this,B),this.options=U(V,M),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",V);this.options.debug&&B.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(z){z===m.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(z,j){var q=N.selection.lastRange,Y=q&&q.length===0?q.index:void 0;$.call(N,function(){return N.editor.update(null,j,Y)},z)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var F=N;N=document.createElement("div"),N.classList.add(F)}return this.container.insertBefore(N,M),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,M,F){var K=this,z=H(N,M,F),j=s(z,4);return N=j[0],M=j[1],F=j[3],$.call(this,function(){return K.editor.deleteText(N,M)},F,N,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,M){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return $.call(this,function(){var z=F.getSelection(!0),j=new u.default;if(z==null)return j;if(g.default.query(N,g.default.Scope.BLOCK))j=F.editor.formatLine(z.index,z.length,b({},N,M));else{if(z.length===0)return F.selection.format(N,M),j;j=F.editor.formatText(z.index,z.length,b({},N,M))}return F.setSelection(z,m.default.sources.SILENT),j},K)}},{key:"formatLine",value:function(N,M,F,K,z){var j=this,q=void 0,Y=H(N,M,F,K,z),X=s(Y,4);return N=X[0],M=X[1],q=X[2],z=X[3],$.call(this,function(){return j.editor.formatLine(N,M,q)},z,N,0)}},{key:"formatText",value:function(N,M,F,K,z){var j=this,q=void 0,Y=H(N,M,F,K,z),X=s(Y,4);return N=X[0],M=X[1],q=X[2],z=X[3],$.call(this,function(){return j.editor.formatText(N,M,q)},z,N,0)}},{key:"getBounds",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof N=="number"?F=this.selection.getBounds(N,M):F=this.selection.getBounds(N.index,N.length);var K=this.container.getBoundingClientRect();return{bottom:F.bottom-K.top,height:F.height,left:F.left-K.left,right:F.right-K.left,top:F.top-K.top,width:F.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,F=H(N,M),K=s(F,2);return N=K[0],M=K[1],this.editor.getContents(N,M)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,M):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,M)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,F=H(N,M),K=s(F,2);return N=K[0],M=K[1],this.editor.getText(N,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,M,F){var K=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return $.call(this,function(){return K.editor.insertEmbed(N,M,F)},z,N)}},{key:"insertText",value:function(N,M,F,K,z){var j=this,q=void 0,Y=H(N,0,F,K,z),X=s(Y,4);return N=X[0],q=X[2],z=X[3],$.call(this,function(){return j.editor.insertText(N,M,q)},z,N,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,M,F){this.clipboard.dangerouslyPasteHTML(N,M,F)}},{key:"removeFormat",value:function(N,M,F){var K=this,z=H(N,M,F),j=s(z,4);return N=j[0],M=j[1],F=j[3],$.call(this,function(){return K.editor.removeFormat(N,M)},F,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var M=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return $.call(this,function(){N=new u.default(N);var K=M.getLength(),z=M.editor.deleteText(0,K),j=M.editor.applyDelta(N),q=j.ops[j.ops.length-1];q!=null&&typeof q.insert=="string"&&q.insert[q.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),j.delete(1));var Y=z.compose(j);return Y},F)}},{key:"setSelection",value:function(N,M,F){if(N==null)this.selection.setRange(null,M||B.sources.API);else{var K=H(N,M,F),z=s(K,4);N=z[0],M=z[1],F=z[3],this.selection.setRange(new p.Range(N,M),F),F!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,F=new u.default().insert(N);return this.setContents(F,M)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,M=this.scroll.update(N);return this.selection.update(N),M}},{key:"updateContents",value:function(N){var M=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return $.call(this,function(){return N=new u.default(N),M.editor.applyDelta(N,F)},F,!0)}}]),B}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=m.default.events,L.sources=m.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:g.default,"core/module":v.default,"core/theme":P.default};function U(B,V){if(V=(0,I.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},V),!V.theme||V.theme===L.DEFAULTS.theme)V.theme=P.default;else if(V.theme=L.import("themes/"+V.theme),V.theme==null)throw new Error("Invalid theme "+V.theme+". Did you register it?");var N=(0,I.default)(!0,{},V.theme.DEFAULTS);[N,V].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(z){K.modules[z]===!0&&(K.modules[z]={})})});var M=Object.keys(N.modules).concat(Object.keys(V.modules)),F=M.reduce(function(K,z){var j=L.import("modules/"+z);return j==null?R.error("Cannot load "+z+" module. Are you sure you registered it?"):K[z]=j.DEFAULTS||{},K},{});return V.modules!=null&&V.modules.toolbar&&V.modules.toolbar.constructor!==Object&&(V.modules.toolbar={container:V.modules.toolbar}),V=(0,I.default)(!0,{},L.DEFAULTS,{modules:F},N,V),["bounds","container","scrollingContainer"].forEach(function(K){typeof V[K]=="string"&&(V[K]=document.querySelector(V[K]))}),V.modules=Object.keys(V.modules).reduce(function(K,z){return V.modules[z]&&(K[z]=V.modules[z]),K},{}),V}function $(B,V,N,M){if(this.options.strict&&!this.isEnabled()&&V===m.default.sources.USER)return new u.default;var F=N==null?null:this.getSelection(),K=this.editor.delta,z=B();if(F!=null&&(N===!0&&(N=F.index),M==null?F=W(F,z,V):M!==0&&(F=W(F,N,M,V)),this.setSelection(F,m.default.sources.SILENT)),z.length()>0){var j,q=[m.default.events.TEXT_CHANGE,z,K,V];if((j=this.emitter).emit.apply(j,[m.default.events.EDITOR_CHANGE].concat(q)),V!==m.default.sources.SILENT){var Y;(Y=this.emitter).emit.apply(Y,q)}}return z}function H(B,V,N,M,F){var K={};return typeof B.index=="number"&&typeof B.length=="number"?typeof V!="number"?(F=M,M=N,N=V,V=B.length,B=B.index):(V=B.length,B=B.index):typeof V!="number"&&(F=M,M=N,N=V,V=0),(typeof N>"u"?"undefined":o(N))==="object"?(K=N,F=M):typeof N=="string"&&(M!=null?K[N]=M:F=N),F=F||m.default.sources.API,[B,V,K,F]}function W(B,V,N,M){if(B==null)return null;var F=void 0,K=void 0;if(V instanceof u.default){var z=[B.index,B.index+B.length].map(function(X){return V.transformPosition(X,M!==m.default.sources.USER)}),j=s(z,2);F=j[0],K=j[1]}else{var q=[B.index,B.index+B.length].map(function(X){return X<V||X===V&&M===m.default.sources.USER?X:N>=0?X+N:Math.max(V,X+N)}),Y=s(q,2);F=Y[0],K=Y[1]}return new p.Range(F,K-F)}r.expandConfig=U,r.overload=H,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:_(I,p,E)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(E)}},a=i(7),l=f(a),u=i(0),h=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function m(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function w(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var v=function(_){w(g,_);function g(){return d(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(E,y,I,x){if(g.compare(this.statics.blotName,I)<0&&h.default.query(I,h.default.Scope.BLOT)){var A=this.isolate(E,y);x&&A.wrap(I,x)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,E,y,I,x)}},{key:"optimize",value:function(E){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,E),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(E,y){var I=g.order.indexOf(E),x=g.order.indexOf(y);return I>=0||x>=0?I-x:E===y?0:E<y?-1:1}}]),g}(h.default.Inline);v.allowedChildren=[v,h.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(E,y){for(var I=0;I<y.length;I++){var x=y[I];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(E,x.key,x)}}return function(E,y,I){return y&&p(E.prototype,y),I&&p(E,I),E}}(),s=function p(E,y,I){E===null&&(E=Function.prototype);var x=Object.getOwnPropertyDescriptor(E,y);if(x===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:p(A,y,I)}else{if("value"in x)return x.value;var S=x.get;return S===void 0?void 0:S.call(I)}},a=i(54),l=f(a),u=i(10),h=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")}function m(p,E){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:p}function w(p,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);p.prototype=Object.create(E&&E.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(p,E):p.__proto__=E)}var v=(0,h.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(p){document.addEventListener(p,function(){for(var E=arguments.length,y=Array(E),I=0;I<E;I++)y[I]=arguments[I];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var A;(A=x.__quill.emitter).handleDOM.apply(A,y)}})})});var g=function(p){w(E,p);function E(){d(this,E);var y=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return y.listeners={},y.on("error",v.error),y}return o(E,[{key:"emit",value:function(){v.log.apply(v,arguments),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(I){for(var x=arguments.length,A=Array(x>1?x-1:0),S=1;S<x;S++)A[S-1]=arguments[S];(this.listeners[I.type]||[]).forEach(function(P){var T=P.node,b=P.handler;(I.target===T||T.contains(I.target))&&b.apply(void 0,[I].concat(A))})}},{key:"listenDOM",value:function(I,x,A){this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push({node:x,handler:A})}}]),E}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var h,f=arguments.length,d=Array(f>1?f-1:0),m=1;m<f;m++)d[m-1]=arguments[m];(h=console)[u].apply(h,d)}}function l(u){return o.reduce(function(h,f){return h[f]=a.bind(console,f,u),h},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,m,w){return w||(w={}),d===m?!0:d instanceof Date&&m instanceof Date?d.getTime()===m.getTime():!d||!m||typeof d!="object"&&typeof m!="object"?w.strict?d===m:d==m:f(d,m,w)};function u(d){return d==null}function h(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,m,w){var v,_;if(u(d)||u(m)||d.prototype!==m.prototype)return!1;if(a(d))return a(m)?(d=o.call(d),m=o.call(m),l(d,m,w)):!1;if(h(d)){if(!h(m)||d.length!==m.length)return!1;for(v=0;v<d.length;v++)if(d[v]!==m[v])return!1;return!0}try{var g=s(d),p=s(m)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),v=g.length-1;v>=0;v--)if(g[v]!=p[v])return!1;for(v=g.length-1;v>=0;v--)if(_=g[v],!l(d[_],m[_],w))return!1;return typeof d==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var h=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function S(P,T){var b=[],k=!0,R=!1,L=void 0;try{for(var U=P[Symbol.iterator](),$;!(k=($=U.next()).done)&&(b.push($.value),!(T&&b.length===T));k=!0);}catch(H){R=!0,L=H}finally{try{!k&&U.return&&U.return()}finally{if(R)throw L}}return b}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return S(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(P,T){for(var b=0;b<T.length;b++){var k=T[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,T,b){return T&&S(P.prototype,T),b&&S(P,b),P}}(),a=function S(P,T,b){P===null&&(P=Function.prototype);var k=Object.getOwnPropertyDescriptor(P,T);if(k===void 0){var R=Object.getPrototypeOf(P);return R===null?void 0:S(R,T,b)}else{if("value"in k)return k.value;var L=k.get;return L===void 0?void 0:L.call(b)}},l=i(2),u=p(l),h=i(0),f=p(h),d=i(4),m=p(d),w=i(6),v=p(w),_=i(7),g=p(_);function p(S){return S&&S.__esModule?S:{default:S}}function E(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}function y(S,P){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:S}function I(S,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);S.prototype=Object.create(P&&P.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(S,P):S.__proto__=P)}var x=function(S){I(P,S);function P(){return E(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(v.default);x.blotName="code",x.tagName="CODE";var A=function(S){I(P,S);function P(){return E(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var b=this,k=this.domNode.textContent;return k.endsWith(`
`)&&(k=k.slice(0,-1)),k.split(`
`).reduce(function(R,L){return R.insert(L).insert(`
`,b.formats())},new u.default)}},{key:"format",value:function(b,k){if(!(b===this.statics.blotName&&k)){var R=this.descendant(g.default,this.length()-1),L=o(R,1),U=L[0];U!=null&&U.deleteAt(U.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,b,k)}}},{key:"formatAt",value:function(b,k,R,L){if(k!==0&&!(f.default.query(R,f.default.Scope.BLOCK)==null||R===this.statics.blotName&&L===this.statics.formats(this.domNode))){var U=this.newlineIndex(b);if(!(U<0||U>=b+k)){var $=this.newlineIndex(b,!0)+1,H=U-$+1,W=this.isolate($,H),B=W.next;W.format(R,L),B instanceof P&&B.formatAt(0,b-$+k-H,R,L)}}}},{key:"insertAt",value:function(b,k,R){if(R==null){var L=this.descendant(g.default,b),U=o(L,2),$=U[0],H=U[1];$.insertAt(H,k)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(k)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var R=this.domNode.textContent.slice(b).indexOf(`
`);return R>-1?b+R:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,b);var k=this.next;k!=null&&k.prev===this&&k.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===k.statics.formats(k.domNode)&&(k.optimize(b),k.moveChildren(this),k.remove())}},{key:"replace",value:function(b){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(k){var R=f.default.find(k);R==null?k.parentNode.removeChild(k):R instanceof f.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(b){var k=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,b);return k.setAttribute("spellcheck",!1),k}},{key:"formats",value:function(){return!0}}]),P}(m.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=x,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(V,N){var M=[],F=!0,K=!1,z=void 0;try{for(var j=V[Symbol.iterator](),q;!(F=(q=j.next()).done)&&(M.push(q.value),!(N&&M.length===N));F=!0);}catch(Y){K=!0,z=Y}finally{try{!F&&j.return&&j.return()}finally{if(K)throw z}}return M}return function(V,N){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return B(V,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(V,N){for(var M=0;M<N.length;M++){var F=N[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}return function(V,N,M){return N&&B(V.prototype,N),M&&B(V,M),V}}(),l=i(2),u=k(l),h=i(20),f=k(h),d=i(0),m=k(d),w=i(13),v=k(w),_=i(24),g=k(_),p=i(4),E=k(p),y=i(16),I=k(y),x=i(21),A=k(x),S=i(11),P=k(S),T=i(3),b=k(T);function k(B){return B&&B.__esModule?B:{default:B}}function R(B,V,N){return V in B?Object.defineProperty(B,V,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[V]=N,B}function L(B,V){if(!(B instanceof V))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,$=function(){function B(V){L(this,B),this.scroll=V,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(N){var M=this,F=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),N=W(N),N.reduce(function(z,j){var q=j.retain||j.delete||j.insert.length||1,Y=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var X=j.insert;X.endsWith(`
`)&&F&&(F=!1,X=X.slice(0,-1)),z>=K&&!X.endsWith(`
`)&&(F=!0),M.scroll.insertAt(z,X);var ne=M.scroll.line(z),he=s(ne,2),ye=he[0],we=he[1],Pe=(0,b.default)({},(0,p.bubbleFormats)(ye));if(ye instanceof E.default){var De=ye.descendant(m.default.Leaf,we),Tt=s(De,1),at=Tt[0];Pe=(0,b.default)(Pe,(0,p.bubbleFormats)(at))}Y=f.default.attributes.diff(Pe,Y)||{}}else if(o(j.insert)==="object"){var ee=Object.keys(j.insert)[0];if(ee==null)return z;M.scroll.insertAt(z,ee,j.insert[ee])}K+=q}return Object.keys(Y).forEach(function(te){M.scroll.formatAt(z,q,te,Y[te])}),z+q},0),N.reduce(function(z,j){return typeof j.delete=="number"?(M.scroll.deleteAt(z,j.delete),z):z+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,M){return this.scroll.deleteAt(N,M),this.update(new u.default().retain(N).delete(M))}},{key:"formatLine",value:function(N,M){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(z){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[z])){var j=F.scroll.lines(N,Math.max(M,1)),q=M;j.forEach(function(Y){var X=Y.length();if(!(Y instanceof v.default))Y.format(z,K[z]);else{var ne=N-Y.offset(F.scroll),he=Y.newlineIndex(ne+q)-ne+1;Y.formatAt(ne,he,z,K[z])}q-=X})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(M,(0,A.default)(K)))}},{key:"formatText",value:function(N,M){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(z){F.scroll.formatAt(N,M,z,K[z])}),this.update(new u.default().retain(N).retain(M,(0,A.default)(K)))}},{key:"getContents",value:function(N,M){return this.delta.slice(N,N+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,M){return N.concat(M.delta())},new u.default)}},{key:"getFormat",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],K=[];M===0?this.scroll.path(N).forEach(function(j){var q=s(j,1),Y=q[0];Y instanceof E.default?F.push(Y):Y instanceof m.default.Leaf&&K.push(Y)}):(F=this.scroll.lines(N,M),K=this.scroll.descendants(m.default.Leaf,N,M));var z=[F,K].map(function(j){if(j.length===0)return{};for(var q=(0,p.bubbleFormats)(j.shift());Object.keys(q).length>0;){var Y=j.shift();if(Y==null)return q;q=H((0,p.bubbleFormats)(Y),q)}return q});return b.default.apply(b.default,z)}},{key:"getText",value:function(N,M){return this.getContents(N,M).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(N,M,F){return this.scroll.insertAt(N,M,F),this.update(new u.default().retain(N).insert(R({},M,F)))}},{key:"insertText",value:function(N,M){var F=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,M),Object.keys(K).forEach(function(z){F.scroll.formatAt(N,M.length,z,K[z])}),this.update(new u.default().retain(N).insert(M,(0,A.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==E.default.blotName||N.children.length>1?!1:N.children.head instanceof I.default}},{key:"removeFormat",value:function(N,M){var F=this.getText(N,M),K=this.scroll.line(N+M),z=s(K,2),j=z[0],q=z[1],Y=0,X=new u.default;j!=null&&(j instanceof v.default?Y=j.newlineIndex(q)-q+1:Y=j.length()-q,X=j.delta().slice(q,q+Y-1).insert(`
`));var ne=this.getContents(N,M+Y),he=ne.diff(new u.default().insert(F).concat(X)),ye=new u.default().retain(N).concat(he);return this.applyDelta(ye)}},{key:"update",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(U)&&m.default.find(M[0].target)){var z=m.default.find(M[0].target),j=(0,p.bubbleFormats)(z),q=z.offset(this.scroll),Y=M[0].oldValue.replace(g.default.CONTENTS,""),X=new u.default().insert(Y),ne=new u.default().insert(z.value()),he=new u.default().retain(q).concat(X.diff(ne,F));N=he.reduce(function(ye,we){return we.insert?ye.insert(we.insert,j):ye.push(we)},new u.default),this.delta=K.compose(N)}else this.delta=this.getDelta(),(!N||!(0,P.default)(K.compose(N),this.delta))&&(N=K.diff(this.delta,F));return N}}]),B}();function H(B,V){return Object.keys(V).reduce(function(N,M){return B[M]==null||(V[M]===B[M]?N[M]=V[M]:Array.isArray(V[M])?V[M].indexOf(B[M])<0&&(N[M]=V[M].concat([B[M]])):N[M]=[V[M],B[M]]),N},{})}function W(B){return B.reduce(function(V,N){if(N.insert===1){var M=(0,A.default)(N.attributes);return delete M.image,V.insert({image:N.attributes.image},M)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,A.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var F=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return V.insert(F,N.attributes)}return V.push(N)},new u.default)}r.default=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function S(P,T){var b=[],k=!0,R=!1,L=void 0;try{for(var U=P[Symbol.iterator](),$;!(k=($=U.next()).done)&&(b.push($.value),!(T&&b.length===T));k=!0);}catch(H){R=!0,L=H}finally{try{!k&&U.return&&U.return()}finally{if(R)throw L}}return b}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return S(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(P,T){for(var b=0;b<T.length;b++){var k=T[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,k.key,k)}}return function(P,T,b){return T&&S(P.prototype,T),b&&S(P,b),P}}(),a=i(0),l=g(a),u=i(21),h=g(u),f=i(11),d=g(f),m=i(8),w=g(m),v=i(10),_=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function p(S){if(Array.isArray(S)){for(var P=0,T=Array(S.length);P<S.length;P++)T[P]=S[P];return T}else return Array.from(S)}function E(S,P){if(!(S instanceof P))throw new TypeError("Cannot call a class as a function")}var y=(0,_.default)("quill:selection"),I=function S(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,S),this.index=P,this.length=T},x=function(){function S(P,T){var b=this;E(this,S),this.emitter=T,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new I(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(k,R){k===w.default.events.TEXT_CHANGE&&R.length()>0&&b.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var k=b.getNativeRange();k!=null&&k.start.node!==b.cursor.textNode&&b.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(k.start.node,k.start.offset,k.end.node,k.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(k,R){if(R.range){var L=R.range,U=L.startNode,$=L.startOffset,H=L.endNode,W=L.endOffset;b.setNativeRange(U,$,H,W)}}),this.update(w.default.sources.SILENT)}return s(S,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var b=T.cursor.restore();if(!b)return;setTimeout(function(){T.setNativeRange(b.startNode,b.startOffset,b.endNode,b.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,b){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var k=this.getNativeRange();if(!(k==null||!k.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(k.start.node!==this.cursor.textNode){var R=l.default.find(k.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var L=R.split(k.start.offset);R.parent.insertBefore(this.cursor,L)}else R.insertBefore(this.cursor,k.start.node);this.cursor.attach()}this.cursor.format(T,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,k=this.scroll.length();T=Math.min(T,k-1),b=Math.min(T+b,k-1)-T;var R=void 0,L=this.scroll.leaf(T),U=o(L,2),$=U[0],H=U[1];if($==null)return null;var W=$.position(H,!0),B=o(W,2);R=B[0],H=B[1];var V=document.createRange();if(b>0){V.setStart(R,H);var N=this.scroll.leaf(T+b),M=o(N,2);if($=M[0],H=M[1],$==null)return null;var F=$.position(H,!0),K=o(F,2);return R=K[0],H=K[1],V.setEnd(R,H),V.getBoundingClientRect()}else{var z="left",j=void 0;return R instanceof Text?(H<R.data.length?(V.setStart(R,H),V.setEnd(R,H+1)):(V.setStart(R,H-1),V.setEnd(R,H),z="right"),j=V.getBoundingClientRect()):(j=$.domNode.getBoundingClientRect(),H>0&&(z="right")),{bottom:j.top+j.height,height:j.height,left:j[z],right:j[z],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var b=T.getRangeAt(0);if(b==null)return null;var k=this.normalizeNative(b);return y.info("getNativeRange",k),k}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var b=this.normalizedToRange(T);return[b,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var b=this,k=[[T.start.node,T.start.offset]];T.native.collapsed||k.push([T.end.node,T.end.offset]);var R=k.map(function($){var H=o($,2),W=H[0],B=H[1],V=l.default.find(W,!0),N=V.offset(b.scroll);return B===0?N:V instanceof l.default.Container?N+V.length():N+V.index(W,B)}),L=Math.min(Math.max.apply(Math,p(R)),this.scroll.length()-1),U=Math.min.apply(Math,[L].concat(p(R)));return new I(U,L-U)}},{key:"normalizeNative",value:function(T){if(!A(this.root,T.startContainer)||!T.collapsed&&!A(this.root,T.endContainer))return null;var b={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[b.start,b.end].forEach(function(k){for(var R=k.node,L=k.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>L)R=R.childNodes[L],L=0;else if(R.childNodes.length===L)R=R.lastChild,L=R instanceof Text?R.data.length:R.childNodes.length+1;else break;k.node=R,k.offset=L}),b}},{key:"rangeToNative",value:function(T){var b=this,k=T.collapsed?[T.index]:[T.index,T.index+T.length],R=[],L=this.scroll.length();return k.forEach(function(U,$){U=Math.min(L-1,U);var H=void 0,W=b.scroll.leaf(U),B=o(W,2),V=B[0],N=B[1],M=V.position(N,$!==0),F=o(M,2);H=F[0],N=F[1],R.push(H,N)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(T){var b=this.lastRange;if(b!=null){var k=this.getBounds(b.index,b.length);if(k!=null){var R=this.scroll.length()-1,L=this.scroll.line(Math.min(b.index,R)),U=o(L,1),$=U[0],H=$;if(b.length>0){var W=this.scroll.line(Math.min(b.index+b.length,R)),B=o(W,1);H=B[0]}if(!($==null||H==null)){var V=T.getBoundingClientRect();k.top<V.top?T.scrollTop-=V.top-k.top:k.bottom>V.bottom&&(T.scrollTop+=k.bottom-V.bottom)}}}}},{key:"setNativeRange",value:function(T,b){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",T,b,k,R),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||k.parentNode==null))){var U=document.getSelection();if(U!=null)if(T!=null){this.hasFocus()||this.root.focus();var $=(this.getNativeRange()||{}).native;if($==null||L||T!==$.startContainer||b!==$.startOffset||k!==$.endContainer||R!==$.endOffset){T.tagName=="BR"&&(b=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),k.tagName=="BR"&&(R=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode);var H=document.createRange();H.setStart(T,b),H.setEnd(k,R),U.removeAllRanges(),U.addRange(H)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof b=="string"&&(k=b,b=!1),y.info("setRange",T),T!=null){var R=this.rangeToNative(T);this.setNativeRange.apply(this,p(R).concat([b]))}else this.setNativeRange(null);this.update(k)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,b=this.lastRange,k=this.getRange(),R=o(k,2),L=R[0],U=R[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(b,this.lastRange)){var $;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var H=[w.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(b),T];if(($=this.emitter).emit.apply($,[w.default.events.EDITOR_CHANGE].concat(H)),T!==w.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,H)}}}}]),S}();function A(S,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),S.contains(P)}r.Range=I,r.default=x},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&w(v.prototype,_),g&&w(v,g),v}}(),s=function w(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function f(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){d(v,w);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(g,p){g.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var w in m)m.hasOwnProperty(w)&&(d[w]=m[w])};return function(d,m){f(d,m);function w(){this.constructor=d}d.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(d,f);function d(m){var w=f.call(this,m)||this;return w.build(),w}return d.prototype.appendChild=function(m){this.insertBefore(m)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},d.prototype.build=function(){var m=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var v=h(w);m.insertBefore(v,m.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(m,w){if(m===0&&w===this.length())return this.remove();this.children.forEachAt(m,w,function(v,_,g){v.deleteAt(_,g)})},d.prototype.descendant=function(m,w){var v=this.children.find(w),_=v[0],g=v[1];return m.blotName==null&&m(_)||m.blotName!=null&&_ instanceof m?[_,g]:_ instanceof d?_.descendant(m,g):[null,-1]},d.prototype.descendants=function(m,w,v){w===void 0&&(w=0),v===void 0&&(v=Number.MAX_VALUE);var _=[],g=v;return this.children.forEachAt(w,v,function(p,E,y){(m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m)&&_.push(p),p instanceof d&&(_=_.concat(p.descendants(m,E,g))),g-=y}),_},d.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(m,w,v,_){this.children.forEachAt(m,w,function(g,p,E){g.formatAt(p,E,v,_)})},d.prototype.insertAt=function(m,w,v){var _=this.children.find(m),g=_[0],p=_[1];if(g)g.insertAt(p,w,v);else{var E=v==null?l.create("text",w):l.create(w,v);this.appendChild(E)}},d.prototype.insertBefore=function(m,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return m instanceof v}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,w)},d.prototype.length=function(){return this.children.reduce(function(m,w){return m+w.length()},0)},d.prototype.moveChildren=function(m,w){this.children.forEach(function(v){m.insertBefore(v,w)})},d.prototype.optimize=function(m){if(f.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var w=l.create(this.statics.defaultChild);this.appendChild(w),w.optimize(m)}else this.remove()},d.prototype.path=function(m,w){w===void 0&&(w=!1);var v=this.children.find(m,w),_=v[0],g=v[1],p=[[this,m]];return _ instanceof d?p.concat(_.path(g,w)):(_!=null&&p.push([_,g]),p)},d.prototype.removeChild=function(m){this.children.remove(m)},d.prototype.replace=function(m){m instanceof d&&m.moveChildren(this),f.prototype.replace.call(this,m)},d.prototype.split=function(m,w){if(w===void 0&&(w=!1),!w){if(m===0)return this;if(m===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(m,this.length(),function(_,g,p){_=_.split(g,w),v.appendChild(_)}),v},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(m,w){var v=this,_=[],g=[];m.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(_.push.apply(_,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(p);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===v.domNode)&&E.detach()}}),_.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,E){return p===E?0:p.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var E=null;p.nextSibling!=null&&(E=l.find(p.nextSibling));var y=h(p);(y.next!=E||y.next==null)&&(y.parent!=null&&y.parent.removeChild(v),v.insertBefore(y,E||void 0))})},d}(a.default);function h(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch{d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(w){d.domNode.appendChild(w)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var w in m)m.hasOwnProperty(w)&&(d[w]=m[w])};return function(d,m){f(d,m);function w(){this.constructor=d}d.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),h=function(f){o(d,f);function d(m){var w=f.call(this,m)||this;return w.attributes=new a.default(w.domNode),w}return d.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},d.prototype.format=function(m,w){var v=u.query(m);v instanceof s.default?this.attributes.attribute(v,w):w&&v!=null&&(m!==this.statics.blotName||this.formats()[m]!==w)&&this.replaceWith(m,w)},d.prototype.formats=function(){var m=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(m[this.statics.blotName]=w),m},d.prototype.replaceWith=function(m,w){var v=f.prototype.replaceWith.call(this,m,w);return this.attributes.copy(v),v},d.prototype.update=function(m,w){var v=this;f.prototype.update.call(this,m,w),m.some(function(_){return _.target===v.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(m,w){var v=f.prototype.wrap.call(this,m,w);return v instanceof d&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},d}(l.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(f){return!0},h.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},h.prototype.position=function(f,d){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(m+=1),[this.parent.domNode,m]},h.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,h,f){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var d=s(!0,{},h);f||(d=Object.keys(d).reduce(function(w,v){return d[v]!=null&&(w[v]=d[v]),w},{}));for(var m in u)u[m]!==void 0&&h[m]===void 0&&(d[m]=u[m]);return Object.keys(d).length>0?d:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=Object.keys(u).concat(Object.keys(h)).reduce(function(d,m){return o(u[m],h[m])||(d[m]=h[m]===void 0?null:h[m]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,h,f){if(typeof u!="object")return h;if(typeof h=="object"){if(!f)return h;var d=Object.keys(h).reduce(function(m,w){return u[w]===void 0&&(m[w]=h[w]),m},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var f=this.offset,d=a.length(h);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var m={};return h.attributes&&(m.attributes=h.attributes),typeof h.retain=="number"?m.retain=u:typeof h.insert=="string"?m.insert=h.insert.substr(f,u):m.insert=h.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=h,[f].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,_){return _!=null&&v instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,_,g,p,E){typeof _=="object"&&(g=_.depth,p=_.prototype,E=_.includeNonEnumerable,_=_.circular);var y=[],I=[],x=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof g>"u"&&(g=1/0);function A(S,P){if(S===null)return null;if(P===0)return S;var T,b;if(typeof S!="object")return S;if(o(S,s))T=new s;else if(o(S,a))T=new a;else if(o(S,l))T=new l(function(V,N){S.then(function(M){V(A(M,P-1))},function(M){N(A(M,P-1))})});else if(u.__isArray(S))T=[];else if(u.__isRegExp(S))T=new RegExp(S.source,w(S)),S.lastIndex&&(T.lastIndex=S.lastIndex);else if(u.__isDate(S))T=new Date(S.getTime());else{if(x&&Buffer.isBuffer(S))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(S.length):T=new Buffer(S.length),S.copy(T),T;o(S,Error)?T=Object.create(S):typeof p>"u"?(b=Object.getPrototypeOf(S),T=Object.create(b)):(T=Object.create(p),b=p)}if(_){var k=y.indexOf(S);if(k!=-1)return I[k];y.push(S),I.push(T)}o(S,s)&&S.forEach(function(V,N){var M=A(N,P-1),F=A(V,P-1);T.set(M,F)}),o(S,a)&&S.forEach(function(V){var N=A(V,P-1);T.add(N)});for(var R in S){var L;b&&(L=Object.getOwnPropertyDescriptor(b,R)),!(L&&L.set==null)&&(T[R]=A(S[R],P-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(S),R=0;R<U.length;R++){var $=U[R],H=Object.getOwnPropertyDescriptor(S,$);H&&!H.enumerable&&!E||(T[$]=A(S[$],P-1),H.enumerable||Object.defineProperty(T,$,{enumerable:!1}))}if(E)for(var W=Object.getOwnPropertyNames(S),R=0;R<W.length;R++){var B=W[R],H=Object.getOwnPropertyDescriptor(S,B);H&&H.enumerable||(T[B]=A(S[B],P-1),Object.defineProperty(T,B,{enumerable:!1}))}return T}return A(v,g)}u.clonePrototype=function(_){if(_===null)return null;var g=function(){};return g.prototype=_,new g};function h(v){return Object.prototype.toString.call(v)}u.__objToStr=h;function f(v){return typeof v=="object"&&h(v)==="[object Date]"}u.__isDate=f;function d(v){return typeof v=="object"&&h(v)==="[object Array]"}u.__isArray=d;function m(v){return typeof v=="object"&&h(v)==="[object RegExp]"}u.__isRegExp=m;function w(v){var _="";return v.global&&(_+="g"),v.ignoreCase&&(_+="i"),v.multiline&&(_+="m"),_}return u.__getRegExpFlags=w,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(b,k){var R=[],L=!0,U=!1,$=void 0;try{for(var H=b[Symbol.iterator](),W;!(L=(W=H.next()).done)&&(R.push(W.value),!(k&&R.length===k));L=!0);}catch(B){U=!0,$=B}finally{try{!L&&H.return&&H.return()}finally{if(U)throw $}}return R}return function(b,k){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return T(b,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(b,k){for(var R=0;R<k.length;R++){var L=k[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,k,R){return k&&T(b.prototype,k),R&&T(b,R),b}}(),a=function T(b,k,R){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,k);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:T(U,k,R)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(R)}},l=i(0),u=y(l),h=i(8),f=y(h),d=i(4),m=y(d),w=i(16),v=y(w),_=i(13),g=y(_),p=i(25),E=y(p);function y(T){return T&&T.__esModule?T:{default:T}}function I(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function x(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function A(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}function S(T){return T instanceof m.default||T instanceof d.BlockEmbed}var P=function(T){A(b,T);function b(k,R){I(this,b);var L=x(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k));return L.emitter=R.emitter,Array.isArray(R.whitelist)&&(L.whitelist=R.whitelist.reduce(function(U,$){return U[$]=!0,U},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,L){var U=this.line(R),$=o(U,2),H=$[0],W=$[1],B=this.line(R+L),V=o(B,1),N=V[0];if(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,R,L),N!=null&&H!==N&&W>0){if(H instanceof d.BlockEmbed||N instanceof d.BlockEmbed){this.optimize();return}if(H instanceof g.default){var M=H.newlineIndex(H.length(),!0);if(M>-1&&(H=H.split(M+1),H===N)){this.optimize();return}}else if(N instanceof g.default){var F=N.newlineIndex(0);F>-1&&N.split(F+1)}var K=N.children.head instanceof v.default?null:N.children.head;H.moveChildren(N,K),H.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,L,U,$){this.whitelist!=null&&!this.whitelist[U]||(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,R,L,U,$),this.optimize())}},{key:"insertAt",value:function(R,L,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[L])){if(R>=this.length())if(U==null||u.default.query(L,u.default.Scope.BLOCK)==null){var $=u.default.create(this.statics.defaultChild);this.appendChild($),U==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),$.insertAt(0,L,U)}else{var H=u.default.create(L,U);this.appendChild(H)}else a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,R,L,U);this.optimize()}}},{key:"insertBefore",value:function(R,L){if(R.statics.scope===u.default.Scope.INLINE_BLOT){var U=u.default.create(this.statics.defaultChild);U.appendChild(R),R=U}a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,R,L)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(S,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function $(H,W,B){var V=[],N=B;return H.children.forEachAt(W,B,function(M,F,K){S(M)?V.push(M):M instanceof u.default.Container&&(V=V.concat($(M,F,N))),N-=K}),V};return U(this,R,L)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,R,L),R.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,R,L))}},{key:"path",value:function(R){return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var L=f.default.sources.USER;typeof R=="string"&&(L=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,L,R),a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,L,R)}}}]),b}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[m.default,d.BlockEmbed,E.default],r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(q,Y){var X=[],ne=!0,he=!1,ye=void 0;try{for(var we=q[Symbol.iterator](),Pe;!(ne=(Pe=we.next()).done)&&(X.push(Pe.value),!(Y&&X.length===Y));ne=!0);}catch(De){he=!0,ye=De}finally{try{!ne&&we.return&&we.return()}finally{if(he)throw ye}}return X}return function(q,Y){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return j(q,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(q,Y){for(var X=0;X<Y.length;X++){var ne=Y[X];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(q,ne.key,ne)}}return function(q,Y,X){return Y&&j(q.prototype,Y),X&&j(q,X),q}}(),l=i(21),u=T(l),h=i(11),f=T(h),d=i(3),m=T(d),w=i(2),v=T(w),_=i(20),g=T(_),p=i(0),E=T(p),y=i(5),I=T(y),x=i(10),A=T(x),S=i(9),P=T(S);function T(j){return j&&j.__esModule?j:{default:j}}function b(j,q,Y){return q in j?Object.defineProperty(j,q,{value:Y,enumerable:!0,configurable:!0,writable:!0}):j[q]=Y,j}function k(j,q){if(!(j instanceof q))throw new TypeError("Cannot call a class as a function")}function R(j,q){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:j}function L(j,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);j.prototype=Object.create(q&&q.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(j,q):j.__proto__=q)}var U=(0,A.default)("quill:keyboard"),$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",H=function(j){L(q,j),a(q,null,[{key:"match",value:function(X,ne){return ne=z(ne),["altKey","ctrlKey","metaKey","shiftKey"].some(function(he){return!!ne[he]!==X[he]&&ne[he]!==null})?!1:ne.key===(X.which||X.keyCode)}}]);function q(Y,X){k(this,q);var ne=R(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,Y,X));return ne.bindings={},Object.keys(ne.options.bindings).forEach(function(he){he==="list autofill"&&Y.scroll.whitelist!=null&&!Y.scroll.whitelist.list||ne.options.bindings[he]&&ne.addBinding(ne.options.bindings[he])}),ne.addBinding({key:q.keys.ENTER,shiftKey:null},M),ne.addBinding({key:q.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ne.addBinding({key:q.keys.BACKSPACE},{collapsed:!0},B),ne.addBinding({key:q.keys.DELETE},{collapsed:!0},V)):(ne.addBinding({key:q.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),ne.addBinding({key:q.keys.DELETE},{collapsed:!0,suffix:/^.?$/},V)),ne.addBinding({key:q.keys.BACKSPACE},{collapsed:!1},N),ne.addBinding({key:q.keys.DELETE},{collapsed:!1},N),ne.addBinding({key:q.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),ne.listen(),ne}return a(q,[{key:"addBinding",value:function(X){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=z(X);if(ye==null||ye.key==null)return U.warn("Attempted to add invalid keyboard binding",ye);typeof ne=="function"&&(ne={handler:ne}),typeof he=="function"&&(he={handler:he}),ye=(0,m.default)(ye,ne,he),this.bindings[ye.key]=this.bindings[ye.key]||[],this.bindings[ye.key].push(ye)}},{key:"listen",value:function(){var X=this;this.quill.root.addEventListener("keydown",function(ne){if(!ne.defaultPrevented){var he=ne.which||ne.keyCode,ye=(X.bindings[he]||[]).filter(function(Ze){return q.match(ne,Ze)});if(ye.length!==0){var we=X.quill.getSelection();if(!(we==null||!X.quill.hasFocus())){var Pe=X.quill.getLine(we.index),De=s(Pe,2),Tt=De[0],at=De[1],ee=X.quill.getLeaf(we.index),te=s(ee,2),ue=te[0],fe=te[1],oe=we.length===0?[ue,fe]:X.quill.getLeaf(we.index+we.length),be=s(oe,2),Ae=be[0],Oe=be[1],Fe=ue instanceof E.default.Text?ue.value().slice(0,fe):"",He=Ae instanceof E.default.Text?Ae.value().slice(Oe):"",Be={collapsed:we.length===0,empty:we.length===0&&Tt.length()<=1,format:X.quill.getFormat(we),offset:at,prefix:Fe,suffix:He},hl=ye.some(function(Ze){if(Ze.collapsed!=null&&Ze.collapsed!==Be.collapsed||Ze.empty!=null&&Ze.empty!==Be.empty||Ze.offset!=null&&Ze.offset!==Be.offset)return!1;if(Array.isArray(Ze.format)){if(Ze.format.every(function(xn){return Be.format[xn]==null}))return!1}else if(o(Ze.format)==="object"&&!Object.keys(Ze.format).every(function(xn){return Ze.format[xn]===!0?Be.format[xn]!=null:Ze.format[xn]===!1?Be.format[xn]==null:(0,f.default)(Ze.format[xn],Be.format[xn])}))return!1;return Ze.prefix!=null&&!Ze.prefix.test(Be.prefix)||Ze.suffix!=null&&!Ze.suffix.test(Be.suffix)?!1:Ze.handler.call(X,we,Be)!==!0});hl&&ne.preventDefault()}}}})}}]),q}(P.default);H.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},H.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:H.keys.TAB,format:["blockquote","indent","list"],handler:function(q,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","+1",I.default.sources.USER)}},outdent:{key:H.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(q,Y){if(Y.collapsed&&Y.offset!==0)return!0;this.quill.format("indent","-1",I.default.sources.USER)}},"outdent backspace":{key:H.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(q,Y){Y.format.indent!=null?this.quill.format("indent","-1",I.default.sources.USER):Y.format.list!=null&&this.quill.format("list",!1,I.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:H.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(q){this.quill.deleteText(q.index-1,1,I.default.sources.USER)}},tab:{key:H.keys.TAB,handler:function(q){this.quill.history.cutoff();var Y=new v.default().retain(q.index).delete(q.length).insert("	");this.quill.updateContents(Y,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index+1,I.default.sources.SILENT)}},"list empty enter":{key:H.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(q,Y){this.quill.format("list",!1,I.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,I.default.sources.USER)}},"checklist enter":{key:H.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(q){var Y=this.quill.getLine(q.index),X=s(Y,2),ne=X[0],he=X[1],ye=(0,m.default)({},ne.formats(),{list:"checked"}),we=new v.default().retain(q.index).insert(`
`,ye).retain(ne.length()-he-1).retain(1,{list:"unchecked"});this.quill.updateContents(we,I.default.sources.USER),this.quill.setSelection(q.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:H.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(q,Y){var X=this.quill.getLine(q.index),ne=s(X,2),he=ne[0],ye=ne[1],we=new v.default().retain(q.index).insert(`
`,Y.format).retain(he.length()-ye-1).retain(1,{header:null});this.quill.updateContents(we,I.default.sources.USER),this.quill.setSelection(q.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(q,Y){var X=Y.prefix.length,ne=this.quill.getLine(q.index),he=s(ne,2),ye=he[0],we=he[1];if(we>X)return!0;var Pe=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":Pe="unchecked";break;case"[x]":Pe="checked";break;case"-":case"*":Pe="bullet";break;default:Pe="ordered"}this.quill.insertText(q.index," ",I.default.sources.USER),this.quill.history.cutoff();var De=new v.default().retain(q.index-we).delete(X+1).retain(ye.length()-2-we).retain(1,{list:Pe});this.quill.updateContents(De,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(q.index-X,I.default.sources.SILENT)}},"code exit":{key:H.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(q){var Y=this.quill.getLine(q.index),X=s(Y,2),ne=X[0],he=X[1],ye=new v.default().retain(q.index+ne.length()-he-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ye,I.default.sources.USER)}},"embed left":W(H.keys.LEFT,!1),"embed left shift":W(H.keys.LEFT,!0),"embed right":W(H.keys.RIGHT,!1),"embed right shift":W(H.keys.RIGHT,!0)}};function W(j,q){var Y,X=j===H.keys.LEFT?"prefix":"suffix";return Y={key:j,shiftKey:q,altKey:null},b(Y,X,/^$/),b(Y,"handler",function(he){var ye=he.index;j===H.keys.RIGHT&&(ye+=he.length+1);var we=this.quill.getLeaf(ye),Pe=s(we,1),De=Pe[0];return De instanceof E.default.Embed?(j===H.keys.LEFT?q?this.quill.setSelection(he.index-1,he.length+1,I.default.sources.USER):this.quill.setSelection(he.index-1,I.default.sources.USER):q?this.quill.setSelection(he.index,he.length+1,I.default.sources.USER):this.quill.setSelection(he.index+he.length+1,I.default.sources.USER),!1):!0}),Y}function B(j,q){if(!(j.index===0||this.quill.getLength()<=1)){var Y=this.quill.getLine(j.index),X=s(Y,1),ne=X[0],he={};if(q.offset===0){var ye=this.quill.getLine(j.index-1),we=s(ye,1),Pe=we[0];if(Pe!=null&&Pe.length()>1){var De=ne.formats(),Tt=this.quill.getFormat(j.index-1,1);he=g.default.attributes.diff(De,Tt)||{}}}var at=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(q.prefix)?2:1;this.quill.deleteText(j.index-at,at,I.default.sources.USER),Object.keys(he).length>0&&this.quill.formatLine(j.index-at,at,he,I.default.sources.USER),this.quill.focus()}}function V(j,q){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(q.suffix)?2:1;if(!(j.index>=this.quill.getLength()-Y)){var X={},ne=0,he=this.quill.getLine(j.index),ye=s(he,1),we=ye[0];if(q.offset>=we.length()-1){var Pe=this.quill.getLine(j.index+1),De=s(Pe,1),Tt=De[0];if(Tt){var at=we.formats(),ee=this.quill.getFormat(j.index,1);X=g.default.attributes.diff(at,ee)||{},ne=Tt.length()}}this.quill.deleteText(j.index,Y,I.default.sources.USER),Object.keys(X).length>0&&this.quill.formatLine(j.index+ne-1,Y,X,I.default.sources.USER)}}function N(j){var q=this.quill.getLines(j),Y={};if(q.length>1){var X=q[0].formats(),ne=q[q.length-1].formats();Y=g.default.attributes.diff(ne,X)||{}}this.quill.deleteText(j,I.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(j.index,1,Y,I.default.sources.USER),this.quill.setSelection(j.index,I.default.sources.SILENT),this.quill.focus()}function M(j,q){var Y=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var X=Object.keys(q.format).reduce(function(ne,he){return E.default.query(he,E.default.Scope.BLOCK)&&!Array.isArray(q.format[he])&&(ne[he]=q.format[he]),ne},{});this.quill.insertText(j.index,`
`,X,I.default.sources.USER),this.quill.setSelection(j.index+1,I.default.sources.SILENT),this.quill.focus(),Object.keys(q.format).forEach(function(ne){X[ne]==null&&(Array.isArray(q.format[ne])||ne!=="link"&&Y.quill.format(ne,q.format[ne],I.default.sources.USER))})}function F(j){return{key:H.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(Y){var X=E.default.query("code-block"),ne=Y.index,he=Y.length,ye=this.quill.scroll.descendant(X,ne),we=s(ye,2),Pe=we[0],De=we[1];if(Pe!=null){var Tt=this.quill.getIndex(Pe),at=Pe.newlineIndex(De,!0)+1,ee=Pe.newlineIndex(Tt+De+he),te=Pe.domNode.textContent.slice(at,ee).split(`
`);De=0,te.forEach(function(ue,fe){j?(Pe.insertAt(at+De,X.TAB),De+=X.TAB.length,fe===0?ne+=X.TAB.length:he+=X.TAB.length):ue.startsWith(X.TAB)&&(Pe.deleteAt(at+De,X.TAB.length),De-=X.TAB.length,fe===0?ne-=X.TAB.length:he-=X.TAB.length),De+=ue.length+1}),this.quill.update(I.default.sources.USER),this.quill.setSelection(ne,he,I.default.sources.SILENT)}}}}function K(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(Y,X){this.quill.format(j,!X.format[j],I.default.sources.USER)}}}function z(j){if(typeof j=="string"||typeof j=="number")return z({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(H.keys[j.key.toUpperCase()]!=null)j.key=H.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[$]=j.shortKey,delete j.shortKey),j}r.default=H,r.SHORTKEY=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,E){var y=[],I=!0,x=!1,A=void 0;try{for(var S=p[Symbol.iterator](),P;!(I=(P=S.next()).done)&&(y.push(P.value),!(E&&y.length===E));I=!0);}catch(T){x=!0,A=T}finally{try{!I&&S.return&&S.return()}finally{if(x)throw A}}return y}return function(p,E){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(p,E,y){p===null&&(p=Function.prototype);var I=Object.getOwnPropertyDescriptor(p,E);if(I===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:g(x,E,y)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(y)}},a=function(){function g(p,E){for(var y=0;y<E.length;y++){var I=E[y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(p,I.key,I)}}return function(p,E,y){return E&&g(p.prototype,E),y&&g(p,y),p}}(),l=i(0),u=d(l),h=i(7),f=d(h);function d(g){return g&&g.__esModule?g:{default:g}}function m(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function w(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function v(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var _=function(g){v(p,g),a(p,null,[{key:"value",value:function(){}}]);function p(E,y){m(this,p);var I=w(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E));return I.selection=y,I.textNode=document.createTextNode(p.CONTENTS),I.domNode.appendChild(I.textNode),I._length=0,I}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,I){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,y,I);for(var x=this,A=0;x!=null&&x.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=p.CONTENTS.length,x.optimize(),x.formatAt(A,p.CONTENTS.length,y,I),this._length=0)}},{key:"index",value:function(y,I){return y===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,I)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,I=this.selection.getNativeRange(),x=void 0,A=void 0,S=void 0;if(I!=null&&I.start.node===y&&I.end.node===y){var P=[y,I.start.offset,I.end.offset];x=P[0],A=P[1],S=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof f.default?(x=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var b=[A,S].map(function(R){return Math.max(0,Math.min(x.data.length,R-1))}),k=o(b,2);return A=k[0],S=k[1],{startNode:x,startOffset:A,endNode:x,endOffset:S}}}}},{key:"update",value:function(y,I){var x=this;if(y.some(function(S){return S.type==="characterData"&&S.target===x.textNode})){var A=this.restore();A&&(I.range=A)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function f(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){d(v,w);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:_(I,p,E)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(E)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function f(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function d(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var m=function(_){d(g,_);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(E){var y=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,E);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),w=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=w,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(_,g){for(var p=0;p<g.length;p++){var E=g[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),s=function v(_,g,p){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,g);if(E===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:v(y,g,p)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function f(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m=function(v){d(_,v);function _(){return h(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(p,E){if(p!==this.statics.blotName||!E)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,p,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(p){var E=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,p);return p=this.sanitize(p),E.setAttribute("href",p),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return w(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),_}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(v,_){var g=document.createElement("a");g.href=v;var p=g.href.slice(0,g.href.indexOf(":"));return _.indexOf(p)>-1}r.default=m,r.sanitize=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),a=i(23),l=f(a),u=i(107),h=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function d(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}var m=0;function w(_,g){_.setAttribute(g,_.getAttribute(g)!=="true")}var v=function(){function _(g){var p=this;d(this,_),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var E=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),p.hasAttribute("value")&&y.setAttribute("data-value",p.getAttribute("value")),p.textContent&&y.setAttribute("data-label",p.textContent),y.addEventListener("click",function(){E.selectItem(y,!0)}),y.addEventListener("keydown",function(I){switch(I.keyCode){case l.default.keys.ENTER:E.selectItem(y,!0),I.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),I.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=h.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(y){var I=p.buildItem(y);E.appendChild(I),y.selected===!0&&p.selectItem(I)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(E){p.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(p!==y&&(y!=null&&y.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var I=document.createEvent("Event");I.initEvent("change",!0,!0),this.select.dispatchEvent(I)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var y=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),_}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),a=i(5),l=U(a),u=i(4),h=U(u),f=i(16),d=U(f),m=i(25),w=U(m),v=i(24),_=U(v),g=i(35),p=U(g),E=i(6),y=U(E),I=i(22),x=U(I),A=i(7),S=U(A),P=i(55),T=U(P),b=i(42),k=U(b),R=i(23),L=U(R);function U($){return $&&$.__esModule?$:{default:$}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":w.default,"blots/cursor":_.default,"blots/embed":p.default,"blots/inline":y.default,"blots/scroll":x.default,"blots/text":S.default,"modules/clipboard":T.default,"modules/history":k.default,"modules/keyboard":L.default}),s.default.register(h.default,d.default,_.default,y.default,x.default,S.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},a.prototype.formatAt=function(l,u,h,f){var d=this.isolate(l,u);if(o.query(h,o.Scope.BLOT)!=null&&f)d.wrap(h,f);else if(o.query(h,o.Scope.ATTRIBUTE)!=null){var m=o.create(this.statics.scope);d.wrap(m),m.format(h,f)}},a.prototype.insertAt=function(l,u,h){var f=h==null?o.create("text",u):o.create(u,h),d=this.split(l);this.parent.insertBefore(f,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return h.replace(this),h},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function h(f){this.attributes={},this.domNode=f,this.build()}return h.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},h.prototype.build=function(){var f=this;this.attributes={};var d=o.default.keys(this.domNode),m=s.default.keys(this.domNode),w=a.default.keys(this.domNode);d.concat(m).concat(w).forEach(function(v){var _=l.query(v,l.Scope.ATTRIBUTE);_ instanceof o.default&&(f.attributes[_.attrName]=_)})},h.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(m){var w=d.attributes[m].value(d.domNode);f.format(m,w)})},h.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(m){d.attributes[m].remove(d.domNode)}),this.attributes={}},h.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,m){return d[m]=f.attributes[m].value(f.domNode),d},{})},h}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,h){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(h+"-")===0})}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},h.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},h.prototype.remove=function(f){var d=a(f,this.keyName);d.forEach(function(m){f.classList.remove(m)}),f.classList.length===0&&f.removeAttribute("class")},h.prototype.value=function(f){var d=a(f,this.keyName)[0]||"",m=d.slice(this.keyName.length+1);return this.canAdd(f,m)?m:""},h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var h=u.split("-"),f=h.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return h[0]+f}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var m=d.split(":");return m[0].trim()})},h.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[a(this.keyName)]=d,!0):!1},h.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},h.prototype.value=function(f){var d=f.style[a(this.keyName)];return this.canAdd(f,d)?d:""},h}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){s(this,l),this.quill=u,this.options=h,this.modules={}}return o(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(f){h.modules[f]==null&&h.addModule(f)})}},{key:"addModule",value:function(h){var f=this.quill.constructor.import("modules/"+h);return this.modules[h]=new f(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,E){for(var y=0;y<E.length;y++){var I=E[y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(p,I.key,I)}}return function(p,E,y){return E&&g(p.prototype,E),y&&g(p,y),p}}(),s=function g(p,E,y){p===null&&(p=Function.prototype);var I=Object.getOwnPropertyDescriptor(p,E);if(I===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:g(x,E,y)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=f(a),u=i(7),h=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function m(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function w(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var v="\uFEFF",_=function(g){w(p,g);function p(E){d(this,p);var y=m(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(I){y.contentNode.appendChild(I)}),y.leftGuard=document.createTextNode(v),y.rightGuard=document.createTextNode(v),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(p,[{key:"index",value:function(y,I){return y===this.leftGuard?0:y===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,I)}},{key:"restore",value:function(y){var I=void 0,x=void 0,A=y.data.split(v).join("");if(y===this.leftGuard)if(this.prev instanceof h.default){var S=this.prev.length();this.prev.insertAt(S,A),I={startNode:this.prev.domNode,startOffset:S+A.length}}else x=document.createTextNode(A),this.parent.insertBefore(l.default.create(x),this),I={startNode:x,startOffset:A.length};else y===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,A),I={startNode:this.next.domNode,startOffset:A.length}):(x=document.createTextNode(A),this.parent.insertBefore(l.default.create(x),this.next),I={startNode:x,startOffset:A.length}));return y.data=v,I}},{key:"update",value:function(y,I){var x=this;y.forEach(function(A){if(A.type==="characterData"&&(A.target===x.leftGuard||A.target===x.rightGuard)){var S=x.restore(A.target);S&&(I.range=S)}})}}]),p}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),h=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),h=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),h=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(p,E){for(var y=0;y<E.length;y++){var I=E[y];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(p,I.key,I)}}return function(p,E,y){return E&&g(p.prototype,E),y&&g(p,y),p}}(),s=function g(p,E,y){p===null&&(p=Function.prototype);var I=Object.getOwnPropertyDescriptor(p,E);if(I===void 0){var x=Object.getPrototypeOf(p);return x===null?void 0:g(x,E,y)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function h(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function f(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function d(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new l.default.Attributor.Class("font","ql-font",m),v=function(g){d(p,g);function p(){return h(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(y){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),_=new v("font","font-family",m);r.FontStyle=_,r.FontClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function E(y,I){for(var x=0;x<I.length;x++){var A=I[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,I,x){return I&&E(y.prototype,I),x&&E(y,x),y}}(),s=i(0),a=d(s),l=i(5),u=d(l),h=i(9),f=d(h);function d(E){return E&&E.__esModule?E:{default:E}}function m(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function w(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function v(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var _=function(E){v(y,E);function y(I,x){m(this,y);var A=w(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,I,x));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(S,P,T,b){S!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||b===u.default.sources.USER?A.record(P,T):A.transform(P))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return o(y,[{key:"change",value:function(x,A){if(this.stack[x].length!==0){var S=this.stack[x].pop();this.stack[A].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[x],u.default.sources.USER),this.ignoreChange=!1;var P=p(S[x]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,A){if(x.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(A),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var T=this.stack.undo.pop();S=S.compose(T.undo),x=T.redo.compose(x)}else this.lastRecorded=P;this.stack.undo.push({redo:x,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(A){A.undo=x.transform(A.undo,!0),A.redo=x.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=x.transform(A.undo,!0),A.redo=x.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(f.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(E){var y=E.ops[E.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(I){return a.default.query(I,a.default.Scope.BLOCK)!=null}):!1}function p(E){var y=E.reduce(function(x,A){return x+=A.delete||0,x},0),I=E.length()-y;return g(E)&&(I-=1),I}r.default=_,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(F,K){for(var z=0;z<K.length;z++){var j=K[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(F,j.key,j)}}return function(F,K,z){return K&&M(F.prototype,K),z&&M(F,z),F}}(),s=function M(F,K,z){F===null&&(F=Function.prototype);var j=Object.getOwnPropertyDescriptor(F,K);if(j===void 0){var q=Object.getPrototypeOf(F);return q===null?void 0:M(q,K,z)}else{if("value"in j)return j.value;var Y=j.get;return Y===void 0?void 0:Y.call(z)}},a=i(3),l=P(a),u=i(2),h=P(u),f=i(8),d=P(f),m=i(23),w=P(m),v=i(34),_=P(v),g=i(59),p=P(g),E=i(60),y=P(E),I=i(28),x=P(I),A=i(61),S=P(A);function P(M){return M&&M.__esModule?M:{default:M}}function T(M,F){if(!(M instanceof F))throw new TypeError("Cannot call a class as a function")}function b(M,F){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:M}function k(M,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);M.prototype=Object.create(F&&F.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(M,F):M.__proto__=F)}var R=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],$=["1","2","3",!1],H=["small",!1,"large","huge"],W=function(M){k(F,M);function F(K,z){T(this,F);var j=b(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,K,z)),q=function Y(X){if(!document.body.contains(K.root))return document.body.removeEventListener("click",Y);j.tooltip!=null&&!j.tooltip.root.contains(X.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(ne){ne.container.contains(X.target)||ne.close()})};return K.emitter.listenDOM("click",document.body,q),j}return o(F,[{key:"addModule",value:function(z){var j=s(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(z,j){z.forEach(function(q){var Y=q.getAttribute("class")||"";Y.split(/\s+/).forEach(function(X){if(X.startsWith("ql-")&&(X=X.slice(3),j[X]!=null))if(X==="direction")q.innerHTML=j[X][""]+j[X].rtl;else if(typeof j[X]=="string")q.innerHTML=j[X];else{var ne=q.value||"";ne!=null&&j[X][ne]&&(q.innerHTML=j[X][ne])}})})}},{key:"buildPickers",value:function(z,j){var q=this;this.pickers=z.map(function(X){if(X.classList.contains("ql-align"))return X.querySelector("option")==null&&N(X,R),new y.default(X,j.align);if(X.classList.contains("ql-background")||X.classList.contains("ql-color")){var ne=X.classList.contains("ql-background")?"background":"color";return X.querySelector("option")==null&&N(X,L,ne==="background"?"#ffffff":"#000000"),new p.default(X,j[ne])}else return X.querySelector("option")==null&&(X.classList.contains("ql-font")?N(X,U):X.classList.contains("ql-header")?N(X,$):X.classList.contains("ql-size")&&N(X,H)),new x.default(X)});var Y=function(){q.pickers.forEach(function(ne){ne.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,Y)}}]),F}(_.default);W.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var z=new FileReader;z.onload=function(j){var q=F.quill.getSelection(!0);F.quill.updateContents(new h.default().retain(q.index).delete(q.length).insert({image:j.target.result}),d.default.sources.USER),F.quill.setSelection(q.index+1,d.default.sources.SILENT),K.value=""},z.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(M){k(F,M);function F(K,z){T(this,F);var j=b(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,K,z));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(F,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(j){w.default.match(j,"enter")?(z.save(),j.preventDefault()):w.default.match(j,"escape")&&(z.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":z=V(z);case"formula":{if(!z)break;var q=this.quill.getSelection(!0);if(q!=null){var Y=q.index+q.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Y+1," ",d.default.sources.USER),this.quill.setSelection(Y+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(S.default);function V(M){var F=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":M}function N(M,F){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(z){var j=document.createElement("option");z===K?j.setAttribute("selected","selected"):j.setAttribute("value",z),M.appendChild(j)})}r.BaseTooltip=B,r.default=W},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var h=this.find(a),f=h[0],d=h[1],m,w=a-d,v=this.iterator(f);(m=v())&&w<a+l;){var _=m.length();a>w?u(m,a-w,Math.min(l,w+_-a)):u(m,0,Math.min(_,a+l-w)),w+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,h=this.iterator();u=h();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var w in m)m.hasOwnProperty(w)&&(d[w]=m[w])};return function(d,m){f(d,m);function w(){this.constructor=d}d.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(f){o(d,f);function d(m){var w=f.call(this,m)||this;return w.scroll=w,w.observer=new MutationObserver(function(v){w.update(v)}),w.observer.observe(w.domNode,l),w.attach(),w}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(m,w){this.update(),m===0&&w===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,m,w)},d.prototype.formatAt=function(m,w,v,_){this.update(),f.prototype.formatAt.call(this,m,w,v,_)},d.prototype.insertAt=function(m,w,v){this.update(),f.prototype.insertAt.call(this,m,w,v)},d.prototype.optimize=function(m,w){var v=this;m===void 0&&(m=[]),w===void 0&&(w={}),f.prototype.optimize.call(this,w);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)m.push(_.pop());for(var g=function(I,x){x===void 0&&(x=!0),!(I==null||I===v)&&I.domNode.parentNode!=null&&(I.domNode[a.DATA_KEY].mutations==null&&(I.domNode[a.DATA_KEY].mutations=[]),x&&g(I.parent))},p=function(I){I.domNode[a.DATA_KEY]==null||I.domNode[a.DATA_KEY].mutations==null||(I instanceof s.default&&I.children.forEach(p),I.optimize(w))},E=m,y=0;E.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(I){var x=a.find(I.target,!0);x!=null&&(x.domNode===I.target&&(I.type==="childList"?(g(a.find(I.previousSibling,!1)),[].forEach.call(I.addedNodes,function(A){var S=a.find(A,!1);g(S,!1),S instanceof s.default&&S.children.forEach(function(P){g(P,!1)})})):I.type==="attributes"&&g(x.prev)),g(x))}),this.children.forEach(p),E=[].slice.call(this.observer.takeRecords()),_=E.slice();_.length>0;)m.push(_.pop())}},d.prototype.update=function(m,w){var v=this;w===void 0&&(w={}),m=m||this.observer.takeRecords(),m.map(function(_){var g=a.find(_.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[_],g):(g.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===v||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],w)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,w),this.optimize(m,w)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var m in d)d.hasOwnProperty(m)&&(f[m]=d[m])};return function(f,d){h(f,d);function m(){this.constructor=f}f.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(h,f){if(Object.keys(h).length!==Object.keys(f).length)return!1;for(var d in h)if(h[d]!==f[d])return!1;return!0}var u=function(h){o(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return h.formats.call(this,d)},f.prototype.format=function(d,m){var w=this;d===this.statics.blotName&&!m?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(f.blotName,!0)),w.attributes.copy(v)}),this.unwrap()):h.prototype.format.call(this,d,m)},f.prototype.formatAt=function(d,m,w,v){if(this.formats()[w]!=null||a.query(w,a.Scope.ATTRIBUTE)){var _=this.isolate(d,m);_.format(w,v)}else h.prototype.formatAt.call(this,d,m,w,v)},f.prototype.optimize=function(d){h.prototype.optimize.call(this,d);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var w=this.next;w instanceof f&&w.prev===this&&l(m,w.formats())&&(w.moveChildren(this),w.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(f){var d=a.query(h.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},h.prototype.format=function(f,d){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(h.blotName):u.prototype.format.call(this,f,d))},h.prototype.formatAt=function(f,d,m,w){a.query(m,a.Scope.BLOCK)!=null?this.format(m,w):u.prototype.formatAt.call(this,f,d,m,w)},h.prototype.insertAt=function(f,d,m){if(m==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,m);else{var w=this.split(f),v=a.create(d,m);w.parent.insertBefore(v,w)}},h.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},h.blotName="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="P",h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)h.hasOwnProperty(f)&&(u[f]=h[f])};return function(u,h){l(u,h);function f(){this.constructor=u}u.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,f){l.prototype.formatAt.call(this,0,this.length(),h,f)},u.prototype.formatAt=function(h,f,d,m){h===0&&f===this.length()?this.format(d,m):l.prototype.formatAt.call(this,h,f,d,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])};return function(h,f){u(h,f);function d(){this.constructor=h}h.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(h,u);function h(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return h.create=function(f){return document.createTextNode(f)},h.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},h.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},h.prototype.index=function(f,d){return this.domNode===f?d:-1},h.prototype.insertAt=function(f,d,m){m==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,m)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(f,d){return[this.domNode,f]},h.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var m=a.create(this.domNode.splitText(f));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},h.prototype.update=function(f,d){var m=this;f.some(function(w){return w.type==="characterData"&&w.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var h=u.indexOf(a,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,f=arguments[1],d,m=0;m<h;m++)if(d=u[m],l.call(f,d,m,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(y,I,x){if(y==I)return y?[[s,y]]:[];(x<0||y.length<x)&&(x=null);var A=f(y,I),S=y.substring(0,A);y=y.substring(A),I=I.substring(A),A=d(y,I);var P=y.substring(y.length-A);y=y.substring(0,y.length-A),I=I.substring(0,I.length-A);var T=l(y,I);return S&&T.unshift([s,S]),P&&T.push([s,P]),w(T),x!=null&&(T=g(T,x)),T=p(T),T}function l(y,I){var x;if(!y)return[[o,I]];if(!I)return[[i,y]];var A=y.length>I.length?y:I,S=y.length>I.length?I:y,P=A.indexOf(S);if(P!=-1)return x=[[o,A.substring(0,P)],[s,S],[o,A.substring(P+S.length)]],y.length>I.length&&(x[0][0]=x[2][0]=i),x;if(S.length==1)return[[i,y],[o,I]];var T=m(y,I);if(T){var b=T[0],k=T[1],R=T[2],L=T[3],U=T[4],$=a(b,R),H=a(k,L);return $.concat([[s,U]],H)}return u(y,I)}function u(y,I){for(var x=y.length,A=I.length,S=Math.ceil((x+A)/2),P=S,T=2*S,b=new Array(T),k=new Array(T),R=0;R<T;R++)b[R]=-1,k[R]=-1;b[P+1]=0,k[P+1]=0;for(var L=x-A,U=L%2!=0,$=0,H=0,W=0,B=0,V=0;V<S;V++){for(var N=-V+$;N<=V-H;N+=2){var M=P+N,F;N==-V||N!=V&&b[M-1]<b[M+1]?F=b[M+1]:F=b[M-1]+1;for(var K=F-N;F<x&&K<A&&y.charAt(F)==I.charAt(K);)F++,K++;if(b[M]=F,F>x)H+=2;else if(K>A)$+=2;else if(U){var z=P+L-N;if(z>=0&&z<T&&k[z]!=-1){var j=x-k[z];if(F>=j)return h(y,I,F,K)}}}for(var q=-V+W;q<=V-B;q+=2){var z=P+q,j;q==-V||q!=V&&k[z-1]<k[z+1]?j=k[z+1]:j=k[z-1]+1;for(var Y=j-q;j<x&&Y<A&&y.charAt(x-j-1)==I.charAt(A-Y-1);)j++,Y++;if(k[z]=j,j>x)B+=2;else if(Y>A)W+=2;else if(!U){var M=P+L-q;if(M>=0&&M<T&&b[M]!=-1){var F=b[M],K=P+F-M;if(j=x-j,F>=j)return h(y,I,F,K)}}}}return[[i,y],[o,I]]}function h(y,I,x,A){var S=y.substring(0,x),P=I.substring(0,A),T=y.substring(x),b=I.substring(A),k=a(S,P),R=a(T,b);return k.concat(R)}function f(y,I){if(!y||!I||y.charAt(0)!=I.charAt(0))return 0;for(var x=0,A=Math.min(y.length,I.length),S=A,P=0;x<S;)y.substring(P,S)==I.substring(P,S)?(x=S,P=x):A=S,S=Math.floor((A-x)/2+x);return S}function d(y,I){if(!y||!I||y.charAt(y.length-1)!=I.charAt(I.length-1))return 0;for(var x=0,A=Math.min(y.length,I.length),S=A,P=0;x<S;)y.substring(y.length-S,y.length-P)==I.substring(I.length-S,I.length-P)?(x=S,P=x):A=S,S=Math.floor((A-x)/2+x);return S}function m(y,I){var x=y.length>I.length?y:I,A=y.length>I.length?I:y;if(x.length<4||A.length*2<x.length)return null;function S(H,W,B){for(var V=H.substring(B,B+Math.floor(H.length/4)),N=-1,M="",F,K,z,j;(N=W.indexOf(V,N+1))!=-1;){var q=f(H.substring(B),W.substring(N)),Y=d(H.substring(0,B),W.substring(0,N));M.length<Y+q&&(M=W.substring(N-Y,N)+W.substring(N,N+q),F=H.substring(0,B-Y),K=H.substring(B+q),z=W.substring(0,N-Y),j=W.substring(N+q))}return M.length*2>=H.length?[F,K,z,j,M]:null}var P=S(x,A,Math.ceil(x.length/4)),T=S(x,A,Math.ceil(x.length/2)),b;if(!P&&!T)return null;T?P?b=P[4].length>T[4].length?P:T:b=T:b=P;var k,R,L,U;y.length>I.length?(k=b[0],R=b[1],L=b[2],U=b[3]):(L=b[0],U=b[1],k=b[2],R=b[3]);var $=b[4];return[k,R,L,U,$]}function w(y){y.push([s,""]);for(var I=0,x=0,A=0,S="",P="",T;I<y.length;)switch(y[I][0]){case o:A++,P+=y[I][1],I++;break;case i:x++,S+=y[I][1],I++;break;case s:x+A>1?(x!==0&&A!==0&&(T=f(P,S),T!==0&&(I-x-A>0&&y[I-x-A-1][0]==s?y[I-x-A-1][1]+=P.substring(0,T):(y.splice(0,0,[s,P.substring(0,T)]),I++),P=P.substring(T),S=S.substring(T)),T=d(P,S),T!==0&&(y[I][1]=P.substring(P.length-T)+y[I][1],P=P.substring(0,P.length-T),S=S.substring(0,S.length-T))),x===0?y.splice(I-A,x+A,[o,P]):A===0?y.splice(I-x,x+A,[i,S]):y.splice(I-x-A,x+A,[i,S],[o,P]),I=I-x-A+(x?1:0)+(A?1:0)+1):I!==0&&y[I-1][0]==s?(y[I-1][1]+=y[I][1],y.splice(I,1)):I++,A=0,x=0,S="",P="";break}y[y.length-1][1]===""&&y.pop();var b=!1;for(I=1;I<y.length-1;)y[I-1][0]==s&&y[I+1][0]==s&&(y[I][1].substring(y[I][1].length-y[I-1][1].length)==y[I-1][1]?(y[I][1]=y[I-1][1]+y[I][1].substring(0,y[I][1].length-y[I-1][1].length),y[I+1][1]=y[I-1][1]+y[I+1][1],y.splice(I-1,1),b=!0):y[I][1].substring(0,y[I+1][1].length)==y[I+1][1]&&(y[I-1][1]+=y[I+1][1],y[I][1]=y[I][1].substring(y[I+1][1].length)+y[I+1][1],y.splice(I+1,1),b=!0)),I++;b&&w(y)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function _(y,I){if(I===0)return[s,y];for(var x=0,A=0;A<y.length;A++){var S=y[A];if(S[0]===i||S[0]===s){var P=x+S[1].length;if(I===P)return[A+1,y];if(I<P){y=y.slice();var T=I-x,b=[S[0],S[1].slice(0,T)],k=[S[0],S[1].slice(T)];return y.splice(A,1,b,k),[A+1,y]}else x=P}}throw new Error("cursor_pos is out of bounds!")}function g(y,I){var x=_(y,I),A=x[1],S=x[0],P=A[S],T=A[S+1];if(P==null)return y;if(P[0]!==s)return y;if(T!=null&&P[1]+T[1]===T[1]+P[1])return A.splice(S,2,T,P),E(A,S,2);if(T!=null&&T[1].indexOf(P[1])===0){A.splice(S,2,[T[0],P[1]],[0,P[1]]);var b=T[1].slice(P[1].length);return b.length>0&&A.splice(S+2,0,[T[0],b]),E(A,S,3)}else return y}function p(y){for(var I=!1,x=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},A=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},S=2;S<y.length;S+=1)y[S-2][0]===s&&A(y[S-2][1])&&y[S-1][0]===i&&x(y[S-1][1])&&y[S][0]===o&&x(y[S][1])&&(I=!0,y[S-1][1]=y[S-2][1].slice(-1)+y[S-1][1],y[S][1]=y[S-2][1].slice(-1)+y[S][1],y[S-2][1]=y[S-2][1].slice(0,-1));if(!I)return y;for(var P=[],S=0;S<y.length;S+=1)y[S][1].length>0&&P.push(y[S]);return P}function E(y,I,x){for(var A=I+x-1;A>=0&&A>=I-1;A--)if(A+1<y.length){var S=y[A],P=y[A+1];S[0]===P[1]&&y.splice(A,2,[S[0],S[1]+P[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,d;if(this._eventsCount===0)return h;for(d in f=this._events)i.call(f,d)&&h.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h,f){var d=o?o+h:h,m=this._events[d];if(f)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var w=0,v=m.length,_=new Array(v);w<v;w++)_[w]=m[w].fn;return _},l.prototype.emit=function(h,f,d,m,w,v){var _=o?o+h:h;if(!this._events[_])return!1;var g=this._events[_],p=arguments.length,E,y;if(g.fn){switch(g.once&&this.removeListener(h,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,d),!0;case 4:return g.fn.call(g.context,f,d,m),!0;case 5:return g.fn.call(g.context,f,d,m,w),!0;case 6:return g.fn.call(g.context,f,d,m,w,v),!0}for(y=1,E=new Array(p-1);y<p;y++)E[y-1]=arguments[y];g.fn.apply(g.context,E)}else{var I=g.length,x;for(y=0;y<I;y++)switch(g[y].once&&this.removeListener(h,g[y].fn,void 0,!0),p){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,f);break;case 3:g[y].fn.call(g[y].context,f,d);break;case 4:g[y].fn.call(g[y].context,f,d,m);break;default:if(!E)for(x=1,E=new Array(p-1);x<p;x++)E[x-1]=arguments[x];g[y].fn.apply(g[y].context,E)}}return!0},l.prototype.on=function(h,f,d){var m=new a(f,d||this),w=o?o+h:h;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],m]:this._events[w].push(m):(this._events[w]=m,this._eventsCount++),this},l.prototype.once=function(h,f,d){var m=new a(f,d||this,!0),w=o?o+h:h;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],m]:this._events[w].push(m):(this._events[w]=m,this._eventsCount++),this},l.prototype.removeListener=function(h,f,d,m){var w=o?o+h:h;if(!this._events[w])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var v=this._events[w];if(v.fn)v.fn===f&&(!m||v.once)&&(!d||v.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var _=0,g=[],p=v.length;_<p;_++)(v[_].fn!==f||m&&!v[_].once||d&&v[_].context!==d)&&g.push(v[_]);g.length?this._events[w]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=o?o+h:h,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},s=function(){function ee(te,ue){var fe=[],oe=!0,be=!1,Ae=void 0;try{for(var Oe=te[Symbol.iterator](),Fe;!(oe=(Fe=Oe.next()).done)&&(fe.push(Fe.value),!(ue&&fe.length===ue));oe=!0);}catch(He){be=!0,Ae=He}finally{try{!oe&&Oe.return&&Oe.return()}finally{if(be)throw Ae}}return fe}return function(te,ue){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return ee(te,ue);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ee(te,ue){for(var fe=0;fe<ue.length;fe++){var oe=ue[fe];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(te,oe.key,oe)}}return function(te,ue,fe){return ue&&ee(te.prototype,ue),fe&&ee(te,fe),te}}(),l=i(3),u=k(l),h=i(2),f=k(h),d=i(0),m=k(d),w=i(5),v=k(w),_=i(10),g=k(_),p=i(9),E=k(p),y=i(36),I=i(37),x=i(13),A=k(x),S=i(26),P=i(38),T=i(39),b=i(40);function k(ee){return ee&&ee.__esModule?ee:{default:ee}}function R(ee,te,ue){return te in ee?Object.defineProperty(ee,te,{value:ue,enumerable:!0,configurable:!0,writable:!0}):ee[te]=ue,ee}function L(ee,te){if(!(ee instanceof te))throw new TypeError("Cannot call a class as a function")}function U(ee,te){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:ee}function $(ee,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);ee.prototype=Object.create(te&&te.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,te):ee.__proto__=te)}var H=(0,g.default)("quill:clipboard"),W="__ql-matcher",B=[[Node.TEXT_NODE,at],[Node.TEXT_NODE,Pe],["br",he],[Node.ELEMENT_NODE,Pe],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,De],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,Tt],["li",we],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",ye]],V=[y.AlignAttribute,P.DirectionAttribute].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),N=[y.AlignStyle,I.BackgroundStyle,S.ColorStyle,P.DirectionStyle,T.FontStyle,b.SizeStyle].reduce(function(ee,te){return ee[te.keyName]=te,ee},{}),M=function(ee){$(te,ee);function te(ue,fe){L(this,te);var oe=U(this,(te.__proto__||Object.getPrototypeOf(te)).call(this,ue,fe));return oe.quill.root.addEventListener("paste",oe.onPaste.bind(oe)),oe.container=oe.quill.addContainer("ql-clipboard"),oe.container.setAttribute("contenteditable",!0),oe.container.setAttribute("tabindex",-1),oe.matchers=[],B.concat(oe.options.matchers).forEach(function(be){var Ae=s(be,2),Oe=Ae[0],Fe=Ae[1];!fe.matchVisual&&Fe===De||oe.addMatcher(Oe,Fe)}),oe}return a(te,[{key:"addMatcher",value:function(fe,oe){this.matchers.push([fe,oe])}},{key:"convert",value:function(fe){if(typeof fe=="string")return this.container.innerHTML=fe.replace(/\>\r?\n +\</g,"><"),this.convert();var oe=this.quill.getFormat(this.quill.selection.savedRange.index);if(oe[A.default.blotName]){var be=this.container.innerText;return this.container.innerHTML="",new f.default().insert(be,R({},A.default.blotName,oe[A.default.blotName]))}var Ae=this.prepareMatching(),Oe=s(Ae,2),Fe=Oe[0],He=Oe[1],Be=q(this.container,Fe,He);return z(Be,`
`)&&Be.ops[Be.ops.length-1].attributes==null&&(Be=Be.compose(new f.default().retain(Be.length()-1).delete(1))),H.log("convert",this.container.innerHTML,Be),this.container.innerHTML="",Be}},{key:"dangerouslyPasteHTML",value:function(fe,oe){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof fe=="string")this.quill.setContents(this.convert(fe),oe),this.quill.setSelection(0,v.default.sources.SILENT);else{var Ae=this.convert(oe);this.quill.updateContents(new f.default().retain(fe).concat(Ae),be),this.quill.setSelection(fe+Ae.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(fe){var oe=this;if(!(fe.defaultPrevented||!this.quill.isEnabled())){var be=this.quill.getSelection(),Ae=new f.default().retain(be.index),Oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Ae=Ae.concat(oe.convert()).delete(be.length),oe.quill.updateContents(Ae,v.default.sources.USER),oe.quill.setSelection(Ae.length()-be.length,v.default.sources.SILENT),oe.quill.scrollingContainer.scrollTop=Oe,oe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var fe=this,oe=[],be=[];return this.matchers.forEach(function(Ae){var Oe=s(Ae,2),Fe=Oe[0],He=Oe[1];switch(Fe){case Node.TEXT_NODE:be.push(He);break;case Node.ELEMENT_NODE:oe.push(He);break;default:[].forEach.call(fe.container.querySelectorAll(Fe),function(Be){Be[W]=Be[W]||[],Be[W].push(He)});break}}),[oe,be]}}]),te}(E.default);M.DEFAULTS={matchers:[],matchVisual:!0};function F(ee,te,ue){return(typeof te>"u"?"undefined":o(te))==="object"?Object.keys(te).reduce(function(fe,oe){return F(fe,oe,te[oe])},ee):ee.reduce(function(fe,oe){return oe.attributes&&oe.attributes[te]?fe.push(oe):fe.insert(oe.insert,(0,u.default)({},R({},te,ue),oe.attributes))},new f.default)}function K(ee){if(ee.nodeType!==Node.ELEMENT_NODE)return{};var te="__ql-computed-style";return ee[te]||(ee[te]=window.getComputedStyle(ee))}function z(ee,te){for(var ue="",fe=ee.ops.length-1;fe>=0&&ue.length<te.length;--fe){var oe=ee.ops[fe];if(typeof oe.insert!="string")break;ue=oe.insert+ue}return ue.slice(-1*te.length)===te}function j(ee){if(ee.childNodes.length===0)return!1;var te=K(ee);return["block","list-item"].indexOf(te.display)>-1}function q(ee,te,ue){return ee.nodeType===ee.TEXT_NODE?ue.reduce(function(fe,oe){return oe(ee,fe)},new f.default):ee.nodeType===ee.ELEMENT_NODE?[].reduce.call(ee.childNodes||[],function(fe,oe){var be=q(oe,te,ue);return oe.nodeType===ee.ELEMENT_NODE&&(be=te.reduce(function(Ae,Oe){return Oe(oe,Ae)},be),be=(oe[W]||[]).reduce(function(Ae,Oe){return Oe(oe,Ae)},be)),fe.concat(be)},new f.default):new f.default}function Y(ee,te,ue){return F(ue,ee,!0)}function X(ee,te){var ue=m.default.Attributor.Attribute.keys(ee),fe=m.default.Attributor.Class.keys(ee),oe=m.default.Attributor.Style.keys(ee),be={};return ue.concat(fe).concat(oe).forEach(function(Ae){var Oe=m.default.query(Ae,m.default.Scope.ATTRIBUTE);Oe!=null&&(be[Oe.attrName]=Oe.value(ee),be[Oe.attrName])||(Oe=V[Ae],Oe!=null&&(Oe.attrName===Ae||Oe.keyName===Ae)&&(be[Oe.attrName]=Oe.value(ee)||void 0),Oe=N[Ae],Oe!=null&&(Oe.attrName===Ae||Oe.keyName===Ae)&&(Oe=N[Ae],be[Oe.attrName]=Oe.value(ee)||void 0))}),Object.keys(be).length>0&&(te=F(te,be)),te}function ne(ee,te){var ue=m.default.query(ee);if(ue==null)return te;if(ue.prototype instanceof m.default.Embed){var fe={},oe=ue.value(ee);oe!=null&&(fe[ue.blotName]=oe,te=new f.default().insert(fe,ue.formats(ee)))}else typeof ue.formats=="function"&&(te=F(te,ue.blotName,ue.formats(ee)));return te}function he(ee,te){return z(te,`
`)||te.insert(`
`),te}function ye(){return new f.default}function we(ee,te){var ue=m.default.query(ee);if(ue==null||ue.blotName!=="list-item"||!z(te,`
`))return te;for(var fe=-1,oe=ee.parentNode;!oe.classList.contains("ql-clipboard");)(m.default.query(oe)||{}).blotName==="list"&&(fe+=1),oe=oe.parentNode;return fe<=0?te:te.compose(new f.default().retain(te.length()-1).retain(1,{indent:fe}))}function Pe(ee,te){return z(te,`
`)||(j(ee)||te.length()>0&&ee.nextSibling&&j(ee.nextSibling))&&te.insert(`
`),te}function De(ee,te){if(j(ee)&&ee.nextElementSibling!=null&&!z(te,`

`)){var ue=ee.offsetHeight+parseFloat(K(ee).marginTop)+parseFloat(K(ee).marginBottom);ee.nextElementSibling.offsetTop>ee.offsetTop+ue*1.5&&te.insert(`
`)}return te}function Tt(ee,te){var ue={},fe=ee.style||{};return fe.fontStyle&&K(ee).fontStyle==="italic"&&(ue.italic=!0),fe.fontWeight&&(K(ee).fontWeight.startsWith("bold")||parseInt(K(ee).fontWeight)>=700)&&(ue.bold=!0),Object.keys(ue).length>0&&(te=F(te,ue)),parseFloat(fe.textIndent||0)>0&&(te=new f.default().insert("	").concat(te)),te}function at(ee,te){var ue=ee.data;if(ee.parentNode.tagName==="O:P")return te.insert(ue.trim());if(ue.trim().length===0&&ee.parentNode.classList.contains("ql-clipboard"))return te;if(!K(ee.parentNode).whiteSpace.startsWith("pre")){var fe=function(be,Ae){return Ae=Ae.replace(/[^\u00a0]/g,""),Ae.length<1&&be?" ":Ae};ue=ue.replace(/\r\n/g," ").replace(/\n/g," "),ue=ue.replace(/\s\s+/g,fe.bind(fe,!0)),(ee.previousSibling==null&&j(ee.parentNode)||ee.previousSibling!=null&&j(ee.previousSibling))&&(ue=ue.replace(/^\s+/,fe.bind(fe,!1))),(ee.nextSibling==null&&j(ee.parentNode)||ee.nextSibling!=null&&j(ee.nextSibling))&&(ue=ue.replace(/\s+$/,fe.bind(fe,!1)))}return te.insert(ue)}r.default=M,r.matchAttributor=X,r.matchBlot=ne,r.matchNewline=Pe,r.matchSpacing=De,r.matchText=at},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&w(v.prototype,_),g&&w(v,g),v}}(),s=function w(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function f(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){d(v,w);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function b(k,R){var L=[],U=!0,$=!1,H=void 0;try{for(var W=k[Symbol.iterator](),B;!(U=(B=W.next()).done)&&(L.push(B.value),!(R&&L.length===R));U=!0);}catch(V){$=!0,H=V}finally{try{!U&&W.return&&W.return()}finally{if($)throw H}}return L}return function(k,R){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return b(k,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(k,R){for(var L=0;L<R.length;L++){var U=R[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(k,U.key,U)}}return function(k,R,L){return R&&b(k.prototype,R),L&&b(k,L),k}}(),a=i(2),l=g(a),u=i(0),h=g(u),f=i(5),d=g(f),m=i(10),w=g(m),v=i(9),_=g(v);function g(b){return b&&b.__esModule?b:{default:b}}function p(b,k,R){return k in b?Object.defineProperty(b,k,{value:R,enumerable:!0,configurable:!0,writable:!0}):b[k]=R,b}function E(b,k){if(!(b instanceof k))throw new TypeError("Cannot call a class as a function")}function y(b,k){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:b}function I(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);b.prototype=Object.create(k&&k.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(b,k):b.__proto__=k)}var x=(0,w.default)("quill:toolbar"),A=function(b){I(k,b);function k(R,L){E(this,k);var U=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,R,L));if(Array.isArray(U.options.container)){var $=document.createElement("div");P($,U.options.container),R.container.parentNode.insertBefore($,R.container),U.container=$}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var H;return H=x.error("Container required for toolbar",U.options),y(U,H)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(W){U.addHandler(W,U.options.handlers[W])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(W){U.attach(W)}),U.quill.on(d.default.events.EDITOR_CHANGE,function(W,B){W===d.default.events.SELECTION_CHANGE&&U.update(B)}),U.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var W=U.quill.selection.getRange(),B=o(W,1),V=B[0];U.update(V)}),U}return s(k,[{key:"addHandler",value:function(L,U){this.handlers[L]=U}},{key:"attach",value:function(L){var U=this,$=[].find.call(L.classList,function(W){return W.indexOf("ql-")===0});if($){if($=$.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[$]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[$]==null){x.warn("ignoring attaching to disabled format",$,L);return}if(h.default.query($)==null){x.warn("ignoring attaching to nonexistent format",$,L);return}}var H=L.tagName==="SELECT"?"change":"click";L.addEventListener(H,function(W){var B=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var V=L.options[L.selectedIndex];V.hasAttribute("selected")?B=!1:B=V.value||!1}else L.classList.contains("ql-active")?B=!1:B=L.value||!L.hasAttribute("value"),W.preventDefault();U.quill.focus();var N=U.quill.selection.getRange(),M=o(N,1),F=M[0];if(U.handlers[$]!=null)U.handlers[$].call(U,B);else if(h.default.query($).prototype instanceof h.default.Embed){if(B=prompt("Enter "+$),!B)return;U.quill.updateContents(new l.default().retain(F.index).delete(F.length).insert(p({},$,B)),d.default.sources.USER)}else U.quill.format($,B,d.default.sources.USER);U.update(F)}),this.controls.push([$,L])}}},{key:"update",value:function(L){var U=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function($){var H=o($,2),W=H[0],B=H[1];if(B.tagName==="SELECT"){var V=void 0;if(L==null)V=null;else if(U[W]==null)V=B.querySelector("option[selected]");else if(!Array.isArray(U[W])){var N=U[W];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),V=B.querySelector('option[value="'+N+'"]')}V==null?(B.value="",B.selectedIndex=-1):V.selected=!0}else if(L==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var M=U[W]===B.getAttribute("value")||U[W]!=null&&U[W].toString()===B.getAttribute("value")||U[W]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",M)}else B.classList.toggle("ql-active",U[W]!=null)})}}]),k}(_.default);A.DEFAULTS={};function S(b,k,R){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+k),R!=null&&(L.value=R),b.appendChild(L)}function P(b,k){Array.isArray(k[0])||(k=[k]),k.forEach(function(R){var L=document.createElement("span");L.classList.add("ql-formats"),R.forEach(function(U){if(typeof U=="string")S(L,U);else{var $=Object.keys(U)[0],H=U[$];Array.isArray(H)?T(L,$,H):S(L,$,H)}}),b.appendChild(L)})}function T(b,k,R){var L=document.createElement("select");L.classList.add("ql-"+k),R.forEach(function(U){var $=document.createElement("option");U!==!1?$.setAttribute("value",U):$.setAttribute("selected","selected"),L.appendChild($)}),b.appendChild(L)}A.DEFAULTS={container:null,handlers:{clean:function(){var k=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(U){h.default.query(U,h.default.Scope.INLINE)!=null&&k.quill.format(U,!1)})}else this.quill.removeFormat(R,d.default.sources.USER)},direction:function(k){var R=this.quill.getFormat().align;k==="rtl"&&R==null?this.quill.format("align","right",d.default.sources.USER):!k&&R==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",k,d.default.sources.USER)},indent:function(k){var R=this.quill.getSelection(),L=this.quill.getFormat(R),U=parseInt(L.indent||0);if(k==="+1"||k==="-1"){var $=k==="+1"?1:-1;L.direction==="rtl"&&($*=-1),this.quill.format("indent",U+$,d.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,d.default.sources.USER)},list:function(k){var R=this.quill.getSelection(),L=this.quill.getFormat(R);k==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",k,d.default.sources.USER)}}},r.default=A,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&w(v.prototype,_),g&&w(v,g),v}}(),s=function w(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function f(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){d(v,w);function v(_,g){h(this,v);var p=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(g){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p);var E=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=y:E.style.fill=y)}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&w(v.prototype,_),g&&w(v,g),v}}(),s=function w(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function f(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){d(v,w);function v(_,g){h(this,v);var p=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,_));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=g[E.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var f=0;f<h.length;f++){var d=h[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){var f=this;s(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var f=h.left+h.width/2-this.root.offsetWidth/2,d=h.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),v=0;if(w.right>m.right&&(v=m.right-w.right,this.root.style.left=f+v+"px"),w.left<m.left&&(v=m.left-w.left,this.root.style.left=f+v+"px"),w.bottom>m.bottom){var _=w.bottom-w.top,g=h.bottom-h.top+_;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(b,k){var R=[],L=!0,U=!1,$=void 0;try{for(var H=b[Symbol.iterator](),W;!(L=(W=H.next()).done)&&(R.push(W.value),!(k&&R.length===k));L=!0);}catch(B){U=!0,$=B}finally{try{!L&&H.return&&H.return()}finally{if(U)throw $}}return R}return function(b,k){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return T(b,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(b,k,R){b===null&&(b=Function.prototype);var L=Object.getOwnPropertyDescriptor(b,k);if(L===void 0){var U=Object.getPrototypeOf(b);return U===null?void 0:T(U,k,R)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(R)}},a=function(){function T(b,k){for(var R=0;R<k.length;R++){var L=k[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(b,L.key,L)}}return function(b,k,R){return k&&T(b.prototype,k),R&&T(b,R),b}}(),l=i(3),u=E(l),h=i(8),f=E(h),d=i(43),m=E(d),w=i(27),v=E(w),_=i(15),g=i(41),p=E(g);function E(T){return T&&T.__esModule?T:{default:T}}function y(T,b){if(!(T instanceof b))throw new TypeError("Cannot call a class as a function")}function I(T,b){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:T}function x(T,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);T.prototype=Object.create(b&&b.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(T,b):T.__proto__=b)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(T){x(b,T);function b(k,R){y(this,b),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=A);var L=I(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k,R));return L.quill.container.classList.add("ql-snow"),L}return a(b,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),p.default),this.tooltip=new P(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,U){R.handlers.link.call(R,!U.format.link)})}}]),b}(m.default);S.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){if(b){var k=this.quill.getSelection();if(k==null||k.length==0)return;var R=this.quill.getText(k);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var L=this.quill.theme.tooltip;L.edit("link",R)}else this.quill.format("link",!1)}}}}});var P=function(T){x(b,T);function b(k,R){y(this,b);var L=I(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,k,R));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(b,[{key:"listen",value:function(){var R=this;s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(R.linkRange!=null){var U=R.linkRange;R.restoreFocus(),R.quill.formatText(U,"link",!1,f.default.sources.USER),delete R.linkRange}L.preventDefault(),R.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(L,U,$){if(L!=null){if(L.length===0&&$===f.default.sources.USER){var H=R.quill.scroll.descendant(v.default,L.index),W=o(H,2),B=W[0],V=W[1];if(B!=null){R.linkRange=new _.Range(L.index-V,B.length());var N=v.default.formats(B.domNode);R.preview.textContent=N,R.preview.setAttribute("href",N),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(d.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=oe(o),a=i(36),l=i(38),u=i(64),h=i(65),f=oe(h),d=i(66),m=oe(d),w=i(67),v=oe(w),_=i(37),g=i(26),p=i(39),E=i(40),y=i(56),I=oe(y),x=i(68),A=oe(x),S=i(27),P=oe(S),T=i(69),b=oe(T),k=i(70),R=oe(k),L=i(71),U=oe(L),$=i(72),H=oe($),W=i(73),B=oe(W),V=i(13),N=oe(V),M=i(74),F=oe(M),K=i(75),z=oe(K),j=i(57),q=oe(j),Y=i(41),X=oe(Y),ne=i(28),he=oe(ne),ye=i(59),we=oe(ye),Pe=i(60),De=oe(Pe),Tt=i(61),at=oe(Tt),ee=i(108),te=oe(ee),ue=i(62),fe=oe(ue);function oe(be){return be&&be.__esModule?be:{default:be}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":E.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":N.default,"formats/header":m.default,"formats/list":v.default,"formats/bold":I.default,"formats/code":V.Code,"formats/italic":A.default,"formats/link":P.default,"formats/script":b.default,"formats/strike":R.default,"formats/underline":U.default,"formats/image":H.default,"formats/video":B.default,"formats/list/item":w.ListItem,"modules/formula":F.default,"modules/syntax":z.default,"modules/toolbar":q.default,"themes/bubble":te.default,"themes/snow":fe.default,"ui/icons":X.default,"ui/picker":he.default,"ui/icon-picker":De.default,"ui/color-picker":we.default,"ui/tooltip":at.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(_,g){for(var p=0;p<g.length;p++){var E=g[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,g,p){return g&&v(_.prototype,g),p&&v(_,p),_}}(),s=function v(_,g,p){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,g);if(E===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:v(y,g,p)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function h(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}function f(v,_){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:v}function d(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}var m=function(v){d(_,v);function _(){return h(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(p,E){if(E==="+1"||E==="-1"){var y=this.value(p)||0;E=E==="+1"?y+1:y-1}return E===0?(this.remove(p),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,p,E)}},{key:"canAdd",value:function(p,E){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,E)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,p,parseInt(E))}},{key:"value",value:function(p){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,p))||void 0}}]),_}(l.default.Attributor.Class),w=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(w,v){for(var _=0;_<v.length;_++){var g=v[_];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(w,g.key,g)}}return function(w,v,_){return v&&m(w.prototype,v),_&&m(w,_),w}}(),s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function h(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function f(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var d=function(m){f(w,m);function w(){return u(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),w}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(I,x){for(var A=0;A<x.length;A++){var S=x[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,S.key,S)}}return function(I,x,A){return x&&y(I.prototype,x),A&&y(I,A),I}}(),s=function y(I,x,A){I===null&&(I=Function.prototype);var S=Object.getOwnPropertyDescriptor(I,x);if(S===void 0){var P=Object.getPrototypeOf(I);return P===null?void 0:y(P,x,A)}else{if("value"in S)return S.value;var T=S.get;return T===void 0?void 0:T.call(A)}},a=i(0),l=m(a),u=i(4),h=m(u),f=i(25),d=m(f);function m(y){return y&&y.__esModule?y:{default:y}}function w(y,I,x){return I in y?Object.defineProperty(y,I,{value:x,enumerable:!0,configurable:!0,writable:!0}):y[I]=x,y}function v(y,I){if(!(y instanceof I))throw new TypeError("Cannot call a class as a function")}function _(y,I){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:y}function g(y,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);y.prototype=Object.create(I&&I.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(y,I):y.__proto__=I)}var p=function(y){g(I,y);function I(){return v(this,I),_(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"format",value:function(A,S){A===E.blotName&&!S?this.replaceWith(l.default.create(this.statics.scope)):s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,A,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,S){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,S),this):(this.parent.unwrap(),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,A,S))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(I.__proto__||Object.getPrototypeOf(I),"formats",this).call(this,A)}}]),I}(h.default);p.blotName="list-item",p.tagName="LI";var E=function(y){g(I,y),o(I,null,[{key:"create",value:function(A){var S=A==="ordered"?"OL":"UL",P=s(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,S);return(A==="checked"||A==="unchecked")&&P.setAttribute("data-checked",A==="checked"),P}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function I(x){v(this,I);var A=_(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,x)),S=function(T){if(T.target.parentNode===x){var b=A.statics.formats(x),k=l.default.find(T.target);b==="checked"?k.format("list","unchecked"):b==="unchecked"&&k.format("list","checked")}};return x.addEventListener("touchstart",S),x.addEventListener("mousedown",S),A}return o(I,[{key:"format",value:function(A,S){this.children.length>0&&this.children.tail.format(A,S)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,S){if(A instanceof p)s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,A,S);else{var P=S==null?this.length():S.offset(this),T=this.split(P);T.parent.insertBefore(A,T)}}},{key:"optimize",value:function(A){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,A);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var S=l.default.create(this.statics.defaultChild);A.moveChildren(S),this.appendChild(S)}s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,A)}}]),I}(d.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[p],r.ListItem=p,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(v,_){for(var g=0;g<_.length;g++){var p=_[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,_,g){return _&&w(v.prototype,_),g&&w(v,g),v}}(),s=function w(v,_,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,_);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:w(E,_,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function h(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function f(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function d(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var m=function(w){d(v,w);function v(){return h(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function h(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var f=function(d){h(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:_(I,p,E)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(E)}},a=i(0),l=h(a),u=i(27);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function m(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=["alt","height","width"],v=function(_){m(g,_);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(E,y){w.indexOf(E)>-1?y?this.domNode.setAttribute(E,y):this.domNode.removeAttribute(E):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,y)}}],[{key:"create",value:function(E){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return typeof E=="string"&&y.setAttribute("src",this.sanitize(E)),y}},{key:"formats",value:function(E){return w.reduce(function(y,I){return E.hasAttribute(I)&&(y[I]=E.getAttribute(I)),y},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,u.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&_(g.prototype,p),E&&_(g,E),g}}(),s=function _(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var I=Object.getPrototypeOf(g);return I===null?void 0:_(I,p,E)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(E)}},a=i(4),l=i(27),u=h(l);function h(_){return _&&_.__esModule?_:{default:_}}function f(_,g){if(!(_ instanceof g))throw new TypeError("Cannot call a class as a function")}function d(_,g){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:_}function m(_,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);_.prototype=Object.create(g&&g.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(_,g):_.__proto__=g)}var w=["height","width"],v=function(_){m(g,_);function g(){return f(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(E,y){w.indexOf(E)>-1?y?this.domNode.setAttribute(E,y):this.domNode.removeAttribute(E):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,y)}}],[{key:"create",value:function(E){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(E)),y}},{key:"formats",value:function(E){return w.reduce(function(y,I){return E.hasAttribute(I)&&(y[I]=E.getAttribute(I)),y},{})}},{key:"sanitize",value:function(E){return u.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function E(y,I){for(var x=0;x<I.length;x++){var A=I[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,I,x){return I&&E(y.prototype,I),x&&E(y,x),y}}(),s=function E(y,I,x){y===null&&(y=Function.prototype);var A=Object.getOwnPropertyDescriptor(y,I);if(A===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:E(S,I,x)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(x)}},a=i(35),l=m(a),u=i(5),h=m(u),f=i(9),d=m(f);function m(E){return E&&E.__esModule?E:{default:E}}function w(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function v(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function _(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var g=function(E){_(y,E);function y(){return w(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(x){var A=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",x)),A}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(E){_(y,E),o(y,null,[{key:"register",value:function(){h.default.register(g,!0)}}]);function y(){w(this,y);var I=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return y}(d.default);r.FormulaBlot=g,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function x(A,S){for(var P=0;P<S.length;P++){var T=S[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,S,P){return S&&x(A.prototype,S),P&&x(A,P),A}}(),s=function x(A,S,P){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,S);if(T===void 0){var b=Object.getPrototypeOf(A);return b===null?void 0:x(b,S,P)}else{if("value"in T)return T.value;var k=T.get;return k===void 0?void 0:k.call(P)}},a=i(0),l=v(a),u=i(5),h=v(u),f=i(9),d=v(f),m=i(13),w=v(m);function v(x){return x&&x.__esModule?x:{default:x}}function _(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}function g(x,A){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:x}function p(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}var E=function(x){p(A,x);function A(){return _(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),A}(w.default);E.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),I=function(x){p(A,x),o(A,null,[{key:"register",value:function(){h.default.register(y,!0),h.default.register(E,!0)}}]);function A(S,P){_(this,A);var T=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,S,P));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return T.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){T.highlight(),b=null},T.options.interval)}),T.highlight(),T}return o(A,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(b){b.highlight(P.options.highlight)}),this.quill.update(h.default.sources.SILENT),T!=null&&this.quill.setSelection(T,h.default.sources.SILENT)}}}]),A}(d.default);I.DEFAULTS={highlight:function(){return window.hljs==null?null:function(x){var A=window.hljs.highlightAuto(x);return A.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=y,r.default=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function A(S,P,T){S===null&&(S=Function.prototype);var b=Object.getOwnPropertyDescriptor(S,P);if(b===void 0){var k=Object.getPrototypeOf(S);return k===null?void 0:A(k,P,T)}else{if("value"in b)return b.value;var R=b.get;return R===void 0?void 0:R.call(T)}},s=function(){function A(S,P){for(var T=0;T<P.length;T++){var b=P[T];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}return function(S,P,T){return P&&A(S.prototype,P),T&&A(S,T),S}}(),a=i(3),l=_(a),u=i(8),h=_(u),f=i(43),d=_(f),m=i(15),w=i(41),v=_(w);function _(A){return A&&A.__esModule?A:{default:A}}function g(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function p(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:A}function E(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(A,S):A.__proto__=S)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(A){E(S,A);function S(P,T){g(this,S),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=y);var b=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,T));return b.quill.container.classList.add("ql-bubble"),b}return s(S,[{key:"extendToolbar",value:function(T){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),S}(d.default);I.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=function(A){E(S,A);function S(P,T){g(this,S);var b=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,P,T));return b.quill.on(h.default.events.EDITOR_CHANGE,function(k,R,L,U){if(k===h.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&U===h.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var $=b.quill.getLines(R.index,R.length);if($.length===1)b.position(b.quill.getBounds(R));else{var H=$[$.length-1],W=b.quill.getIndex(H),B=Math.min(H.length()-1,R.index+R.length-W),V=b.quill.getBounds(new m.Range(W,B));b.position(V)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return s(S,[{key:"listen",value:function(){var T=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var b=T.quill.getSelection();b!=null&&T.position(T.quill.getBounds(b))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var b=o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,T),k=this.root.querySelector(".ql-tooltip-arrow");if(k.style.marginLeft="",b===0)return b;k.style.marginLeft=-1*b-k.offsetWidth/2+"px"}}]),S}(f.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=x,r.default=I},function(n,r,i){n.exports=i(63)}]).default})})(zb);var UU=zb.exports,BU=Ot&&Ot.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mc=Ot&&Ot.__assign||function(){return mc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mc.apply(this,arguments)},qU=Ot&&Ot.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Tf=Ot&&Ot.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Dn=Tf(ie),$U=Tf(AE),Us=Tf(FU),K0=Tf(UU),zU=function(t){BU(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,h,f,d;o==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((d=(f=r).onEditorChangeSelection)===null||d===void 0||d.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Dn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Dn.default.Children.count(n.children)){var i=Dn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),qU(this.cleanProps,this.dirtyProps).some(function(l){return!Us.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Us.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),G0(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new K0.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Us.default(n.ops,r.ops):Us.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),G0(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=$U.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Dn.default.Children.count(i)?Dn.default.cloneElement(Dn.default.Children.only(i),a):o?Dn.default.createElement("pre",mc({},a)):Dn.default.createElement("div",mc({},a))},e.prototype.render=function(){var n;return Dn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,h;if(this.editor){var f=this.getEditorSelection(),d=!f&&n,m=f&&!n;Us.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):m&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=K0.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Dn.default.Component);function G0(t){Promise.resolve().then(t)}var HU=zU;const WU=xp(HU),KU=({value:t,onChange:e})=>G.jsx(WU,{theme:"snow",value:t,onChange:e,modules:{toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{list:"ordered"},{list:"bullet"}],["bold","italic","underline","strike"],["link","image"],["clean"]]},formats:["header","font","list","bullet","bold","italic","underline","strike","link","image"]}),GU=()=>{const[t,e]=ie.useState(""),[n,r]=ie.useState(""),[i,o]=ie.useState(""),[s,a]=ie.useState(""),[l,u]=ie.useState(""),[h,f]=ie.useState([""]),{currentUser:d}=ji(),m=p=>{u(p.target.value)},w=p=>{f(p)},v=(p,E)=>{const y=[...h];y[p]=E.target.value,f(y)},_=p=>{const E=h.filter((y,I)=>I!==p);f(E)},g=async p=>{if(p.preventDefault(),!d){console.error("User not authenticated");return}const E={title:t,description:n,deepdive:i,route:s,cardImage:l,images:h.filter(y=>y!==""),createdAt:ED(),createdBy:String(d.uid),userEmail:d.email};try{await tb(sl(ni,"projects"),E),alert("Project added successfully!"),e(""),r(""),setImage(""),a("")}catch(y){console.error("Error adding project:",y)}};return G.jsxs("div",{children:[G.jsx("h1",{children:"Add New Project"}),G.jsxs("form",{onSubmit:g,children:[G.jsx("input",{type:"text",placeholder:"Project Title",value:t,onChange:p=>e(p.target.value),required:!0}),G.jsx("textarea",{placeholder:"Project Description",value:n,onChange:p=>r(p.target.value),required:!0}),G.jsx("h3",{children:"Project Deep Dive"}),G.jsx(KU,{value:i,onChange:p=>o(p.target.value)}),G.jsx("input",{type:"text",placeholder:"Card Image URL",value:l,onChange:m}),G.jsx("h3",{children:"Project Image URLs (1-10)"}),h.map((p,E)=>G.jsxs("div",{children:[G.jsx("input",{type:"text",placeholder:`Image URL ${E+1}`,value:p,onChange:y=>v(E,y)}),G.jsx("button",{type:"button",onClick:()=>_(E),children:"Remove"})]},E)),h.length>0&&G.jsxs("div",{children:[G.jsx("h3",{children:"Uploaded Image URLs"}),G.jsx("ul",{children:h.map((p,E)=>G.jsx("li",{children:p},E))})]}),G.jsx("input",{type:"text",placeholder:"Unique Route",value:s,onChange:p=>a(p.target.value),required:!0}),G.jsx("button",{type:"submit",children:"Add Project"})]}),G.jsx(hj,{onUploadComplete:w})]})},QU=()=>{const{projectId:t}=LE(),e=qi(),[n,r]=ie.useState({title:"",description:"",route:"",cardImage:"",images:[]});ie.useEffect(()=>{(async()=>{const a=ac(ni,"projects",t),l=await _D(a);l.exists()&&r(l.data())})()},[t]);const i=s=>{const{name:a,value:l}=s.target;r({...n,[a]:l})},o=async()=>{const s=ac(ni,"projects",t);await eb(s,n),alert("Project updated successfully!"),e("/portfolio")};return G.jsxs("div",{children:[G.jsx("h2",{children:"Edit Project"}),G.jsxs("form",{children:[G.jsx("input",{type:"text",name:"title",value:n.title,onChange:i,placeholder:"Project Title",required:!0}),G.jsx("textarea",{name:"description",value:n.description,onChange:i,placeholder:"Project Description",required:!0}),G.jsx("input",{type:"text",name:"route",value:n.route,onChange:i,placeholder:"Project Route",required:!0}),G.jsx("input",{type:"text",name:"cardImage",value:n.cardImage,onChange:i,placeholder:"Card Image URL"}),G.jsx("button",{type:"button",onClick:o,children:"Save Changes"})]})]})};var Hb={},Wb={},Sf={},Kb={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(Kb);var YU="Expected a function",Q0=NaN,XU="[object Symbol]",JU=/^\s+|\s+$/g,ZU=/^[-+]0x[0-9a-f]+$/i,e9=/^0b[01]+$/i,t9=/^0o[0-7]+$/i,n9=parseInt,r9=typeof Ot=="object"&&Ot&&Ot.Object===Object&&Ot,i9=typeof self=="object"&&self&&self.Object===Object&&self,o9=r9||i9||Function("return this")(),s9=Object.prototype,a9=s9.toString,l9=Math.max,u9=Math.min,Dh=function(){return o9.Date.now()};function c9(t,e,n){var r,i,o,s,a,l,u=0,h=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(YU);e=Y0(e)||0,Tp(n)&&(h=!!n.leading,f="maxWait"in n,o=f?l9(Y0(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function m(x){var A=r,S=i;return r=i=void 0,u=x,s=t.apply(S,A),s}function w(x){return u=x,a=setTimeout(g,e),h?m(x):s}function v(x){var A=x-l,S=x-u,P=e-A;return f?u9(P,o-S):P}function _(x){var A=x-l,S=x-u;return l===void 0||A>=e||A<0||f&&S>=o}function g(){var x=Dh();if(_(x))return p(x);a=setTimeout(g,v(x))}function p(x){return a=void 0,d&&r?m(x):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?s:p(Dh())}function I(){var x=Dh(),A=_(x);if(r=arguments,i=this,l=x,A){if(a===void 0)return w(l);if(f)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),s}return I.cancel=E,I.flush=y,I}function Tp(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function f9(t){return!!t&&typeof t=="object"}function h9(t){return typeof t=="symbol"||f9(t)&&a9.call(t)==XU}function Y0(t){if(typeof t=="number")return t;if(h9(t))return Q0;if(Tp(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tp(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(JU,"");var n=e9.test(t);return n||t9.test(t)?n9(t.slice(2),n?2:8):ZU.test(t)?Q0:+t}var d9=c9,Gb={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Gb);var bf=Gb.exports,ce={},Ng={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(ie);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(Ng);Object.defineProperty(ce,"__esModule",{value:!0});ce.checkSpecKeys=ce.checkNavigable=ce.changeSlide=ce.canUseDOM=ce.canGoNext=void 0;ce.clamp=Yb;ce.extractObject=void 0;ce.filterSettings=P9;ce.validSettings=ce.swipeStart=ce.swipeMove=ce.swipeEnd=ce.slidesOnRight=ce.slidesOnLeft=ce.slideHandler=ce.siblingDirection=ce.safePreventDefault=ce.lazyStartIndex=ce.lazySlidesOnRight=ce.lazySlidesOnLeft=ce.lazyEndIndex=ce.keyHandler=ce.initializedState=ce.getWidth=ce.getTrackLeft=ce.getTrackCSS=ce.getTrackAnimateCSS=ce.getTotalSlides=ce.getSwipeDirection=ce.getSlideCount=ce.getRequiredLazySlides=ce.getPreClones=ce.getPostClones=ce.getOnDemandLazySlides=ce.getNavigableIndexes=ce.getHeight=void 0;var p9=Qb(ie),m9=Qb(Ng);function Qb(t){return t&&t.__esModule?t:{default:t}}function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function X0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X0(Object(n),!0).forEach(function(r){g9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g9(t,e,n){return e=v9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v9(t){var e=y9(t,"string");return Ba(e)=="symbol"?e:String(e)}function y9(t,e){if(Ba(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yb(t,e,n){return Math.max(e,Math.min(t,n))}var Ao=ce.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},Xb=ce.getOnDemandLazySlides=function(e){for(var n=[],r=Jb(e),i=Zb(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};ce.getRequiredLazySlides=function(e){for(var n=[],r=Jb(e),i=Zb(e),o=r;o<i;o++)n.push(o);return n};var Jb=ce.lazyStartIndex=function(e){return e.currentSlide-_9(e)},Zb=ce.lazyEndIndex=function(e){return e.currentSlide+w9(e)},_9=ce.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},w9=ce.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Sp=ce.getWidth=function(e){return e&&e.offsetWidth||0},eA=ce.getHeight=function(e){return e&&e.offsetHeight||0},tA=ce.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,o,s;return r=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,r),s=Math.round(o*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},nA=ce.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};ce.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};ce.initializedState=function(e){var n=p9.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Sp(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(Sp(o)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&eA(r.querySelector('[data-index="0"]')),h=u*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=n-1-e.initialSlide);var d=e.lazyLoadedList||[],m=Xb(Xe(Xe({},e),{},{currentSlide:f,lazyLoadedList:d}));d=d.concat(m);var w={slideCount:n,slideWidth:a,listWidth:i,trackWidth:s,currentSlide:f,slideHeight:u,listHeight:h,lazyLoadedList:d};return e.autoplaying===null&&e.autoplay&&(w.autoplaying="playing"),w};ce.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,s=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,h=e.centerMode,f=e.slidesToScroll,d=e.slidesToShow,m=e.useCSS,w=e.lazyLoadedList;if(n&&r)return{};var v=s,_,g,p,E={},y={},I=o?s:Yb(s,0,a-1);if(i){if(!o&&(s<0||s>=a))return{};s<0?v=s+a:s>=a&&(v=s-a),l&&w.indexOf(v)<0&&(w=w.concat(v)),E={animating:!0,currentSlide:v,lazyLoadedList:w,targetSlide:v},y={animating:!1,targetSlide:v}}else _=v,v<0?(_=v+a,o?a%f!==0&&(_=a-a%f):_=0):!nA(e)&&v>u?v=_=u:h&&v>=a?(v=o?a:a-1,_=o?0:a-1):v>=a&&(_=v-a,o?a%f!==0&&(_=0):_=a-d),!o&&v+d>=a&&(_=a-d),g=vc(Xe(Xe({},e),{},{slideIndex:v})),p=vc(Xe(Xe({},e),{},{slideIndex:_})),o||(g===p&&(v=_),g=p),l&&(w=w.concat(Xb(Xe(Xe({},e),{},{currentSlide:v})))),m?(E={animating:!0,currentSlide:_,trackStyle:rA(Xe(Xe({},e),{},{left:g})),lazyLoadedList:w,targetSlide:I},y={animating:!1,currentSlide:_,trackStyle:gc(Xe(Xe({},e),{},{left:p})),swipeLeft:null,targetSlide:I}):E={currentSlide:_,trackStyle:gc(Xe(Xe({},e),{},{left:p})),lazyLoadedList:w,targetSlide:I};return{state:E,nextState:y}};ce.changeSlide=function(e,n){var r,i,o,s,a,l=e.slidesToScroll,u=e.slidesToShow,h=e.slideCount,f=e.currentSlide,d=e.targetSlide,m=e.lazyLoad,w=e.infinite;if(s=h%l!==0,r=s?0:(h-f)%l,n.message==="previous")o=r===0?l:u-r,a=f-o,m&&!w&&(i=f-o,a=i===-1?h-1:i),w||(a=d-l);else if(n.message==="next")o=r===0?l:r,a=f+o,m&&!w&&(a=(f+l)%h+r),w||(a=d+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,w){var v=b9(Xe(Xe({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-h:a<n.currentSlide&&v==="right"&&(a=a+h)}}else n.message==="index"&&(a=Number(n.index));return a};ce.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};ce.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Ao(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};ce.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,s=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,h=n.edgeFriction,f=n.edgeDragged,d=n.onEdge,m=n.swiped,w=n.swiping,v=n.slideCount,_=n.slidesToScroll,g=n.infinite,p=n.touchObject,E=n.swipeEvent,y=n.listHeight,I=n.listWidth;if(!r){if(i)return Ao(e);o&&s&&a&&Ao(e);var x,A={},S=vc(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var P=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!w&&P>10)return{scrolling:!0};a&&(p.swipeLength=P);var T=(l?-1:1)*(p.curX>p.startX?1:-1);a&&(T=p.curY>p.startY?1:-1);var b=Math.ceil(v/_),k=tA(n.touchObject,a),R=p.swipeLength;return g||(u===0&&(k==="right"||k==="down")||u+1>=b&&(k==="left"||k==="up")||!nA(n)&&(k==="left"||k==="up"))&&(R=p.swipeLength*h,f===!1&&d&&(d(k),A.edgeDragged=!0)),!m&&E&&(E(k),A.swiped=!0),o?x=S+R*(y/I)*T:l?x=S-R*T:x=S+R*T,a&&(x=S+R*T),A=Xe(Xe({},A),{},{touchObject:p,swipeLeft:x,trackStyle:gc(Xe(Xe({},n),{},{left:x}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(A.swiping=!0,Ao(e)),A}};ce.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,s=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,h=n.swipeToSlide,f=n.scrolling,d=n.onSwipe,m=n.targetSlide,w=n.currentSlide,v=n.infinite;if(!r)return i&&Ao(e),{};var _=l?u/a:s/a,g=tA(o,l),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!o.swipeLength)return p;if(o.swipeLength>_){Ao(e),d&&d(g);var E,y,I=v?w:m;switch(g){case"left":case"up":y=I+Z0(n),E=h?J0(n,y):y,p.currentDirection=0;break;case"right":case"down":y=I-Z0(n),E=h?J0(n,y):y,p.currentDirection=1;break;default:E=I}p.triggerSlideHandler=E}else{var x=vc(n);p.trackStyle=rA(Xe(Xe({},n),{},{left:x}))}return p};var E9=ce.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},J0=ce.checkNavigable=function(e,n){var r=E9(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},Z0=ce.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+eA(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Sp(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-s)||1;return a}else return e.slidesToScroll},Lg=ce.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},gc=ce.getTrackCSS=function(e){Lg(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=S9(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=Xe(Xe({},o),{},{WebkitTransform:s,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},rA=ce.getTrackAnimateCSS=function(e){Lg(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=gc(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},vc=ce.getTrackLeft=function(e){if(e.unslick)return 0;Lg(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,h=e.listWidth,f=e.variableWidth,d=e.slideHeight,m=e.fade,w=e.vertical,v=0,_,g,p=0;if(m||e.slideCount===1)return 0;var E=0;if(i?(E=-wu(e),s%l!==0&&n+l>s&&(E=-(n>s?a-(n-s):s%l)),o&&(E+=parseInt(a/2))):(s%l!==0&&n+l>s&&(E=a-s%l),o&&(E=parseInt(a/2))),v=E*u,p=E*d,w?_=n*d*-1+p:_=n*u*-1+v,f===!0){var y,I=r&&r.node;if(y=n+wu(e),g=I&&I.childNodes[y],_=g?g.offsetLeft*-1:0,o===!0){y=i?n+wu(e):n,g=I&&I.children[y],_=0;for(var x=0;x<y;x++)_-=I&&I.children[x]&&I.children[x].offsetWidth;_-=parseInt(e.centerPadding),_+=g&&(h-g.offsetWidth)/2}}return _},wu=ce.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},T9=ce.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},S9=ce.getTotalSlides=function(e){return e.slideCount===1?1:wu(e)+e.slideCount+T9(e)},b9=ce.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+A9(e)?"left":"right":e.targetSlide<e.currentSlide-I9(e)?"right":"left"},A9=ce.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},I9=ce.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0};ce.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var O9=ce.validSettings=Object.keys(m9.default);function P9(t){return O9.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Af={};Object.defineProperty(Af,"__esModule",{value:!0});Af.Track=void 0;var Ar=iA(ie),Mh=iA(bf),jh=ce;function iA(t){return t&&t.__esModule?t:{default:t}}function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(t)}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function k9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sA(r.key),r)}}function C9(t,e,n){return e&&R9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ap(t,e)}function Ap(t,e){return Ap=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ap(t,e)}function N9(t){var e=oA();return function(){var r=yc(t),i;if(e){var o=yc(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return L9(this,i)}}function L9(t,e){if(e&&($o(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ip(t)}function Ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oA=function(){return!!t})()}function yc(t){return yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yc(t)}function e1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e1(Object(n),!0).forEach(function(r){Op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Op(t,e,n){return e=sA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sA(t){var e=D9(t,"string");return $o(e)=="symbol"?e:String(e)}function D9(t,e){if($o(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vh=function(e){var n,r,i,o,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,i=s<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=s===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},M9=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Fh=function(e,n){return e.key||n},j9=function(e){var n,r=[],i=[],o=[],s=Ar.default.Children.count(e.children),a=(0,jh.lazyStartIndex)(e),l=(0,jh.lazyEndIndex)(e);return Ar.default.Children.forEach(e.children,function(u,h){var f,d={message:"children",index:h,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(h)>=0?f=u:f=Ar.default.createElement("div",null);var m=M9(Gt(Gt({},e),{},{index:h})),w=f.props.className||"",v=Vh(Gt(Gt({},e),{},{index:h}));if(r.push(Ar.default.cloneElement(f,{key:"original"+Fh(f,h),"data-index":h,className:(0,Mh.default)(v,w),tabIndex:"-1","aria-hidden":!v["slick-active"],style:Gt(Gt({outline:"none"},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}})),e.infinite&&e.fade===!1){var _=s-h;_<=(0,jh.getPreClones)(e)&&(n=-_,n>=a&&(f=u),v=Vh(Gt(Gt({},e),{},{index:n})),i.push(Ar.default.cloneElement(f,{key:"precloned"+Fh(f,n),"data-index":n,tabIndex:"-1",className:(0,Mh.default)(v,w),"aria-hidden":!v["slick-active"],style:Gt(Gt({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}}))),n=s+h,n<l&&(f=u),v=Vh(Gt(Gt({},e),{},{index:n})),o.push(Ar.default.cloneElement(f,{key:"postcloned"+Fh(f,n),"data-index":n,tabIndex:"-1",className:(0,Mh.default)(v,w),"aria-hidden":!v["slick-active"],style:Gt(Gt({},f.props.style||{}),m),onClick:function(p){f.props&&f.props.onClick&&f.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}}))}}),e.rtl?i.concat(r,o).reverse():i.concat(r,o)};Af.Track=function(t){x9(n,t);var e=N9(n);function n(){var r;k9(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Op(Ip(r),"node",null),Op(Ip(r),"handleRef",function(a){r.node=a}),r}return C9(n,[{key:"render",value:function(){var i=j9(this.props),o=this.props,s=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:s,onMouseOver:a,onMouseLeave:l};return Ar.default.createElement("div",bp({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(Ar.default.PureComponent);var If={};function zo(t){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zo(t)}Object.defineProperty(If,"__esModule",{value:!0});If.Dots=void 0;var Yl=aA(ie),V9=aA(bf),t1=ce;function aA(t){return t&&t.__esModule?t:{default:t}}function n1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(n),!0).forEach(function(r){U9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U9(t,e,n){return e=lA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lA(r.key),r)}}function $9(t,e,n){return e&&q9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lA(t){var e=z9(t,"string");return zo(e)=="symbol"?e:String(e)}function z9(t,e){if(zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pp(t,e)}function Pp(t,e){return Pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Pp(t,e)}function W9(t){var e=uA();return function(){var r=_c(t),i;if(e){var o=_c(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return K9(this,i)}}function K9(t,e){if(e&&(zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9(t)}function G9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uA=function(){return!!t})()}function _c(t){return _c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_c(t)}var Q9=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};If.Dots=function(t){H9(n,t);var e=W9(n);function n(){return B9(this,n),e.apply(this,arguments)}return $9(n,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,s=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,h=i.slidesToShow,f=i.slideCount,d=i.currentSlide,m=Q9({slideCount:f,slidesToScroll:u,slidesToShow:h,infinite:l}),w={onMouseEnter:o,onMouseOver:s,onMouseLeave:a},v=[],_=0;_<m;_++){var g=(_+1)*u-1,p=l?g:(0,t1.clamp)(g,0,f-1),E=p-(u-1),y=l?E:(0,t1.clamp)(E,0,f-1),I=(0,V9.default)({"slick-active":l?d>=y&&d<=p:d===y}),x={message:"dots",index:_,slidesToScroll:u,currentSlide:d},A=this.clickHandler.bind(this,x);v=v.concat(Yl.default.createElement("li",{key:_,className:I},Yl.default.cloneElement(this.props.customPaging(_),{onClick:A})))}return Yl.default.cloneElement(this.props.appendDots(v),F9({className:this.props.dotsClass},w))}}]),n}(Yl.default.PureComponent);var Ho={};function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}Object.defineProperty(Ho,"__esModule",{value:!0});Ho.PrevArrow=Ho.NextArrow=void 0;var Io=fA(ie),cA=fA(bf),Y9=ce;function fA(t){return t&&t.__esModule?t:{default:t}}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}function r1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r1(Object(n),!0).forEach(function(r){X9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X9(t,e,n){return e=pA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pA(r.key),r)}}function dA(t,e,n){return e&&J9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pA(t){var e=Z9(t,"string");return Wo(e)=="symbol"?e:String(e)}function Z9(t,e){if(Wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kp(t,e)}function kp(t,e){return kp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kp(t,e)}function gA(t){var e=vA();return function(){var r=Tc(t),i;if(e){var o=Tc(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return e6(this,i)}}function e6(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t6(t)}function t6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vA=function(){return!!t})()}function Tc(t){return Tc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tc(t)}Ho.PrevArrow=function(t){mA(n,t);var e=gA(n);function n(){return hA(this,n),e.apply(this,arguments)}return dA(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var s={key:"0","data-role":"none",className:(0,cA.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Io.default.cloneElement(this.props.prevArrow,Ec(Ec({},s),a)):l=Io.default.createElement("button",wc({key:"0",type:"button"},s)," ","Previous"),l}}]),n}(Io.default.PureComponent);Ho.NextArrow=function(t){mA(n,t);var e=gA(n);function n(){return hA(this,n),e.apply(this,arguments)}return dA(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,Y9.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var s={key:"1","data-role":"none",className:(0,cA.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Io.default.cloneElement(this.props.nextArrow,Ec(Ec({},s),a)):l=Io.default.createElement("button",wc({key:"1",type:"button"},s)," ","Next"),l}}]),n}(Io.default.PureComponent);var yA=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),Rp=typeof window<"u"&&typeof document<"u"&&window.document===document,Sc=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),n6=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Sc):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),r6=2;function i6(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){n6(o)}function a(){var l=Date.now();if(n){if(l-i<r6)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var o6=20,s6=["top","right","bottom","left","width","height","size","weight"],a6=typeof MutationObserver<"u",l6=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=i6(this.refresh.bind(this),o6)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Rp||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a6?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Rp||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=s6.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),_A=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ko=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Sc},wA=Of(0,0,0,0);function bc(t){return parseFloat(t)||0}function i1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+bc(o)},0)}function u6(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=bc(s)}return n}function c6(t){var e=t.getBBox();return Of(0,0,e.width,e.height)}function f6(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wA;var r=Ko(t).getComputedStyle(t),i=u6(r),o=i.left+i.right,s=i.top+i.bottom,a=bc(r.width),l=bc(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=i1(r,"left","right")+o),Math.round(l+s)!==n&&(l-=i1(r,"top","bottom")+s)),!d6(t)){var u=Math.round(a+o)-e,h=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(h)!==1&&(l-=h)}return Of(i.left,i.top,a,l)}var h6=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ko(t).SVGGraphicsElement}:function(t){return t instanceof Ko(t).SVGElement&&typeof t.getBBox=="function"}}();function d6(t){return t===Ko(t).document.documentElement}function p6(t){return Rp?h6(t)?c6(t):f6(t):wA}function m6(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return _A(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function Of(t,e,n,r){return{x:t,y:e,width:n,height:r}}var g6=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Of(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=p6(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),v6=function(){function t(e,n){var r=m6(n);_A(this,{target:e,contentRect:r})}return t}(),y6=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new yA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ko(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new g6(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ko(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new v6(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),EA=typeof WeakMap<"u"?new WeakMap:new yA,TA=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l6.getInstance(),r=new y6(e,n,this);EA.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){TA.prototype[t]=function(){var e;return(e=EA.get(this))[t].apply(e,arguments)}});var _6=function(){return typeof Sc.ResizeObserver<"u"?Sc.ResizeObserver:TA}();const w6=Object.freeze(Object.defineProperty({__proto__:null,default:_6},Symbol.toStringTag,{value:"Module"})),E6=JA(w6);Object.defineProperty(Sf,"__esModule",{value:!0});Sf.InnerSlider=void 0;var $t=fl(ie),T6=fl(Kb),S6=fl(d9),b6=fl(bf),et=ce,A6=Af,I6=If,o1=Ho,O6=fl(E6);function fl(t){return t&&t.__esModule?t:{default:t}}function Fi(t){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fi(t)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}function P6(t,e){if(t==null)return{};var n=k6(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(r){Re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bA(r.key),r)}}function x6(t,e,n){return e&&C6(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N6(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cp(t,e)}function Cp(t,e){return Cp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cp(t,e)}function L6(t){var e=SA();return function(){var r=Ic(t),i;if(e){var o=Ic(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return D6(this,i)}}function D6(t,e){if(e&&(Fi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ke(t)}function ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SA=function(){return!!t})()}function Ic(t){return Ic=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ic(t)}function Re(t,e,n){return e=bA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bA(t){var e=M6(t,"string");return Fi(e)=="symbol"?e:String(e)}function M6(t,e){if(Fi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Sf.InnerSlider=function(t){N6(n,t);var e=L6(n);function n(r){var i;R6(this,n),i=e.call(this,r),Re(ke(i),"listRefHandler",function(s){return i.list=s}),Re(ke(i),"trackRefHandler",function(s){return i.track=s}),Re(ke(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var s=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,et.getHeight)(s)+"px"}}),Re(ke(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var s=(0,et.getOnDemandLazySlides)(ve(ve({},i.props),i.state));s.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}var a=ve({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new O6.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Re(ke(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(s){return clearTimeout(s)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Re(ke(i),"componentDidUpdate",function(s){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,et.getOnDemandLazySlides)(ve(ve({},i.props),i.state));a.length>0&&(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=ve(ve({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(s);u&&i.updateState(l,u,function(){i.state.currentSlide>=$t.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:$t.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Re(ke(i),"onWindowResized",function(s){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,S6.default)(function(){return i.resizeWindow(s)},50),i.debouncedResize()}),Re(ke(i),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=ve(ve({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,s,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Re(ke(i),"updateState",function(s,a,l){var u=(0,et.initializedState)(s);s=ve(ve(ve({},s),u),{},{slideIndex:u.currentSlide});var h=(0,et.getTrackLeft)(s);s=ve(ve({},s),{},{left:h});var f=(0,et.getTrackCSS)(s);(a||$t.default.Children.count(i.props.children)!==$t.default.Children.count(s.children))&&(u.trackStyle=f),i.setState(u,l)}),Re(ke(i),"ssrInit",function(){if(i.props.variableWidth){var s=0,a=0,l=[],u=(0,et.getPreClones)(ve(ve(ve({},i.props),i.state),{},{slideCount:i.props.children.length})),h=(0,et.getPostClones)(ve(ve(ve({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(A){l.push(A.props.style.width),s+=A.props.style.width});for(var f=0;f<u;f++)a+=l[l.length-1-f],s+=l[l.length-1-f];for(var d=0;d<h;d++)s+=l[d];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var w={width:s+"px",left:-a+"px"};if(i.props.centerMode){var v="".concat(l[i.state.currentSlide],"px");w.left="calc(".concat(w.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:w}}var _=$t.default.Children.count(i.props.children),g=ve(ve(ve({},i.props),i.state),{},{slideCount:_}),p=(0,et.getPreClones)(g)+(0,et.getPostClones)(g)+_,E=100/i.props.slidesToShow*p,y=100/p,I=-y*((0,et.getPreClones)(g)+i.state.currentSlide)*E/100;i.props.centerMode&&(I+=(100-y*E/100)/2);var x={width:E+"%",left:I+"%"};return{slideWidth:y+"%",trackStyle:x}}),Re(ke(i),"checkImagesLoad",function(){var s=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=s.length,l=0;Array.prototype.forEach.call(s,function(u){var h=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var f=u.onclick;u.onclick=function(d){f(d),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=h,u.onerror=function(){h(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Re(ke(i),"progressiveLazyLoad",function(){for(var s=[],a=ve(ve({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,et.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){s.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,et.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}s.length>0?(i.setState(function(h){return{lazyLoadedList:h.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Re(ke(i),"slideHandler",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,h=l.beforeChange,f=l.onLazyLoad,d=l.speed,m=l.afterChange,w=i.state.currentSlide,v=(0,et.slideHandler)(ve(ve(ve({index:s},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=v.state,g=v.nextState;if(_){h&&h(w,_.currentSlide);var p=_.lazyLoadedList.filter(function(E){return i.state.lazyLoadedList.indexOf(E)<0});f&&p.length>0&&f(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(w),delete i.animationEndCallback),i.setState(_,function(){u&&i.asNavForIndex!==s&&(i.asNavForIndex=s,u.innerSlider.slideHandler(s)),g&&(i.animationEndCallback=setTimeout(function(){var E=g.animating,y=P6(g,["animating"]);i.setState(y,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:E})},10)),m&&m(_.currentSlide),delete i.animationEndCallback})},d))})}}),Re(ke(i),"changeSlide",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ve(ve({},i.props),i.state),u=(0,et.changeSlide)(l,s);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var h=i.list.querySelectorAll(".slick-current");h[0]&&h[0].focus()}}),Re(ke(i),"clickHandler",function(s){i.clickable===!1&&(s.stopPropagation(),s.preventDefault()),i.clickable=!0}),Re(ke(i),"keyHandler",function(s){var a=(0,et.keyHandler)(s,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Re(ke(i),"selectHandler",function(s){i.changeSlide(s)}),Re(ke(i),"disableBodyScroll",function(){var s=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=s}),Re(ke(i),"enableBodyScroll",function(){window.ontouchmove=null}),Re(ke(i),"swipeStart",function(s){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,et.swipeStart)(s,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Re(ke(i),"swipeMove",function(s){var a=(0,et.swipeMove)(s,ve(ve(ve({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Re(ke(i),"swipeEnd",function(s){var a=(0,et.swipeEnd)(s,ve(ve(ve({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Re(ke(i),"touchEnd",function(s){i.swipeEnd(s),i.clickable=!0}),Re(ke(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Re(ke(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Re(ke(i),"slickGoTo",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:s,currentSlide:i.state.currentSlide},a)},0))}),Re(ke(i),"play",function(){var s;if(i.props.rtl)s=i.state.currentSlide-i.props.slidesToScroll;else if((0,et.canGoNext)(ve(ve({},i.props),i.state)))s=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(s)}),Re(ke(i),"autoPlay",function(s){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(s==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(s==="leave"){if(a==="paused"||a==="focused")return}else if(s==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Re(ke(i),"pause",function(s){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;s==="paused"?i.setState({autoplaying:"paused"}):s==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Re(ke(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Re(ke(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Re(ke(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Re(ke(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Re(ke(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Re(ke(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Re(ke(i),"render",function(){var s=(0,b6.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ve(ve({},i.props),i.state),l=(0,et.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=ve(ve({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var h;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,et.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=i.props.pauseOnDotsHover;f=ve(ve({},f),{},{clickHandler:i.changeSlide,onMouseEnter:d?i.onDotsLeave:null,onMouseOver:d?i.onDotsOver:null,onMouseLeave:d?i.onDotsLeave:null}),h=$t.default.createElement(I6.Dots,f)}var m,w,v=(0,et.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=i.changeSlide,i.props.arrows&&(m=$t.default.createElement(o1.PrevArrow,v),w=$t.default.createElement(o1.NextArrow,v));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var p=ve(ve({},_),g),E=i.props.touchMove,y={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:E?i.swipeStart:null,onMouseMove:i.state.dragging&&E?i.swipeMove:null,onMouseUp:E?i.swipeEnd:null,onMouseLeave:i.state.dragging&&E?i.swipeEnd:null,onTouchStart:E?i.swipeStart:null,onTouchMove:i.state.dragging&&E?i.swipeMove:null,onTouchEnd:E?i.touchEnd:null,onTouchCancel:i.state.dragging&&E?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},I={className:s,dir:"ltr",style:i.props.style};return i.props.unslick&&(y={className:"slick-list"},I={className:s}),$t.default.createElement("div",I,i.props.unslick?"":m,$t.default.createElement("div",Ac({ref:i.listRefHandler},y),$t.default.createElement(A6.Track,Ac({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":w,i.props.unslick?"":h)}),i.list=null,i.track=null,i.state=ve(ve({},T6.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:$t.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=ve(ve({},i.state),o),i}return x6(n,[{key:"didPropsChange",value:function(i){for(var o=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var l=a[s];if(!i.hasOwnProperty(l)){o=!0;break}if(!(Fi(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){o=!0;break}}return o||$t.default.Children.count(this.props.children)!==$t.default.Children.count(i.children)}}]),n}($t.default.Component);var j6=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},V6=j6,F6=V6,U6=function(t){var e=/[height|width]$/;return e.test(t)},a1=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=F6(r),U6(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},B6=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=a1(n),r<t.length-1&&(e+=", ")}),e):a1(t)},q6=B6,Uh,l1;function $6(){if(l1)return Uh;l1=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Uh=t,Uh}var Bh,u1;function AA(){if(u1)return Bh;u1=1;function t(r,i){var o=0,s=r.length,a;for(o;o<s&&(a=i(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Bh={isFunction:n,isArray:e,each:t},Bh}var qh,c1;function z6(){if(c1)return qh;c1=1;var t=$6(),e=AA().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(s){o.mql=s.currentTarget||s,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,s){if(o.equals(r))return o.destroy(),!i.splice(s,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},qh=n,qh}var $h,f1;function H6(){if(f1)return $h;f1=1;var t=z6(),e=AA(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(s,a,l){var u=this.queries,h=l&&this.browserIsIncapable;return u[s]||(u[s]=new t(s,h)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(f){r(f)&&(f={match:f}),u[s].addHandler(f)}),this},unregister:function(s,a){var l=this.queries[s];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[s])),this}},$h=o,$h}var zh,h1;function W6(){if(h1)return zh;h1=1;var t=H6();return zh=new t,zh}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(ie),n=Sf,r=s(q6),i=s(Ng),o=ce;function s(P){return P&&P.__esModule?P:{default:P}}function a(P){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(P)}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var T=1;T<arguments.length;T++){var b=arguments[T];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(P[k]=b[k])}return P},l.apply(this,arguments)}function u(P,T){var b=Object.keys(P);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(P);T&&(k=k.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),b.push.apply(b,k)}return b}function h(P){for(var T=1;T<arguments.length;T++){var b=arguments[T]!=null?arguments[T]:{};T%2?u(Object(b),!0).forEach(function(k){I(P,k,b[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(k){Object.defineProperty(P,k,Object.getOwnPropertyDescriptor(b,k))})}return P}function f(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function d(P,T){for(var b=0;b<T.length;b++){var k=T[b];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(P,x(k.key),k)}}function m(P,T,b){return T&&d(P.prototype,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function w(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),T&&v(P,T)}function v(P,T){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,R){return k.__proto__=R,k},v(P,T)}function _(P){var T=E();return function(){var k=y(P),R;if(T){var L=y(this).constructor;R=Reflect.construct(k,arguments,L)}else R=k.apply(this,arguments);return g(this,R)}}function g(P,T){if(T&&(a(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function E(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!P})()}function y(P){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},y(P)}function I(P,T,b){return T=x(T),T in P?Object.defineProperty(P,T,{value:b,enumerable:!0,configurable:!0,writable:!0}):P[T]=b,P}function x(P){var T=A(P,"string");return a(T)=="symbol"?T:String(T)}function A(P,T){if(a(P)!="object"||!P)return P;var b=P[Symbol.toPrimitive];if(b!==void 0){var k=b.call(P,T||"default");if(a(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(P)}var S=(0,o.canUseDOM)()&&W6();t.default=function(P){w(b,P);var T=_(b);function b(k){var R;return f(this,b),R=T.call(this,k),I(p(R),"innerSliderRefHandler",function(L){return R.innerSlider=L}),I(p(R),"slickPrev",function(){return R.innerSlider.slickPrev()}),I(p(R),"slickNext",function(){return R.innerSlider.slickNext()}),I(p(R),"slickGoTo",function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return R.innerSlider.slickGoTo(L,U)}),I(p(R),"slickPause",function(){return R.innerSlider.pause("paused")}),I(p(R),"slickPlay",function(){return R.innerSlider.autoPlay("play")}),R.state={breakpoint:null},R._responsiveMediaHandlers=[],R}return m(b,[{key:"media",value:function(R,L){S.register(R,L),this._responsiveMediaHandlers.push({query:R,handler:L})}},{key:"componentDidMount",value:function(){var R=this;if(this.props.responsive){var L=this.props.responsive.map(function($){return $.breakpoint});L.sort(function($,H){return $-H}),L.forEach(function($,H){var W;H===0?W=(0,r.default)({minWidth:0,maxWidth:$}):W=(0,r.default)({minWidth:L[H-1]+1,maxWidth:$}),(0,o.canUseDOM)()&&R.media(W,function(){R.setState({breakpoint:$})})});var U=(0,r.default)({minWidth:L.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(U,function(){R.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(R){S.unregister(R.query,R.handler)})}},{key:"render",value:function(){var R=this,L,U;this.state.breakpoint?(U=this.props.responsive.filter(function(z){return z.breakpoint===R.state.breakpoint}),L=U[0].settings==="unslick"?"unslick":h(h(h({},i.default),this.props),U[0].settings)):L=h(h({},i.default),this.props),L.centerMode&&(L.slidesToScroll>1,L.slidesToScroll=1),L.fade&&(L.slidesToShow>1,L.slidesToScroll>1,L.slidesToShow=1,L.slidesToScroll=1);var $=e.default.Children.toArray(this.props.children);$=$.filter(function(z){return typeof z=="string"?!!z.trim():!!z}),L.variableWidth&&(L.rows>1||L.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),L.variableWidth=!1);for(var H=[],W=null,B=0;B<$.length;B+=L.rows*L.slidesPerRow){for(var V=[],N=B;N<B+L.rows*L.slidesPerRow;N+=L.slidesPerRow){for(var M=[],F=N;F<N+L.slidesPerRow&&(L.variableWidth&&$[F].props.style&&(W=$[F].props.style.width),!(F>=$.length));F+=1)M.push(e.default.cloneElement($[F],{key:100*B+10*N+F,tabIndex:-1,style:{width:"".concat(100/L.slidesPerRow,"%"),display:"inline-block"}}));V.push(e.default.createElement("div",{key:10*B+N},M))}L.variableWidth?H.push(e.default.createElement("div",{key:B,style:{width:W}},V)):H.push(e.default.createElement("div",{key:B},V))}if(L==="unslick"){var K="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:K},$)}else H.length<=L.slidesToShow&&!L.infinite&&(L.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(L)),H)}}]),b}(e.default.Component)})(Wb);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Wb);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(Hb);const K6=xp(Hb),G6=({images:t})=>{const e={dots:!0,infinite:t.length>1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0};return G.jsx("div",{className:"carousel-container",style:{width:"80%",height:"80%"},children:G.jsx(K6,{...e,children:t.map((n,r)=>G.jsx("div",{children:G.jsx("img",{src:n,alt:`Slide ${r+1}`,style:{width:"100%",height:"auto"}})},r))})})},Q6=()=>{const{projectId:t}=LE(),[e,n]=ie.useState(null),[r,i]=ie.useState(!0),[o,s]=ie.useState(null);return ie.useEffect(()=>{(async()=>{try{const l=sl(ni,"projects"),u=uc(l,Tg("route","==",t)),h=await bg(u);if(h.empty)s("Project not found");else{const f=h.docs[0].data();n(f)}}catch(l){console.error("Error fetching project:",l),s("Failed to fetch project")}finally{i(!1)}})()},[t]),r?G.jsx("div",{children:"Loading project..."}):o?G.jsx("div",{children:o}):G.jsxs("div",{style:d1.container,children:[G.jsx("h1",{children:e.title}),G.jsx("p",{children:e.description}),e.images?G.jsx(G6,{images:e.images,style:d1.image}):G.jsx("p",{children:"No images to display"}),G.jsx("div",{dangerouslySetInnerHTML:{__html:e.deepdive}})]})},d1={container:{padding:"40px",maxWidth:"800px",margin:"0 auto"},image:{width:"200px",height:"300px",borderRadius:"8px",marginBottom:"20px"}};function Y6(){return G.jsxs("div",{children:[G.jsx("h1",{children:"TODO List"}),G.jsx("p",{children:"Welcome to the TODO list feature!"})]})}function X6(){return G.jsxs("div",{children:[G.jsx("h1",{children:"Financial Tracker"}),G.jsx("p",{children:"Track your finances here!"})]})}function J6(){return G.jsxs("div",{children:[G.jsx("h1",{children:"Week Planner"}),G.jsx("p",{children:"Plan your weeks here!"})]})}function Z6(){return G.jsxs("div",{children:[G.jsx("h1",{children:"CV"}),G.jsx("p",{children:"Add your CV here!"})]})}const eB=Hh.createRoot(document.getElementById("root"));eB.render(G.jsx(S1.StrictMode,{children:G.jsx(ob,{children:G.jsx(tB,{})})}));function tB(){return G.jsx(ob,{children:G.jsx(wk,{children:G.jsxs("div",{children:[G.jsx(kD,{}),G.jsxs(dk,{children:[G.jsx(Tn,{path:"/",element:G.jsx(RD,{})}),G.jsx(Tn,{path:"/login",element:G.jsx(CD,{})}),G.jsx(Tn,{path:"/portfolio",element:G.jsx(LD,{})}),G.jsx(Tn,{path:"/portfolio/:projectId",element:G.jsx(Q6,{})}),G.jsx(Tn,{path:"/edit-project/:projectId",element:G.jsx(QU,{})}),G.jsx(Tn,{path:"/portfolio/addproject",element:G.jsx(js,{children:G.jsx(GU,{})})}),G.jsx(Tn,{path:"/CV",element:G.jsx(js,{children:G.jsx(Z6,{})})}),G.jsx(Tn,{path:"/todo",element:G.jsx(js,{children:G.jsx(Y6,{})})}),G.jsx(Tn,{path:"/finance",element:G.jsxs(js,{children:[G.jsx(X6,{}),G.jsx(SD,{}),G.jsx(bD,{})]})}),G.jsx(Tn,{path:"/weekplanner",element:G.jsx(js,{children:G.jsx(J6,{})})})]})]})})})}
