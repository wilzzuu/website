function xI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function NI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var BE={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ul=Symbol.for("react.element"),LI=Symbol.for("react.portal"),DI=Symbol.for("react.fragment"),MI=Symbol.for("react.strict_mode"),jI=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),VI=Symbol.for("react.forward_ref"),BI=Symbol.for("react.suspense"),qI=Symbol.for("react.memo"),$I=Symbol.for("react.lazy"),My=Symbol.iterator;function zI(t){return t===null||typeof t!="object"?null:(t=My&&t[My]||t["@@iterator"],typeof t=="function"?t:null)}var qE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$E=Object.assign,zE={};function Us(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||qE}Us.prototype.isReactComponent={};Us.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Us.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HE(){}HE.prototype=Us.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=zE,this.updater=n||qE}var Xm=Ym.prototype=new HE;Xm.constructor=Ym;$E(Xm,Us.prototype);Xm.isPureReactComponent=!0;var jy=Array.isArray,WE=Object.prototype.hasOwnProperty,Jm={current:null},KE={key:!0,ref:!0,__self:!0,__source:!0};function GE(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)WE.call(e,r)&&!KE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ul,type:t,key:o,ref:s,props:i,_owner:Jm.current}}function HI(t,e){return{$$typeof:Ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ul}function WI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fy=/\/+/g;function Xh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WI(""+t.key):e.toString(36)}function ec(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ul:case LI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Xh(s,0):r,jy(i)?(n="",t!=null&&(n=t.replace(Fy,"$&/")+"/"),ec(i,e,n,"",function(u){return u})):i!=null&&(Zm(i)&&(i=HI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Fy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",jy(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Xh(o,a);s+=ec(o,e,n,l,i)}else if(l=zI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Xh(o,a++),s+=ec(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Pu(t,e,n){if(t==null)return t;var r=[],i=0;return ec(t,r,"","",function(o){return e.call(n,o,i++)}),r}function KI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},tc={transition:null},GI={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:tc,ReactCurrentOwner:Jm};function QE(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Pu,forEach:function(t,e,n){Pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pu(t,function(){e++}),e},toArray:function(t){return Pu(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Us;Fe.Fragment=DI;Fe.Profiler=jI;Fe.PureComponent=Ym;Fe.StrictMode=MI;Fe.Suspense=BI;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GI;Fe.act=QE;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$E({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WE.call(e,l)&&!KE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ul,type:t.type,key:i,ref:o,props:r,_owner:s}};Fe.createContext=function(t){return t={$$typeof:UI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FI,_context:t},t.Consumer=t};Fe.createElement=GE;Fe.createFactory=function(t){var e=GE.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:VI,render:t}};Fe.isValidElement=Zm;Fe.lazy=function(t){return{$$typeof:$I,_payload:{_status:-1,_result:t},_init:KI}};Fe.memo=function(t,e){return{$$typeof:qI,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=tc.transition;tc.transition={};try{t()}finally{tc.transition=e}};Fe.unstable_act=QE;Fe.useCallback=function(t,e){return dn.current.useCallback(t,e)};Fe.useContext=function(t){return dn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return dn.current.useEffect(t,e)};Fe.useId=function(){return dn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return dn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Fe.useRef=function(t){return dn.current.useRef(t)};Fe.useState=function(t){return dn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return dn.current.useTransition()};Fe.version="18.3.1";BE.exports=Fe;var se=BE.exports;const on=qf(se),QI=xI({__proto__:null,default:on},[se]);var rp={},YE={exports:{}},Mn={},XE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,B){var F=Q.length;Q.push(B);e:for(;0<F;){var N=F-1>>>1,M=Q[N];if(0<i(M,B))Q[N]=B,Q[F]=M,F=N;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var B=Q[0],F=Q.pop();if(F!==B){Q[0]=F;e:for(var N=0,M=Q.length,U=M>>>1;N<U;){var Y=2*(N+1)-1,z=Q[Y],j=Y+1,H=Q[j];if(0>i(z,F))j<M&&0>i(H,z)?(Q[N]=H,Q[j]=F,N=j):(Q[N]=z,Q[Y]=F,N=Y);else if(j<M&&0>i(H,F))Q[N]=H,Q[j]=F,N=j;else break e}}return B}function i(Q,B){var F=Q.sortIndex-B.sortIndex;return F!==0?F:Q.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],f=1,h=null,d=3,m=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(Q){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=Q)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function y(Q){if(v=!1,E(Q),!_)if(n(l)!==null)_=!0,W(O);else{var B=n(u);B!==null&&G(y,B.startTime-Q)}}function O(Q,B){_=!1,v&&(v=!1,g(b),b=-1),m=!0;var F=d;try{for(E(B),h=n(l);h!==null&&(!(h.expirationTime>B)||Q&&!S());){var N=h.callback;if(typeof N=="function"){h.callback=null,d=h.priorityLevel;var M=N(h.expirationTime<=B);B=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),E(B)}else r(l);h=n(l)}if(h!==null)var U=!0;else{var Y=n(u);Y!==null&&G(y,Y.startTime-B),U=!1}return U}finally{h=null,d=F,m=!1}}var C=!1,A=null,b=-1,P=5,T=-1;function S(){return!(t.unstable_now()-T<P)}function R(){if(A!==null){var Q=t.unstable_now();T=Q;var B=!0;try{B=A(!0,Q)}finally{B?k():(C=!1,A=null)}}else C=!1}var k;if(typeof p=="function")k=function(){p(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=R,k=function(){V.postMessage(null)}}else k=function(){w(R,0)};function W(Q){A=Q,C||(C=!0,k())}function G(Q,B){b=w(function(){Q(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,W(O))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var F=d;d=B;try{return Q()}finally{d=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,B){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var F=d;d=Q;try{return B()}finally{d=F}},t.unstable_scheduleCallback=function(Q,B,F){var N=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,Q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=F+M,Q={id:f++,callback:B,priorityLevel:Q,startTime:F,expirationTime:M,sortIndex:-1},F>N?(Q.sortIndex=F,e(u,Q),n(l)===null&&Q===n(u)&&(v?(g(b),b=-1):v=!0,G(y,F-N))):(Q.sortIndex=M,e(l,Q),_||m||(_=!0,W(O))),Q},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(Q){var B=d;return function(){var F=d;d=B;try{return Q.apply(this,arguments)}finally{d=F}}}})(JE);XE.exports=JE;var YI=XE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XI=se,Ln=YI;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZE=new Set,ll={};function ko(t,e){ys(t,e),ys(t+"Capture",e)}function ys(t,e){for(ll[t]=e,t=0;t<e.length;t++)ZE.add(e[t])}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,JI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uy={},Vy={};function ZI(t){return ip.call(Vy,t)?!0:ip.call(Uy,t)?!1:JI.test(t)?Vy[t]=!0:(Uy[t]=!0,!1)}function eP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tP(t,e,n,r){if(e===null||typeof e>"u"||eP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var eg=/[\-:]([a-z])/g;function tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eg,tg);Wt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eg,tg);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eg,tg);Wt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ng(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tP(e,n,i,r)&&(n=null),r||i===null?ZI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wr=XI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),ig=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),nw=Symbol.for("react.offscreen"),By=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var dt=Object.assign,Jh;function ja(t){if(Jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jh=e&&e[1]||""}return`
`+Jh+t}var Zh=!1;function ed(t,e){if(!t||Zh)return"";Zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ja(t):""}function nP(t){switch(t.tag){case 5:return ja(t.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return t=ed(t.type,!1),t;case 11:return t=ed(t.type.render,!1),t;case 1:return t=ed(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case Ko:return"Portal";case op:return"Profiler";case rg:return"StrictMode";case sp:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tw:return(t.displayName||"Context")+".Consumer";case ew:return(t._context.displayName||"Context")+".Provider";case ig:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case og:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function rP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iP(t){var e=rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=iP(t))}function iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function up(t,e){var n=e.checked;return dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ow(t,e){e=e.checked,e!=null&&ng(t,"checked",e,!1)}function cp(t,e){ow(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&fp(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $y(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fp(t,e,n){(e!=="number"||Pc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fa=Array.isArray;function ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Fa(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function sw(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,lw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oP=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(t){oP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ka[e]=Ka[t]})});function uw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ka.hasOwnProperty(t)&&Ka[t]?(""+e).trim():e+"px"}function cw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=uw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sP=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(sP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vp=null,as=null,ls=null;function Wy(t){if(t=ql(t)){if(typeof vp!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Kf(e),vp(t.stateNode,t.type,e))}}function fw(t){as?ls?ls.push(t):ls=[t]:as=t}function hw(){if(as){var t=as,e=ls;if(ls=as=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function dw(t,e){return t(e)}function pw(){}var td=!1;function mw(t,e,n){if(td)return t(e,n);td=!0;try{return dw(t,e,n)}finally{td=!1,(as!==null||ls!==null)&&(pw(),hw())}}function cl(t,e){var n=t.stateNode;if(n===null)return null;var r=Kf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var yp=!1;if(Fr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){yp=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{yp=!1}function aP(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Ga=!1,Rc=null,kc=!1,_p=null,lP={onError:function(t){Ga=!0,Rc=t}};function uP(t,e,n,r,i,o,s,a,l){Ga=!1,Rc=null,aP.apply(lP,arguments)}function cP(t,e,n,r,i,o,s,a,l){if(uP.apply(this,arguments),Ga){if(Ga){var u=Rc;Ga=!1,Rc=null}else throw Error(ue(198));kc||(kc=!0,_p=u)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ky(t){if(Co(t)!==t)throw Error(ue(188))}function fP(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ky(i),t;if(o===r)return Ky(i),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function vw(t){return t=fP(t),t!==null?yw(t):null}function yw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yw(t);if(e!==null)return e;t=t.sibling}return null}var _w=Ln.unstable_scheduleCallback,Gy=Ln.unstable_cancelCallback,hP=Ln.unstable_shouldYield,dP=Ln.unstable_requestPaint,Tt=Ln.unstable_now,pP=Ln.unstable_getCurrentPriorityLevel,ag=Ln.unstable_ImmediatePriority,Ew=Ln.unstable_UserBlockingPriority,Cc=Ln.unstable_NormalPriority,mP=Ln.unstable_LowPriority,ww=Ln.unstable_IdlePriority,$f=null,mr=null;function gP(t){if(mr&&typeof mr.onCommitFiberRoot=="function")try{mr.onCommitFiberRoot($f,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:_P,vP=Math.log,yP=Math.LN2;function _P(t){return t>>>=0,t===0?32:31-(vP(t)/yP|0)|0}var xu=64,Nu=4194304;function Ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ua(a):(o&=s,o!==0&&(r=Ua(o)))}else s=n&~i,s!==0?r=Ua(s):o!==0&&(r=Ua(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),i=1<<n,r|=t[n],e&=~i;return r}function EP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-nr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=EP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Ep(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tw(){var t=xu;return xu<<=1,!(xu&4194240)&&(xu=64),t}function nd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function TP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function lg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function bw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sw,ug,Aw,Ow,Iw,wp=!1,Lu=[],yi=null,_i=null,Ei=null,fl=new Map,hl=new Map,li=[],bP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qy(t,e){switch(t){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(e.pointerId)}}function wa(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ql(e),e!==null&&ug(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SP(t,e,n,r,i){switch(e){case"focusin":return yi=wa(yi,t,e,n,r,i),!0;case"dragenter":return _i=wa(_i,t,e,n,r,i),!0;case"mouseover":return Ei=wa(Ei,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return fl.set(o,wa(fl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,hl.set(o,wa(hl.get(o)||null,t,e,n,r,i)),!0}return!1}function Pw(t){var e=so(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=gw(n),e!==null){t.blockedOn=e,Iw(t.priority,function(){Aw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gp=r,n.target.dispatchEvent(r),gp=null}else return e=ql(n),e!==null&&ug(e),t.blockedOn=n,!1;e.shift()}return!0}function Yy(t,e,n){nc(t)&&n.delete(e)}function AP(){wp=!1,yi!==null&&nc(yi)&&(yi=null),_i!==null&&nc(_i)&&(_i=null),Ei!==null&&nc(Ei)&&(Ei=null),fl.forEach(Yy),hl.forEach(Yy)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,wp||(wp=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,AP)))}function dl(t){function e(i){return Ta(i,t)}if(0<Lu.length){Ta(Lu[0],t);for(var n=1;n<Lu.length;n++){var r=Lu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yi!==null&&Ta(yi,t),_i!==null&&Ta(_i,t),Ei!==null&&Ta(Ei,t),fl.forEach(e),hl.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)Pw(n),n.blockedOn===null&&li.shift()}var us=Wr.ReactCurrentBatchConfig,Nc=!0;function OP(t,e,n,r){var i=Qe,o=us.transition;us.transition=null;try{Qe=1,cg(t,e,n,r)}finally{Qe=i,us.transition=o}}function IP(t,e,n,r){var i=Qe,o=us.transition;us.transition=null;try{Qe=4,cg(t,e,n,r)}finally{Qe=i,us.transition=o}}function cg(t,e,n,r){if(Nc){var i=Tp(t,e,n,r);if(i===null)hd(t,e,r,Lc,n),Qy(t,r);else if(SP(i,t,e,n,r))r.stopPropagation();else if(Qy(t,r),e&4&&-1<bP.indexOf(t)){for(;i!==null;){var o=ql(i);if(o!==null&&Sw(o),o=Tp(t,e,n,r),o===null&&hd(t,e,r,Lc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else hd(t,e,r,null,n)}}var Lc=null;function Tp(t,e,n,r){if(Lc=null,t=sg(r),t=so(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lc=t,null}function Rw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pP()){case ag:return 1;case Ew:return 4;case Cc:case mP:return 16;case ww:return 536870912;default:return 16}default:return 16}}var pi=null,fg=null,rc=null;function kw(){if(rc)return rc;var t,e=fg,n=e.length,r,i="value"in pi?pi.value:pi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return rc=i.slice(t,1<r?1-r:void 0)}function ic(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function Xy(){return!1}function jn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Du:Xy,this.isPropagationStopped=Xy,this}return dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var Vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hg=jn(Vs),Bl=dt({},Vs,{view:0,detail:0}),PP=jn(Bl),rd,id,ba,zf=dt({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ba&&(ba&&t.type==="mousemove"?(rd=t.screenX-ba.screenX,id=t.screenY-ba.screenY):id=rd=0,ba=t),rd)},movementY:function(t){return"movementY"in t?t.movementY:id}}),Jy=jn(zf),RP=dt({},zf,{dataTransfer:0}),kP=jn(RP),CP=dt({},Bl,{relatedTarget:0}),od=jn(CP),xP=dt({},Vs,{animationName:0,elapsedTime:0,pseudoElement:0}),NP=jn(xP),LP=dt({},Vs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DP=jn(LP),MP=dt({},Vs,{data:0}),Zy=jn(MP),jP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UP[t])?!!e[t]:!1}function dg(){return VP}var BP=dt({},Bl,{key:function(t){if(t.key){var e=jP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ic(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(t){return t.type==="keypress"?ic(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ic(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qP=jn(BP),$P=dt({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e_=jn($P),zP=dt({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),HP=jn(zP),WP=dt({},Vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KP=jn(WP),GP=dt({},zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QP=jn(GP),YP=[9,13,27,32],pg=Fr&&"CompositionEvent"in window,Qa=null;Fr&&"documentMode"in document&&(Qa=document.documentMode);var XP=Fr&&"TextEvent"in window&&!Qa,Cw=Fr&&(!pg||Qa&&8<Qa&&11>=Qa),t_=" ",n_=!1;function xw(t,e){switch(t){case"keyup":return YP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function JP(t,e){switch(t){case"compositionend":return Nw(e);case"keypress":return e.which!==32?null:(n_=!0,t_);case"textInput":return t=e.data,t===t_&&n_?null:t;default:return null}}function ZP(t,e){if(Qo)return t==="compositionend"||!pg&&xw(t,e)?(t=kw(),rc=fg=pi=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cw&&e.locale!=="ko"?null:e.data;default:return null}}var eR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eR[t.type]:e==="textarea"}function Lw(t,e,n,r){fw(r),e=Dc(e,"onChange"),0<e.length&&(n=new hg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ya=null,pl=null;function tR(t){Hw(t,0)}function Hf(t){var e=Jo(t);if(iw(e))return t}function nR(t,e){if(t==="change")return e}var Dw=!1;if(Fr){var sd;if(Fr){var ad="oninput"in document;if(!ad){var i_=document.createElement("div");i_.setAttribute("oninput","return;"),ad=typeof i_.oninput=="function"}sd=ad}else sd=!1;Dw=sd&&(!document.documentMode||9<document.documentMode)}function o_(){Ya&&(Ya.detachEvent("onpropertychange",Mw),pl=Ya=null)}function Mw(t){if(t.propertyName==="value"&&Hf(pl)){var e=[];Lw(e,pl,t,sg(t)),mw(tR,e)}}function rR(t,e,n){t==="focusin"?(o_(),Ya=e,pl=n,Ya.attachEvent("onpropertychange",Mw)):t==="focusout"&&o_()}function iR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hf(pl)}function oR(t,e){if(t==="click")return Hf(e)}function sR(t,e){if(t==="input"||t==="change")return Hf(e)}function aR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:aR;function ml(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ip.call(e,i)||!ir(t[i],e[i]))return!1}return!0}function s_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a_(t,e){var n=s_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s_(n)}}function jw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=Pc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pc(t.document)}return e}function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lR(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jw(n.ownerDocument.documentElement,n)){if(r!==null&&mg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=a_(n,o);var s=a_(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uR=Fr&&"documentMode"in document&&11>=document.documentMode,Yo=null,bp=null,Xa=null,Sp=!1;function l_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sp||Yo==null||Yo!==Pc(r)||(r=Yo,"selectionStart"in r&&mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xa&&ml(Xa,r)||(Xa=r,r=Dc(bp,"onSelect"),0<r.length&&(e=new hg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function Mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},ld={},Uw={};Fr&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Wf(t){if(ld[t])return ld[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uw)return ld[t]=e[n];return t}var Vw=Wf("animationend"),Bw=Wf("animationiteration"),qw=Wf("animationstart"),$w=Wf("transitionend"),zw=new Map,u_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(t,e){zw.set(t,e),ko(e,[t])}for(var ud=0;ud<u_.length;ud++){var cd=u_[ud],cR=cd.toLowerCase(),fR=cd[0].toUpperCase()+cd.slice(1);Vi(cR,"on"+fR)}Vi(Vw,"onAnimationEnd");Vi(Bw,"onAnimationIteration");Vi(qw,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi($w,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function c_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cP(r,e,void 0,t),t.currentTarget=null}function Hw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;c_(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;c_(i,a,u),o=l}}}if(kc)throw t=_p,kc=!1,_p=null,t}function rt(t,e){var n=e[Rp];n===void 0&&(n=e[Rp]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function fd(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var ju="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[ju]){t[ju]=!0,ZE.forEach(function(n){n!=="selectionchange"&&(hR.has(n)||fd(n,!1,t),fd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ju]||(e[ju]=!0,fd("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(Rw(e)){case 1:var i=OP;break;case 4:i=IP;break;default:i=cg}n=i.bind(null,e,n,t),i=void 0,!yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=so(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}mw(function(){var u=o,f=sg(n),h=[];e:{var d=zw.get(t);if(d!==void 0){var m=hg,_=t;switch(t){case"keypress":if(ic(n)===0)break e;case"keydown":case"keyup":m=qP;break;case"focusin":_="focus",m=od;break;case"focusout":_="blur",m=od;break;case"beforeblur":case"afterblur":m=od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HP;break;case Vw:case Bw:case qw:m=NP;break;case $w:m=KP;break;case"scroll":m=PP;break;case"wheel":m=QP;break;case"copy":case"cut":case"paste":m=DP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=e_}var v=(e&4)!==0,w=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,E;p!==null;){E=p;var y=E.stateNode;if(E.tag===5&&y!==null&&(E=y,g!==null&&(y=cl(p,g),y!=null&&v.push(vl(p,y,E)))),w)break;p=p.return}0<v.length&&(d=new m(d,_,null,n,f),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==gp&&(_=n.relatedTarget||n.fromElement)&&(so(_)||_[Ur]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?so(_):null,_!==null&&(w=Co(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(v=Jy,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=e_,y="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?d:Jo(m),E=_==null?d:Jo(_),d=new v(y,p+"leave",m,n,f),d.target=w,d.relatedTarget=E,y=null,so(f)===u&&(v=new v(g,p+"enter",_,n,f),v.target=E,v.relatedTarget=w,y=v),w=y,m&&_)t:{for(v=m,g=_,p=0,E=v;E;E=qo(E))p++;for(E=0,y=g;y;y=qo(y))E++;for(;0<p-E;)v=qo(v),p--;for(;0<E-p;)g=qo(g),E--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=qo(v),g=qo(g)}v=null}else v=null;m!==null&&f_(h,d,m,v,!1),_!==null&&w!==null&&f_(h,w,_,v,!0)}}e:{if(d=u?Jo(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var O=nR;else if(r_(d))if(Dw)O=sR;else{O=iR;var C=rR}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(O=oR);if(O&&(O=O(t,u))){Lw(h,O,n,f);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&fp(d,"number",d.value)}switch(C=u?Jo(u):window,t){case"focusin":(r_(C)||C.contentEditable==="true")&&(Yo=C,bp=u,Xa=null);break;case"focusout":Xa=bp=Yo=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,l_(h,n,f);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":l_(h,n,f)}var A;if(pg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qo?xw(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Cw&&n.locale!=="ko"&&(Qo||b!=="onCompositionStart"?b==="onCompositionEnd"&&Qo&&(A=kw()):(pi=f,fg="value"in pi?pi.value:pi.textContent,Qo=!0)),C=Dc(u,b),0<C.length&&(b=new Zy(b,t,null,n,f),h.push({event:b,listeners:C}),A?b.data=A:(A=Nw(n),A!==null&&(b.data=A)))),(A=XP?JP(t,n):ZP(t,n))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(f=new Zy("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=A))}Hw(h,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cl(t,n),o!=null&&r.unshift(vl(t,o,i)),o=cl(t,e),o!=null&&r.push(vl(t,o,i))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f_(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=cl(n,o),l!=null&&s.unshift(vl(n,l,a))):i||(l=cl(n,o),l!=null&&s.push(vl(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function h_(t){return(typeof t=="string"?t:""+t).replace(dR,`
`).replace(pR,"")}function Fu(t,e,n){if(e=h_(e),h_(t)!==e&&n)throw Error(ue(425))}function Mc(){}var Ap=null,Op=null;function Ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,mR=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,gR=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(vR)}:Pp;function vR(t){setTimeout(function(){throw t})}function dd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dl(e)}function wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),pr="__reactFiber$"+Bs,yl="__reactProps$"+Bs,Ur="__reactContainer$"+Bs,Rp="__reactEvents$"+Bs,yR="__reactListeners$"+Bs,_R="__reactHandles$"+Bs;function so(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p_(t);t!==null;){if(n=t[pr])return n;t=p_(t)}return e}t=n,n=t.parentNode}return null}function ql(t){return t=t[pr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Kf(t){return t[yl]||null}var kp=[],Zo=-1;function Bi(t){return{current:t}}function st(t){0>Zo||(t.current=kp[Zo],kp[Zo]=null,Zo--)}function tt(t,e){Zo++,kp[Zo]=t.current,t.current=e}var Ni={},sn=Bi(Ni),wn=Bi(!1),yo=Ni;function _s(t,e){var n=t.type.contextTypes;if(!n)return Ni;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function jc(){st(wn),st(sn)}function m_(t,e,n){if(sn.current!==Ni)throw Error(ue(168));tt(sn,e),tt(wn,n)}function Kw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,rP(t)||"Unknown",i));return dt({},n,r)}function Fc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ni,yo=sn.current,tt(sn,t),tt(wn,wn.current),!0}function g_(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=Kw(t,e,yo),r.__reactInternalMemoizedMergedChildContext=t,st(wn),st(sn),tt(sn,t)):st(wn),tt(wn,n)}var Rr=null,Gf=!1,pd=!1;function Gw(t){Rr===null?Rr=[t]:Rr.push(t)}function ER(t){Gf=!0,Gw(t)}function qi(){if(!pd&&Rr!==null){pd=!0;var t=0,e=Qe;try{var n=Rr;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,Gf=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(t+1)),_w(ag,qi),i}finally{Qe=e,pd=!1}}return null}var es=[],ts=0,Uc=null,Vc=0,Un=[],Vn=0,_o=null,kr=1,Cr="";function eo(t,e){es[ts++]=Vc,es[ts++]=Uc,Uc=t,Vc=e}function Qw(t,e,n){Un[Vn++]=kr,Un[Vn++]=Cr,Un[Vn++]=_o,_o=t;var r=kr;t=Cr;var i=32-nr(r)-1;r&=~(1<<i),n+=1;var o=32-nr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,kr=1<<32-nr(e)+i|n<<i|r,Cr=o+t}else kr=1<<o|n<<i|r,Cr=t}function gg(t){t.return!==null&&(eo(t,1),Qw(t,1,0))}function vg(t){for(;t===Uc;)Uc=es[--ts],es[ts]=null,Vc=es[--ts],es[ts]=null;for(;t===_o;)_o=Un[--Vn],Un[Vn]=null,Cr=Un[--Vn],Un[Vn]=null,kr=Un[--Vn],Un[Vn]=null}var xn=null,kn=null,lt=!1,tr=null;function Yw(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function v_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,kn=wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_o!==null?{id:kr,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,kn=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xp(t){if(lt){var e=kn;if(e){var n=e;if(!v_(t,e)){if(Cp(t))throw Error(ue(418));e=wi(n.nextSibling);var r=xn;e&&v_(t,e)?Yw(r,n):(t.flags=t.flags&-4097|2,lt=!1,xn=t)}}else{if(Cp(t))throw Error(ue(418));t.flags=t.flags&-4097|2,lt=!1,xn=t}}}function y_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function Uu(t){if(t!==xn)return!1;if(!lt)return y_(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ip(t.type,t.memoizedProps)),e&&(e=kn)){if(Cp(t))throw Xw(),Error(ue(418));for(;e;)Yw(t,e),e=wi(e.nextSibling)}if(y_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=xn?wi(t.stateNode.nextSibling):null;return!0}function Xw(){for(var t=kn;t;)t=wi(t.nextSibling)}function Es(){kn=xn=null,lt=!1}function yg(t){tr===null?tr=[t]:tr.push(t)}var wR=Wr.ReactCurrentBatchConfig;function Sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Vu(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function __(t){var e=t._init;return e(t._payload)}function Jw(t){function e(g,p){if(t){var E=g.deletions;E===null?(g.deletions=[p],g.flags|=16):E.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ai(g,p),g.index=0,g.sibling=null,g}function o(g,p,E){return g.index=E,t?(E=g.alternate,E!==null?(E=E.index,E<p?(g.flags|=2,p):E):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,E,y){return p===null||p.tag!==6?(p=wd(E,g.mode,y),p.return=g,p):(p=i(p,E),p.return=g,p)}function l(g,p,E,y){var O=E.type;return O===Go?f(g,p,E.props.children,y,E.key):p!==null&&(p.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&__(O)===p.type)?(y=i(p,E.props),y.ref=Sa(g,p,E),y.return=g,y):(y=fc(E.type,E.key,E.props,null,g.mode,y),y.ref=Sa(g,p,E),y.return=g,y)}function u(g,p,E,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==E.containerInfo||p.stateNode.implementation!==E.implementation?(p=Td(E,g.mode,y),p.return=g,p):(p=i(p,E.children||[]),p.return=g,p)}function f(g,p,E,y,O){return p===null||p.tag!==7?(p=po(E,g.mode,y,O),p.return=g,p):(p=i(p,E),p.return=g,p)}function h(g,p,E){if(typeof p=="string"&&p!==""||typeof p=="number")return p=wd(""+p,g.mode,E),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ru:return E=fc(p.type,p.key,p.props,null,g.mode,E),E.ref=Sa(g,null,p),E.return=g,E;case Ko:return p=Td(p,g.mode,E),p.return=g,p;case ii:var y=p._init;return h(g,y(p._payload),E)}if(Fa(p)||_a(p))return p=po(p,g.mode,E,null),p.return=g,p;Vu(g,p)}return null}function d(g,p,E,y){var O=p!==null?p.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return O!==null?null:a(g,p,""+E,y);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ru:return E.key===O?l(g,p,E,y):null;case Ko:return E.key===O?u(g,p,E,y):null;case ii:return O=E._init,d(g,p,O(E._payload),y)}if(Fa(E)||_a(E))return O!==null?null:f(g,p,E,y,null);Vu(g,E)}return null}function m(g,p,E,y,O){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(E)||null,a(p,g,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ru:return g=g.get(y.key===null?E:y.key)||null,l(p,g,y,O);case Ko:return g=g.get(y.key===null?E:y.key)||null,u(p,g,y,O);case ii:var C=y._init;return m(g,p,E,C(y._payload),O)}if(Fa(y)||_a(y))return g=g.get(E)||null,f(p,g,y,O,null);Vu(p,y)}return null}function _(g,p,E,y){for(var O=null,C=null,A=p,b=p=0,P=null;A!==null&&b<E.length;b++){A.index>b?(P=A,A=null):P=A.sibling;var T=d(g,A,E[b],y);if(T===null){A===null&&(A=P);break}t&&A&&T.alternate===null&&e(g,A),p=o(T,p,b),C===null?O=T:C.sibling=T,C=T,A=P}if(b===E.length)return n(g,A),lt&&eo(g,b),O;if(A===null){for(;b<E.length;b++)A=h(g,E[b],y),A!==null&&(p=o(A,p,b),C===null?O=A:C.sibling=A,C=A);return lt&&eo(g,b),O}for(A=r(g,A);b<E.length;b++)P=m(A,g,b,E[b],y),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?b:P.key),p=o(P,p,b),C===null?O=P:C.sibling=P,C=P);return t&&A.forEach(function(S){return e(g,S)}),lt&&eo(g,b),O}function v(g,p,E,y){var O=_a(E);if(typeof O!="function")throw Error(ue(150));if(E=O.call(E),E==null)throw Error(ue(151));for(var C=O=null,A=p,b=p=0,P=null,T=E.next();A!==null&&!T.done;b++,T=E.next()){A.index>b?(P=A,A=null):P=A.sibling;var S=d(g,A,T.value,y);if(S===null){A===null&&(A=P);break}t&&A&&S.alternate===null&&e(g,A),p=o(S,p,b),C===null?O=S:C.sibling=S,C=S,A=P}if(T.done)return n(g,A),lt&&eo(g,b),O;if(A===null){for(;!T.done;b++,T=E.next())T=h(g,T.value,y),T!==null&&(p=o(T,p,b),C===null?O=T:C.sibling=T,C=T);return lt&&eo(g,b),O}for(A=r(g,A);!T.done;b++,T=E.next())T=m(A,g,b,T.value,y),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?b:T.key),p=o(T,p,b),C===null?O=T:C.sibling=T,C=T);return t&&A.forEach(function(R){return e(g,R)}),lt&&eo(g,b),O}function w(g,p,E,y){if(typeof E=="object"&&E!==null&&E.type===Go&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ru:e:{for(var O=E.key,C=p;C!==null;){if(C.key===O){if(O=E.type,O===Go){if(C.tag===7){n(g,C.sibling),p=i(C,E.props.children),p.return=g,g=p;break e}}else if(C.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ii&&__(O)===C.type){n(g,C.sibling),p=i(C,E.props),p.ref=Sa(g,C,E),p.return=g,g=p;break e}n(g,C);break}else e(g,C);C=C.sibling}E.type===Go?(p=po(E.props.children,g.mode,y,E.key),p.return=g,g=p):(y=fc(E.type,E.key,E.props,null,g.mode,y),y.ref=Sa(g,p,E),y.return=g,g=y)}return s(g);case Ko:e:{for(C=E.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===E.containerInfo&&p.stateNode.implementation===E.implementation){n(g,p.sibling),p=i(p,E.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Td(E,g.mode,y),p.return=g,g=p}return s(g);case ii:return C=E._init,w(g,p,C(E._payload),y)}if(Fa(E))return _(g,p,E,y);if(_a(E))return v(g,p,E,y);Vu(g,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,E),p.return=g,g=p):(n(g,p),p=wd(E,g.mode,y),p.return=g,g=p),s(g)):n(g,p)}return w}var ws=Jw(!0),Zw=Jw(!1),Bc=Bi(null),qc=null,ns=null,_g=null;function Eg(){_g=ns=qc=null}function wg(t){var e=Bc.current;st(Bc),t._currentValue=e}function Np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cs(t,e){qc=t,_g=ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(_g!==t)if(t={context:t,memoizedValue:e,next:null},ns===null){if(qc===null)throw Error(ue(308));ns=t,qc.dependencies={lanes:0,firstContext:t}}else ns=ns.next=t;return e}var ao=null;function Tg(t){ao===null?ao=[t]:ao.push(t)}function eT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Tg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function bg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$e&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Tg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lg(t,n)}}function E_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $c(t,e,n,r){var i=t.updateQueue;oi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,f=u=l=null,a=o;do{var d=a.lane,m=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(d=e,m=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(m,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(m,h,d):_,d==null)break e;h=dt({},h,d);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);wo|=s,t.lanes=s,t.memoizedState=h}}function w_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var $l={},gr=Bi($l),_l=Bi($l),El=Bi($l);function lo(t){if(t===$l)throw Error(ue(174));return t}function Sg(t,e){switch(tt(El,e),tt(_l,t),tt(gr,$l),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dp(e,t)}st(gr),tt(gr,e)}function Ts(){st(gr),st(_l),st(El)}function nT(t){lo(El.current);var e=lo(gr.current),n=dp(e,t.type);e!==n&&(tt(_l,t),tt(gr,n))}function Ag(t){_l.current===t&&(st(gr),st(_l))}var ft=Bi(0);function zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var md=[];function Og(){for(var t=0;t<md.length;t++)md[t]._workInProgressVersionPrimary=null;md.length=0}var sc=Wr.ReactCurrentDispatcher,gd=Wr.ReactCurrentBatchConfig,Eo=0,ht=null,Pt=null,Dt=null,Hc=!1,Ja=!1,wl=0,TR=0;function Xt(){throw Error(ue(321))}function Ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function Pg(t,e,n,r,i,o){if(Eo=o,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sc.current=t===null||t.memoizedState===null?OR:IR,t=n(r,i),Ja){o=0;do{if(Ja=!1,wl=0,25<=o)throw Error(ue(301));o+=1,Dt=Pt=null,e.updateQueue=null,sc.current=PR,t=n(r,i)}while(Ja)}if(sc.current=Wc,e=Pt!==null&&Pt.next!==null,Eo=0,Dt=Pt=ht=null,Hc=!1,e)throw Error(ue(300));return t}function Rg(){var t=wl!==0;return wl=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ht.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function zn(){if(Pt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Pt.next;var e=Dt===null?ht.memoizedState:Dt.next;if(e!==null)Dt=e,Pt=t;else{if(t===null)throw Error(ue(310));Pt=t,t={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?ht.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Tl(t,e){return typeof e=="function"?e(t):e}function vd(t){var e=zn(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var f=u.lane;if((Eo&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,ht.lanes|=f,wo|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ir(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ht.lanes|=o,wo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yd(t){var e=zn(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ir(o,e.memoizedState)||(En=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function rT(){}function iT(t,e){var n=ht,r=zn(),i=e(),o=!ir(r.memoizedState,i);if(o&&(r.memoizedState=i,En=!0),r=r.queue,kg(aT.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,bl(9,sT.bind(null,n,r,i,e),void 0,null),Mt===null)throw Error(ue(349));Eo&30||oT(n,e,i)}return i}function oT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sT(t,e,n,r){e.value=n,e.getSnapshot=r,lT(e)&&uT(t)}function aT(t,e,n){return n(function(){lT(e)&&uT(t)})}function lT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function uT(t){var e=Vr(t,1);e!==null&&rr(e,t,1,-1)}function T_(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=AR.bind(null,ht,t),[e.memoizedState,t]}function bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function cT(){return zn().memoizedState}function ac(t,e,n,r){var i=dr();ht.flags|=t,i.memoizedState=bl(1|e,n,void 0,r===void 0?null:r)}function Qf(t,e,n,r){var i=zn();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var s=Pt.memoizedState;if(o=s.destroy,r!==null&&Ig(r,s.deps)){i.memoizedState=bl(e,n,o,r);return}}ht.flags|=t,i.memoizedState=bl(1|e,n,o,r)}function b_(t,e){return ac(8390656,8,t,e)}function kg(t,e){return Qf(2048,8,t,e)}function fT(t,e){return Qf(4,2,t,e)}function hT(t,e){return Qf(4,4,t,e)}function dT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pT(t,e,n){return n=n!=null?n.concat([t]):null,Qf(4,4,dT.bind(null,e,t),n)}function Cg(){}function mT(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gT(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ig(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function vT(t,e,n){return Eo&21?(ir(n,e)||(n=Tw(),ht.lanes|=n,wo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function bR(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=gd.transition;gd.transition={};try{t(!1),e()}finally{Qe=n,gd.transition=r}}function yT(){return zn().memoizedState}function SR(t,e,n){var r=Si(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_T(t))ET(e,n);else if(n=eT(t,e,n,r),n!==null){var i=fn();rr(n,t,r,i),wT(n,e,r)}}function AR(t,e,n){var r=Si(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_T(t))ET(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ir(a,s)){var l=e.interleaved;l===null?(i.next=i,Tg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eT(t,e,i,r),n!==null&&(i=fn(),rr(n,t,r,i),wT(n,e,r))}}function _T(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function ET(t,e){Ja=Hc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lg(t,n)}}var Wc={readContext:$n,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},OR={readContext:$n,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:b_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ac(4194308,4,dT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ac(4194308,4,t,e)},useInsertionEffect:function(t,e){return ac(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SR.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:T_,useDebugValue:Cg,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=T_(!1),e=t[0];return t=bR.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=dr();if(lt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Mt===null)throw Error(ue(349));Eo&30||oT(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,b_(aT.bind(null,r,o,t),[t]),r.flags|=2048,bl(9,sT.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=dr(),e=Mt.identifierPrefix;if(lt){var n=Cr,r=kr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IR={readContext:$n,useCallback:mT,useContext:$n,useEffect:kg,useImperativeHandle:pT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:vd,useRef:cT,useState:function(){return vd(Tl)},useDebugValue:Cg,useDeferredValue:function(t){var e=zn();return vT(e,Pt.memoizedState,t)},useTransition:function(){var t=vd(Tl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:yT,unstable_isNewReconciler:!1},PR={readContext:$n,useCallback:mT,useContext:$n,useEffect:kg,useImperativeHandle:pT,useInsertionEffect:fT,useLayoutEffect:hT,useMemo:gT,useReducer:yd,useRef:cT,useState:function(){return yd(Tl)},useDebugValue:Cg,useDeferredValue:function(t){var e=zn();return Pt===null?e.memoizedState=t:vT(e,Pt.memoizedState,t)},useTransition:function(){var t=yd(Tl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:rT,useSyncExternalStore:iT,useId:yT,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yf={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Si(t),o=Mr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(rr(e,t,i,r),oc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fn(),i=Si(t),o=Mr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ti(t,o,i),e!==null&&(rr(e,t,i,r),oc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fn(),r=Si(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ti(t,i,r),e!==null&&(rr(e,t,r,n),oc(e,t,r))}};function S_(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,o):!0}function TT(t,e,n){var r=!1,i=Ni,o=e.contextType;return typeof o=="object"&&o!==null?o=$n(o):(i=Tn(e)?yo:sn.current,r=e.contextTypes,o=(r=r!=null)?_s(t,i):Ni),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function A_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function Dp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bg(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$n(o):(o=Tn(e)?yo:sn.current,i.context=_s(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yf.enqueueReplaceState(i,i.state,null),$c(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function bs(t,e){try{var n="",r=e;do n+=nP(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function _d(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RR=typeof WeakMap=="function"?WeakMap:Map;function bT(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gc||(Gc=!0,Wp=r),Mp(t,e)},n}function ST(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mp(t,e),typeof r!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function O_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$R.bind(null,t,e,n),e.then(t,t))}function I_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var kR=Wr.ReactCurrentOwner,En=!1;function cn(t,e,n,r){e.child=t===null?Zw(e,null,n,r):ws(e,t.child,n,r)}function R_(t,e,n,r,i){n=n.render;var o=e.ref;return cs(e,i),r=Pg(t,e,n,r,o,i),n=Rg(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(lt&&n&&gg(e),e.flags|=1,cn(t,e,r,i),e.child)}function k_(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ug(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,AT(t,e,o,r,i)):(t=fc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(s,r)&&t.ref===e.ref)return Br(t,e,i)}return e.flags|=1,t=Ai(o,r),t.ref=e.ref,t.return=e,e.child=t}function AT(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ml(o,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Br(t,e,i)}return jp(t,e,n,r,i)}function OT(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(is,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(is,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(is,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,tt(is,Rn),Rn|=r;return cn(t,e,i,n),e.child}function IT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jp(t,e,n,r,i){var o=Tn(n)?yo:sn.current;return o=_s(e,o),cs(e,i),n=Pg(t,e,n,r,o,i),r=Rg(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Br(t,e,i)):(lt&&r&&gg(e),e.flags|=1,cn(t,e,n,i),e.child)}function C_(t,e,n,r,i){if(Tn(n)){var o=!0;Fc(e)}else o=!1;if(cs(e,i),e.stateNode===null)lc(t,e),TT(e,n,r),Dp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=$n(u):(u=Tn(n)?yo:sn.current,u=_s(e,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&A_(e,s,r,u),oi=!1;var d=e.memoizedState;s.state=d,$c(e,r,s,i),l=e.memoizedState,a!==r||d!==l||wn.current||oi?(typeof f=="function"&&(Lp(e,n,f,r),l=e.memoizedState),(a=oi||S_(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,tT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zn(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=Tn(n)?yo:sn.current,l=_s(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&A_(e,s,r,l),oi=!1,d=e.memoizedState,s.state=d,$c(e,r,s,i);var _=e.memoizedState;a!==h||d!==_||wn.current||oi?(typeof m=="function"&&(Lp(e,n,m,r),_=e.memoizedState),(u=oi||S_(e,n,u,r,d,_,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Fp(t,e,n,r,o,i)}function Fp(t,e,n,r,i,o){IT(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&g_(e,n,!1),Br(t,e,o);r=e.stateNode,kR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ws(e,t.child,null,o),e.child=ws(e,null,a,o)):cn(t,e,a,o),e.memoizedState=r.state,i&&g_(e,n,!0),e.child}function PT(t){var e=t.stateNode;e.pendingContext?m_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m_(t,e.context,!1),Sg(t,e.containerInfo)}function x_(t,e,n,r,i){return Es(),yg(i),e.flags|=256,cn(t,e,n,r),e.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function Vp(t){return{baseLanes:t,cachePool:null,transitions:null}}function RT(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(ft,i&1),t===null)return xp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Zf(s,r,0,null),t=po(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Vp(n),e.memoizedState=Up,t):xg(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ai(a,o):(o=po(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Vp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Up,r}return o=t.child,t=o.sibling,r=Ai(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xg(t,e){return e=Zf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bu(t,e,n,r){return r!==null&&yg(r),ws(e,t.child,null,n),t=xg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=_d(Error(ue(422))),Bu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Zf({mode:"visible",children:r.children},i,0,null),o=po(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ws(e,t.child,null,s),e.child.memoizedState=Vp(s),e.memoizedState=Up,o);if(!(e.mode&1))return Bu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ue(419)),r=_d(o,r,void 0),Bu(t,e,s,r)}if(a=(s&t.childLanes)!==0,En||a){if(r=Mt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vr(t,i),rr(r,t,i,-1))}return Fg(),r=_d(Error(ue(421))),Bu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zR.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kn=wi(i.nextSibling),xn=e,lt=!0,tr=null,t!==null&&(Un[Vn++]=kr,Un[Vn++]=Cr,Un[Vn++]=_o,kr=t.id,Cr=t.overflow,_o=e),e=xg(e,r.children),e.flags|=4096,e)}function N_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Np(t.return,e,n)}function Ed(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function kT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(cn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N_(t,n,e);else if(t.tag===19)N_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ed(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ed(e,!0,n,null,o);break;case"together":Ed(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xR(t,e,n){switch(e.tag){case 3:PT(e),Es();break;case 5:nT(e);break;case 1:Tn(e.type)&&Fc(e);break;case 4:Sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Bc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?RT(t,e,n):(tt(ft,ft.current&1),t=Br(t,e,n),t!==null?t.sibling:null);tt(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,OT(t,e,n)}return Br(t,e,n)}var CT,Bp,xT,NT;CT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};xT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lo(gr.current);var o=null;switch(n){case"input":i=up(t,i),r=up(t,r),o=[];break;case"select":i=dt({},i,{value:void 0}),r=dt({},r,{value:void 0}),o=[];break;case"textarea":i=hp(t,i),r=hp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mc)}pp(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ll.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ll.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};NT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Aa(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NR(t,e,n){var r=e.pendingProps;switch(vg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Tn(e.type)&&jc(),Jt(e),null;case 3:return r=e.stateNode,Ts(),st(wn),st(sn),Og(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(Qp(tr),tr=null))),Bp(t,e),Jt(e),null;case 5:Ag(e);var i=lo(El.current);if(n=e.type,t!==null&&e.stateNode!=null)xT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return Jt(e),null}if(t=lo(gr.current),Uu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[pr]=e,r[yl]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Va.length;i++)rt(Va[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":qy(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":zy(r,o),rt("invalid",r)}pp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Fu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Fu(r.textContent,a,t),i=["children",""+a]):ll.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&rt("scroll",r)}switch(n){case"input":ku(r),$y(r,o,!0);break;case"textarea":ku(r),Hy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[pr]=e,t[yl]=r,CT(t,e,!1,!1),e.stateNode=t;e:{switch(s=mp(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Va.length;i++)rt(Va[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":qy(t,r),i=up(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":zy(t,r),i=hp(t,r),rt("invalid",t);break;default:i=r}pp(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?cw(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lw(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ul(t,l):typeof l=="number"&&ul(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ll.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&ng(t,o,l,s))}switch(n){case"input":ku(t),$y(t,r,!1);break;case"textarea":ku(t),Hy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ss(t,!!r.multiple,o,!1):r.defaultValue!=null&&ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)NT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=lo(El.current),lo(gr.current),Uu(e)){if(r=e.stateNode,n=e.memoizedProps,r[pr]=e,(o=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Fu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=e,e.stateNode=r}return Jt(e),null;case 13:if(st(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&kn!==null&&e.mode&1&&!(e.flags&128))Xw(),Es(),e.flags|=98560,o=!1;else if(o=Uu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[pr]=e}else Es(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),o=!1}else tr!==null&&(Qp(tr),tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Rt===0&&(Rt=3):Fg())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Ts(),Bp(t,e),t===null&&gl(e.stateNode.containerInfo),Jt(e),null;case 10:return wg(e.type._context),Jt(e),null;case 17:return Tn(e.type)&&jc(),Jt(e),null;case 19:if(st(ft),o=e.memoizedState,o===null)return Jt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Aa(o,!1);else{if(Rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zc(t),s!==null){for(e.flags|=128,Aa(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Ss&&(e.flags|=128,r=!0,Aa(o,!1),e.lanes=4194304)}else{if(!r)if(t=zc(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lt)return Jt(e),null}else 2*Tt()-o.renderingStartTime>Ss&&n!==1073741824&&(e.flags|=128,r=!0,Aa(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=ft.current,tt(ft,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function LR(t,e){switch(vg(e),e.tag){case 1:return Tn(e.type)&&jc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ts(),st(wn),st(sn),Og(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ag(e),null;case 13:if(st(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Es()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ft),null;case 4:return Ts(),null;case 10:return wg(e.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var qu=!1,nn=!1,DR=typeof WeakSet=="function"?WeakSet:Set,ge=null;function rs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function qp(t,e,n){try{n()}catch(r){yt(t,e,r)}}var L_=!1;function MR(t,e){if(Ap=Nc,t=Fw(),mg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,f=0,h=t,d=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++f===r&&(l=s),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Op={focusedElem:t,selectionRange:n},Nc=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,w=_.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Zn(e.type,v),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(y){yt(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return _=L_,L_=!1,_}function Za(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&qp(e,n,o)}i=i.next}while(i!==r)}}function Xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $p(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function LT(t){var e=t.alternate;e!==null&&(t.alternate=null,LT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pr],delete e[yl],delete e[Rp],delete e[yR],delete e[_R])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DT(t){return t.tag===5||t.tag===3||t.tag===4}function D_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mc));else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}function Hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}var Vt=null,er=!1;function ti(t,e,n){for(n=n.child;n!==null;)MT(t,e,n),n=n.sibling}function MT(t,e,n){if(mr&&typeof mr.onCommitFiberUnmount=="function")try{mr.onCommitFiberUnmount($f,n)}catch{}switch(n.tag){case 5:nn||rs(n,e);case 6:var r=Vt,i=er;Vt=null,ti(t,e,n),Vt=r,er=i,Vt!==null&&(er?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(er?(t=Vt,n=n.stateNode,t.nodeType===8?dd(t.parentNode,n):t.nodeType===1&&dd(t,n),dl(t)):dd(Vt,n.stateNode));break;case 4:r=Vt,i=er,Vt=n.stateNode.containerInfo,er=!0,ti(t,e,n),Vt=r,er=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&qp(n,e,s),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!nn&&(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,ti(t,e,n),nn=r):ti(t,e,n);break;default:ti(t,e,n)}}function M_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DR),e.forEach(function(r){var i=HR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,er=!1;break e;case 3:Vt=a.stateNode.containerInfo,er=!0;break e;case 4:Vt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(Vt===null)throw Error(ue(160));MT(o,s,i),Vt=null,er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jT(e,t),e=e.sibling}function jT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),fr(t),r&4){try{Za(3,t,t.return),Xf(3,t)}catch(v){yt(t,t.return,v)}try{Za(5,t,t.return)}catch(v){yt(t,t.return,v)}}break;case 1:Qn(e,t),fr(t),r&512&&n!==null&&rs(n,n.return);break;case 5:if(Qn(e,t),fr(t),r&512&&n!==null&&rs(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(v){yt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ow(i,o),mp(a,s);var u=mp(a,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];f==="style"?cw(i,h):f==="dangerouslySetInnerHTML"?lw(i,h):f==="children"?ul(i,h):ng(i,f,h,u)}switch(a){case"input":cp(i,o);break;case"textarea":sw(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ss(i,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?ss(i,!!o.multiple,o.defaultValue,!0):ss(i,!!o.multiple,o.multiple?[]:"",!1))}i[yl]=o}catch(v){yt(t,t.return,v)}}break;case 6:if(Qn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){yt(t,t.return,v)}}break;case 3:if(Qn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dl(e.containerInfo)}catch(v){yt(t,t.return,v)}break;case 4:Qn(e,t),fr(t);break;case 13:Qn(e,t),fr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dg=Tt())),r&4&&M_(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(u=nn)||f,Qn(e,t),nn=u):Qn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(ge=t,f=t.child;f!==null;){for(h=ge=f;ge!==null;){switch(d=ge,m=d.child,d.tag){case 0:case 11:case 14:case 15:Za(4,d,d.return);break;case 1:rs(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){yt(r,n,v)}}break;case 5:rs(d,d.return);break;case 22:if(d.memoizedState!==null){F_(h);continue}}m!==null?(m.return=d,ge=m):F_(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uw("display",s))}catch(v){yt(t,t.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){yt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(e,t),fr(t),r&4&&M_(t);break;case 21:break;default:Qn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DT(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var o=D_(t);Hp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=D_(t);zp(t,a,s);break;default:throw Error(ue(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jR(t,e,n){ge=t,FT(t)}function FT(t,e,n){for(var r=(t.mode&1)!==0;ge!==null;){var i=ge,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||qu;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nn;a=qu;var u=nn;if(qu=s,(nn=l)&&!u)for(ge=i;ge!==null;)s=ge,l=s.child,s.tag===22&&s.memoizedState!==null?U_(i):l!==null?(l.return=s,ge=l):U_(i);for(;o!==null;)ge=o,FT(o),o=o.sibling;ge=i,qu=a,nn=u}j_(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ge=o):j_(t)}}function j_(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&w_(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}w_(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}nn||e.flags&512&&$p(e)}catch(d){yt(e,e.return,d)}}if(e===t){ge=null;break}if(n=e.sibling,n!==null){n.return=e.return,ge=n;break}ge=e.return}}function F_(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ge=n;break}ge=e.return}}function U_(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xf(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var o=e.return;try{$p(e)}catch(l){yt(e,o,l)}break;case 5:var s=e.return;try{$p(e)}catch(l){yt(e,s,l)}}}catch(l){yt(e,e.return,l)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var FR=Math.ceil,Kc=Wr.ReactCurrentDispatcher,Ng=Wr.ReactCurrentOwner,qn=Wr.ReactCurrentBatchConfig,$e=0,Mt=null,At=null,zt=0,Rn=0,is=Bi(0),Rt=0,Sl=null,wo=0,Jf=0,Lg=0,el=null,yn=null,Dg=0,Ss=1/0,Pr=null,Gc=!1,Wp=null,bi=null,$u=!1,mi=null,Qc=0,tl=0,Kp=null,uc=-1,cc=0;function fn(){return $e&6?Tt():uc!==-1?uc:uc=Tt()}function Si(t){return t.mode&1?$e&2&&zt!==0?zt&-zt:wR.transition!==null?(cc===0&&(cc=Tw()),cc):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Rw(t.type)),t):1}function rr(t,e,n,r){if(50<tl)throw tl=0,Kp=null,Error(ue(185));Vl(t,n,r),(!($e&2)||t!==Mt)&&(t===Mt&&(!($e&2)&&(Jf|=n),Rt===4&&ui(t,zt)),bn(t,r),n===1&&$e===0&&!(e.mode&1)&&(Ss=Tt()+500,Gf&&qi()))}function bn(t,e){var n=t.callbackNode;wP(t,e);var r=xc(t,t===Mt?zt:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?ER(V_.bind(null,t)):Gw(V_.bind(null,t)),gR(function(){!($e&6)&&qi()}),n=null;else{switch(bw(r)){case 1:n=ag;break;case 4:n=Ew;break;case 16:n=Cc;break;case 536870912:n=ww;break;default:n=Cc}n=WT(n,UT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function UT(t,e){if(uc=-1,cc=0,$e&6)throw Error(ue(327));var n=t.callbackNode;if(fs()&&t.callbackNode!==n)return null;var r=xc(t,t===Mt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yc(t,r);else{e=r;var i=$e;$e|=2;var o=BT();(Mt!==t||zt!==e)&&(Pr=null,Ss=Tt()+500,ho(t,e));do try{BR();break}catch(a){VT(t,a)}while(!0);Eg(),Kc.current=o,$e=i,At!==null?e=0:(Mt=null,zt=0,e=Rt)}if(e!==0){if(e===2&&(i=Ep(t),i!==0&&(r=i,e=Gp(t,i))),e===1)throw n=Sl,ho(t,0),ui(t,r),bn(t,Tt()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!UR(i)&&(e=Yc(t,r),e===2&&(o=Ep(t),o!==0&&(r=o,e=Gp(t,o))),e===1))throw n=Sl,ho(t,0),ui(t,r),bn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:to(t,yn,Pr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=Dg+500-Tt(),10<e)){if(xc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Pp(to.bind(null,t,yn,Pr),e);break}to(t,yn,Pr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-nr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FR(r/1960))-r,10<r){t.timeoutHandle=Pp(to.bind(null,t,yn,Pr),r);break}to(t,yn,Pr);break;case 5:to(t,yn,Pr);break;default:throw Error(ue(329))}}}return bn(t,Tt()),t.callbackNode===n?UT.bind(null,t):null}function Gp(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=Yc(t,e),t!==2&&(e=yn,yn=n,e!==null&&Qp(e)),t}function Qp(t){yn===null?yn=t:yn.push.apply(yn,t)}function UR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ir(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~Lg,e&=~Jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function V_(t){if($e&6)throw Error(ue(327));fs();var e=xc(t,0);if(!(e&1))return bn(t,Tt()),null;var n=Yc(t,e);if(t.tag!==0&&n===2){var r=Ep(t);r!==0&&(e=r,n=Gp(t,r))}if(n===1)throw n=Sl,ho(t,0),ui(t,e),bn(t,Tt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,to(t,yn,Pr),bn(t,Tt()),null}function Mg(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Ss=Tt()+500,Gf&&qi())}}function To(t){mi!==null&&mi.tag===0&&!($e&6)&&fs();var e=$e;$e|=1;var n=qn.transition,r=Qe;try{if(qn.transition=null,Qe=1,t)return t()}finally{Qe=r,qn.transition=n,$e=e,!($e&6)&&qi()}}function jg(){Rn=is.current,st(is)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mR(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(vg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jc();break;case 3:Ts(),st(wn),st(sn),Og();break;case 5:Ag(r);break;case 4:Ts();break;case 13:st(ft);break;case 19:st(ft);break;case 10:wg(r.type._context);break;case 22:case 23:jg()}n=n.return}if(Mt=t,At=t=Ai(t.current,null),zt=Rn=e,Rt=0,Sl=null,Lg=Jf=wo=0,yn=el=null,ao!==null){for(e=0;e<ao.length;e++)if(n=ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ao=null}return t}function VT(t,e){do{var n=At;try{if(Eg(),sc.current=Wc,Hc){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Hc=!1}if(Eo=0,Dt=Pt=ht=null,Ja=!1,wl=0,Ng.current=null,n===null||n.return===null){Rt=1,Sl=e,At=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=I_(s);if(m!==null){m.flags&=-257,P_(m,s,a,o,e),m.mode&1&&O_(o,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){O_(o,u,e),Fg();break e}l=Error(ue(426))}}else if(lt&&a.mode&1){var w=I_(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),P_(w,s,a,o,e),yg(bs(l,a));break e}}o=l=bs(l,a),Rt!==4&&(Rt=2),el===null?el=[o]:el.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=bT(o,l,e);E_(o,g);break e;case 1:a=l;var p=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(bi===null||!bi.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var y=ST(o,a,e);E_(o,y);break e}}o=o.return}while(o!==null)}$T(n)}catch(O){e=O,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function BT(){var t=Kc.current;return Kc.current=Wc,t===null?Wc:t}function Fg(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Mt===null||!(wo&268435455)&&!(Jf&268435455)||ui(Mt,zt)}function Yc(t,e){var n=$e;$e|=2;var r=BT();(Mt!==t||zt!==e)&&(Pr=null,ho(t,e));do try{VR();break}catch(i){VT(t,i)}while(!0);if(Eg(),$e=n,Kc.current=r,At!==null)throw Error(ue(261));return Mt=null,zt=0,Rt}function VR(){for(;At!==null;)qT(At)}function BR(){for(;At!==null&&!hP();)qT(At)}function qT(t){var e=HT(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?$T(t):At=e,Ng.current=null}function $T(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LR(n,e),n!==null){n.flags&=32767,At=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rt=6,At=null;return}}else if(n=NR(n,e,Rn),n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Rt===0&&(Rt=5)}function to(t,e,n){var r=Qe,i=qn.transition;try{qn.transition=null,Qe=1,qR(t,e,n,r)}finally{qn.transition=i,Qe=r}return null}function qR(t,e,n,r){do fs();while(mi!==null);if($e&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(TP(t,o),t===Mt&&(At=Mt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$u||($u=!0,WT(Cc,function(){return fs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=qn.transition,qn.transition=null;var s=Qe;Qe=1;var a=$e;$e|=4,Ng.current=null,MR(t,n),jT(n,t),lR(Op),Nc=!!Ap,Op=Ap=null,t.current=n,jR(n),dP(),$e=a,Qe=s,qn.transition=o}else t.current=n;if($u&&($u=!1,mi=t,Qc=i),o=t.pendingLanes,o===0&&(bi=null),gP(n.stateNode),bn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,t=Wp,Wp=null,t;return Qc&1&&t.tag!==0&&fs(),o=t.pendingLanes,o&1?t===Kp?tl++:(tl=0,Kp=t):tl=0,qi(),null}function fs(){if(mi!==null){var t=bw(Qc),e=qn.transition,n=Qe;try{if(qn.transition=null,Qe=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,Qc=0,$e&6)throw Error(ue(331));var i=$e;for($e|=4,ge=t.current;ge!==null;){var o=ge,s=o.child;if(ge.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ge=u;ge!==null;){var f=ge;switch(f.tag){case 0:case 11:case 15:Za(8,f,o)}var h=f.child;if(h!==null)h.return=f,ge=h;else for(;ge!==null;){f=ge;var d=f.sibling,m=f.return;if(LT(f),f===u){ge=null;break}if(d!==null){d.return=m,ge=d;break}ge=m}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ge=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ge=s;else e:for(;ge!==null;){if(o=ge,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Za(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,ge=g;break e}ge=o.return}}var p=t.current;for(ge=p;ge!==null;){s=ge;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ge=E;else e:for(s=p;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xf(9,a)}}catch(O){yt(a,a.return,O)}if(a===s){ge=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,ge=y;break e}ge=a.return}}if($e=i,qi(),mr&&typeof mr.onPostCommitFiberRoot=="function")try{mr.onPostCommitFiberRoot($f,t)}catch{}r=!0}return r}finally{Qe=n,qn.transition=e}}return!1}function B_(t,e,n){e=bs(n,e),e=bT(t,e,1),t=Ti(t,e,1),e=fn(),t!==null&&(Vl(t,1,e),bn(t,e))}function yt(t,e,n){if(t.tag===3)B_(t,t,n);else for(;e!==null;){if(e.tag===3){B_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bi===null||!bi.has(r))){t=bs(n,t),t=ST(e,t,1),e=Ti(e,t,1),t=fn(),e!==null&&(Vl(e,1,t),bn(e,t));break}}e=e.return}}function $R(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fn(),t.pingedLanes|=t.suspendedLanes&n,Mt===t&&(zt&n)===n&&(Rt===4||Rt===3&&(zt&130023424)===zt&&500>Tt()-Dg?ho(t,0):Lg|=n),bn(t,e)}function zT(t,e){e===0&&(t.mode&1?(e=Nu,Nu<<=1,!(Nu&130023424)&&(Nu=4194304)):e=1);var n=fn();t=Vr(t,e),t!==null&&(Vl(t,e,n),bn(t,n))}function zR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zT(t,n)}function HR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),zT(t,n)}var HT;HT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,xR(t,e,n);En=!!(t.flags&131072)}else En=!1,lt&&e.flags&1048576&&Qw(e,Vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lc(t,e),t=e.pendingProps;var i=_s(e,sn.current);cs(e,n),i=Pg(null,e,r,t,i,n);var o=Rg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(o=!0,Fc(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bg(e),i.updater=Yf,e.stateNode=i,i._reactInternals=e,Dp(e,r,t,n),e=Fp(null,e,r,!0,o,n)):(e.tag=0,lt&&o&&gg(e),cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KR(r),t=Zn(r,t),i){case 0:e=jp(null,e,r,t,n);break e;case 1:e=C_(null,e,r,t,n);break e;case 11:e=R_(null,e,r,t,n);break e;case 14:e=k_(null,e,r,Zn(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),jp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),C_(t,e,r,i,n);case 3:e:{if(PT(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,i=o.element,tT(t,e),$c(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=bs(Error(ue(423)),e),e=x_(t,e,r,n,i);break e}else if(r!==i){i=bs(Error(ue(424)),e),e=x_(t,e,r,n,i);break e}else for(kn=wi(e.stateNode.containerInfo.firstChild),xn=e,lt=!0,tr=null,n=Zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Es(),r===i){e=Br(t,e,n);break e}cn(t,e,r,n)}e=e.child}return e;case 5:return nT(e),t===null&&xp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ip(r,i)?s=null:o!==null&&Ip(r,o)&&(e.flags|=32),IT(t,e),cn(t,e,s,n),e.child;case 6:return t===null&&xp(e),null;case 13:return RT(t,e,n);case 4:return Sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ws(e,null,r,n):cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),R_(t,e,r,i,n);case 7:return cn(t,e,e.pendingProps,n),e.child;case 8:return cn(t,e,e.pendingProps.children,n),e.child;case 12:return cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tt(Bc,r._currentValue),r._currentValue=s,o!==null)if(ir(o.value,s)){if(o.children===i.children&&!wn.current){e=Br(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Np(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Np(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cs(e,n),i=$n(i),r=r(i),e.flags|=1,cn(t,e,r,n),e.child;case 14:return r=e.type,i=Zn(r,e.pendingProps),i=Zn(r.type,i),k_(t,e,r,i,n);case 15:return AT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zn(r,i),lc(t,e),e.tag=1,Tn(r)?(t=!0,Fc(e)):t=!1,cs(e,n),TT(e,r,i),Dp(e,r,i,n),Fp(null,e,r,!0,t,n);case 19:return kT(t,e,n);case 22:return OT(t,e,n)}throw Error(ue(156,e.tag))};function WT(t,e){return _w(t,e)}function WR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new WR(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ig)return 11;if(t===og)return 14}return 2}function Ai(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ug(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Go:return po(n.children,i,o,e);case rg:s=8,i|=8;break;case op:return t=Bn(12,n,e,i|2),t.elementType=op,t.lanes=o,t;case sp:return t=Bn(13,n,e,i),t.elementType=sp,t.lanes=o,t;case ap:return t=Bn(19,n,e,i),t.elementType=ap,t.lanes=o,t;case nw:return Zf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ew:s=10;break e;case tw:s=9;break e;case ig:s=11;break e;case og:s=14;break e;case ii:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=Bn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function po(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function Zf(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=nw,t.lanes=n,t.stateNode={isHidden:!1},t}function wd(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Td(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vg(t,e,n,r,i,o,s,a,l){return t=new GR(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bg(o),t}function QR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KT(t){if(!t)return Ni;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Tn(n))return Kw(t,n,e)}return e}function GT(t,e,n,r,i,o,s,a,l){return t=Vg(n,r,!0,t,i,o,s,a,l),t.context=KT(null),n=t.current,r=fn(),i=Si(n),o=Mr(r,i),o.callback=e??null,Ti(n,o,i),t.current.lanes=i,Vl(t,i,r),bn(t,r),t}function eh(t,e,n,r){var i=e.current,o=fn(),s=Si(i);return n=KT(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(i,e,s),t!==null&&(rr(t,i,s,o),oc(t,i,s)),s}function Xc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bg(t,e){q_(t,e),(t=t.alternate)&&q_(t,e)}function YR(){return null}var QT=typeof reportError=="function"?reportError:function(t){console.error(t)};function qg(t){this._internalRoot=t}th.prototype.render=qg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));eh(t,e,null,null)};th.prototype.unmount=qg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;To(function(){eh(null,t,null,null)}),e[Ur]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ow();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&Pw(t)}};function $g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $_(){}function XR(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xc(s);o.call(u)}}var s=GT(e,r,t,0,null,!1,!1,"",$_);return t._reactRootContainer=s,t[Ur]=s.current,gl(t.nodeType===8?t.parentNode:t),To(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Xc(l);a.call(u)}}var l=Vg(t,0,!1,null,null,!1,!1,"",$_);return t._reactRootContainer=l,t[Ur]=l.current,gl(t.nodeType===8?t.parentNode:t),To(function(){eh(e,l,n,r)}),l}function rh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Xc(s);a.call(l)}}eh(e,s,t,i)}else s=XR(n,e,t,i,r);return Xc(s)}Sw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ua(e.pendingLanes);n!==0&&(lg(e,n|1),bn(e,Tt()),!($e&6)&&(Ss=Tt()+500,qi()))}break;case 13:To(function(){var r=Vr(t,1);if(r!==null){var i=fn();rr(r,t,1,i)}}),Bg(t,1)}};ug=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=fn();rr(e,t,134217728,n)}Bg(t,134217728)}};Aw=function(t){if(t.tag===13){var e=Si(t),n=Vr(t,e);if(n!==null){var r=fn();rr(n,t,e,r)}Bg(t,e)}};Ow=function(){return Qe};Iw=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};vp=function(t,e,n){switch(e){case"input":if(cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Kf(r);if(!i)throw Error(ue(90));iw(r),cp(r,i)}}}break;case"textarea":sw(t,n);break;case"select":e=n.value,e!=null&&ss(t,!!n.multiple,e,!1)}};dw=Mg;pw=To;var JR={usingClientEntryPoint:!1,Events:[ql,Jo,Kf,fw,hw,Mg]},Oa={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZR={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||YR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{$f=zu.inject(ZR),mr=zu}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JR;Mn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(e))throw Error(ue(200));return QR(t,e,null,n)};Mn.createRoot=function(t,e){if(!$g(t))throw Error(ue(299));var n=!1,r="",i=QT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vg(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,gl(t.nodeType===8?t.parentNode:t),new qg(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=vw(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return To(t)};Mn.hydrate=function(t,e,n){if(!nh(e))throw Error(ue(200));return rh(null,t,e,!0,n)};Mn.hydrateRoot=function(t,e,n){if(!$g(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=QT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=GT(e,null,t,1,n??null,i,!1,o,s),t[Ur]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new th(e)};Mn.render=function(t,e,n){if(!nh(e))throw Error(ue(200));return rh(null,t,e,!1,n)};Mn.unmountComponentAtNode=function(t){if(!nh(t))throw Error(ue(40));return t._reactRootContainer?(To(function(){rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};Mn.unstable_batchedUpdates=Mg;Mn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nh(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return rh(t,e,n,!1,r)};Mn.version="18.3.1-next-f1338f8080-20240426";function YT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YT)}catch(t){console.error(t)}}YT(),YE.exports=Mn;var zg=YE.exports;const ek=qf(zg);var z_=zg;rp.createRoot=z_.createRoot,rp.hydrateRoot=z_.hydrateRoot;var XT={exports:{}},ih={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=se,nk=Symbol.for("react.element"),rk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,ok=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sk={key:!0,ref:!0,__self:!0,__source:!0};function JT(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ik.call(e,r)&&!sk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nk,type:t,key:o,ref:s,props:i,_owner:ok.current}}ih.Fragment=rk;ih.jsx=JT;ih.jsxs=JT;XT.exports=ih;var $=XT.exports;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}var gi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gi||(gi={}));const H_="popstate";function ak(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Yp("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jc(i)}return uk(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lk(){return Math.random().toString(36).substr(2,8)}function W_(t,e){return{usr:t.state,key:t.key,idx:e}}function Yp(t,e,n,r){return n===void 0&&(n=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qs(e):e,{state:n,key:e&&e.key||r||lk()})}function Jc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function uk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=gi.Pop,l=null,u=f();u==null&&(u=0,s.replaceState(Al({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function h(){a=gi.Pop;let w=f(),g=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:g})}function d(w,g){a=gi.Push;let p=Yp(v.location,w,g);u=f()+1;let E=W_(p,u),y=v.createHref(p);try{s.pushState(E,"",y)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(y)}o&&l&&l({action:a,location:v.location,delta:1})}function m(w,g){a=gi.Replace;let p=Yp(v.location,w,g);u=f();let E=W_(p,u),y=v.createHref(p);s.replaceState(E,"",y),o&&l&&l({action:a,location:v.location,delta:0})}function _(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof w=="string"?w:Jc(w);return p=p.replace(/ $/,"%20"),bt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let v={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(H_,h),l=w,()=>{i.removeEventListener(H_,h),l=null}},createHref(w){return e(i,w)},createURL:_,encodeLocation(w){let g=_(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:m,go(w){return s.go(w)}};return v}var K_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K_||(K_={}));function ck(t,e,n){return n===void 0&&(n="/"),fk(t,e,n,!1)}function fk(t,e,n,r){let i=typeof e=="string"?qs(e):e,o=Hg(i.pathname||"/",n);if(o==null)return null;let s=eb(t);hk(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=bk(o);a=wk(s[l],u,r)}return a}function eb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eb(o.children,e,f,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:_k(u,o.index),routesMeta:f})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of tb(o.path))i(o,s,l)}),e}function tb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=tb(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ek(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const dk=/^:[\w-]+$/,pk=3,mk=2,gk=1,vk=10,yk=-2,G_=t=>t==="*";function _k(t,e){let n=t.split("/"),r=n.length;return n.some(G_)&&(r+=yk),e&&(r+=mk),n.filter(i=>!G_(i)).reduce((i,o)=>i+(dk.test(o)?pk:o===""?gk:vk),r)}function Ek(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function wk(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),d=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=Q_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:Oi([o,h.pathname]),pathnameBase:Ik(Oi([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=Oi([o,h.pathnameBase]))}return s}function Q_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:d,isOptional:m}=f;if(d==="*"){let v=a[h]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[h];return m&&!_?u[d]=void 0:u[d]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Tk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Sk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qs(t):t;return{pathname:n?n.startsWith("/")?n:Ak(n,e):e,search:Pk(r),hash:Rk(i)}}function Ak(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ok(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wg(t,e){let n=Ok(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Kg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qs(t):(i=Al({},t),bt(!i.pathname||!i.pathname.includes("?"),bd("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),bd("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),bd("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=Sk(i,a),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),Ik=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Pk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Rk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nb=["post","put","patch","delete"];new Set(nb);const Ck=["get",...nb];new Set(Ck);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(this,arguments)}const Gg=se.createContext(null),xk=se.createContext(null),$i=se.createContext(null),oh=se.createContext(null),Kr=se.createContext({outlet:null,matches:[],isDataRoute:!1}),rb=se.createContext(null);function Nk(t,e){let{relative:n}=e===void 0?{}:e;$s()||bt(!1);let{basename:r,navigator:i}=se.useContext($i),{hash:o,pathname:s,search:a}=sb(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Oi([r,s])),i.createHref({pathname:l,search:a,hash:o})}function $s(){return se.useContext(oh)!=null}function zl(){return $s()||bt(!1),se.useContext(oh).location}function ib(t){se.useContext($i).static||se.useLayoutEffect(t)}function zi(){let{isDataRoute:t}=se.useContext(Kr);return t?Wk():Lk()}function Lk(){$s()||bt(!1);let t=se.useContext(Gg),{basename:e,future:n,navigator:r}=se.useContext($i),{matches:i}=se.useContext(Kr),{pathname:o}=zl(),s=JSON.stringify(Wg(i,n.v7_relativeSplatPath)),a=se.useRef(!1);return ib(()=>{a.current=!0}),se.useCallback(function(u,f){if(f===void 0&&(f={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=Kg(u,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Oi([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,s,o,t])}function ob(){let{matches:t}=se.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function sb(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=se.useContext($i),{matches:i}=se.useContext(Kr),{pathname:o}=zl(),s=JSON.stringify(Wg(i,r.v7_relativeSplatPath));return se.useMemo(()=>Kg(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function Dk(t,e){return Mk(t,e)}function Mk(t,e,n,r){$s()||bt(!1);let{navigator:i}=se.useContext($i),{matches:o}=se.useContext(Kr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=zl(),f;if(e){var h;let w=typeof e=="string"?qs(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||bt(!1),f=w}else f=u;let d=f.pathname||"/",m=d;if(l!=="/"){let w=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=ck(t,{pathname:m}),v=Bk(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Oi([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Oi([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&v?se.createElement(oh.Provider,{value:{location:Ol({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:gi.Pop}},v):v}function jk(){let t=Hk(),e=kk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:i},n):null,null)}const Fk=se.createElement(jk,null);class Uk extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?se.createElement(Kr.Provider,{value:this.props.routeContext},se.createElement(rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vk(t){let{routeContext:e,match:n,children:r}=t,i=se.useContext(Gg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement(Kr.Provider,{value:e},r)}function Bk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||bt(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:d,errors:m}=n,_=h.route.loader&&d[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,h,d)=>{let m,_=!1,v=null,w=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||Fk,l&&(u<0&&d===0?(_=!0,w=null):u===d&&(_=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),p=()=>{let E;return m?E=v:_?E=w:h.route.Component?E=se.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,se.createElement(Vk,{match:h,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?se.createElement(Uk,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var ab=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ab||{}),Zc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zc||{});function qk(t){let e=se.useContext(Gg);return e||bt(!1),e}function $k(t){let e=se.useContext(xk);return e||bt(!1),e}function zk(t){let e=se.useContext(Kr);return e||bt(!1),e}function lb(t){let e=zk(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function Hk(){var t;let e=se.useContext(rb),n=$k(Zc.UseRouteError),r=lb(Zc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Wk(){let{router:t}=qk(ab.UseNavigateStable),e=lb(Zc.UseNavigateStable),n=se.useRef(!1);return ib(()=>{n.current=!0}),se.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ol({fromRouteId:e},o)))},[t,e])}function Kk(t){let{to:e,replace:n,state:r,relative:i}=t;$s()||bt(!1);let{future:o,static:s}=se.useContext($i),{matches:a}=se.useContext(Kr),{pathname:l}=zl(),u=zi(),f=Kg(e,Wg(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return se.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function Xn(t){bt(!1)}function Gk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=gi.Pop,navigator:o,static:s=!1,future:a}=t;$s()&&bt(!1);let l=e.replace(/^\/*/,"/"),u=se.useMemo(()=>({basename:l,navigator:o,static:s,future:Ol({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=qs(r));let{pathname:f="/",search:h="",hash:d="",state:m=null,key:_="default"}=r,v=se.useMemo(()=>{let w=Hg(f,l);return w==null?null:{location:{pathname:w,search:h,hash:d,state:m,key:_},navigationType:i}},[l,f,h,d,m,_,i]);return v==null?null:se.createElement($i.Provider,{value:u},se.createElement(oh.Provider,{children:n,value:v}))}function Qk(t){let{children:e,location:n}=t;return Dk(Xp(e),n)}new Promise(()=>{});function Xp(t,e){e===void 0&&(e=[]);let n=[];return se.Children.forEach(t,(r,i)=>{if(!se.isValidElement(r))return;let o=[...e,i];if(r.type===se.Fragment){n.push.apply(n,Xp(r.props.children,o));return}r.type!==Xn&&bt(!1),!r.props.index||!r.props.children||bt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xp(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}function Yk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Jk(t,e){return t.button===0&&(!e||e==="_self")&&!Xk(t)}const Zk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],eC="6";try{window.__reactRouterVersion=eC}catch{}const tC="startTransition",Y_=QI[tC];function nC(t){let{basename:e,children:n,future:r,window:i}=t,o=se.useRef();o.current==null&&(o.current=ak({window:i,v5Compat:!0}));let s=o.current,[a,l]=se.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},f=se.useCallback(h=>{u&&Y_?Y_(()=>l(h)):l(h)},[l,u]);return se.useLayoutEffect(()=>s.listen(f),[s,f]),se.createElement(Gk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const rC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,no=se.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:f,unstable_viewTransition:h}=e,d=Yk(e,Zk),{basename:m}=se.useContext($i),_,v=!1;if(typeof u=="string"&&iC.test(u)&&(_=u,rC))try{let E=new URL(window.location.href),y=u.startsWith("//")?new URL(E.protocol+u):new URL(u),O=Hg(y.pathname,m);y.origin===E.origin&&O!=null?u=O+y.search+y.hash:v=!0}catch{}let w=Nk(u,{relative:i}),g=oC(u,{replace:s,state:a,target:l,preventScrollReset:f,relative:i,unstable_viewTransition:h});function p(E){r&&r(E),E.defaultPrevented||g(E)}return se.createElement("a",Jp({},d,{href:_||w,onClick:v||o?r:p,ref:n,target:l}))});var X_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X_||(X_={}));var J_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J_||(J_={}));function oC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=zi(),u=zl(),f=sb(t,{relative:s});return se.useCallback(h=>{if(Jk(h,n)){h.preventDefault();let d=r!==void 0?r:Jc(u)===Jc(f);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,f,r,i,n,t,o,s,a])}function Zp(t,e){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Zp(t,e)}function Hl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Zp(t,e)}var Wl=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(s){return s!==o}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}();function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ke.apply(null,arguments)}var ef=typeof window>"u";function en(){}function sC(t,e){return typeof t=="function"?t(e):t}function em(t){return typeof t=="number"&&t>=0&&t!==1/0}function tf(t){return Array.isArray(t)?t:[t]}function ub(t,e){return Math.max(t+(e||0)-Date.now(),0)}function hc(t,e,n){return sh(t)?typeof e=="function"?Ke({},n,{queryKey:t,queryFn:e}):Ke({},e,{queryKey:t}):t}function si(t,e,n){return sh(t)?[Ke({},e,{queryKey:t}),n]:[t||{},e]}function aC(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t??!e;return n?"active":"inactive"}function Z_(t,e){var n=t.active,r=t.exact,i=t.fetching,o=t.inactive,s=t.predicate,a=t.queryKey,l=t.stale;if(sh(a)){if(r){if(e.queryHash!==Qg(a,e.options))return!1}else if(!nf(e.queryKey,a))return!1}var u=aC(n,o);if(u==="none")return!1;if(u!=="all"){var f=e.isActive();if(u==="active"&&!f||u==="inactive"&&f)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||s&&!s(e))}function e0(t,e){var n=t.exact,r=t.fetching,i=t.predicate,o=t.mutationKey;if(sh(o)){if(!e.options.mutationKey)return!1;if(n){if(uo(e.options.mutationKey)!==uo(o))return!1}else if(!nf(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Qg(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||uo;return n(t)}function uo(t){var e=tf(t);return lC(e)}function lC(t){return JSON.stringify(t,function(e,n){return tm(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function nf(t,e){return cb(tf(t),tf(e))}function cb(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!cb(t[n],e[n])}):!1}function rf(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||tm(t)&&tm(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),o=i.length,s=n?[]:{},a=0,l=0;l<o;l++){var u=n?l:i[l];s[u]=rf(t[u],e[u]),s[u]===t[u]&&a++}return r===o&&a===r?t:s}return e}function uC(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function tm(t){if(!t0(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!t0(n)||!n.hasOwnProperty("isPrototypeOf"))}function t0(t){return Object.prototype.toString.call(t)==="[object Object]"}function sh(t){return typeof t=="string"||Array.isArray(t)}function cC(t){return new Promise(function(e){setTimeout(e,t)})}function n0(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function fb(){if(typeof AbortController=="function")return new AbortController}var fC=function(t){Hl(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!ef&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setFocused(a):s.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Wl),nl=new fC,hC=function(t){Hl(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var o;if(!ef&&((o=window)!=null&&o.addEventListener)){var s=function(){return i()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,s=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(a){typeof a=="boolean"?s.setOnline(a):s.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Wl),dc=new hC;function dC(t){return Math.min(1e3*Math.pow(2,t),3e4)}function of(t){return typeof(t==null?void 0:t.cancel)=="function"}var hb=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function pc(t){return t instanceof hb}var db=function(e){var n=this,r=!1,i,o,s,a;this.abort=e.abort,this.cancel=function(d){return i==null?void 0:i(d)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(d,m){s=d,a=m});var l=function(m){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(m),o==null||o(),s(m))},u=function(m){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(m),o==null||o(),a(m))},f=function(){return new Promise(function(m){o=m,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){o=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},h=function d(){if(!n.isResolved){var m;try{m=e.fn()}catch(_){m=Promise.reject(_)}i=function(v){if(!n.isResolved&&(u(new hb(v)),n.abort==null||n.abort(),of(m)))try{m.cancel()}catch{}},n.isTransportCancelable=of(m),Promise.resolve(m).then(l).catch(function(_){var v,w;if(!n.isResolved){var g=(v=e.retry)!=null?v:3,p=(w=e.retryDelay)!=null?w:dC,E=typeof p=="function"?p(n.failureCount,_):p,y=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,_);if(r||!y){u(_);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,_),cC(E).then(function(){if(!nl.isFocused()||!dc.isOnline())return f()}).then(function(){r?u(_):d()})}})}};h()},pC=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):n0(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];i.schedule(function(){r.apply(void 0,s)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&n0(function(){r.batchNotifyFn(function(){i.forEach(function(o){r.notifyFn(o)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),_t=new pC,pb=console;function sf(){return pb}function mC(t){pb=t}var gC=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=Ke({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),em(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var o,s,a=this.state.data,l=sC(r,a);return(o=(s=this.options).isDataEqual)!=null&&o.call(s,a,l)?l=a:this.options.structuralSharing!==!1&&(l=rf(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(en).catch(en):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!ub(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var o=this,s,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var f=this.observers.find(function(p){return p.options.queryFn});f&&this.setOptions(f.options)}var h=tf(this.queryKey),d=fb(),m={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(m,"signal",{enumerable:!0,get:function(){if(d)return o.abortSignalConsumed=!0,d.signal}});var _=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(m)):Promise.reject("Missing queryFn")},v={fetchOptions:i,options:this.options,queryKey:h,state:this.state,fetchFn:_,meta:this.meta};if((s=this.options.behavior)!=null&&s.onFetch){var w;(w=this.options.behavior)==null||w.onFetch(v)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=v.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=v.fetchOptions)==null?void 0:g.meta})}return this.retryer=new db({fn:v.fetchFn,abort:d==null||(l=d.abort)==null?void 0:l.bind(d),onSuccess:function(E){o.setData(E),o.cache.config.onSuccess==null||o.cache.config.onSuccess(E,o),o.cacheTime===0&&o.optionalRemove()},onError:function(E){pc(E)&&E.silent||o.dispatch({type:"error",error:E}),pc(E)||(o.cache.config.onError==null||o.cache.config.onError(E,o),sf().error(E)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:v.options.retry,retryDelay:v.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),_t.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",s=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var o,s;switch(i.type){case"failed":return Ke({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ke({},r,{isPaused:!0});case"continue":return Ke({},r,{isPaused:!1});case"fetch":return Ke({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ke({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=i.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return pc(a)&&a.revert&&this.revertState?Ke({},this.revertState):Ke({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ke({},r,{isInvalidated:!0});case"setState":return Ke({},r,i.state);default:return r}},t}(),vC=function(t){Hl(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,o,s){var a,l=o.queryKey,u=(a=o.queryHash)!=null?a:Qg(l,o),f=this.get(u);return f||(f=new gC({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(o),state:s,defaultOptions:i.getQueryDefaults(l),meta:o.meta}),this.add(f)),f},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(s){return s!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;_t.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,o){var s=si(i,o),a=s[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return Z_(a,l)})},n.findAll=function(i,o){var s=si(i,o),a=s[0];return Object.keys(a).length>0?this.queries.filter(function(l){return Z_(a,l)}):this.queries},n.notify=function(i){var o=this;_t.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){var i=this;_t.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},n.onOnline=function(){var i=this;_t.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},e}(Wl),yC=function(){function t(n){this.options=Ke({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||_C(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(en).catch(en)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,o=this.state.status==="loading",s=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),s.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),sf().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new db({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=EC(this.state,r),_t.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function _C(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function EC(t,e){switch(e.type){case"failed":return Ke({},t,{failureCount:t.failureCount+1});case"pause":return Ke({},t,{isPaused:!0});case"continue":return Ke({},t,{isPaused:!1});case"loading":return Ke({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ke({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ke({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ke({},t,e.state);default:return t}}var wC=function(t){Hl(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,o,s){var a=new yC({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:s,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;_t.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return e0(i,o)})},n.findAll=function(i){return this.mutations.filter(function(o){return e0(i,o)})},n.notify=function(i){var o=this;_t.batch(function(){o.listeners.forEach(function(s){s(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return _t.batch(function(){return i.reduce(function(o,s){return o.then(function(){return s.continue().catch(en)})},Promise.resolve())})},e}(Wl);function TC(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,o,s,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,f=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",d=(u==null?void 0:u.direction)==="backward",m=((s=e.state.data)==null?void 0:s.pages)||[],_=((a=e.state.data)==null?void 0:a.pageParams)||[],v=fb(),w=v==null?void 0:v.signal,g=_,p=!1,E=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},y=function(L,V,W,G){return g=G?[V].concat(g):[].concat(g,[V]),G?[W].concat(L):[].concat(L,[W])},O=function(L,V,W,G){if(p)return Promise.reject("Cancelled");if(typeof W>"u"&&!V&&L.length)return Promise.resolve(L);var Q={queryKey:e.queryKey,signal:w,pageParam:W,meta:e.meta},B=E(Q),F=Promise.resolve(B).then(function(M){return y(L,W,M,G)});if(of(B)){var N=F;N.cancel=B.cancel}return F},C;if(!m.length)C=O([]);else if(h){var A=typeof f<"u",b=A?f:r0(e.options,m);C=O(m,A,b)}else if(d){var P=typeof f<"u",T=P?f:bC(e.options,m);C=O(m,P,T,!0)}else(function(){g=[];var k=typeof e.options.getNextPageParam>"u",L=l&&m[0]?l(m[0],0,m):!0;C=L?O([],k,_[0]):Promise.resolve(y([],_[0],m[0]));for(var V=function(Q){C=C.then(function(B){var F=l&&m[Q]?l(m[Q],Q,m):!0;if(F){var N=k?_[Q]:r0(e.options,B);return O(B,k,N)}return Promise.resolve(y(B,_[Q],m[Q]))})},W=1;W<m.length;W++)V(W)})();var S=C.then(function(k){return{pages:k,pageParams:g}}),R=S;return R.cancel=function(){p=!0,v==null||v.abort(),of(C)&&C.cancel()},S}}}}function r0(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function bC(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var SC=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new vC,this.mutationCache=n.mutationCache||new wC,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=nl.subscribe(function(){nl.isFocused()&&dc.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=dc.subscribe(function(){nl.isFocused()&&dc.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var o=si(r,i),s=o[0];return s.fetching=!0,this.queryCache.findAll(s).length},e.isMutating=function(r){return this.mutationCache.findAll(Ke({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,s=i.state,a=s.data;return[o,a]})},e.setQueryData=function(r,i,o){var s=hc(r),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(i,o)},e.setQueriesData=function(r,i,o){var s=this;return _t.batch(function(){return s.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,s.setQueryData(l,i,o)]})})},e.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},e.removeQueries=function(r,i){var o=si(r,i),s=o[0],a=this.queryCache;_t.batch(function(){a.findAll(s).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,o){var s=this,a=si(r,i,o),l=a[0],u=a[1],f=this.queryCache,h=Ke({},l,{active:!0});return _t.batch(function(){return f.findAll(l).forEach(function(d){d.reset()}),s.refetchQueries(h,u)})},e.cancelQueries=function(r,i,o){var s=this,a=si(r,i,o),l=a[0],u=a[1],f=u===void 0?{}:u;typeof f.revert>"u"&&(f.revert=!0);var h=_t.batch(function(){return s.queryCache.findAll(l).map(function(d){return d.cancel(f)})});return Promise.all(h).then(en).catch(en)},e.invalidateQueries=function(r,i,o){var s,a,l,u=this,f=si(r,i,o),h=f[0],d=f[1],m=Ke({},h,{active:(s=(a=h.refetchActive)!=null?a:h.active)!=null?s:!0,inactive:(l=h.refetchInactive)!=null?l:!1});return _t.batch(function(){return u.queryCache.findAll(h).forEach(function(_){_.invalidate()}),u.refetchQueries(m,d)})},e.refetchQueries=function(r,i,o){var s=this,a=si(r,i,o),l=a[0],u=a[1],f=_t.batch(function(){return s.queryCache.findAll(l).map(function(d){return d.fetch(void 0,Ke({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),h=Promise.all(f).then(en);return u!=null&&u.throwOnError||(h=h.catch(en)),h},e.fetchQuery=function(r,i,o){var s=hc(r,i,o),a=this.defaultQueryOptions(s);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(en).catch(en)},e.fetchInfiniteQuery=function(r,i,o){var s=hc(r,i,o);return s.behavior=TC(),this.fetchQuery(s)},e.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(en).catch(en)},e.cancelMutations=function(){var r=this,i=_t.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(en).catch(en)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(s){return uo(r)===uo(s.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return nf(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(s){return uo(r)===uo(s.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return nf(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=Ke({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Qg(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ke({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),AC=function(t){Hl(e,t);function e(r,i){var o;return o=t.call(this)||this,o.client=r,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),i0(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return nm(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return nm(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,o){var s=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();var l=this.hasListeners();l&&o0(this.currentQuery,a,this.options,s)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==a||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==s.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,o);return this.createResult(s,o)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,o){var s=this,a={},l=function(f){s.trackedProps.includes(f)||s.trackedProps.push(f)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),a},n.getNextResult=function(i){var o=this;return new Promise(function(s,a){var l=o.subscribe(function(u){u.isFetching||(l(),u.isError&&(i!=null&&i.throwOnError)?a(u.error):s(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(Ke({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var o=this,s=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,s);return a.fetch().then(function(){return o.createResult(a,s)})},n.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},n.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(o=o.catch(en)),o},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(ef||this.currentResult.isStale||!em(this.options.staleTime))){var o=ub(this.currentResult.dataUpdatedAt,this.options.staleTime),s=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},s)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(ef||this.options.enabled===!1||!em(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||nl.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,o){var s=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,f=this.currentResultOptions,h=i!==s,d=h?i.state:this.currentQueryInitialState,m=h?this.currentResult:this.previousQueryResult,_=i.state,v=_.dataUpdatedAt,w=_.error,g=_.errorUpdatedAt,p=_.isFetching,E=_.status,y=!1,O=!1,C;if(o.optimisticResults){var A=this.hasListeners(),b=!A&&i0(i,o),P=A&&o0(i,s,o,a);(b||P)&&(p=!0,v||(E="loading"))}if(o.keepPreviousData&&!_.dataUpdateCount&&(m!=null&&m.isSuccess)&&E!=="error")C=m.data,v=m.dataUpdatedAt,E=m.status,y=!0;else if(o.select&&typeof _.data<"u")if(l&&_.data===(u==null?void 0:u.data)&&o.select===this.selectFn)C=this.selectResult;else try{this.selectFn=o.select,C=o.select(_.data),o.structuralSharing!==!1&&(C=rf(l==null?void 0:l.data,C)),this.selectResult=C,this.selectError=null}catch(R){sf().error(R),this.selectError=R}else C=_.data;if(typeof o.placeholderData<"u"&&typeof C>"u"&&(E==="loading"||E==="idle")){var T;if(l!=null&&l.isPlaceholderData&&o.placeholderData===(f==null?void 0:f.placeholderData))T=l.data;else if(T=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof T<"u")try{T=o.select(T),o.structuralSharing!==!1&&(T=rf(l==null?void 0:l.data,T)),this.selectError=null}catch(R){sf().error(R),this.selectError=R}typeof T<"u"&&(E="success",C=T,O=!0)}this.selectError&&(w=this.selectError,C=this.selectResult,g=Date.now(),E="error");var S={status:E,isLoading:E==="loading",isSuccess:E==="success",isError:E==="error",isIdle:E==="idle",data:C,dataUpdatedAt:v,error:w,errorUpdatedAt:g,failureCount:_.fetchFailureCount,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>d.dataUpdateCount||_.errorUpdateCount>d.errorUpdateCount,isFetching:p,isRefetching:p&&E!=="loading",isLoadingError:E==="error"&&_.dataUpdatedAt===0,isPlaceholderData:O,isPreviousData:y,isRefetchError:E==="error"&&_.dataUpdatedAt!==0,isStale:Yg(i,o),refetch:this.refetch,remove:this.remove};return S},n.shouldNotifyListeners=function(i,o){if(!o)return!0;var s=this.options,a=s.notifyOnChangeProps,l=s.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(f){var h=f,d=i[h]!==o[h],m=u==null?void 0:u.some(function(v){return v===f}),_=l==null?void 0:l.some(function(v){return v===f});return d&&!_&&(!u||m)})},n.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!uC(this.currentResult,o)){var s={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(s.listeners=!0),this.notify(Ke({},s,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o==null||o.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!pc(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var o=this;_t.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(s){s(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},e}(Wl);function OC(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function i0(t,e){return OC(t,e)||t.state.dataUpdatedAt>0&&nm(t,e,e.refetchOnMount)}function nm(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Yg(t,e)}return!1}function o0(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Yg(t,n)}function Yg(t,e){return t.isStaleByTime(e.staleTime)}var IC=ek.unstable_batchedUpdates;_t.setBatchNotifyFunction(IC);var PC=console;mC(PC);var s0=on.createContext(void 0),mb=on.createContext(!1);function gb(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=s0),window.ReactQueryClientContext):s0}var RC=function(){var e=on.useContext(gb(on.useContext(mb)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},vb=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,o=e.children;on.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var s=gb(i);return on.createElement(mb.Provider,{value:i},on.createElement(s.Provider,{value:n},o))};function kC(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var CC=on.createContext(kC()),xC=function(){return on.useContext(CC)};function NC(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function LC(t,e){var n=on.useRef(!1),r=on.useState(0),i=r[1],o=RC(),s=xC(),a=o.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=_t.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=_t.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=_t.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(s.isReset()||(a.retryOnMount=!1));var l=on.useState(function(){return new e(o,a)}),u=l[0],f=u.getOptimisticResult(a);if(on.useEffect(function(){n.current=!0,s.clearReset();var h=u.subscribe(_t.batchCalls(function(){n.current&&i(function(d){return d+1})}));return u.updateResult(),function(){n.current=!1,h()}},[s,u]),on.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&f.isLoading)throw u.fetchOptimistic(a).then(function(h){var d=h.data;a.onSuccess==null||a.onSuccess(d),a.onSettled==null||a.onSettled(d,null)}).catch(function(h){s.clearReset(),a.onError==null||a.onError(h),a.onSettled==null||a.onSettled(void 0,h)});if(f.isError&&!s.isReset()&&!f.isFetching&&NC(a.suspense,a.useErrorBoundary,[f.error,u.getCurrentQuery()]))throw f.error;return a.notifyOnChangeProps==="tracked"&&(f=u.trackResult(f,a)),f}function Xg(t,e,n){var r=hc(t,e,n);return LC(r,AC)}var a0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},_b={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(d=64)),r.push(n[f],n[h],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new MC;const d=o<<2|a>>4;if(r.push(d),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jC=function(t){const e=yb(t);return _b.encodeByteArray(e,!0)},af=function(t){return jC(t).replace(/\./g,"")},Eb=function(t){try{return _b.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>FC().__FIREBASE_DEFAULTS__,VC=()=>{if(typeof process>"u"||typeof a0>"u")return;const t=a0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Eb(t[1]);return e&&JSON.parse(e)},ah=()=>{try{return UC()||VC()||BC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wb=t=>{var e,n;return(n=(e=ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qC=t=>{const e=wb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Tb=()=>{var t;return(t=ah())===null||t===void 0?void 0:t.config},bb=t=>{var e;return(e=ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[af(JSON.stringify(n)),af(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function WC(){var t;const e=(t=ah())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YC(){const t=an();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XC(){return!WC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function ZC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ex,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gr(i,a,r)}}function tx(t,e){return t.replace(nx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nx=/\{\$([^}]+)}/g;function rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(l0(o)&&l0(s)){if(!lf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function l0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ba(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ix(t,e){const n=new ox(t,e);return n.subscribe.bind(n)}class ox{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sd),i.error===void 0&&(i.error=Sd),i.complete===void 0&&(i.complete=Sd);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $C;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ux(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lx(t){return t===ro?void 0:t}function ux(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ax(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const fx={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},hx=Be.INFO,dx={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},px=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jg{constructor(e){this.name=e,this._logLevel=hx,this._logHandler=px,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const mx=(t,e)=>e.some(n=>t instanceof n);let u0,c0;function gx(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vx(){return c0||(c0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sb=new WeakMap,rm=new WeakMap,Ab=new WeakMap,Ad=new WeakMap,Zg=new WeakMap;function yx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ii(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Sb.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function _x(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});rm.set(t,e)}let im={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ab.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ex(t){im=t(im)}function wx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Od(this),e,...n);return Ab.set(r,e.sort?e.sort():[e]),Ii(r)}:vx().includes(t)?function(...e){return t.apply(Od(this),e),Ii(Sb.get(this))}:function(...e){return Ii(t.apply(Od(this),e))}}function Tx(t){return typeof t=="function"?wx(t):(t instanceof IDBTransaction&&_x(t),mx(t,gx())?new Proxy(t,im):t)}function Ii(t){if(t instanceof IDBRequest)return yx(t);if(Ad.has(t))return Ad.get(t);const e=Tx(t);return e!==t&&(Ad.set(t,e),Zg.set(e,t)),e}const Od=t=>Zg.get(t);function bx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ii(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ii(s.result),l.oldVersion,l.newVersion,Ii(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Sx=["get","getKey","getAll","getAllKeys","count"],Ax=["put","add","delete","clear"],Id=new Map;function f0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Id.get(e))return Id.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ax.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sx.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Id.set(e,o),o}Ex(t=>({...t,get:(e,n,r)=>f0(e,n)||t.get(e,n,r),has:(e,n)=>!!f0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ix(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ix(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const om="@firebase/app",h0="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Jg("@firebase/app"),Px="@firebase/app-compat",Rx="@firebase/analytics-compat",kx="@firebase/analytics",Cx="@firebase/app-check-compat",xx="@firebase/app-check",Nx="@firebase/auth",Lx="@firebase/auth-compat",Dx="@firebase/database",Mx="@firebase/database-compat",jx="@firebase/functions",Fx="@firebase/functions-compat",Ux="@firebase/installations",Vx="@firebase/installations-compat",Bx="@firebase/messaging",qx="@firebase/messaging-compat",$x="@firebase/performance",zx="@firebase/performance-compat",Hx="@firebase/remote-config",Wx="@firebase/remote-config-compat",Kx="@firebase/storage",Gx="@firebase/storage-compat",Qx="@firebase/firestore",Yx="@firebase/vertexai-preview",Xx="@firebase/firestore-compat",Jx="firebase",Zx="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",eN={[om]:"fire-core",[Px]:"fire-core-compat",[kx]:"fire-analytics",[Rx]:"fire-analytics-compat",[xx]:"fire-app-check",[Cx]:"fire-app-check-compat",[Nx]:"fire-auth",[Lx]:"fire-auth-compat",[Dx]:"fire-rtdb",[Mx]:"fire-rtdb-compat",[jx]:"fire-fn",[Fx]:"fire-fn-compat",[Ux]:"fire-iid",[Vx]:"fire-iid-compat",[Bx]:"fire-fcm",[qx]:"fire-fcm-compat",[$x]:"fire-perf",[zx]:"fire-perf-compat",[Hx]:"fire-rc",[Wx]:"fire-rc-compat",[Kx]:"fire-gcs",[Gx]:"fire-gcs-compat",[Qx]:"fire-fst",[Xx]:"fire-fst-compat",[Yx]:"fire-vertex","fire-js":"fire-js",[Jx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,tN=new Map,am=new Map;function d0(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function As(t){const e=t.name;if(am.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of uf.values())d0(n,t);for(const n of tN.values())d0(n,t);return!0}function ev(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Kl("app","Firebase",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=Zx;function Ob(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pi.create("bad-app-name",{appName:String(i)});if(n||(n=Tb()),!n)throw Pi.create("no-options");const o=uf.get(i);if(o){if(lf(n,o.options)&&lf(r,o.config))return o;throw Pi.create("duplicate-app",{appName:i})}const s=new cx(i);for(const l of am.values())s.addComponent(l);const a=new rN(n,r,s);return uf.set(i,a),a}function Ib(t=sm){const e=uf.get(t);if(!e&&t===sm&&Tb())return Ob();if(!e)throw Pi.create("no-app",{appName:t});return e}function Ri(t,e,n){var r;let i=(r=eN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}As(new bo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",oN=1,Il="firebase-heartbeat-store";let Pd=null;function Pb(){return Pd||(Pd=bx(iN,oN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),Pd}async function sN(t){try{const n=(await Pb()).transaction(Il),r=await n.objectStore(Il).get(Rb(t));return await n.done,r}catch(e){if(e instanceof Gr)qr.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function p0(t,e){try{const r=(await Pb()).transaction(Il,"readwrite");await r.objectStore(Il).put(e,Rb(t)),await r.done}catch(n){if(n instanceof Gr)qr.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function Rb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,lN=30*24*60*60*1e3;class uN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=m0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=lN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=m0(),{heartbeatsToSend:r,unsentEntries:i}=cN(this._heartbeatsCache.heartbeats),o=af(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return qr.warn(n),""}}}function m0(){return new Date().toISOString().substring(0,10)}function cN(t,e=aN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),g0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?ZC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g0(t){return af(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){As(new bo("platform-logger",e=>new Ox(e),"PRIVATE")),As(new bo("heartbeat",e=>new uN(e),"PRIVATE")),Ri(om,h0,t),Ri(om,h0,"esm2017"),Ri("fire-js","")}hN("");function tv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dN=kb,Cb=new Kl("auth","Firebase",kb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Jg("@firebase/auth");function pN(t,...e){cf.logLevel<=Be.WARN&&cf.warn(`Auth (${zs}): ${t}`,...e)}function mc(t,...e){cf.logLevel<=Be.ERROR&&cf.error(`Auth (${zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw nv(t,...e)}function vr(t,...e){return nv(t,...e)}function xb(t,e,n){const r=Object.assign(Object.assign({},dN()),{[e]:n});return new Kl("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return xb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Cb.create(t,...e)}function Oe(t,e,...n){if(!t)throw nv(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mc(e),new Error(e)}function $r(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function mN(){return v0()==="http:"||v0()==="https:"}function v0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mN()||GC()||"connection"in navigator)?navigator.onLine:!0}function vN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=HC()||QC()}get(){return gN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Ql(3e4,6e4);function xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hi(t,e,n,r,i={}){return Lb(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Gl(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return KC()||(u.referrerPolicy="no-referrer"),Nb.fetch()(Db(t,t.config.apiHost,n,a),u)})}async function Lb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},yN),e);try{const i=new wN(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Hu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Hu(t,"user-disabled",s);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xb(t,f,u);or(t,f)}}catch(i){if(i instanceof Gr)throw i;or(t,"network-request-failed",{message:String(i)})}}async function lh(t,e,n,r,i={}){const o=await Hi(t,e,n,r,i);return"mfaPendingCredential"in o&&or(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Db(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rv(t.config,i):`${t.config.apiScheme}://${i}`}function EN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),_N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=vr(t,e,r);return i.customData._tokenResponse=n,i}function y0(t){return t!==void 0&&t.enterprise!==void 0}class TN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function bN(t,e){return Hi(t,"GET","/v2/recaptchaConfig",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function Mb(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AN(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=iv(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:rl(Rd(i.auth_time)),issuedAtTime:rl(Rd(i.iat)),expirationTime:rl(Rd(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Rd(t){return Number(t)*1e3}function iv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mc("JWT malformed, contained fewer than 3 sections"),null;try{const i=Eb(n);return i?JSON.parse(i):(mc("Failed to decode base64 JWT payload"),null)}catch(i){return mc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _0(t){const e=iv(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&ON(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ON({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pl(t,Mb(n,{idToken:r}));Oe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jb(o.providerUserInfo):[],a=RN(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function PN(t){const e=jt(t);await ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jb(t){return t.map(e=>{var{providerId:n}=e,r=tv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){const n=await Lb(t,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Db(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nb.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=_0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await kN(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new hs;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Lr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new um(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await Pl(this,SN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:y,isAnonymous:O,providerData:C,stsTokenManager:A}=n;Oe(E&&A,e,"internal-error");const b=hs.fromJSON(this.name,A);Oe(typeof E=="string",e,"internal-error"),ni(h,e.name),ni(d,e.name),Oe(typeof y=="boolean",e,"internal-error"),Oe(typeof O=="boolean",e,"internal-error"),ni(m,e.name),ni(_,e.name),ni(v,e.name),ni(w,e.name),ni(g,e.name),ni(p,e.name);const P=new Lr({uid:E,auth:e,email:d,emailVerified:y,displayName:h,isAnonymous:O,photoURL:_,phoneNumber:m,tenantId:v,stsTokenManager:b,createdAt:g,lastLoginAt:p});return C&&Array.isArray(C)&&(P.providerData=C.map(T=>Object.assign({},T))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new hs;i.updateFromServerResponse(n);const o=new Lr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ff(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new hs;a.updateFromIdToken(r);const l=new Lr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Dr(t){$r(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Fb.type="NONE";const w0=Fb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t,e,n){return`firebase:${t}:${e}:${n}`}class ds{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=gc(this.userKey,i.apiKey,o),this.fullPersistenceKey=gc("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ds(Dr(w0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Dr(w0);const s=gc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(s);if(f){const h=Lr._fromJSON(e,f);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ds(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ds(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zb(e))return"Blackberry";if(Hb(e))return"Webos";if(Vb(e))return"Safari";if((e.includes("chrome/")||Bb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ub(t=an()){return/firefox\//i.test(t)}function Vb(t=an()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bb(t=an()){return/crios\//i.test(t)}function qb(t=an()){return/iemobile/i.test(t)}function $b(t=an()){return/android/i.test(t)}function zb(t=an()){return/blackberry/i.test(t)}function Hb(t=an()){return/webos/i.test(t)}function ov(t=an()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xN(t=an()){var e;return ov(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NN(){return YC()&&document.documentMode===10}function Wb(t=an()){return ov(t)||$b(t)||Hb(t)||zb(t)||/windows phone/i.test(t)||qb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t,e=[]){let n;switch(t){case"Browser":n=T0(an());break;case"Worker":n=`${T0(an())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=6;class jN{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:MN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new LN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ds.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mb(this,{idToken:e}),r=await Lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ff(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(ki(this));const n=e?jt(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await DN(this),n=new jN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await ds.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hs(t){return jt(t)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ix(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UN(t){uh=t}function Gb(t){return uh.loadJS(t)}function VN(){return uh.recaptchaEnterpriseScript}function BN(){return uh.gapiScript}function qN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const $N="recaptcha-enterprise",zN="NO_RECAPTCHA";class HN{constructor(e){this.type=$N,this.auth=Hs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{bN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new TN(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;y0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(zN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&y0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=VN();l.length!==0&&(l+=a),Gb(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function S0(t,e,n,r=!1){const i=new HN(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function A0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await S0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await S0(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e){const n=ev(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(lf(o,e??{}))return i;or(i,"already-initialized")}return n.initialize({options:e})}function KN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GN(t,e,n){const r=Hs(t);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Qb(e),{host:s,port:a}=QN(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),YN()}function Qb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QN(t){const e=Qb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:O0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:O0(s)}}}function O0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function XN(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){return lh(t,"POST","/v1/accounts:signInWithPassword",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}async function e2(t,e){return lh(t,"POST","/v1/accounts:signInWithEmailLink",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends sv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,n,"signInWithPassword",JN);case"emailLink":return ZN(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A0(e,r,"signUpPassword",XN);case"emailLink":return e2(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ps(t,e){return lh(t,"POST","/v1/accounts:signInWithIdp",xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="http://localhost";class So extends sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=tv(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new So(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ps(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ps(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ps(e,n)}buildRequest(){const e={requestUri:t2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2(t){const e=Ba(qa(t)).link,n=e?Ba(qa(e)).deep_link_id:null,r=Ba(qa(t)).deep_link_id;return(r?Ba(qa(r)).link:null)||r||n||e||t}class av{constructor(e){var n,r,i,o,s,a;const l=Ba(qa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,h=n2((i=l.mode)!==null&&i!==void 0?i:null);Oe(u&&f&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=r2(e);try{return new av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.providerId=Ws.PROVIDER_ID}static credential(e,n){return Rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=av.parseLink(n);return Oe(r,"argument-error"),Rl._fromEmailAndCode(e,r.code,r.tenantId)}}Ws.PROVIDER_ID="password";Ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Yb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Yl{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Yl{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Yl{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Lr._fromIdTokenResponse(e,r,i),s=I0(r);return new Os({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=I0(r);return new Os({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function I0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends Gr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hf(e,n,r,i)}}function Xb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,o,e,r):o})}async function i2(t,e,n=!1){const r=await Pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Os._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(t,e,n=!1){const{auth:r}=t;if(xr(r.app))return Promise.reject(ki(r));const i="reauthenticate";try{const o=await Pl(t,Xb(r,i,e,t),n);Oe(o.idToken,r,"internal-error");const s=iv(o.idToken);Oe(s,r,"internal-error");const{sub:a}=s;return Oe(t.uid===a,r,"user-mismatch"),Os._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&or(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t,e,n=!1){if(xr(t.app))return Promise.reject(ki(t));const r="signIn",i=await Xb(t,r,e),o=await Os._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function s2(t,e){return Jb(Hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t){const e=Hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function l2(t,e,n){return xr(t.app)?Promise.reject(ki(t)):s2(jt(t),Ws.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a2(t),r})}function u2(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function c2(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function f2(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function Zb(t){return jt(t).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e3,d2=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);NN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d2):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const p2=tS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nS.type="SESSION";const rS=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await m2(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=lv("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function v2(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function E2(){return iS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebaseLocalStorageDb",w2=1,pf="firebaseLocalStorage",sS="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(t,e){return t.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function T2(){const t=indexedDB.deleteDatabase(oS);return new Xl(t).toPromise()}function cm(){const t=indexedDB.open(oS,w2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pf,{keyPath:sS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await T2(),e(await cm()))})})}async function P0(t,e,n){const r=fh(t,!0).put({[sS]:e,value:n});return new Xl(r).toPromise()}async function b2(t,e){const n=fh(t,!1).get(e),r=await new Xl(n).toPromise();return r===void 0?null:r.value}function R0(t,e){const n=fh(t,!0).delete(e);return new Xl(n).toPromise()}const S2=800,A2=3;class aS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(E2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await P0(e,df,"1"),await R0(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>P0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>R0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=fh(i,!1).getAll();return new Xl(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aS.type="LOCAL";const O2=aS;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){return e?Dr(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P2(t){return Jb(t.auth,new uv(t),t.bypassAuthState)}function R2(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),o2(n,new uv(t),t.bypassAuthState)}async function k2(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),i2(n,new uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:or(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Ql(2e3,1e4);class os extends lS{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,os.currentPopupAction&&os.currentPopupAction.cancel(),os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,os.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C2.get())};e()}}os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="pendingRedirect",vc=new Map;class N2 extends lS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const r=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(t,e){const n=j2(e),r=M2(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function D2(t,e){vc.set(t._key(),e)}function M2(t){return Dr(t._redirectPersistence)}function j2(t){return gc(x2,t.config.apiKey,t.name)}async function F2(t,e,n=!1){if(xr(t.app))return Promise.reject(ki(t));const r=Hs(t),i=I2(r,e),s=await new N2(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=10*60*1e3;class V2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!B2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U2&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function B2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;async function H2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await q2(t);for(const n of e)try{if(W2(n))return}catch{}or(t,"unauthorized-domain")}function W2(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!z2.test(n))return!1;if($2.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Ql(3e4,6e4);function C0(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function G2(t){return new Promise((e,n)=>{var r,i,o;function s(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),n(vr(t,"network-request-failed"))},timeout:K2.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=yr().gapi)===null||o===void 0)&&o.load)s();else{const a=qN("iframefcb");return yr()[a]=()=>{gapi.load?s():n(vr(t,"network-request-failed"))},Gb(`${BN()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yc=null,e})}let yc=null;function Q2(t){return yc=yc||G2(t),yc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Ql(5e3,15e3),X2="__/auth/iframe",J2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tL(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rv(e,J2):`https://${t.config.authDomain}/${X2}`,r={apiKey:e.apiKey,appName:t.name,v:zs},i=eL.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Gl(r).slice(1)}`}async function nL(t){const e=await Q2(t),n=yr().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:tL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=vr(t,"network-request-failed"),a=yr().setTimeout(()=>{o(s)},Y2.get());function l(){yr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iL=500,oL=600,sL="_blank",aL="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lL(t,e,n,r=iL,i=oL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rL),{width:r.toString(),height:i.toString(),top:o,left:s}),u=an().toLowerCase();n&&(a=Bb(u)?sL:n),Ub(u)&&(e=e||aL,l.scrollbars="yes");const f=Object.entries(l).reduce((d,[m,_])=>`${d}${m}=${_},`,"");if(xN(u)&&a!=="_self")return uL(e||"",a),new x0(null);const h=window.open(e||"",a,f);Oe(h,t,"popup-blocked");try{h.focus()}catch{}return new x0(h)}function uL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="__/auth/handler",fL="emulator/auth/handler",hL=encodeURIComponent("fac");async function N0(t,e,n,r,i,o){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zs,eventId:i};if(e instanceof Yb){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))s[f]=h}if(e instanceof Yl){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),u=l?`#${hL}=${encodeURIComponent(l)}`:"";return`${dL(t)}?${Gl(a).slice(1)}${u}`}function dL({config:t}){return t.emulator?rv(t,fL):`https://${t.authDomain}/${cL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="webStorageSupport";class pL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=F2,this._overrideRedirectResult=D2}async _openPopup(e,n,r,i){var o;$r((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await N0(e,n,r,lm(),i);return lL(e,s,lv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await N0(e,n,r,lm(),i);return v2(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):($r(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nL(e),r=new V2(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kd,{type:kd},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kd];s!==void 0&&n(!!s),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=H2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wb()||Vb()||ov()}}const mL=pL;var L0="@firebase/auth",D0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yL(t){As(new bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kb(t)},u=new FN(r,i,o,l);return KN(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),As(new bo("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(r=>new gL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(L0,D0,vL(t)),Ri(L0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=5*60,EL=bb("authIdTokenMaxAge")||_L;let M0=null;const wL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>EL)return;const i=n==null?void 0:n.token;M0!==i&&(M0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TL(t=Ib()){const e=ev(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WN(t,{popupRedirectResolver:mL,persistence:[O2,p2,rS]}),r=bb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=wL(o.toString());c2(n,s,()=>s(n.currentUser)),u2(n,a=>s(a))}}const i=wb("auth");return i&&GN(n,`http://${i}`),n}function bL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=vr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",bL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yL("Browser");var SL="firebase",AL="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(SL,AL,"app");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mo,cS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,b){function P(){}P.prototype=b.prototype,A.D=b.prototype,A.prototype=new P,A.prototype.constructor=A,A.C=function(T,S,R){for(var k=Array(arguments.length-2),L=2;L<arguments.length;L++)k[L-2]=arguments[L];return b.prototype[S].apply(T,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,b,P){P||(P=0);var T=Array(16);if(typeof b=="string")for(var S=0;16>S;++S)T[S]=b.charCodeAt(P++)|b.charCodeAt(P++)<<8|b.charCodeAt(P++)<<16|b.charCodeAt(P++)<<24;else for(S=0;16>S;++S)T[S]=b[P++]|b[P++]<<8|b[P++]<<16|b[P++]<<24;b=A.g[0],P=A.g[1],S=A.g[2];var R=A.g[3],k=b+(R^P&(S^R))+T[0]+3614090360&4294967295;b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[1]+3905402710&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[2]+606105819&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[3]+3250441966&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(R^P&(S^R))+T[4]+4118548399&4294967295,b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[5]+1200080426&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[6]+2821735955&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[7]+4249261313&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(R^P&(S^R))+T[8]+1770035416&4294967295,b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[9]+2336552879&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[10]+4294925233&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[11]+2304563134&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(R^P&(S^R))+T[12]+1804603682&4294967295,b=P+(k<<7&4294967295|k>>>25),k=R+(S^b&(P^S))+T[13]+4254626195&4294967295,R=b+(k<<12&4294967295|k>>>20),k=S+(P^R&(b^P))+T[14]+2792965006&4294967295,S=R+(k<<17&4294967295|k>>>15),k=P+(b^S&(R^b))+T[15]+1236535329&4294967295,P=S+(k<<22&4294967295|k>>>10),k=b+(S^R&(P^S))+T[1]+4129170786&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[6]+3225465664&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[11]+643717713&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[0]+3921069994&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(S^R&(P^S))+T[5]+3593408605&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[10]+38016083&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[15]+3634488961&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[4]+3889429448&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(S^R&(P^S))+T[9]+568446438&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[14]+3275163606&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[3]+4107603335&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[8]+1163531501&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(S^R&(P^S))+T[13]+2850285829&4294967295,b=P+(k<<5&4294967295|k>>>27),k=R+(P^S&(b^P))+T[2]+4243563512&4294967295,R=b+(k<<9&4294967295|k>>>23),k=S+(b^P&(R^b))+T[7]+1735328473&4294967295,S=R+(k<<14&4294967295|k>>>18),k=P+(R^b&(S^R))+T[12]+2368359562&4294967295,P=S+(k<<20&4294967295|k>>>12),k=b+(P^S^R)+T[5]+4294588738&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[8]+2272392833&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[11]+1839030562&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[14]+4259657740&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(P^S^R)+T[1]+2763975236&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[4]+1272893353&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[7]+4139469664&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[10]+3200236656&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(P^S^R)+T[13]+681279174&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[0]+3936430074&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[3]+3572445317&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[6]+76029189&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(P^S^R)+T[9]+3654602809&4294967295,b=P+(k<<4&4294967295|k>>>28),k=R+(b^P^S)+T[12]+3873151461&4294967295,R=b+(k<<11&4294967295|k>>>21),k=S+(R^b^P)+T[15]+530742520&4294967295,S=R+(k<<16&4294967295|k>>>16),k=P+(S^R^b)+T[2]+3299628645&4294967295,P=S+(k<<23&4294967295|k>>>9),k=b+(S^(P|~R))+T[0]+4096336452&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[7]+1126891415&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[14]+2878612391&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[5]+4237533241&4294967295,P=S+(k<<21&4294967295|k>>>11),k=b+(S^(P|~R))+T[12]+1700485571&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[3]+2399980690&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[10]+4293915773&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[1]+2240044497&4294967295,P=S+(k<<21&4294967295|k>>>11),k=b+(S^(P|~R))+T[8]+1873313359&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[15]+4264355552&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[6]+2734768916&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[13]+1309151649&4294967295,P=S+(k<<21&4294967295|k>>>11),k=b+(S^(P|~R))+T[4]+4149444226&4294967295,b=P+(k<<6&4294967295|k>>>26),k=R+(P^(b|~S))+T[11]+3174756917&4294967295,R=b+(k<<10&4294967295|k>>>22),k=S+(b^(R|~P))+T[2]+718787259&4294967295,S=R+(k<<15&4294967295|k>>>17),k=P+(R^(S|~b))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+b&4294967295,A.g[1]=A.g[1]+(S+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+S&4294967295,A.g[3]=A.g[3]+R&4294967295}r.prototype.u=function(A,b){b===void 0&&(b=A.length);for(var P=b-this.blockSize,T=this.B,S=this.h,R=0;R<b;){if(S==0)for(;R<=P;)i(this,A,R),R+=this.blockSize;if(typeof A=="string"){for(;R<b;)if(T[S++]=A.charCodeAt(R++),S==this.blockSize){i(this,T),S=0;break}}else for(;R<b;)if(T[S++]=A[R++],S==this.blockSize){i(this,T),S=0;break}}this.h=S,this.o+=b},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var b=1;b<A.length-8;++b)A[b]=0;var P=8*this.o;for(b=A.length-8;b<A.length;++b)A[b]=P&255,P/=256;for(this.u(A),A=Array(16),b=P=0;4>b;++b)for(var T=0;32>T;T+=8)A[P++]=this.g[b]>>>T&255;return A};function o(A,b){var P=a;return Object.prototype.hasOwnProperty.call(P,A)?P[A]:P[A]=b(A)}function s(A,b){this.h=b;for(var P=[],T=!0,S=A.length-1;0<=S;S--){var R=A[S]|0;T&&R==b||(P[S]=R,T=!1)}this.g=P}var a={};function l(A){return-128<=A&&128>A?o(A,function(b){return new s([b|0],0>b?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return w(u(-A));for(var b=[],P=1,T=0;A>=P;T++)b[T]=A/P|0,P*=4294967296;return new s(b,0)}function f(A,b){if(A.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A.charAt(0)=="-")return w(f(A.substring(1),b));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(b,8)),T=h,S=0;S<A.length;S+=8){var R=Math.min(8,A.length-S),k=parseInt(A.substring(S,S+R),b);8>R?(R=u(Math.pow(b,R)),T=T.j(R).add(u(k))):(T=T.j(P),T=T.add(u(k)))}return T}var h=l(0),d=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-w(this).m();for(var A=0,b=1,P=0;P<this.g.length;P++){var T=this.i(P);A+=(0<=T?T:4294967296+T)*b,b*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(v(this))return"-"+w(this).toString(A);for(var b=u(Math.pow(A,6)),P=this,T="";;){var S=y(P,b).g;P=g(P,S.j(b));var R=((0<P.g.length?P.g[0]:P.h)>>>0).toString(A);if(P=S,_(P))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var b=0;b<A.g.length;b++)if(A.g[b]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=g(this,A),v(A)?-1:_(A)?0:1};function w(A){for(var b=A.g.length,P=[],T=0;T<b;T++)P[T]=~A.g[T];return new s(P,~A.h).add(d)}t.abs=function(){return v(this)?w(this):this},t.add=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0,S=0;S<=b;S++){var R=T+(this.i(S)&65535)+(A.i(S)&65535),k=(R>>>16)+(this.i(S)>>>16)+(A.i(S)>>>16);T=k>>>16,R&=65535,k&=65535,P[S]=k<<16|R}return new s(P,P[P.length-1]&-2147483648?-1:0)};function g(A,b){return A.add(w(b))}t.j=function(A){if(_(this)||_(A))return h;if(v(this))return v(A)?w(this).j(w(A)):w(w(this).j(A));if(v(A))return w(this.j(w(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var b=this.g.length+A.g.length,P=[],T=0;T<2*b;T++)P[T]=0;for(T=0;T<this.g.length;T++)for(var S=0;S<A.g.length;S++){var R=this.i(T)>>>16,k=this.i(T)&65535,L=A.i(S)>>>16,V=A.i(S)&65535;P[2*T+2*S]+=k*V,p(P,2*T+2*S),P[2*T+2*S+1]+=R*V,p(P,2*T+2*S+1),P[2*T+2*S+1]+=k*L,p(P,2*T+2*S+1),P[2*T+2*S+2]+=R*L,p(P,2*T+2*S+2)}for(T=0;T<b;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=b;T<2*b;T++)P[T]=0;return new s(P,0)};function p(A,b){for(;(A[b]&65535)!=A[b];)A[b+1]+=A[b]>>>16,A[b]&=65535,b++}function E(A,b){this.g=A,this.h=b}function y(A,b){if(_(b))throw Error("division by zero");if(_(A))return new E(h,h);if(v(A))return b=y(w(A),b),new E(w(b.g),w(b.h));if(v(b))return b=y(A,w(b)),new E(w(b.g),b.h);if(30<A.g.length){if(v(A)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var P=d,T=b;0>=T.l(A);)P=O(P),T=O(T);var S=C(P,1),R=C(T,1);for(T=C(T,2),P=C(P,2);!_(T);){var k=R.add(T);0>=k.l(A)&&(S=S.add(P),R=k),T=C(T,1),P=C(P,1)}return b=g(A,S.j(b)),new E(S,b)}for(S=h;0<=A.l(b);){for(P=Math.max(1,Math.floor(A.m()/b.m())),T=Math.ceil(Math.log(P)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=u(P),k=R.j(b);v(k)||0<k.l(A);)P-=T,R=u(P),k=R.j(b);_(R)&&(R=d),S=S.add(R),A=g(A,k)}return new E(S,A)}t.A=function(A){return y(this,A).h},t.and=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0;T<b;T++)P[T]=this.i(T)&A.i(T);return new s(P,this.h&A.h)},t.or=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0;T<b;T++)P[T]=this.i(T)|A.i(T);return new s(P,this.h|A.h)},t.xor=function(A){for(var b=Math.max(this.g.length,A.g.length),P=[],T=0;T<b;T++)P[T]=this.i(T)^A.i(T);return new s(P,this.h^A.h)};function O(A){for(var b=A.g.length+1,P=[],T=0;T<b;T++)P[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(P,A.h)}function C(A,b){var P=b>>5;b%=32;for(var T=A.g.length-P,S=[],R=0;R<T;R++)S[R]=0<b?A.i(R+P)>>>b|A.i(R+P+1)<<32-b:A.i(R+P);return new s(S,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,mo=s}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fS,hS,$a,dS,_c,fm,pS,mS,gS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,I,x){return c==Array.prototype||c==Object.prototype||(c[I]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wu=="object"&&Wu];for(var I=0;I<c.length;++I){var x=c[I];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,I){if(I)e:{var x=r;c=c.split(".");for(var D=0;D<c.length-1;D++){var X=c[D];if(!(X in x))break e;x=x[X]}c=c[c.length-1],D=x[c],I=I(D),I!=D&&I!=null&&e(x,c,{configurable:!0,writable:!0,value:I})}}function o(c,I){c instanceof String&&(c+="");var x=0,D=!1,X={next:function(){if(!D&&x<c.length){var ee=x++;return{value:I(ee,c[ee]),done:!1}}return D=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(c){return c||function(){return o(this,function(I,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(c){var I=typeof c;return I=I!="object"?I:c?Array.isArray(c)?"array":I:"null",I=="array"||I=="object"&&typeof c.length=="number"}function u(c){var I=typeof c;return I=="object"&&c!=null||I=="function"}function f(c,I,x){return c.call.apply(c.bind,arguments)}function h(c,I,x){if(!c)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,D),c.apply(I,X)}}return function(){return c.apply(I,arguments)}}function d(c,I,x){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,d.apply(null,arguments)}function m(c,I){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),c.apply(this,D)}}function _(c,I){function x(){}x.prototype=I.prototype,c.aa=I.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(D,X,ee){for(var he=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)he[Ze-2]=arguments[Ze];return I.prototype[X].apply(D,he)}}function v(c){const I=c.length;if(0<I){const x=Array(I);for(let D=0;D<I;D++)x[D]=c[D];return x}return[]}function w(c,I){for(let x=1;x<arguments.length;x++){const D=arguments[x];if(l(D)){const X=c.length||0,ee=D.length||0;c.length=X+ee;for(let he=0;he<ee;he++)c[X+he]=D[he]}else c.push(D)}}class g{constructor(I,x){this.i=I,this.j=x,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function p(c){return/^[\s\xa0]*$/.test(c)}function E(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function y(c){return y[" "](c),c}y[" "]=function(){};var O=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(c,I,x){for(const D in c)I.call(x,c[D],D,c)}function A(c,I){for(const x in c)I.call(void 0,c[x],x,c)}function b(c){const I={};for(const x in c)I[x]=c[x];return I}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,I){let x,D;for(let X=1;X<arguments.length;X++){D=arguments[X];for(x in D)c[x]=D[x];for(let ee=0;ee<P.length;ee++)x=P[ee],Object.prototype.hasOwnProperty.call(D,x)&&(c[x]=D[x])}}function S(c){var I=1;c=c.split(":");const x=[];for(;0<I&&c.length;)x.push(c.shift()),I--;return c.length&&x.push(c.join(":")),x}function R(c){a.setTimeout(()=>{throw c},0)}function k(){var c=B;let I=null;return c.g&&(I=c.g,c.g=c.g.next,c.g||(c.h=null),I.next=null),I}class L{constructor(){this.h=this.g=null}add(I,x){const D=V.get();D.set(I,x),this.h?this.h.next=D:this.g=D,this.h=D}}var V=new g(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(I,x){this.h=I,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let G,Q=!1,B=new L,F=()=>{const c=a.Promise.resolve(void 0);G=()=>{c.then(N)}};var N=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(x){R(x)}var I=V;I.j(c),100>I.h&&(I.h++,c.next=I.g,I.g=c)}Q=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(c,I){this.type=c,this.g=this.target=I,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,I=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};a.addEventListener("test",x,I),a.removeEventListener("test",x,I)}catch{}return c}();function z(c,I){if(U.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,D=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=I,I=c.relatedTarget){if(O){e:{try{y(I.nodeName);var X=!0;break e}catch{}X=!1}X||(I=null)}}else x=="mouseover"?I=c.fromElement:x=="mouseout"&&(I=c.toElement);this.relatedTarget=I,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:j[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&z.aa.h.call(this)}}_(z,U);var j={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),Z=0;function J(c,I,x,D,X){this.listener=c,this.proxy=null,this.src=I,this.type=x,this.capture=!!D,this.ha=X,this.key=++Z,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function me(c){this.src=c,this.g={},this.h=0}me.prototype.add=function(c,I,x,D,X){var ee=c.toString();c=this.g[ee],c||(c=this.g[ee]=[],this.h++);var he=be(c,I,D,X);return-1<he?(I=c[he],x||(I.fa=!1)):(I=new J(I,this.src,ee,!!D,X),I.fa=x,c.push(I)),I};function we(c,I){var x=I.type;if(x in c.g){var D=c.g[x],X=Array.prototype.indexOf.call(D,I,void 0),ee;(ee=0<=X)&&Array.prototype.splice.call(D,X,1),ee&&(ie(I),c.g[x].length==0&&(delete c.g[x],c.h--))}}function be(c,I,x,D){for(var X=0;X<c.length;++X){var ee=c[X];if(!ee.da&&ee.listener==I&&ee.capture==!!x&&ee.ha==D)return X}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Le={};function Et(c,I,x,D,X){if(Array.isArray(I)){for(var ee=0;ee<I.length;ee++)Et(c,I[ee],x,D,X);return null}return x=Pe(x),c&&c[H]?c.K(I,x,u(D)?!!D.capture:!!D,X):Ye(c,I,x,!1,D,X)}function Ye(c,I,x,D,X,ee){if(!I)throw Error("Invalid event type");var he=u(X)?!!X.capture:!!X,Ze=Re(c);if(Ze||(c[Ie]=Ze=new me(c)),x=Ze.add(I,x,D,he,ee),x.proxy)return x;if(D=ne(),x.proxy=D,D.src=c,D.listener=x,c.addEventListener)Y||(X=he),X===void 0&&(X=!1),c.addEventListener(I.toString(),D,X);else if(c.attachEvent)c.attachEvent(pe(I.toString()),D);else if(c.addListener&&c.removeListener)c.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ne(){function c(x){return I.call(c.src,c.listener,x)}const I=ae;return c}function re(c,I,x,D,X){if(Array.isArray(I))for(var ee=0;ee<I.length;ee++)re(c,I[ee],x,D,X);else D=u(D)?!!D.capture:!!D,x=Pe(x),c&&c[H]?(c=c.i,I=String(I).toString(),I in c.g&&(ee=c.g[I],x=be(ee,x,D,X),-1<x&&(ie(ee[x]),Array.prototype.splice.call(ee,x,1),ee.length==0&&(delete c.g[I],c.h--)))):c&&(c=Re(c))&&(I=c.g[I.toString()],c=-1,I&&(c=be(I,x,D,X)),(x=-1<c?I[c]:null)&&fe(x))}function fe(c){if(typeof c!="number"&&c&&!c.da){var I=c.src;if(I&&I[H])we(I.i,c);else{var x=c.type,D=c.proxy;I.removeEventListener?I.removeEventListener(x,D,c.capture):I.detachEvent?I.detachEvent(pe(x),D):I.addListener&&I.removeListener&&I.removeListener(D),(x=Re(I))?(we(x,c),x.h==0&&(x.src=null,I[Ie]=null)):ie(c)}}}function pe(c){return c in Le?Le[c]:Le[c]="on"+c}function ae(c,I){if(c.da)c=!0;else{I=new z(I,this);var x=c.listener,D=c.ha||c.src;c.fa&&fe(c),c=x.call(D,I)}return c}function Re(c){return c=c[Ie],c instanceof me?c:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(c){return typeof c=="function"?c:(c[Ae]||(c[Ae]=function(I){return c.handleEvent(I)}),c[Ae])}function Ue(){M.call(this),this.i=new me(this),this.M=this,this.F=null}_(Ue,M),Ue.prototype[H]=!0,Ue.prototype.removeEventListener=function(c,I,x,D){re(this,c,I,x,D)};function Xe(c,I){var x,D=c.F;if(D)for(x=[];D;D=D.F)x.push(D);if(c=c.M,D=I.type||I,typeof I=="string")I=new U(I,c);else if(I instanceof U)I.target=I.target||c;else{var X=I;I=new U(D,c),T(I,X)}if(X=!0,x)for(var ee=x.length-1;0<=ee;ee--){var he=I.g=x[ee];X=We(he,D,!0,I)&&X}if(he=I.g=c,X=We(he,D,!0,I)&&X,X=We(he,D,!1,I)&&X,x)for(ee=0;ee<x.length;ee++)he=I.g=x[ee],X=We(he,D,!1,I)&&X}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var c=this.i,I;for(I in c.g){for(var x=c.g[I],D=0;D<x.length;D++)ie(x[D]);delete c.g[I],c.h--}}this.F=null},Ue.prototype.K=function(c,I,x,D){return this.i.add(String(c),I,!1,x,D)},Ue.prototype.L=function(c,I,x,D){return this.i.add(String(c),I,!0,x,D)};function We(c,I,x,D){if(I=c.i.g[String(I)],!I)return!0;I=I.concat();for(var X=!0,ee=0;ee<I.length;++ee){var he=I[ee];if(he&&!he.da&&he.capture==x){var Ze=he.listener,Ut=he.ha||he.src;he.fa&&we(c.i,he),X=Ze.call(Ut,D)!==!1&&X}}return X&&!D.defaultPrevented}function Ki(c,I,x){if(typeof c=="function")x&&(c=d(c,x));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(c,I||0)}function Je(c){c.g=Ki(()=>{c.g=null,c.i&&(c.i=!1,Je(c))},c.l);const I=c.h;c.h=null,c.m.apply(null,I)}class In extends M{constructor(I,x){super(),this.m=I,this.l=x,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(c){M.call(this),this.h=c,this.g={}}_(lr,M);var Gi=[];function Fn(c){C(c.g,function(I,x){this.g.hasOwnProperty(x)&&fe(I)},c),c.g={}}lr.prototype.N=function(){lr.aa.N.call(this),Fn(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=a.JSON.stringify,ia=a.JSON.parse,oa=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function sa(){}sa.prototype.h=null;function Yr(c){return c.h||(c.h=c.i())}function fu(){}var Qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mt(){U.call(this,"d")}_(mt,U);function cr(){U.call(this,"c")}_(cr,U);var br={},aa=null;function Xr(){return aa=aa||new Ue}br.La="serverreachability";function la(c){U.call(this,br.La,c)}_(la,U);function Jr(c){const I=Xr();Xe(I,new la(I))}br.STAT_EVENT="statevent";function hu(c,I){U.call(this,br.STAT_EVENT,c),this.stat=I}_(hu,U);function Ct(c){const I=Xr();Xe(I,new hu(I,c))}br.Ma="timingevent";function ua(c,I){U.call(this,br.Ma,c),this.size=I}_(ua,U);function Yi(c,I){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},I)}function Gt(){this.g=!0}Gt.prototype.xa=function(){this.g=!1};function Mo(c,I,x,D,X,ee){c.info(function(){if(c.g)if(ee)for(var he="",Ze=ee.split("&"),Ut=0;Ut<Ze.length;Ut++){var ze=Ze[Ut].split("=");if(1<ze.length){var Qt=ze[0];ze=ze[1];var Yt=Qt.split("_");he=2<=Yt.length&&Yt[1]=="type"?he+(Qt+"="+ze+"&"):he+(Qt+"=redacted&")}}else he=null;else he=ee;return"XMLHTTP REQ ("+D+") [attempt "+X+"]: "+I+`
`+x+`
`+he})}function du(c,I,x,D,X,ee,he){c.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+X+"]: "+I+`
`+x+`
`+ee+" "+he})}function Sr(c,I,x,D){c.info(function(){return"XMLHTTP TEXT ("+I+"): "+mu(c,x)+(D?" "+D:"")})}function pu(c,I){c.info(function(){return"TIMEOUT: "+I})}Gt.prototype.info=function(){};function mu(c,I){if(!c.g)return I;if(!I)return null;try{var x=JSON.parse(I);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var D=x[c];if(!(2>D.length)){var X=D[1];if(Array.isArray(X)&&!(1>X.length)){var ee=X[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var he=1;he<X.length;he++)X[he]=""}}}}return ur(x)}catch{return I}}var mn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ca={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jo;function Xi(){}_(Xi,sa),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},jo=new Xi;function Wn(c,I,x,D){this.j=c,this.i=I,this.l=x,this.R=D||1,this.U=new lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gu}function gu(){this.i=null,this.g="",this.h=!1}var Ee={},K={};function ce(c,I,x){c.L=1,c.v=Eu(Ar(I)),c.m=x,c.P=!0,ye(c,null)}function ye(c,I){c.F=Date.now(),gt(c),c.A=Ar(c.v);var x=c.A,D=c.R;Array.isArray(D)||(D=[String(D)]),py(x.i,"t",D),c.C=0,x=c.j.J,c.h=new gu,c.g=xy(c.j,x?I:null,!c.m),0<c.O&&(c.M=new In(d(c.Y,c,c.g),c.O)),I=c.U,x=c.g,D=c.ca;var X="readystatechange";Array.isArray(X)||(X&&(Gi[0]=X.toString()),X=Gi);for(var ee=0;ee<X.length;ee++){var he=Et(x,X[ee],D||I.handleEvent,!1,I.h||I);if(!he)break;I.g[he.key]=he}I=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,I)):(c.u="GET",c.g.ea(c.A,c.u,null,I)),Jr(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}Wn.prototype.ca=function(c){c=c.target;const I=this.M;I&&Or(c)==3?I.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const Yt=Or(this.g);var I=this.g.Ba();const Bo=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||wy(this.g)))){this.J||Yt!=4||I==7||(I==8||0>=Bo?Jr(3):Jr(2)),gn(this);var x=this.g.Z();this.X=x;t:if(Ge(this)){var D=wy(this.g);c="";var X=D.length,ee=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ut(this),Kn(this);var he="";break t}this.h.i=new a.TextDecoder}for(I=0;I<X;I++)this.h.h=!0,c+=this.h.i.decode(D[I],{stream:!(ee&&I==X-1)});D.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=x==200,du(this.i,this.u,this.A,this.l,this.R,Yt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Ut=this.g;if((Ze=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(Ze)){var ze=Ze;break t}}ze=null}if(x=ze)Sr(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fo(this,x);else{this.o=!1,this.s=3,Ct(12),ut(this),Kn(this);break e}}if(this.P){x=!0;let Gn;for(;!this.J&&this.C<he.length;)if(Gn=xt(this,he),Gn==K){Yt==4&&(this.s=4,Ct(14),x=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==Ee){this.s=4,Ct(15),Sr(this.i,this.l,he,"[Invalid Chunk]"),x=!1;break}else Sr(this.i,this.l,Gn,null),Fo(this,Gn);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||he.length!=0||this.h.h||(this.s=1,Ct(16),x=!1),this.o=this.o&&x,!x)Sr(this.i,this.l,he,"[Invalid Chunked Response]"),ut(this),Kn(this);else if(0<he.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Qh(Qt),Qt.M=!0,Ct(11))}}else Sr(this.i,this.l,he,null),Fo(this,he);Yt==4&&ut(this),this.o&&!this.J&&(Yt==4?Py(this.j,this):(this.o=!1,gt(this)))}else kI(this.g),x==400&&0<he.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),ut(this),Kn(this)}}}catch{}finally{}};function Ge(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xt(c,I){var x=c.C,D=I.indexOf(`
`,x);return D==-1?K:(x=Number(I.substring(x,D)),isNaN(x)?Ee:(D+=1,D+x>I.length?K:(I=I.slice(D,D+x),c.C=D+x,I)))}Wn.prototype.cancel=function(){this.J=!0,ut(this)};function gt(c){c.S=Date.now()+c.I,Ft(c,c.I)}function Ft(c,I){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Yi(d(c.ba,c),I)}function gn(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(pu(this.i,this.A),this.L!=2&&(Jr(),Ct(17)),ut(this),this.s=2,Kn(this)):Ft(this,this.S-c)};function Kn(c){c.j.G==0||c.J||Py(c.j,c)}function ut(c){gn(c);var I=c.M;I&&typeof I.ma=="function"&&I.ma(),c.M=null,Fn(c.U),c.g&&(I=c.g,c.g=null,I.abort(),I.ma())}function Fo(c,I){try{var x=c.j;if(x.G!=0&&(x.g==c||zh(x.h,c))){if(!c.K&&zh(x.h,c)&&x.G==3){try{var D=x.Da.g.parse(I)}catch{D=null}if(Array.isArray(D)&&D.length==3){var X=D;if(X[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)Au(x),bu(x);else break e;Gh(x),Ct(18)}}else x.za=X[1],0<x.za-x.T&&37500>X[2]&&x.F&&x.v==0&&!x.C&&(x.C=Yi(d(x.Za,x),6e3));if(1>=oy(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Zi(x,11)}else if((c.K||x.g==c)&&Au(x),!p(I))for(X=x.Da.g.parse(I),I=0;I<X.length;I++){let ze=X[I];if(x.T=ze[0],ze=ze[1],x.G==2)if(ze[0]=="c"){x.K=ze[1],x.ia=ze[2];const Qt=ze[3];Qt!=null&&(x.la=Qt,x.j.info("VER="+x.la));const Yt=ze[4];Yt!=null&&(x.Aa=Yt,x.j.info("SVER="+x.Aa));const Bo=ze[5];Bo!=null&&typeof Bo=="number"&&0<Bo&&(D=1.5*Bo,x.L=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Gn=c.g;if(Gn){const Iu=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var ee=D.h;ee.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Hh(ee,ee.h),ee.h=null))}if(D.D){const Yh=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yh&&(D.ya=Yh,nt(D.I,D.D,Yh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),D=x;var he=c;if(D.qa=Cy(D,D.J?D.ia:null,D.W),he.K){sy(D.h,he);var Ze=he,Ut=D.L;Ut&&(Ze.I=Ut),Ze.B&&(gn(Ze),gt(Ze)),D.g=he}else Oy(D);0<x.i.length&&Su(x)}else ze[0]!="stop"&&ze[0]!="close"||Zi(x,7);else x.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Zi(x,7):Kh(x):ze[0]!="noop"&&x.l&&x.l.ta(ze),x.v=0)}}Jr(4)}catch{}}var vu=class{constructor(c,I){this.g=c,this.map=I}};function ry(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iy(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oy(c){return c.h?1:c.g?c.g.size:0}function zh(c,I){return c.h?c.h==I:c.g?c.g.has(I):!1}function Hh(c,I){c.g?c.g.add(I):c.h=I}function sy(c,I){c.h&&c.h==I?c.h=null:c.g&&c.g.has(I)&&c.g.delete(I)}ry.prototype.cancel=function(){if(this.i=ay(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ay(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let I=c.i;for(const x of c.g.values())I=I.concat(x.D);return I}return v(c.i)}function mI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var I=[],x=c.length,D=0;D<x;D++)I.push(c[D]);return I}I=[],x=0;for(D in c)I[x++]=c[D];return I}function gI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var I=[];c=c.length;for(var x=0;x<c;x++)I.push(x);return I}I=[],x=0;for(const D in c)I[x++]=D;return I}}}function ly(c,I){if(c.forEach&&typeof c.forEach=="function")c.forEach(I,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,I,void 0);else for(var x=gI(c),D=mI(c),X=D.length,ee=0;ee<X;ee++)I.call(void 0,D[ee],x&&x[ee],c)}var uy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vI(c,I){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var D=c[x].indexOf("="),X=null;if(0<=D){var ee=c[x].substring(0,D);X=c[x].substring(D+1)}else ee=c[x];I(ee,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ji){this.h=c.h,yu(this,c.j),this.o=c.o,this.g=c.g,_u(this,c.s),this.l=c.l;var I=c.i,x=new da;x.i=I.i,I.g&&(x.g=new Map(I.g),x.h=I.h),cy(this,x),this.m=c.m}else c&&(I=String(c).match(uy))?(this.h=!1,yu(this,I[1]||"",!0),this.o=fa(I[2]||""),this.g=fa(I[3]||"",!0),_u(this,I[4]),this.l=fa(I[5]||"",!0),cy(this,I[6]||"",!0),this.m=fa(I[7]||"")):(this.h=!1,this.i=new da(null,this.h))}Ji.prototype.toString=function(){var c=[],I=this.j;I&&c.push(ha(I,fy,!0),":");var x=this.g;return(x||I=="file")&&(c.push("//"),(I=this.o)&&c.push(ha(I,fy,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(ha(x,x.charAt(0)=="/"?EI:_I,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",ha(x,TI)),c.join("")};function Ar(c){return new Ji(c)}function yu(c,I,x){c.j=x?fa(I,!0):I,c.j&&(c.j=c.j.replace(/:$/,""))}function _u(c,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);c.s=I}else c.s=null}function cy(c,I,x){I instanceof da?(c.i=I,bI(c.i,c.h)):(x||(I=ha(I,wI)),c.i=new da(I,c.h))}function nt(c,I,x){c.i.set(I,x)}function Eu(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,I){return c?I?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ha(c,I,x){return typeof c=="string"?(c=encodeURI(c).replace(I,yI),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fy=/[#\/\?@]/g,_I=/[#\?:]/g,EI=/[#\?]/g,wI=/[#\?@]/g,TI=/#/g;function da(c,I){this.h=this.g=null,this.i=c||null,this.j=!!I}function Zr(c){c.g||(c.g=new Map,c.h=0,c.i&&vI(c.i,function(I,x){c.add(decodeURIComponent(I.replace(/\+/g," ")),x)}))}t=da.prototype,t.add=function(c,I){Zr(this),this.i=null,c=Uo(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(I),this.h+=1,this};function hy(c,I){Zr(c),I=Uo(c,I),c.g.has(I)&&(c.i=null,c.h-=c.g.get(I).length,c.g.delete(I))}function dy(c,I){return Zr(c),I=Uo(c,I),c.g.has(I)}t.forEach=function(c,I){Zr(this),this.g.forEach(function(x,D){x.forEach(function(X){c.call(I,X,D,this)},this)},this)},t.na=function(){Zr(this);const c=Array.from(this.g.values()),I=Array.from(this.g.keys()),x=[];for(let D=0;D<I.length;D++){const X=c[D];for(let ee=0;ee<X.length;ee++)x.push(I[D])}return x},t.V=function(c){Zr(this);let I=[];if(typeof c=="string")dy(this,c)&&(I=I.concat(this.g.get(Uo(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)I=I.concat(c[x])}return I},t.set=function(c,I){return Zr(this),this.i=null,c=Uo(this,c),dy(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[I]),this.h+=1,this},t.get=function(c,I){return c?(c=this.V(c),0<c.length?String(c[0]):I):I};function py(c,I,x){hy(c,I),0<x.length&&(c.i=null,c.g.set(Uo(c,I),v(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],I=Array.from(this.g.keys());for(var x=0;x<I.length;x++){var D=I[x];const ee=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var X=ee;he[D]!==""&&(X+="="+encodeURIComponent(String(he[D]))),c.push(X)}}return this.i=c.join("&")};function Uo(c,I){return I=String(I),c.j&&(I=I.toLowerCase()),I}function bI(c,I){I&&!c.j&&(Zr(c),c.i=null,c.g.forEach(function(x,D){var X=D.toLowerCase();D!=X&&(hy(this,D),py(this,X,x))},c)),c.j=I}function SI(c,I){const x=new Gt;if(a.Image){const D=new Image;D.onload=m(ei,x,"TestLoadImage: loaded",!0,I,D),D.onerror=m(ei,x,"TestLoadImage: error",!1,I,D),D.onabort=m(ei,x,"TestLoadImage: abort",!1,I,D),D.ontimeout=m(ei,x,"TestLoadImage: timeout",!1,I,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=c}else I(!1)}function AI(c,I){const x=new Gt,D=new AbortController,X=setTimeout(()=>{D.abort(),ei(x,"TestPingServer: timeout",!1,I)},1e4);fetch(c,{signal:D.signal}).then(ee=>{clearTimeout(X),ee.ok?ei(x,"TestPingServer: ok",!0,I):ei(x,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(X),ei(x,"TestPingServer: error",!1,I)})}function ei(c,I,x,D,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),D(x)}catch{}}function OI(){this.g=new oa}function II(c,I,x){const D=x||"";try{ly(c,function(X,ee){let he=X;u(X)&&(he=ur(X)),I.push(D+ee+"="+encodeURIComponent(he))})}catch(X){throw I.push(D+"type="+encodeURIComponent("_badmap")),X}}function pa(c){this.l=c.Ub||null,this.j=c.eb||!1}_(pa,sa),pa.prototype.g=function(){return new wu(this.l,this.j)},pa.prototype.i=function(c){return function(){return c}}({});function wu(c,I){Ue.call(this),this.D=c,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(wu,Ue),t=wu.prototype,t.open=function(c,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=I,this.readyState=1,ga(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(I.body=c),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;my(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function my(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var I=c.value?c.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!c.done}))&&(this.response=this.responseText+=I)}c.done?ma(this):ga(this),this.readyState==3&&my(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ma(this))},t.Qa=function(c){this.g&&(this.response=c,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ga(c)}t.setRequestHeader=function(c,I){this.u.append(c,I)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],I=this.h.entries();for(var x=I.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=I.next();return c.join(`\r
`)};function ga(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gy(c){let I="";return C(c,function(x,D){I+=D,I+=":",I+=x,I+=`\r
`}),I}function Wh(c,I,x){e:{for(D in x){var D=!1;break e}D=!0}D||(x=gy(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):nt(c,I,x))}function vt(c){Ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(vt,Ue);var PI=/^https?$/i,RI=["POST","PUT"];t=vt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,I,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);I=I?I.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jo.g(),this.v=this.o?Yr(this.o):Yr(jo),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(I,String(c),!0),this.B=!1}catch(ee){vy(this,ee);return}if(c=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var X in D)x.set(X,D[X]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const ee of D.keys())x.set(ee,D.get(ee));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(ee=>ee.toLowerCase()=="content-type"),X=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RI,I,void 0))||D||X||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,he]of x)this.g.setRequestHeader(ee,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ey(this),this.u=!0,this.g.send(c),this.u=!1}catch(ee){vy(this,ee)}};function vy(c,I){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=I,c.m=5,yy(c),Tu(c)}function yy(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Tu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tu(this,!0)),vt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_y(this):this.bb())},t.bb=function(){_y(this)};function _y(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Or(c)!=4||c.Z()!=2)){if(c.u&&Or(c)==4)Ki(c.Ea,0,c);else if(Xe(c,"readystatechange"),Or(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var x;if(!(x=I)){var D;if(D=he===0){var X=String(c.D).match(uy)[1]||null;!X&&a.self&&a.self.location&&(X=a.self.location.protocol.slice(0,-1)),D=!PI.test(X?X.toLowerCase():"")}x=D}if(x)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var ee=2<Or(c)?c.g.statusText:""}catch{ee=""}c.l=ee+" ["+c.Z()+"]",yy(c)}}finally{Tu(c)}}}}function Tu(c,I){if(c.g){Ey(c);const x=c.g,D=c.v[0]?()=>{}:null;c.g=null,c.v=null,I||Xe(c,"ready");try{x.onreadystatechange=D}catch{}}}function Ey(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Or(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var I=this.g.responseText;return c&&I.indexOf(c)==0&&(I=I.substring(c.length)),ia(I)}};function wy(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kI(c){const I={};c=(c.g&&2<=Or(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<c.length;D++){if(p(c[D]))continue;var x=S(c[D]);const X=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ee=I[X]||[];I[X]=ee,ee.push(x)}A(I,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,I,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||I}function Ty(c){this.Aa=0,this.i=[],this.j=new Gt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ry(c&&c.concurrentRequestLimit),this.Da=new OI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ty.prototype,t.la=8,t.G=1,t.connect=function(c,I,x,D){Ct(0),this.W=c,this.H=I||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.I=Cy(this,null,this.W),Su(this)};function Kh(c){if(by(c),c.G==3){var I=c.U++,x=Ar(c.I);if(nt(x,"SID",c.K),nt(x,"RID",I),nt(x,"TYPE","terminate"),ya(c,x),I=new Wn(c,c.j,I),I.L=2,I.v=Eu(Ar(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=I.v,x=!0),x||(I.g=xy(I.j,null),I.g.ea(I.v)),I.F=Date.now(),gt(I)}ky(c)}function bu(c){c.g&&(Qh(c),c.g.cancel(),c.g=null)}function by(c){bu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Au(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Su(c){if(!iy(c.h)&&!c.s){c.s=!0;var I=c.Ga;G||F(),Q||(G(),Q=!0),B.add(I,c),c.B=0}}function CI(c,I){return oy(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=I.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Yi(d(c.Ga,c,I),Ry(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const X=new Wn(this,this.j,c);let ee=this.o;if(this.S&&(ee?(ee=b(ee),T(ee,this.S)):ee=this.S),this.m!==null||this.O||(X.H=ee,ee=null),this.P)e:{for(var I=0,x=0;x<this.i.length;x++){t:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(I+=D,4096<I){I=x;break e}if(I===4096||x===this.i.length-1){I=x+1;break e}}I=1e3}else I=1e3;I=Ay(this,X,I),x=Ar(this.I),nt(x,"RID",c),nt(x,"CVER",22),this.D&&nt(x,"X-HTTP-Session-Id",this.D),ya(this,x),ee&&(this.O?I="headers="+encodeURIComponent(String(gy(ee)))+"&"+I:this.m&&Wh(x,this.m,ee)),Hh(this.h,X),this.Ua&&nt(x,"TYPE","init"),this.P?(nt(x,"$req",I),nt(x,"SID","null"),X.T=!0,ce(X,x,null)):ce(X,x,I),this.G=2}}else this.G==3&&(c?Sy(this,c):this.i.length==0||iy(this.h)||Sy(this))};function Sy(c,I){var x;I?x=I.l:x=c.U++;const D=Ar(c.I);nt(D,"SID",c.K),nt(D,"RID",x),nt(D,"AID",c.T),ya(c,D),c.m&&c.o&&Wh(D,c.m,c.o),x=new Wn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),I&&(c.i=I.D.concat(c.i)),I=Ay(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hh(c.h,x),ce(x,D,I)}function ya(c,I){c.H&&C(c.H,function(x,D){nt(I,D,x)}),c.l&&ly({},function(x,D){nt(I,D,x)})}function Ay(c,I,x){x=Math.min(c.i.length,x);var D=c.l?d(c.l.Na,c.l,c):null;e:{var X=c.i;let ee=-1;for(;;){const he=["count="+x];ee==-1?0<x?(ee=X[0].g,he.push("ofs="+ee)):ee=0:he.push("ofs="+ee);let Ze=!0;for(let Ut=0;Ut<x;Ut++){let ze=X[Ut].g;const Qt=X[Ut].map;if(ze-=ee,0>ze)ee=Math.max(0,X[Ut].g-100),Ze=!1;else try{II(Qt,he,"req"+ze+"_")}catch{D&&D(Qt)}}if(Ze){D=he.join("&");break e}}}return c=c.i.splice(0,x),I.D=c,D}function Oy(c){if(!c.g&&!c.u){c.Y=1;var I=c.Fa;G||F(),Q||(G(),Q=!0),B.add(I,c),c.v=0}}function Gh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Yi(d(c.Fa,c),Ry(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Iy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Yi(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),bu(this),Iy(this))};function Qh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Iy(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var I=Ar(c.qa);nt(I,"RID","rpc"),nt(I,"SID",c.K),nt(I,"AID",c.T),nt(I,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(I,"TO",c.ja),nt(I,"TYPE","xmlhttp"),ya(c,I),c.m&&c.o&&Wh(I,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=Eu(Ar(I)),x.m=null,x.P=!0,ye(x,c)}t.Za=function(){this.C!=null&&(this.C=null,bu(this),Gh(this),Ct(19))};function Au(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Py(c,I){var x=null;if(c.g==I){Au(c),Qh(c),c.g=null;var D=2}else if(zh(c.h,I))x=I.D,sy(c.h,I),D=1;else return;if(c.G!=0){if(I.o)if(D==1){x=I.m?I.m.length:0,I=Date.now()-I.F;var X=c.B;D=Xr(),Xe(D,new ua(D,x)),Su(c)}else Oy(c);else if(X=I.s,X==3||X==0&&0<I.X||!(D==1&&CI(c,I)||D==2&&Gh(c)))switch(x&&0<x.length&&(I=c.h,I.i=I.i.concat(x)),X){case 1:Zi(c,5);break;case 4:Zi(c,10);break;case 3:Zi(c,6);break;default:Zi(c,2)}}}function Ry(c,I){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*I}function Zi(c,I){if(c.j.info("Error code "+I),I==2){var x=d(c.fb,c),D=c.Xa;const X=!D;D=new Ji(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yu(D,"https"),Eu(D),X?SI(D.toString(),x):AI(D.toString(),x)}else Ct(2);c.G=0,c.l&&c.l.sa(I),ky(c),by(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function ky(c){if(c.G=0,c.ka=[],c.l){const I=ay(c.h);(I.length!=0||c.i.length!=0)&&(w(c.ka,I),w(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function Cy(c,I,x){var D=x instanceof Ji?Ar(x):new Ji(x);if(D.g!="")I&&(D.g=I+"."+D.g),_u(D,D.s);else{var X=a.location;D=X.protocol,I=I?I+"."+X.hostname:X.hostname,X=+X.port;var ee=new Ji(null);D&&yu(ee,D),I&&(ee.g=I),X&&_u(ee,X),x&&(ee.l=x),D=ee}return x=c.D,I=c.ya,x&&I&&nt(D,x,I),nt(D,"VER",c.la),ya(c,D),D}function xy(c,I,x){if(I&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=c.Ca&&!c.pa?new vt(new pa({eb:x})):new vt(c.pa),I.Ha(c.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ny(){}t=Ny.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ou(){}Ou.prototype.g=function(c,I){return new Pn(c,I)};function Pn(c,I){Ue.call(this),this.g=new Ty(I),this.l=c,this.h=I&&I.messageUrlParams||null,c=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(c?c["X-WebChannel-Content-Type"]=I.messageContentType:c={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(c?c["X-WebChannel-Client-Profile"]=I.va:c={"X-WebChannel-Client-Profile":I.va}),this.g.S=c,(c=I&&I.Sb)&&!p(c)&&(this.g.m=c),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!p(I)&&(this.g.D=I,c=this.h,c!==null&&I in c&&(c=this.h,I in c&&delete c[I])),this.j=new Vo(this)}_(Pn,Ue),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Kh(this.g)},Pn.prototype.o=function(c){var I=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=ur(c),c=x);I.i.push(new vu(I.Ya++,c)),I.G==3&&Su(I)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,Pn.aa.N.call(this)};function Ly(c){mt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var I=c.__sm__;if(I){e:{for(const x in I){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,I=I!==null&&c in I?I[c]:void 0),this.data=I}else this.data=c}_(Ly,mt);function Dy(){cr.call(this),this.status=1}_(Dy,cr);function Vo(c){this.g=c}_(Vo,Ny),Vo.prototype.ua=function(){Xe(this.g,"a")},Vo.prototype.ta=function(c){Xe(this.g,new Ly(c))},Vo.prototype.sa=function(c){Xe(this.g,new Dy)},Vo.prototype.ra=function(){Xe(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,gS=function(){return new Ou},mS=function(){return Xr()},pS=br,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mn.NO_ERROR=0,mn.TIMEOUT=8,mn.HTTP_ERROR=6,_c=mn,ca.COMPLETE="complete",dS=ca,fu.EventType=Qi,Qi.OPEN="a",Qi.CLOSE="b",Qi.ERROR="c",Qi.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,$a=fu,hS=pa,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,fS=vt}).apply(typeof Wu<"u"?Wu:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Jg("@firebase/firestore");function Ia(){return Ao.logLevel}function _e(t,...e){if(Ao.logLevel<=Be.DEBUG){const n=e.map(cv);Ao.debug(`Firestore (${Ks}): ${t}`,...n)}}function zr(t,...e){if(Ao.logLevel<=Be.ERROR){const n=e.map(cv);Ao.error(`Firestore (${Ks}): ${t}`,...n)}}function Is(t,...e){if(Ao.logLevel<=Be.WARN){const n=e.map(cv);Ao.warn(`Firestore (${Ks}): ${t}`,...n)}}function cv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function et(t,e){t||ke()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class IL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PL{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new jr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new jr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new vS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new tn(e)}}class RL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new RL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,_e("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new CL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NL(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Ps(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new kt(0,0))}static max(){return new Ce(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(),r===void 0?r=e.length-n:r>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends kl{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const LL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends kl{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return LL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ot.fromString(e))}static fromName(e){return new Te(ot.fromString(e).popFirst(5))}static empty(){return new Te(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ot(e.slice()))}}function DL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ce.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new Li(i,Te.empty(),e)}function ML(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(Ce.min(),Te.empty(),-1)}static max(){return new Li(Ce.max(),Te.empty(),-1)}}function jL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==FL)throw t;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new le((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function VL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fv.oe=-1;function hh(t){return t==null}function mf(t){return t===0&&1/t==-1/0}function BL(t){return typeof t=="number"&&Number.isInteger(t)&&!mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _S(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=o??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new V0(this.data.getIterator())}getIteratorFrom(e){return new V0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class V0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ht(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ES("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const qL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(et(!!t),typeof t=="string"){let e=0;const n=qL.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oo(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dv(t){const e=t.mapValue.fields.__previous_value__;return hv(e)?dv(e):e}function Cl(t){const e=Di(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class xl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hv(t)?4:HL(t)?9007199254740991:zL(t)?10:11:ke()}function Tr(t,e){if(t===e)return!0;const n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cl(t).isEqual(Cl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Di(i.timestampValue),a=Di(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Oo(i.bytesValue).isEqual(Oo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?mf(s)===mf(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ps(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(U0(s)!==U0(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Tr(s[l],a[l])))return!1;return!0}(t,e);default:return ke()}}function Nl(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function Rs(t,e){if(t===e)return 0;const n=Io(t),r=Io(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return B0(t.timestampValue,e.timestampValue);case 4:return B0(Cl(t),Cl(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Oo(o),l=Oo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const f=He(a[u],l[u]);if(f!==0)return f}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=He(wt(o.latitude),wt(s.latitude));return a!==0?a:He(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,f;const h=o.fields||{},d=s.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,_=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=He(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0);return v!==0?v:q0(m,_)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gu.mapValue&&s===Gu.mapValue)return 0;if(o===Gu.mapValue)return 1;if(s===Gu.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const d=He(l[h],f[h]);if(d!==0)return d;const m=Rs(a[l[h]],u[f[h]]);if(m!==0)return m}return He(l.length,f.length)}(t.mapValue,e.mapValue);default:throw ke()}}function B0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Di(t),r=Di(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function q0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Rs(n[i],r[i]);if(o)return o}return He(n.length,r.length)}function ks(t){return hm(t)}function hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=hm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${hm(n.fields[s])}`;return i+"}"}(t.mapValue):ke()}function $0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dm(t){return!!t&&"integerValue"in t}function pv(t){return!!t&&"arrayValue"in t}function z0(t){return!!t&&"nullValue"in t}function H0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ec(t){return!!t&&"mapValue"in t}function zL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=il(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ec(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new _n(il(this.value))}}function wS(t){const e=[];return No(t.fields,(n,r)=>{const i=new qt([n]);if(Ec(r)){const o=wS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rn(e,0,Ce.min(),Ce.min(),Ce.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new rn(e,1,n,Ce.min(),r,i,0)}static newNoDocument(e,n){return new rn(e,2,n,Ce.min(),Ce.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,Ce.min(),Ce.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.position=e,this.inclusive=n}}function W0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Te.comparator(Te.fromName(s.referenceValue),n.key):r=Rs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n="asc"){this.field=e,this.dir=n}}function WL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class Ot extends TS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GL(e,n,r):n==="array-contains"?new XL(e,r):n==="in"?new JL(e,r):n==="not-in"?new ZL(e,r):n==="array-contains-any"?new eD(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QL(e,r):new YL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Rs(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Rs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new sr(e,n)}matches(e){return bS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bS(t){return t.op==="and"}function SS(t){return KL(t)&&bS(t)}function KL(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function pm(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+ks(t.value);if(SS(t))return t.filters.map(e=>pm(e)).join(",");{const e=t.filters.map(n=>pm(n)).join(",");return`${t.op}(${e})`}}function AS(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(t,e):t instanceof sr?function(r,i){return i instanceof sr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&AS(s,i.filters[a]),!0):!1}(t,e):void ke()}function OS(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${ks(n.value)}`}(t):t instanceof sr?function(n){return n.op.toString()+" {"+n.getFilters().map(OS).join(" ,")+"}"}(t):"Filter"}class GL extends Ot{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class QL extends Ot{constructor(e,n){super(e,"in",n),this.keys=IS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YL extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=IS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class XL extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pv(n)&&Nl(n.arrayValue,this.value)}}class JL extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nl(this.value.arrayValue,n)}}class ZL extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nl(this.value.arrayValue,n)}}class eD extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function G0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tD(t,e,n,r,i,o,s)}function mv(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ks(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ks(r)).join(",")),e.ue=n}return e.ue}function gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K0(t.startAt,e.startAt)&&K0(t.endAt,e.endAt)}function mm(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nD(t,e,n,r,i,o,s,a){return new eu(t,e,n,r,i,o,s,a)}function vv(t){return new eu(t)}function Q0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PS(t){return t.collectionGroup!==null}function ol(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ht(qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new vf(o,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new vf(qt.keyField(),r))}return e.ce}function _r(t){const e=xe(t);return e.le||(e.le=rD(e,ol(t))),e.le}function rD(t,e){if(t.limitType==="F")return G0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new vf(i.field,o)});const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return G0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gm(t,e){const n=t.filters.concat([e]);return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yf(t,e,n){return new eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return gv(_r(t),_r(e))&&t.limitType===e.limitType}function RS(t){return`${mv(_r(t))}|lt:${t.limitType}`}function zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OS(i)).join(", ")}]`),hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ks(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ks(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function ph(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ol(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=W0(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ol(r),i)||r.endAt&&!function(s,a,l){const u=W0(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ol(r),i))}(t,e)}function iD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kS(t){return(e,n)=>{let r=!1;for(const i of ol(t)){const o=oD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oD(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Rs(l,u):ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new pt(Te.comparator);function Hr(){return sD}const CS=new pt(Te.comparator);function za(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function xS(t){let e=CS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return sl()}function NS(){return sl()}function sl(){return new Gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const aD=new pt(Te.comparator),lD=new Ht(Te.comparator);function Ve(...t){let e=lD;for(const n of t)e=e.add(n);return e}const uD=new Ht(He);function cD(){return uD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function LS(t){return{integerValue:""+t}}function fD(t,e){return BL(e)?LS(e):yv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function hD(t,e,n){return t instanceof Ll?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&hv(o)&&(o=dv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Dl?MS(t,e):t instanceof Ml?jS(t,e):function(i,o){const s=DS(i,o),a=Y0(s)+Y0(i.Pe);return dm(s)&&dm(i.Pe)?LS(a):yv(i.serializer,a)}(t,e)}function dD(t,e,n){return t instanceof Dl?MS(t,e):t instanceof Ml?jS(t,e):n}function DS(t,e){return t instanceof _f?function(r){return dm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ll extends mh{}class Dl extends mh{constructor(e){super(),this.elements=e}}function MS(t,e){const n=FS(e);for(const r of t.elements)n.some(i=>Tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ml extends mh{constructor(e){super(),this.elements=e}}function jS(t,e){let n=FS(e);for(const r of t.elements)n=n.filter(i=>!Tr(i,r));return{arrayValue:{values:n}}}class _f extends mh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Y0(t){return wt(t.integerValue||t.doubleValue)}function FS(t){return pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.field=e,this.transform=n}}function mD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dl&&i instanceof Dl||r instanceof Ml&&i instanceof Ml?Ps(r.elements,i.elements,Tr):r instanceof _f&&i instanceof _f?Tr(r.Pe,i.Pe):r instanceof Ll&&i instanceof Ll}(t.transform,e.transform)}class gD{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function US(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BS(t.key,Er.none()):new tu(t.key,t.data,Er.none());{const n=t.data,r=_n.empty();let i=new Ht(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wi(t.key,r,new Cn(i.toArray()),Er.none())}}function vD(t,e,n){t instanceof tu?function(i,o,s){const a=i.value.clone(),l=J0(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Wi?function(i,o,s){if(!wc(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=J0(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(VS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof tu?function(o,s,a,l){if(!wc(o.precondition,s))return a;const u=o.value.clone(),f=Z0(o.fieldTransforms,l,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wi?function(o,s,a,l){if(!wc(o.precondition,s))return a;const u=Z0(o.fieldTransforms,l,s),f=s.data;return f.setAll(VS(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return wc(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function yD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=DS(r.transform,i||null);o!=null&&(n===null&&(n=_n.empty()),n.set(r.field,o))}return n||null}function X0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ps(r,i,(o,s)=>mD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wi extends gh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function J0(t,e,n){const r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dD(s,a,n[i]))}return r}function Z0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hD(o,s,e))}return r}class BS extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _D extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&vD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=US(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(n,r)=>X0(n,r))&&Ps(this.baseMutations,e.baseMutations,(n,r)=>X0(n,r))}}class _v{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return aD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _v(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,qe;function bD(t){switch(t){default:return ke();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function qS(t){if(t===void 0)return zr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case St.OK:return oe.OK;case St.CANCELLED:return oe.CANCELLED;case St.UNKNOWN:return oe.UNKNOWN;case St.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case St.INTERNAL:return oe.INTERNAL;case St.UNAVAILABLE:return oe.UNAVAILABLE;case St.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case St.NOT_FOUND:return oe.NOT_FOUND;case St.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case St.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case St.ABORTED:return oe.ABORTED;case St.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case St.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case St.DATA_LOSS:return oe.DATA_LOSS;default:return ke()}}(qe=St||(St={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new mo([4294967295,4294967295],0);function e1(t){const e=SD().encode(t),n=new cS;return n.update(e),new Uint8Array(n.digest())}function t1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mo([n,r],0),new mo([i,o],0)]}class Ev{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mo.fromNumber(r)));return i.compare(AD)===1&&(i=new mo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=e1(e),[r,i]=t1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ev(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=e1(e),[r,i]=t1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(Ce.min(),i,new pt(He),Hr(),Ve())}}class nu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $S{constructor(e,n){this.targetId=e,this.me=n}}class zS{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class n1{constructor(){this.fe=0,this.ge=i1(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),r=Ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke()}}),new nu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=i1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hr(),this.qe=r1(),this.Qe=new pt(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(mm(o))if(r===0){const s=new Te(o.path);this.Ue(n,s,rn.newNoDocument(s,Ce.min()))}else et(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Oo(r).toUint8Array()}catch(l){if(l instanceof ES)return Is("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ev(s,i,o)}catch(l){return Is(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&mm(a.target)){const l=new Te(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,rn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new vh(e,n,this.Qe,this.ke,r);return this.ke=Hr(),this.qe=r1(),this.Qe=new pt(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new n1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ht(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new n1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function r1(){return new pt(Te.comparator)}function i1(){return new pt(Te.comparator)}const ID={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RD={and:"AND",or:"OR"};class kD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(t,e){return t.useProto3Json||hh(e)?e:{value:e}}function Ef(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CD(t,e){return Ef(t,e.toTimestamp())}function wr(t){return et(!!t),Ce.fromTimestamp(function(n){const r=Di(n);return new kt(r.seconds,r.nanos)}(t))}function wv(t,e){return ym(t,e).canonicalString()}function ym(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WS(t){const e=ot.fromString(t);return et(XS(e)),e}function _m(t,e){return wv(t.databaseId,e.path)}function Cd(t,e){const n=WS(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(GS(n))}function KS(t,e){return wv(t.databaseId,e)}function xD(t){const e=WS(t);return e.length===4?ot.emptyPath():GS(e)}function Em(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GS(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function o1(t,e,n){return{name:_m(t,e),fields:n.value.mapValue.fields}}function ND(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(et(f===void 0||typeof f=="string"),Kt.fromBase64String(f||"")):(et(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Kt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const f=u.code===void 0?oe.UNKNOWN:qS(u.code);return new ve(f,u.message||"")}(s);n=new zS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cd(t,r.document.name),o=wr(r.document.updateTime),s=r.document.createTime?wr(r.document.createTime):Ce.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=rn.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];n=new Tc(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cd(t,r.document),o=r.readTime?wr(r.readTime):Ce.min(),s=rn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Tc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cd(t,r.document),o=r.removedTargetIds||[];n=new Tc([],o,i,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new TD(i,o),a=r.targetId;n=new $S(a,s)}}return n}function LD(t,e){let n;if(e instanceof tu)n={update:o1(t,e.key,e.value)};else if(e instanceof BS)n={delete:_m(t,e.key)};else if(e instanceof Wi)n={update:o1(t,e.key,e.data),updateMask:$D(e.fieldMask)};else{if(!(e instanceof _D))return ke();n={verify:_m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ll)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _f)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:CD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ke()}(t,e.precondition)),n}function DD(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?wr(i.updateTime):wr(o);return s.isEqual(Ce.min())&&(s=wr(o)),new gD(s,i.transformResults||[])}(n,e))):[]}function MD(t,e){return{documents:[KS(t,e.path)]}}function jD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KS(t,i);const o=function(u){if(u.length!==0)return YS(sr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(f=>function(d){return{field:Ho(d.field),direction:VD(d.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=vm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function FD(t){let e=xD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){et(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){const d=QS(h);return d instanceof sr&&SS(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(_){return new vf(Wo(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,hh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new gf(m,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,m=h.values||[];return new gf(m,d)}(n.endAt)),nD(e,i,s,o,a,"F",l,u)}function UD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wo(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wo(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wo(n.unaryFilter.field);return Ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wo(n.unaryFilter.field);return Ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Wo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return sr.create(n.compositeFilter.filters.map(r=>QS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(n.compositeFilter.op))}(t):ke()}function VD(t){return ID[t]}function BD(t){return PD[t]}function qD(t){return RD[t]}function Ho(t){return{fieldPath:t.canonicalString()}}function Wo(t){return qt.fromServerFormat(t.fieldPath)}function YS(t){return t instanceof Ot?function(n){if(n.op==="=="){if(H0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NAN"}};if(z0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NAN"}};if(z0(n.value))return{unaryFilter:{field:Ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(n.field),op:BD(n.op),value:n.value}}}(t):t instanceof sr?function(n){const r=n.getFilters().map(i=>YS(i));return r.length===1?r[0]:{compositeFilter:{op:qD(n.op),filters:r}}}(t):ke()}function $D(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,o=Ce.min(),s=Ce.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.ct=e}}function HD(t){const e=FD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.un=new KD}addToCollectionParentIndex(e,n){return this.un.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Li.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class KD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ht(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Cs(0)}static kn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.changes=new Gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,Cn.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const i=co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=za();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hr();const s=sl(),a=function(){return sl()}();return n.forEach((l,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Wi)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),al(f.mutation,u,f.mutation.getFieldMask(),kt.now())):s.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>s.set(u,f)),n.forEach((u,f)=>{var h;return a.set(u,new QD(f,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=sl();let i=new pt((s,a)=>s-a),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let f=r.get(l)||Cn.empty();f=a.applyToLocalView(u,f),r.set(l,f);const h=(i.get(a.batchId)||Ve()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,f=l.value,h=NS();f.forEach(d=>{if(!o.has(d)){const m=US(n.get(d),r.get(d));m!==null&&h.set(d,m),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return le.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):le.resolve(co());let a=-1,l=o;return s.next(u=>le.forEach(u,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next(d=>{l=l.insert(f,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ve())).next(f=>({batchId:a,changes:xS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let i=za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=za();return this.indexManager.getCollectionParents(e,o).next(a=>le.forEach(a,l=>{const u=function(h,d){return new eu(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const f=u.getKey();s.get(f)===null&&(s=s.insert(f,rn.newInvalidDocument(f)))});let a=za();return s.forEach((l,u)=>{const f=o.get(l);f!==void 0&&al(f.mutation,u,Cn.empty(),kt.now()),ph(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return le.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:wr(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:HD(i.bundledQuery),readTime:wr(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.overlays=new pt(Te.comparator),this.Ir=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return le.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=co(),o=n.length+1,s=new Te(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new pt((u,f)=>u-f);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=co(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=co(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return le.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wD(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Tr=new Ht(Lt.Er),this.dr=new Ht(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Lt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Lt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Te(new ot([])),r=new Lt(n,e),i=new Lt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Te(new ot([])),r=new Lt(n,e),i=new Lt(n,e+1);let o=Ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Lt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Lt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Te.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ht(Lt.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ED(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(s)}lookupMutationBatch(e,n){return le.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return le.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Lt(n,0),i=new Lt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),le.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(He);return n.forEach(i=>{const o=new Lt(i,0),s=new Lt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),le.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Te.isDocumentKey(o)||(o=o.child(""));const s=new Lt(new Te(o),0);let a=new Ht(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),le.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return le.forEach(n.mutations,i=>{const o=new Lt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Lt(n,0),i=this.br.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.Mr=e,this.docs=function(){return new pt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let r=Hr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hr();const s=n.path,a=new Te(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||jL(ML(f),r)<=0||(i.has(f.key)||ph(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return le.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ke()}Or(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nM(this)}getSize(e){return le.resolve(this.size)}}class nM extends GD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.persistence=e,this.Nr=new Gs(n=>mv(n),gv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tv,this.targetCount=0,this.kr=Cs.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),le.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Kn(n),le.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),le.waitFor(o).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),le.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fv(0),this.Kr=!1,this.Kr=!0,this.$r=new ZD,this.referenceDelegate=e(this),this.Ur=new rM(this),this.indexManager=new WD,this.remoteDocumentCache=function(i){return new tM(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new zD(n),this.Gr=new XD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new eM(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new oM(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return le.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class oM extends UL{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Jr=new Tv,this.Yr=null}static Zr(e){return new bv(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),le.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,r=>{const i=Te.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return le.or([()=>le.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ve(),i=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return XC()?8:VL(an())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new sM;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ia()<=Be.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Ia()<=Be.DEBUG&&_e("QueryEngine","Query:",zo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ia()<=Be.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):le.resolve())}Yi(e,n){if(Q0(n))return le.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yf(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,yf(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Q0(n)||i.isEqual(Ce.min())?le.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?le.resolve(null):(Ia()<=Be.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zo(n)),this.rs(e,s,n,DL(i,-1)).next(a=>a))})}ts(e,n){let r=new Ht(kS(e));return n.forEach((i,o)=>{ph(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ia()<=Be.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",zo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Li.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pt(He),this._s=new Gs(o=>mv(o),gv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function uM(t,e,n,r){return new lM(t,e,n,r)}async function JS(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ve();for(const u of i){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of o){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function cM(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,f){const h=u.batch,d=h.keys();let m=le.resolve();return d.forEach(_=>{m=m.next(()=>f.getEntry(l,_)).next(v=>{const w=u.docVersions.get(_);et(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),f.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZS(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function fM(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((f,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,h)));let m=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Kt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,r)),i=i.insert(h,m),function(v,w,g){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,m,f)&&a.push(n.Ur.updateTargetData(o,m))});let l=Hr(),u=Ve();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(hM(o,s,e.documentUpdates).next(f=>{l=f.Ps,u=f.Is})),!r.isEqual(Ce.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return le.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function hM(t,e,n){let r=Ve(),i=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ce.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):_e("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function dM(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pM(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,le.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new vi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function wm(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Zl(s))throw s;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function s1(t,e,n){const r=xe(t);let i=Ce.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,f){const h=xe(l),d=h._s.get(f);return d!==void 0?le.resolve(h.os.get(d)):h.Ur.getTargetData(u,f)}(r,s,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ce.min(),n?o:Ve())).next(a=>(mM(r,iD(e),a),{documents:a,Ts:o})))}function mM(t,e,n){let r=t.us.get(e)||Ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class a1{constructor(){this.activeTargetIds=cD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gM{constructor(){this.so=new a1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new a1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function xd(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class EM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=xd(),l=this.xo(n,r.toUriEncodedString());_e("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(f=>(_e("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Is("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",l,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=yM[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=xd();return new Promise((s,a)=>{const l=new fS;l.setWithCredentials(!0),l.listenOnce(dS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _c.NO_ERROR:const f=l.getResponseJson();_e(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case _c.TIMEOUT:_e(Zt,`RPC '${e}' ${o} timed out`),a(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const h=l.getStatus();if(_e(Zt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const _=function(w){const g=w.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(g)>=0?g:oe.UNKNOWN}(m.status);a(new ve(_,m.message))}else a(new ve(oe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{_e(Zt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);_e(Zt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=xd(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gS(),a=mS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new hS({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");_e(Zt,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);let d=!1,m=!1;const _=new _M({Io:w=>{m?_e(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(d||(_e(Zt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),_e(Zt,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},To:()=>h.close()}),v=(w,g,p)=>{w.listen(g,E=>{try{p(E)}catch(y){setTimeout(()=>{throw y},0)}})};return v(h,$a.EventType.OPEN,()=>{m||(_e(Zt,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(h,$a.EventType.CLOSE,()=>{m||(m=!0,_e(Zt,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(h,$a.EventType.ERROR,w=>{m||(m=!0,Is(Zt,`RPC '${e}' stream ${i} transport errored:`,w),_.So(new ve(oe.UNAVAILABLE,"The operation could not be completed")))}),v(h,$a.EventType.MESSAGE,w=>{var g;if(!m){const p=w.data[0];et(!!p);const E=p,y=E.error||((g=E[0])===null||g===void 0?void 0:g.error);if(y){_e(Zt,`RPC '${e}' stream ${i} received error:`,y);const O=y.status;let C=function(P){const T=St[P];if(T!==void 0)return qS(T)}(O),A=y.message;C===void 0&&(C=oe.INTERNAL,A="Unknown error status: "+O+" with message "+y.message),m=!0,_.So(new ve(C,A)),h.close()}else _e(Zt,`RPC '${e}' stream ${i} received:`,p),_.bo(p)}}),v(a,pS.STAT_EVENT,w=>{w.stat===fm.PROXY?_e(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===fm.NOPROXY&&_e(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new kD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new eA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wM extends tA{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ND(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ce.min():s.readTime?wr(s.readTime):Ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Em(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=mm(l)?{documents:MD(o,l)}:{query:jD(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=HS(o,s.resumeToken);const u=vm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ce.min())>0){a.readTime=Ef(o,s.snapshotVersion.toTimestamp());const u=vm(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=UD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Em(this.serializer),n.removeTarget=e,this.a_(n)}}class TM extends tA{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=DD(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Em(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>LD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ym(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(oe.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,ym(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(oe.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class SM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(n),this.D_=!1):_e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Lo(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await ru(u),u.q_.set("Unknown"),u.L_.delete(4),await _h(u)}(this))})}),this.q_=new SM(r,i)}}async function _h(t){if(Lo(t))for(const e of t.B_)await e(!0)}async function ru(t){for(const e of t.B_)await e(!1)}function nA(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Pv(n)?Iv(n):Qs(n).r_()&&Ov(n,e))}function Av(t,e){const n=xe(t),r=Qs(n);n.N_.delete(e),r.r_()&&rA(n,e),n.N_.size===0&&(r.r_()?r.o_():Lo(n)&&n.q_.set("Unknown"))}function Ov(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qs(t).A_(e)}function rA(t,e){t.Q_.xe(e),Qs(t).R_(e)}function Iv(t){t.Q_=new OD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qs(t).start(),t.q_.v_()}function Pv(t){return Lo(t)&&!Qs(t).n_()&&t.N_.size>0}function Lo(t){return xe(t).L_.size===0}function iA(t){t.Q_=void 0}async function OM(t){t.q_.set("Online")}async function IM(t){t.N_.forEach((e,n)=>{Ov(t,e)})}async function PM(t,e){iA(t),Pv(t)?(t.q_.M_(e),Iv(t)):t.q_.set("Unknown")}async function RM(t,e,n){if(t.q_.set("Online"),e instanceof zS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wf(t,r)}else if(e instanceof Tc?t.Q_.Ke(e):e instanceof $S?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const r=await ZS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=o.N_.get(u);f&&o.N_.set(u,f.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const f=o.N_.get(l);if(!f)return;o.N_.set(l,f.withResumeToken(Kt.EMPTY_BYTE_STRING,f.snapshotVersion)),rA(o,l);const h=new vi(f.target,l,u,f.sequenceNumber);Ov(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await wf(t,r)}}async function wf(t,e,n){if(!Zl(e))throw e;t.L_.add(1),await ru(t),t.q_.set("Offline"),n||(n=()=>ZS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await _h(t)})}function oA(t,e){return e().catch(n=>wf(t,n,e))}async function Eh(t){const e=xe(t),n=Mi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;kM(e);)try{const i=await dM(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,CM(e,i)}catch(i){await wf(e,i)}sA(e)&&aA(e)}function kM(t){return Lo(t)&&t.O_.length<10}function CM(t,e){t.O_.push(e);const n=Mi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function sA(t){return Lo(t)&&!Mi(t).n_()&&t.O_.length>0}function aA(t){Mi(t).start()}async function xM(t){Mi(t).p_()}async function NM(t){const e=Mi(t);for(const n of t.O_)e.m_(n.mutations)}async function LM(t,e,n){const r=t.O_.shift(),i=_v.from(r,e,n);await oA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Eh(t)}async function DM(t,e){e&&Mi(t).V_&&await async function(r,i){if(function(s){return bD(s)&&s!==oe.ABORTED}(i.code)){const o=r.O_.shift();Mi(r).s_(),await oA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Eh(r)}}(t,e),sA(t)&&aA(t)}async function u1(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=Lo(n);n.L_.add(3),await ru(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await _h(n)}async function MM(t,e){const n=xe(t);e?(n.L_.delete(2),await _h(n)):e||(n.L_.add(2),await ru(n),n.q_.set("Unknown"))}function Qs(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new wM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:OM.bind(null,t),Ro:IM.bind(null,t),mo:PM.bind(null,t),d_:RM.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Pv(t)?Iv(t):t.q_.set("Unknown")):(await t.K_.stop(),iA(t))})),t.K_}function Mi(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new TM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xM.bind(null,t),mo:DM.bind(null,t),f_:NM.bind(null,t),g_:LM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Eh(t)):(await t.U_.stop(),t.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Rv(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Zl(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=za(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new ms(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.W_=new pt(Te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class xs{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new xs(e,n,ms.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class FM{constructor(){this.queries=f1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=f1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function f1(){return new Gs(t=>RS(t),dh)}async function lA(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new jM,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=kv(s,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Cv(n)}async function uA(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UM(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Cv(n)}function VM(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Cv(t){t.Y_.forEach(e=>{e.next()})}var Tm,h1;(h1=Tm||(Tm={})).ea="default",h1.Cache="cache";class cA{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class BM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=kS(e),this.Ra=new ms(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new c1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const d=i.get(f),m=ph(this.query,h)?h:null,_=!!d&&this.mutatedKeys.has(d.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let w=!1;d&&m?d.data.isEqual(m.data)?_!==v&&(r.track({type:3,doc:m}),w=!0):this.ga(d,m)||(r.track({type:2,doc:m}),w=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),w=!0):d&&!m&&(r.track({type:1,doc:d}),w=!0,(l||u)&&(a=!0)),w&&(m?(s=s.add(m),o=v?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,h)=>function(m,_){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return v(m)-v(_)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new xs(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new c1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new hA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return xs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $M{constructor(e){this.key=e,this.va=!1}}class zM{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Gs(a=>RS(a),dh),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(Te.comparator),this.Na=new Map,this.La=new Tv,this.Ba={},this.ka=new Map,this.qa=Cs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function HM(t,e,n=!0){const r=yA(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await dA(r,e,n,!0),i}async function WM(t,e){const n=yA(t);await dA(n,e,!0,!1)}async function dA(t,e,n,r){const i=await pM(t.localStore,_r(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await KM(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&nA(t.remoteStore,i),a}async function KM(t,e,n,r,i){t.Ka=(h,d,m)=>async function(v,w,g,p){let E=w.view.ma(g);E.ns&&(E=await s1(v.localStore,w.query,!1).then(({documents:A})=>w.view.ma(A,E)));const y=p&&p.targetChanges.get(w.targetId),O=p&&p.targetMismatches.get(w.targetId)!=null,C=w.view.applyChanges(E,v.isPrimaryClient,y,O);return p1(v,w.targetId,C.wa),C.snapshot}(t,h,d,m);const o=await s1(t.localStore,e,!0),s=new BM(e,o.Ts),a=s.ma(o.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);p1(t,n,u.wa);const f=new qM(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function GM(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!dh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Av(r.remoteStore,i.targetId),bm(r,i.targetId)}).catch(Jl)):(bm(r,i.targetId),await wm(r.localStore,i.targetId,!0))}async function QM(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Av(n.remoteStore,r.targetId))}async function YM(t,e,n){const r=rj(t);try{const i=await function(s,a){const l=xe(s),u=kt.now(),f=a.reduce((m,_)=>m.add(_.key),Ve());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=Hr(),v=Ve();return l.cs.getEntries(m,f).next(w=>{_=w,_.forEach((g,p)=>{p.isValidDocument()||(v=v.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(w=>{h=w;const g=[];for(const p of a){const E=yD(p,h.get(p.key).overlayedDocument);E!=null&&g.push(new Wi(p.key,E,wS(E.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,g,a)}).next(w=>{d=w;const g=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(m,w.batchId,g)})}).then(()=>({batchId:d.batchId,changes:xS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new pt(He)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await iu(r,i.changes),await Eh(r.remoteStore)}catch(i){const o=kv(i,"Failed to persist write");n.reject(o)}}async function pA(t,e){const n=xe(t);try{const r=await fM(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?et(s.va):i.removedDocuments.size>0&&(et(s.va),s.va=!1))}),await iu(n,r,e)}catch(r){await Jl(r)}}function d1(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=xe(s);l.onlineState=a;let u=!1;l.queries.forEach((f,h)=>{for(const d of h.j_)d.Z_(a)&&(u=!0)}),u&&Cv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XM(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new pt(Te.comparator);s=s.insert(o,rn.newNoDocument(o,Ce.min()));const a=Ve().add(o),l=new vh(Ce.min(),new Map,new pt(He),s,a);await pA(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),xv(r)}else await wm(r.localStore,e,!1).then(()=>bm(r,e,n)).catch(Jl)}async function JM(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await cM(n.localStore,e);gA(n,r,null),mA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,i)}catch(i){await Jl(i)}}async function ZM(t,e,n){const r=xe(t);try{const i=await function(s,a){const l=xe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(et(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(r.localStore,e);gA(r,e,n),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await iu(r,i)}catch(i){await Jl(i)}}function mA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function gA(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vA(t,r)})}function vA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Av(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),xv(t))}function p1(t,e,n){for(const r of n)r instanceof fA?(t.La.addReference(r.key,e),ej(t,r)):r instanceof hA?(_e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vA(t,r.key)):ke()}function ej(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(_e("SyncEngine","New document in limbo: "+n),t.xa.add(r),xv(t))}function xv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Te(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new $M(n)),t.Oa=t.Oa.insert(n,r),nA(t.remoteStore,new vi(_r(vv(n.path)),r,"TargetPurposeLimboResolution",fv.oe))}}async function iu(t,e,n){const r=xe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Sv.Wi(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const f=xe(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>le.forEach(u,d=>le.forEach(d.$i,m=>f.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>le.forEach(d.Ui,m=>f.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!Zl(h))throw h;_e("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const m=f.os.get(d),_=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(_);f.os=f.os.insert(d,v)}}}(r.localStore,o))}async function tj(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await JS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ve(oe.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(n,r.hs)}}function nj(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Ve().add(r.key);{let i=Ve();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function yA(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XM.bind(null,e),e.Ca.d_=UM.bind(null,e.eventManager),e.Ca.$a=VM.bind(null,e.eventManager),e}function rj(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZM.bind(null,e),e}class m1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=yh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return uM(this.persistence,new aM,e.initialUser,this.serializer)}createPersistence(e){return new iM(bv.Zr,this.serializer)}createSharedClientState(e){return new gM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ij{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tj.bind(null,this.syncEngine),await MM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FM}()}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=function(o){return new EM(o)}(e.databaseInfo);return function(o,s,a,l){return new bM(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new AM(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>d1(this.syncEngine,n,0),function(){return l1.D()?new l1:new vM}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,f){const h=new zM(i,o,s,a,l,u);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);_e("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ru(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=yS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{_e("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(_e("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ld(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function g1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aj(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>u1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>u1(e.remoteStore,i)),t._onlineComponents=e}function sj(t){return t.name==="FirebaseError"?t.code===oe.FAILED_PRECONDITION||t.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function aj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ld(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!sj(n))throw n;Is("Error using user provided cache. Falling back to memory cache: "+n),await Ld(t,new m1)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Ld(t,new m1);return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await g1(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await g1(t,new ij))),t._onlineComponents}function lj(t){return EA(t).then(e=>e.syncEngine)}async function wA(t){const e=await EA(t),n=e.eventManager;return n.onListen=HM.bind(null,e.syncEngine),n.onUnlisten=GM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QM.bind(null,e.syncEngine),n}function uj(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const f=new _A({next:d=>{s.enqueueAndForget(()=>uA(o,h));const m=d.docs.has(a);!m&&d.fromCache?u.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?u.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new cA(vv(a.path),f,{includeMetadataChanges:!0,_a:!0});return lA(o,h)}(await wA(t),t.asyncQueue,e,n,r)),r.promise}function cj(t,e,n={}){const r=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const f=new _A({next:d=>{s.enqueueAndForget(()=>uA(o,h)),d.fromCache&&l.source==="server"?u.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new cA(a,f,{includeMetadataChanges:!0,_a:!0});return lA(o,h)}(await wA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fj(t,e,n,r){if(e===!0&&r===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function y1(t){if(!Te.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _1(t){if(Te.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OL;switch(r.type){case"firstParty":return new kL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=v1.get(n);r&&(_e("ComponentProvider","Removing Datastore"),v1.delete(n),r.terminate())}(this),Promise.resolve()}}function hj(t,e,n,r={}){var i;const o=(t=ji(t,Th))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Is("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tn.MOCK_USER;else{a=zC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tn(u)}t._authCredentials=new IL(new vS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Do(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class Ci extends Do{constructor(e,n,r){super(e,n,vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Te(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function ou(t,e,...n){if(t=jt(t),bA("collection","path",e),t instanceof Th){const r=ot.fromString(e,...n);return _1(r),new Ci(t,null,r)}{if(!(t instanceof Sn||t instanceof Ci))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return _1(r),new Ci(t.firestore,null,r)}}function Tf(t,e,...n){if(t=jt(t),arguments.length===1&&(e=yS.newId()),bA("doc","path",e),t instanceof Th){const r=ot.fromString(e,...n);return y1(r),new Sn(t,null,new Te(r))}{if(!(t instanceof Sn||t instanceof Ci))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return y1(r),new Sn(t.firestore,t instanceof Ci?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new eA(this,"async_queue_retry"),this.Eu=()=>{const n=Nd();n&&_e("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Nd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new jr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Zl(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Rv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&ke()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class su extends Th{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new dj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SA(this),this._firestoreClient.terminate()}}function pj(t,e){const n=typeof t=="object"?t:Ib(),r=typeof t=="string"?t:"(default)",i=ev(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=qC("firestore");o&&hj(i,...o)}return i}function Nv(t){return t._firestoreClient||SA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SA(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,f){return new $L(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,TA(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new oj(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(Kt.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ns(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=/^__.*__$/;class gj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class AA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function OA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Mv{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return bf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(OA(this.wu)&&mj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class vj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yh(e)}Nu(e,n,r,i=!1){return new Mv({wu:e,methodName:n,Ou:r,path:qt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jv(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new vj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yj(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Uv("Data must be an object, but it was:",s,r);const a=IA(r,s);let l,u;if(o.merge)l=new Cn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const d=Sm(e,h,n);if(!s.contains(d))throw new ve(oe.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);RA(f,d)||f.push(d)}l=new Cn(f),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new gj(new _n(a),l,u)}class Ah extends Sh{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ah}}class Fv extends Sh{_toFieldTransform(e){return new pD(e.path,new Ll)}isEqual(e){return e instanceof Fv}}function _j(t,e,n,r){const i=t.Nu(1,e,n);Uv("Data must be an object, but it was:",i,r);const o=[],s=_n.empty();No(r,(l,u)=>{const f=Vv(e,l,n);u=jt(u);const h=i.Cu(f);if(u instanceof Ah)o.push(f);else{const d=au(u,h);d!=null&&(o.push(f),s.set(f,d))}});const a=new Cn(o);return new AA(s,a,i.fieldTransforms)}function Ej(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[Sm(e,r,n)],l=[i];if(o.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Sm(e,o[d])),l.push(o[d+1]);const u=[],f=_n.empty();for(let d=a.length-1;d>=0;--d)if(!RA(u,a[d])){const m=a[d];let _=l[d];_=jt(_);const v=s.Cu(m);if(_ instanceof Ah)u.push(m);else{const w=au(_,v);w!=null&&(u.push(m),f.set(m,w))}}const h=new Cn(u);return new AA(f,h,s.fieldTransforms)}function wj(t,e,n,r=!1){return au(n,t.Nu(r?4:3,e))}function au(t,e){if(PA(t=jt(t)))return Uv("Unsupported field value:",e,t),IA(t,e);if(t instanceof Sh)return function(r,i){if(!OA(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=au(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=kt.fromDate(r);return{timestampValue:Ef(i.serializer,o)}}if(r instanceof kt){const o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ef(i.serializer,o)}}if(r instanceof Lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ns)return{bytesValue:HS(i.serializer,r._byteString)};if(r instanceof Sn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:wv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dv)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return yv(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${wh(r)}`)}(t,e)}function IA(t,e){const n={};return _S(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,i)=>{const o=au(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function PA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof Lv||t instanceof Ns||t instanceof Sn||t instanceof Sh||t instanceof Dv)}function Uv(t,e,n){if(!PA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=wh(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Sm(t,e,n){if((e=jt(e))instanceof bh)return e._internalPath;if(typeof e=="string")return Vv(t,e);throw bf("Field path arguments must be of type string or ",t,!1,void 0,n)}const Tj=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,n){if(e.search(Tj)>=0)throw bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bf(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ve(oe.INVALID_ARGUMENT,a+t+l)}function RA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Bv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bj extends kA{data(){return super.data()}}function Bv(t,e){return typeof e=="string"?Vv(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class CA extends qv{}function Sf(t,e,...n){let r=[];e instanceof qv&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof zv).length,a=o.filter(l=>l instanceof Oh).length;if(s>1||s>0&&a>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Oh extends CA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oh(e,n,r)}_apply(e){const n=this._parse(e);return xA(e._query,n),new Do(e.firestore,e.converter,gm(e._query,n))}_parse(e){const n=jv(e.firestore);return function(o,s,a,l,u,f,h){let d;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){b1(h,f);const m=[];for(const _ of h)m.push(T1(l,o,_));d={arrayValue:{values:m}}}else d=T1(l,o,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||b1(h,f),d=wj(a,s,h,f==="in"||f==="not-in");return Ot.create(u,f,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $v(t,e,n){const r=e,i=Bv("where",t);return Oh._create(i,r,n)}class zv extends qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)xA(s,l),s=gm(s,l)}(e._query,n),new Do(e.firestore,e.converter,gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hv extends CA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Hv(e,n,r)}_apply(e){return new Do(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function w1(t){return Hv._create("limit",t,"F")}function T1(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PS(e)&&n.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!Te.isDocumentKey(r))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $0(t,new Te(r))}if(n instanceof Sn)return $0(t,n._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function b1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xA(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Aj{convertValue(e,n="none"){switch(Io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new Dv(o)}convertGeoPoint(e){return new Lv(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cl(e));default:return null}}convertTimestamp(e){const n=Di(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);et(XS(r));const i=new xl(r.get(1),r.get(3)),o=new Te(r.popFirst(5));return i.isEqual(n)||zr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NA extends kA{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Bv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bc extends NA{data(e={}){return super.data(e)}}class Ij{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bc(this._firestore,this._userDataWriter,r.key,r,new Wa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new bc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new bc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Wa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:Pj(a.type),doc:l,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Pj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){t=ji(t,Sn);const e=ji(t.firestore,su);return uj(Nv(e),t._key).then(n=>kj(e,t,n))}class LA extends Aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function Wv(t){t=ji(t,Do);const e=ji(t.firestore,su),n=Nv(e),r=new LA(e);return Sj(t._query),cj(n,t._query).then(i=>new Ij(e,r,t,i))}function DA(t,e,n,...r){t=ji(t,Sn);const i=ji(t.firestore,su),o=jv(i);let s;return s=typeof(e=jt(e))=="string"||e instanceof bh?Ej(o,"updateDoc",t._key,e,n,r):_j(o,"updateDoc",t._key,e),jA(i,[s.toMutation(t._key,Er.exists(!0))])}function MA(t,e){const n=ji(t.firestore,su),r=Tf(t),i=Oj(t.converter,e);return jA(n,[yj(jv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function jA(t,e){return function(r,i){const o=new jr;return r.asyncQueue.enqueueAndForget(async()=>YM(await lj(r),i,o)),o.promise}(Nv(t),e)}function kj(t,e,n){const r=n.docs.get(e._key),i=new LA(t);return new NA(t,i,e._key,r,new Wa(n.hasPendingWrites,n.fromCache),e.converter)}function Cj(){return new Fv("serverTimestamp")}(function(e,n=!0){(function(i){Ks=i})(zs),As(new bo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new su(new PL(r.getProvider("auth-internal")),new xL(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(u.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ri(F0,"4.7.2",e),Ri(F0,"4.7.2","esm2017")})();const xj={apiKey:"AIzaSyDW3pSJuO8cZCE5Xj9E9jtinyzc5jE-6mE",authDomain:"mywebsiteauth-4ecd1.firebaseapp.com",projectId:"mywebsiteauth-4ecd1",storageBucket:"mywebsiteauth-4ecd1.appspot.com",messagingSenderId:"835611860806",appId:"1:835611860806:web:f1c4c8e388e09089984f47"},FA=Ob(xj),Fi=pj(FA),go=TL(FA),UA=se.createContext();function Ui(){return se.useContext(UA)}function VA({children:t}){const[e,n]=se.useState(null),[r,i]=se.useState(!0);se.useEffect(()=>f2(go,u=>{n(u),i(!1)}),[]);function o(l,u){return l2(go,l,u)}function s(){return Zb(go)}const a={currentUser:e,login:o,logout:s};return $.jsx(UA.Provider,{value:a,children:!r&&t})}function Pa({children:t}){const{currentUser:e}=Ui();return e?t:$.jsx(Kk,{to:"/login"})}function Nj(){const[t,e]=se.useState("expense"),[n,r]=se.useState(""),[i,o]=se.useState(""),[s,a]=se.useState(""),{currentUser:l}=Ui(),u=async f=>{f.preventDefault();const h={type:t,amount:parseFloat(n),category:i,description:s,date:new Date,userId:String(l.uid)};try{await MA(ou(Fi,"transactions"),h),alert("Transaction added successfully!"),r(""),o(""),a("")}catch(d){console.error("Error adding document:",d)}};return $.jsxs("form",{onSubmit:u,className:"transaction-form",children:[$.jsx("h2",{children:"Add a New Transaction"}),$.jsxs("select",{value:t,onChange:f=>e(f.target.value),children:[$.jsx("option",{value:"income",children:"Income"}),$.jsx("option",{value:"expense",children:"Expense"})]}),$.jsx("input",{type:"number",value:n,onChange:f=>r(f.target.value),placeholder:"Amount",required:!0}),$.jsx("input",{type:"text",value:i,onChange:f=>o(f.target.value),placeholder:"Category",required:!0}),$.jsx("input",{type:"text",value:s,onChange:f=>a(f.target.value),placeholder:"Description"}),$.jsx("button",{type:"submit",children:"Add Transaction"})]})}const S1=async()=>{try{if(!go.currentUser){console.error("No user is currently logged in."),setError("User is not authenticated.");return}if(go.currentUser){const t=Sf(ou(Fi,"transactions"),$v("userId","==",go.currentUser.uid))}if(querySnapshot.empty)throw new Error("Transactions not found.");return(await Wv(q)).docs.map(e=>({...e.data(),id:e.id}))}catch(t){console.error("Error fetching transatcions: ",t),setError(t.message)}},Lj=()=>{const{currentUser:t}=useAuth(),{data:e,isLoading:n,error:r}=Xg(["transatcions",t],()=>S1(),{enabled:!!t||t===null,cacheTime:72e6,staleTime:36e6,refetchOnWindowFocus:!0,refetchOnReconnect:!1,keepPreviousData:!0});return se.useEffect(()=>{S1()},[e]),n?$.jsx("div",{children:"Loading transactions..."}):r?$.jsxs("div",{children:["Error: ",r]}):$.jsxs("div",{children:[$.jsx("h2",{children:"Your Transactions"}),$.jsx("ul",{children:e.length>0?e.map(i=>$.jsxs("li",{children:[i.type==="income"?"+":"-","$",i.amount," - ",i.category]},i.id)):$.jsx("p",{children:"No transactions found."})})]})},Dj=()=>{const t=zi(),e=()=>{Zb(go).then(()=>{console.log("User logged out successfully."),t("/login")}).catch(n=>{console.error("Error logging out:",n)})};return $.jsx("button",{id:"logoutButton",onClick:e,style:Mj.logoutButton,children:"Logout"})},Mj={logoutButton:{padding:"6px 15px",backgroundColor:"#e06e6e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},jj=()=>{const t=zi(),e=()=>{t("/login")};return $.jsx("button",{id:"loginButton",onClick:e,style:Fj.logoutButton,children:"Login"})},Fj={logoutButton:{padding:"6px 15px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}};function Uj(){const{currentUser:t}=Ui();return $.jsx("nav",{className:"navigationBar",children:$.jsxs("ul",{children:[$.jsx("li",{id:"homeLink",children:$.jsx(no,{to:"/",children:"Home"})}),$.jsx("li",{id:"portfolioLink",children:$.jsx(no,{to:"/portfolio",children:"Portfolio"})}),t?$.jsxs($.Fragment,{children:[$.jsx("li",{id:"cvLink",children:$.jsx(no,{to:"/CV",children:"CV"})}),$.jsx("li",{id:"todoLink",children:$.jsx(no,{to:"/todo",children:"TODO List"})}),$.jsx("li",{id:"financeLink",children:$.jsx(no,{to:"/finance",children:"Financial Tracker"})}),$.jsx("li",{id:"weekplannerLink",children:$.jsx(no,{to:"/weekplanner",children:"Week Planner"})}),$.jsxs("p",{id:"loggedInText",children:["Logged in as: ",t.email.split("@website.local")]}),$.jsx(Dj,{})]}):$.jsx(jj,{})]})})}function Vj(){const t=zi(),e=()=>{t("/portfolio")};return $.jsxs("div",{children:[$.jsxs("div",{className:"hero-section",style:Nt.container,children:[$.jsxs("div",{style:Nt.welcomeContainer,children:[$.jsx("h1",{style:Nt.mainHeader,children:"Welcome to my personal website"}),$.jsx("p",{style:Nt.mainParagraph,children:"The purpose of this website is to share my projects, skills, and journey as a hobbyist developer."}),$.jsx("div",{style:Nt.portfolioButton,children:$.jsx("button",{onClick:()=>e(),className:"cta-button",children:"Explore My Work"})})]}),$.jsxs("section",{id:"about-section-id",className:"about-section",style:Nt.aboutMe,children:[$.jsx("h2",{children:"About Me"}),$.jsxs("div",{children:[$.jsx("p",{children:"I'm a self-taught hobbyist developer with some experience spread across software, web and game development."}),$.jsx("p",{children:"I have been learning programming and doing personal projects since I was 15 years old, using online resources such as Stack Overflow, YouTube tutorials and Quora (see next section)."}),$.jsx("p",{children:"I am motivated to learn about programming and tech related topics and I am pursuing a career where I could apply my skills, while also aquiring new knowledge."})]})]}),$.jsxs("section",{id:"skills-section-id",className:"skills-section",style:Nt.skillsSection,children:[$.jsx("h2",{children:"Tools, Resources & Technologies I Use"}),$.jsxs("ul",{className:"skills-list",style:Nt.skillsList,children:[$.jsx("li",{children:"● HTML"}),$.jsx("li",{children:"● CSS"}),$.jsx("li",{children:"● JavaScript"}),$.jsx("li",{children:"● React"}),$.jsx("li",{children:"● Node.js"}),$.jsx("li",{children:"● Python"}),$.jsx("li",{children:"● C#"}),$.jsx("li",{children:"● Godot Engine"}),$.jsx("li",{children:"● Unity Engine"}),$.jsx("li",{children:"● Visual Studio 2022"}),$.jsx("li",{children:"● GitHub"}),$.jsx("li",{children:"● Google Firebase"}),$.jsx("li",{children:"● cPanel"}),$.jsx("li",{children:"● ChatGPT"}),$.jsx("li",{style:Nt.skillSectionLink,children:$.jsx("a",{href:"https://www.w3schools.com/",children:"● w3schools.com"})}),$.jsx("li",{style:Nt.skillSectionLink,children:$.jsx("a",{href:"https://freecodecamp.org/learn",children:"● freecodecamp.org"})})]})]}),$.jsxs("section",{id:"featured-id",className:"featured-projects",children:[$.jsx("h2",{id:"featuredTitle",style:Nt.featuredProjectsTitle,children:"Featured Projects"}),$.jsx("div",{style:Nt.featuredProjectsGrid,children:$.jsxs("div",{className:"featuredProjectCard",style:Nt.featuredProjectCard,children:[$.jsx("img",{style:Nt.featuredProjectImage,src:"https://wilzzu.xyz/assets/weather_app_card_image.png",alt:"Project 1"}),$.jsx("h3",{children:"Weather App"}),$.jsx("p",{children:"Weather app built in Python using Custom Tkinter. API calls are used to get weather based on geolocation."}),$.jsx("a",{style:Nt.featuredProjectLink,href:"/portfolio/weather-app",children:"Read More"})]})})]})]}),$.jsxs("footer",{style:Nt.footer,children:[$.jsx("div",{style:Nt.footerItem,children:$.jsx("a",{href:"https://github.com/wilzzuu",target:"_blank",children:"GitHub"})}),$.jsx("div",{className:"footer-copyright",style:Nt.footerCopyright,children:$.jsx("p",{children:"© 2024 wilzzu.xyz. All Rights Reserved."})})]})]})}const Nt={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},welcomeContainer:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},mainHeader:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},mainParagraph:{textAlign:"center",fontSize:"18px",margin:"0 0 20px"},portfolioButton:{textAlign:"center",fontSize:"18px",margin:"30px 0 auto"},aboutMe:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",fontSize:"20px",margin:"40px 0 20px"},skillsSection:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"16px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center",fontSize:"18px",margin:"40px auto"},skillsList:{display:"flex",flexWrap:"wrap",textAlign:"center"},skillSectionLink:{textDecoration:"underline",color:"inherit"},featuredProjectsTitle:{textAlign:"center",fontSize:"28px",margin:"40px 0 20px"},featuredProjectsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",margin:"0 0 40px"},featuredProjectCard:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"300",height:"400px",position:"relative",textAlign:"center"},featuredProjectLink:{textDecoration:"none",color:"inherit"},featuredProjectImage:{width:"300px",height:"150px",objectFit:"cover"},footer:{backgroundColor:"#333",padding:"10px 10px"},footerItem:{padding:"10px",gap:"10px"},footerCopyright:{}};function Bj(){const{login:t}=Ui(),[e,n]=se.useState(""),[r,i]=se.useState(!1),{currentUser:o}=Ui(),s=zi(),[a,l]=se.useState(""),[u,f]=se.useState("");async function h(d){const m=`${a}@website.local`;d.preventDefault();try{n(""),i(!0),console.log("Current user: ",o),await t(m,u),s("/login")}catch{n("Failed to log in")}i(!1)}return $.jsx("div",{style:Ir.container,children:o?$.jsxs("div",{children:[$.jsxs("h1",{style:Ir.header,children:["Welcome, ",o.email.split("@website.local"),"!"]}),$.jsx("div",{style:Ir.homeButton,children:$.jsx("button",{onClick:()=>s("/"),children:"Got to Home"})})]}):$.jsxs("div",{children:[$.jsx("h2",{style:Ir.header,children:"Log In"}),e&&$.jsx("p",{children:e}),$.jsx("div",{style:Ir.card,children:$.jsxs("form",{onSubmit:h,style:Ir.form,children:[$.jsx("div",{children:$.jsx("input",{style:Ir.username,type:"text",placeholder:"Username",value:a,onChange:d=>l(d.target.value)})}),$.jsx("div",{children:$.jsx("input",{style:Ir.password,type:"password",placeholder:"Password",value:u,onChange:d=>f(d.target.value)})}),$.jsx("div",{children:$.jsx("button",{style:Ir.loginButton,type:"submit",disabled:r,children:"Log In"})})]})})]})})}const Ir={container:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},homeButton:{textAlign:"center",padding:"20px"},loginButton:{margin:"10px",textAlign:"center"},header:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},card:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",width:"300px",margin:"auto",height:"auto"},form:{textAlign:"center",margin:"auto"},link:{textDecoration:"none",color:"inherit"},image:{width:"100%",height:"150px",objectFit:"cover"},username:{margin:"5px",height:"20px",width:"225px"},password:{margin:"5px",height:"20px",width:"225px"},passwordReset:{margin:"10px",textDecoration:"underline"}},qj=()=>{const t=zi(),e=()=>{t("/portfolio/addproject")};return $.jsx("button",{onClick:e,style:$j.addProjectButton,children:"Add Project"})},$j={logoutButton:{padding:"6px 10px",backgroundColor:"#8ce06e",color:"#fff",border:"none",cursor:"pointer",borderRadius:"5px",fontSize:"16px"}},A1=async t=>{const e=ou(Fi,"projects");let n;return t?n=Sf(e,w1(10)):n=Sf(e,$v("isPublished","==",!0),w1(10)),(await Wv(n)).docs.map(i=>({id:i.id,...i.data()}))},zj=()=>{const{currentUser:t}=Ui(),{data:e,isLoading:n,error:r}=Xg(["projects",t],()=>A1(t),{enabled:!!t||t===null,cacheTime:72e6,staleTime:36e6,refetchOnWindowFocus:!0,refetchOnReconnect:!1,keepPreviousData:!0});se.useEffect(()=>{A1()},[e]);const i=async(s,a)=>{const l=Tf(Fi,"projects",s);await DA(l,{isPublished:!a}),setProjects(u=>u.map(f=>f.id===s?{...f,isPublished:!a}:f))},o=s=>{window.location.href=`/edit-project/${s}`};return n?$.jsx("div",{children:"Loading projects..."}):r?$.jsxs("p",{children:["Error: ",r.message||JSON.stringify(r)]}):$.jsx("div",{children:$.jsxs("div",{style:Yn.container,children:[$.jsx("h1",{style:Yn.header,children:"My Projects"}),$.jsx("p",{style:Yn.header2,children:"Click on a project for details."}),t?$.jsx("div",{style:Yn.button,children:$.jsx(qj,{})}):$.jsx($.Fragment,{}),$.jsx("div",{style:Yn.grid,children:e.length>0?e.map(s=>$.jsxs("div",{style:Yn.card,children:[$.jsxs(no,{to:`/portfolio/${s.route}`,style:Yn.link,children:[$.jsx("img",{src:s.cardImage,alt:s.title,style:Yn.image}),$.jsx("h2",{children:s.title}),$.jsx("p",{children:s.description})]}),$.jsx("div",{style:Yn.buttons,children:t?$.jsxs($.Fragment,{children:[$.jsx("button",{style:Yn.isPublishedButton,onClick:()=>i(s.id,s.isPublished),children:s.isPublished?"Hide":"Publish"}),$.jsx("button",{style:Yn.editProjectButton,onClick:()=>o(s.id),children:"Edit"})]}):$.jsx($.Fragment,{})})]},s.id)):$.jsx("p",{children:"No projects available"})})]})})},Yn={container:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},button:{textAlign:"center",padding:"20px"},header:{textAlign:"center",fontSize:"36px",margin:"10px 0 20px"},header2:{textAlign:"center",fontSize:"20px",margin:"5px 0 20px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},card:{background:"#b69c8b",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"300px",height:"400px",position:"relative"},link:{textDecoration:"none",color:"inherit"},image:{width:"300px",height:"150px",objectFit:"cover"},buttons:{position:"absolute",bottom:"5px",left:"10px"},isPublishedButton:{textAlign:"left",margin:"auto",bottom:"10px"},editProjectButton:{textAlign:"left",margin:"10px",bottom:"10px"}};function BA(t,e){return function(){return t.apply(e,arguments)}}const{toString:Hj}=Object.prototype,{getPrototypeOf:Kv}=Object,Ih=(t=>e=>{const n=Hj.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ar=t=>(t=t.toLowerCase(),e=>Ih(e)===t),Ph=t=>e=>typeof e===t,{isArray:Ys}=Array,jl=Ph("undefined");function Wj(t){return t!==null&&!jl(t)&&t.constructor!==null&&!jl(t.constructor)&&Nn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qA=ar("ArrayBuffer");function Kj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qA(t.buffer),e}const Gj=Ph("string"),Nn=Ph("function"),$A=Ph("number"),Rh=t=>t!==null&&typeof t=="object",Qj=t=>t===!0||t===!1,Sc=t=>{if(Ih(t)!=="object")return!1;const e=Kv(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Yj=ar("Date"),Xj=ar("File"),Jj=ar("Blob"),Zj=ar("FileList"),e4=t=>Rh(t)&&Nn(t.pipe),t4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Nn(t.append)&&((e=Ih(t))==="formdata"||e==="object"&&Nn(t.toString)&&t.toString()==="[object FormData]"))},n4=ar("URLSearchParams"),[r4,i4,o4,s4]=["ReadableStream","Request","Response","Headers"].map(ar),a4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ys(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,t[a],a,t)}}function zA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const fo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HA=t=>!jl(t)&&t!==fo;function Am(){const{caseless:t}=HA(this)&&this||{},e={},n=(r,i)=>{const o=t&&zA(e,i)||i;Sc(e[o])&&Sc(r)?e[o]=Am(e[o],r):Sc(r)?e[o]=Am({},r):Ys(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&lu(arguments[r],n);return e}const l4=(t,e,n,{allOwnKeys:r}={})=>(lu(e,(i,o)=>{n&&Nn(i)?t[o]=BA(i,n):t[o]=i},{allOwnKeys:r}),t),u4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},f4=(t,e,n,r)=>{let i,o,s;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&Kv(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},h4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},d4=t=>{if(!t)return null;if(Ys(t))return t;let e=t.length;if(!$A(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},p4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Kv(Uint8Array)),m4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},g4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},v4=ar("HTMLFormElement"),y4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),O1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_4=ar("RegExp"),WA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};lu(n,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},E4=t=>{WA(t,(e,n)=>{if(Nn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Nn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},w4=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ys(t)?r(t):r(String(t).split(e)),n},T4=()=>{},b4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Dd="abcdefghijklmnopqrstuvwxyz",I1="0123456789",KA={DIGIT:I1,ALPHA:Dd,ALPHA_DIGIT:Dd+Dd.toUpperCase()+I1},S4=(t=16,e=KA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function A4(t){return!!(t&&Nn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const O4=t=>{const e=new Array(10),n=(r,i)=>{if(Rh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Ys(r)?[]:{};return lu(r,(s,a)=>{const l=n(s,i+1);!jl(l)&&(o[a]=l)}),e[i]=void 0,o}}return r};return n(t,0)},I4=ar("AsyncFunction"),P4=t=>t&&(Rh(t)||Nn(t))&&Nn(t.then)&&Nn(t.catch),GA=((t,e)=>t?setImmediate:e?((n,r)=>(fo.addEventListener("message",({source:i,data:o})=>{i===fo&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),fo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Nn(fo.postMessage)),R4=typeof queueMicrotask<"u"?queueMicrotask.bind(fo):typeof process<"u"&&process.nextTick||GA,te={isArray:Ys,isArrayBuffer:qA,isBuffer:Wj,isFormData:t4,isArrayBufferView:Kj,isString:Gj,isNumber:$A,isBoolean:Qj,isObject:Rh,isPlainObject:Sc,isReadableStream:r4,isRequest:i4,isResponse:o4,isHeaders:s4,isUndefined:jl,isDate:Yj,isFile:Xj,isBlob:Jj,isRegExp:_4,isFunction:Nn,isStream:e4,isURLSearchParams:n4,isTypedArray:p4,isFileList:Zj,forEach:lu,merge:Am,extend:l4,trim:a4,stripBOM:u4,inherits:c4,toFlatObject:f4,kindOf:Ih,kindOfTest:ar,endsWith:h4,toArray:d4,forEachEntry:m4,matchAll:g4,isHTMLForm:v4,hasOwnProperty:O1,hasOwnProp:O1,reduceDescriptors:WA,freezeMethods:E4,toObjectSet:w4,toCamelCase:y4,noop:T4,toFiniteNumber:b4,findKey:zA,global:fo,isContextDefined:HA,ALPHABET:KA,generateString:S4,isSpecCompliantForm:A4,toJSONObject:O4,isAsyncFn:I4,isThenable:P4,setImmediate:GA,asap:R4};function Ne(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const QA=Ne.prototype,YA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YA[t]={value:t}});Object.defineProperties(Ne,YA);Object.defineProperty(QA,"isAxiosError",{value:!0});Ne.from=(t,e,n,r,i,o)=>{const s=Object.create(QA);return te.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ne.call(s,t.message,e,n,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const k4=null;function Om(t){return te.isPlainObject(t)||te.isArray(t)}function XA(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function P1(t,e,n){return t?t.concat(e).map(function(i,o){return i=XA(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function C4(t){return te.isArray(t)&&!t.some(Om)}const x4=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function kh(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!te.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||f,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(te.isDate(_))return _.toISOString();if(!l&&te.isBlob(_))throw new Ne("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(_)||te.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,v,w){let g=_;if(_&&!w&&typeof _=="object"){if(te.endsWith(v,"{}"))v=r?v:v.slice(0,-2),_=JSON.stringify(_);else if(te.isArray(_)&&C4(_)||(te.isFileList(_)||te.endsWith(v,"[]"))&&(g=te.toArray(_)))return v=XA(v),g.forEach(function(E,y){!(te.isUndefined(E)||E===null)&&e.append(s===!0?P1([v],y,o):s===null?v:v+"[]",u(E))}),!1}return Om(_)?!0:(e.append(P1(w,v,o),u(_)),!1)}const h=[],d=Object.assign(x4,{defaultVisitor:f,convertValue:u,isVisitable:Om});function m(_,v){if(!te.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(_),te.forEach(_,function(g,p){(!(te.isUndefined(g)||g===null)&&i.call(e,g,te.isString(p)?p.trim():p,v,d))===!0&&m(g,v?v.concat(p):[p])}),h.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return m(t),e}function R1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Gv(t,e){this._pairs=[],t&&kh(t,this,e)}const JA=Gv.prototype;JA.append=function(e,n){this._pairs.push([e,n])};JA.toString=function(e){const n=e?function(r){return e.call(this,r,R1)}:R1;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function N4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZA(t,e,n){if(!e)return t;const r=n&&n.encode||N4,i=n&&n.serialize;let o;if(i?o=i(e,n):o=te.isURLSearchParams(e)?e.toString():new Gv(e,n).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class k1{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},L4=typeof URLSearchParams<"u"?URLSearchParams:Gv,D4=typeof FormData<"u"?FormData:null,M4=typeof Blob<"u"?Blob:null,j4={isBrowser:!0,classes:{URLSearchParams:L4,FormData:D4,Blob:M4},protocols:["http","https","file","blob","url","data"]},Qv=typeof window<"u"&&typeof document<"u",Im=typeof navigator=="object"&&navigator||void 0,F4=Qv&&(!Im||["ReactNative","NativeScript","NS"].indexOf(Im.product)<0),U4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V4=Qv&&window.location.href||"http://localhost",B4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qv,hasStandardBrowserEnv:F4,hasStandardBrowserWebWorkerEnv:U4,navigator:Im,origin:V4},Symbol.toStringTag,{value:"Module"})),An={...B4,...j4};function q4(t,e){return kh(t,new An.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return An.isNode&&te.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function $4(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z4(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function tO(t){function e(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&te.isArray(i)?i.length:s,l?(te.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!te.isObject(i[s]))&&(i[s]=[]),e(n,r,i[s],o)&&te.isArray(i[s])&&(i[s]=z4(i[s])),!a)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(r,i)=>{e($4(r),i,n,0)}),n}return null}function H4(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const uu={transitional:eO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=te.isObject(e);if(o&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(tO(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return q4(e,this.formSerializer).toString();if((a=te.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return kh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),H4(e)):e}],transformResponse:[function(e){const n=this.transitional||uu.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?Ne.from(a,Ne.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{uu.headers[t]={}});const W4=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||e[n]&&W4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},C1=Symbol("internals");function Ra(t){return t&&String(t).trim().toLowerCase()}function Ac(t){return t===!1||t==null?t:te.isArray(t)?t.map(Ac):String(t)}function G4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Q4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Md(t,e,n,r,i){if(te.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!te.isString(e)){if(te.isString(r))return e.indexOf(r)!==-1;if(te.isRegExp(r))return r.test(e)}}function Y4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function X4(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}class On{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(a,l,u){const f=Ra(l);if(!f)throw new Error("header name must be a non-empty string");const h=te.findKey(i,f);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Ac(a))}const s=(a,l)=>te.forEach(a,(u,f)=>o(u,f,l));if(te.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(te.isString(e)&&(e=e.trim())&&!Q4(e))s(K4(e),n);else if(te.isHeaders(e))for(const[a,l]of e.entries())o(l,a,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ra(e),e){const r=te.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return G4(i);if(te.isFunction(n))return n.call(this,i,r);if(te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ra(e),e){const r=te.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Md(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(s){if(s=Ra(s),s){const a=te.findKey(r,s);a&&(!n||Md(r,r[a],a,n))&&(delete r[a],i=!0)}}return te.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Md(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return te.forEach(this,(i,o)=>{const s=te.findKey(r,o);if(s){n[s]=Ac(i),delete n[o];return}const a=e?Y4(o):String(o).trim();a!==o&&delete n[o],n[a]=Ac(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&te.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[C1]=this[C1]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Ra(s);r[a]||(X4(i,s),r[a]=!0)}return te.isArray(e)?e.forEach(o):o(e),this}}On.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(On.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});te.freezeMethods(On);function jd(t,e){const n=this||uu,r=e||n,i=On.from(r.headers);let o=r.data;return te.forEach(t,function(a){o=a.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function nO(t){return!!(t&&t.__CANCEL__)}function Xs(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(Xs,Ne,{__CANCEL__:!0});function rO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function J4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Z4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=r[o];s||(s=u),n[i]=l,r[i]=u;let h=o,d=0;for(;h!==i;)d+=n[h++],h=h%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;const m=f&&u-f;return m?Math.round(d*1e3/m):void 0}}function eF(t,e){let n=0,r=1e3/e,i,o;const s=(u,f=Date.now())=>{n=f,i=null,o&&(clearTimeout(o),o=null),t.apply(null,u)};return[(...u)=>{const f=Date.now(),h=f-n;h>=r?s(u,f):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-h)))},()=>i&&s(i)]}const Af=(t,e,n=3)=>{let r=0;const i=Z4(50,250);return eF(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),f=s<=a;r=s;const h={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&f?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},x1=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},N1=t=>(...e)=>te.asap(()=>t(...e)),tF=An.hasStandardBrowserEnv?function(){const e=An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent),n=document.createElement("a");let r;function i(o){let s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){const a=te.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),nF=An.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const s=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),te.isString(r)&&s.push("path="+r),te.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function iO(t,e){return t&&!rF(e)?iF(t,e):e}const L1=t=>t instanceof On?{...t}:t;function Po(t,e){e=e||{};const n={};function r(u,f,h){return te.isPlainObject(u)&&te.isPlainObject(f)?te.merge.call({caseless:h},u,f):te.isPlainObject(f)?te.merge({},f):te.isArray(f)?f.slice():f}function i(u,f,h){if(te.isUndefined(f)){if(!te.isUndefined(u))return r(void 0,u,h)}else return r(u,f,h)}function o(u,f){if(!te.isUndefined(f))return r(void 0,f)}function s(u,f){if(te.isUndefined(f)){if(!te.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function a(u,f,h){if(h in e)return r(u,f);if(h in t)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,f)=>i(L1(u),L1(f),!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=l[f]||i,d=h(t[f],e[f],f);te.isUndefined(d)&&h!==a||(n[f]=d)}),n}const oO=t=>{const e=Po({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;e.headers=s=On.from(s),e.url=ZA(iO(e.baseURL,e.url),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(te.isFormData(n)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...f]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...f].join("; "))}}if(An.hasStandardBrowserEnv&&(r&&te.isFunction(r)&&(r=r(e)),r||r!==!1&&tF(e.url))){const u=i&&o&&nF.read(o);u&&s.set(i,u)}return e},oF=typeof XMLHttpRequest<"u",sF=oF&&function(t){return new Promise(function(n,r){const i=oO(t);let o=i.data;const s=On.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,f,h,d,m,_;function v(){m&&m(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function g(){if(!w)return;const E=On.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:t,request:w};rO(function(A){n(A),v()},function(A){r(A),v()},O),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(r(new Ne("Request aborted",Ne.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new Ne("Network Error",Ne.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||eO;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),r(new Ne(y,O.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,w)),w=null},o===void 0&&s.setContentType(null),"setRequestHeader"in w&&te.forEach(s.toJSON(),function(y,O){w.setRequestHeader(O,y)}),te.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([d,_]=Af(u,!0),w.addEventListener("progress",d)),l&&w.upload&&([h,m]=Af(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(f=E=>{w&&(r(!E||E.type?new Xs(null,t,w):E),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const p=J4(i.url);if(p&&An.protocols.indexOf(p)===-1){r(new Ne("Unsupported protocol "+p+":",Ne.ERR_BAD_REQUEST,t));return}w.send(o||null)})},aF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const f=u instanceof Error?u:this.reason;r.abort(f instanceof Ne?f:new Xs(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,o(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),t=null)};t.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>te.asap(a),l}},lF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},uF=async function*(t,e){for await(const n of cF(t))yield*lF(n,e)},cF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},D1=(t,e,n,r)=>{const i=uF(t,e);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){a(),l.close();return}let h=f.byteLength;if(n){let d=o+=h;n(d)}l.enqueue(new Uint8Array(f))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},Ch=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sO=Ch&&typeof ReadableStream=="function",fF=Ch&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),aO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hF=sO&&aO(()=>{let t=!1;const e=new Request(An.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),M1=64*1024,Pm=sO&&aO(()=>te.isReadableStream(new Response("").body)),Of={stream:Pm&&(t=>t.body)};Ch&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Of[e]&&(Of[e]=te.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Ne(`Response type '${e}' is not supported`,Ne.ERR_NOT_SUPPORT,r)})})})(new Response);const dF=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(An.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await fF(t)).byteLength},pF=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??dF(e)},mF=Ch&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:f,withCredentials:h="same-origin",fetchOptions:d}=oO(t);u=u?(u+"").toLowerCase():"text";let m=aF([i,o&&o.toAbortSignal()],s),_;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(l&&hF&&n!=="get"&&n!=="head"&&(w=await pF(f,r))!==0){let O=new Request(e,{method:"POST",body:r,duplex:"half"}),C;if(te.isFormData(r)&&(C=O.headers.get("content-type"))&&f.setContentType(C),O.body){const[A,b]=x1(w,Af(N1(l)));r=D1(O.body,M1,A,b)}}te.isString(h)||(h=h?"include":"omit");const g="credentials"in Request.prototype;_=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:g?h:void 0});let p=await fetch(_);const E=Pm&&(u==="stream"||u==="response");if(Pm&&(a||E&&v)){const O={};["status","statusText","headers"].forEach(P=>{O[P]=p[P]});const C=te.toFiniteNumber(p.headers.get("content-length")),[A,b]=a&&x1(C,Af(N1(a),!0))||[];p=new Response(D1(p.body,M1,A,()=>{b&&b(),v&&v()}),O)}u=u||"text";let y=await Of[te.findKey(Of,u)||"text"](p,t);return!E&&v&&v(),await new Promise((O,C)=>{rO(O,C,{data:y,headers:On.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:_})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,t,_),{cause:g.cause||g}):Ne.from(g,g&&g.code,t,_)}}),Rm={http:k4,xhr:sF,fetch:mF};te.forEach(Rm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const j1=t=>`- ${t}`,gF=t=>te.isFunction(t)||t===null||t===!1,lO={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let s;if(r=n,!gF(n)&&(r=Rm[(s=String(n)).toLowerCase()],r===void 0))throw new Ne(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(j1).join(`
`):" "+j1(o[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Rm};function Fd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xs(null,t)}function F1(t){return Fd(t),t.headers=On.from(t.headers),t.data=jd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lO.getAdapter(t.adapter||uu.adapter)(t).then(function(r){return Fd(t),r.data=jd.call(t,t.transformResponse,r),r.headers=On.from(r.headers),r},function(r){return nO(r)||(Fd(t),r&&r.response&&(r.response.data=jd.call(t,t.transformResponse,r.response),r.response.headers=On.from(r.response.headers))),Promise.reject(r)})}const uO="1.7.7",Yv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const U1={};Yv.transitional=function(e,n,r){function i(o,s){return"[Axios v"+uO+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new Ne(i(s," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!U1[s]&&(U1[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function vF(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=t[o],l=a===void 0||s(a,o,t);if(l!==!0)throw new Ne("option "+o+" must be "+l,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+o,Ne.ERR_BAD_OPTION)}}const km={assertOptions:vF,validators:Yv},ri=km.validators;class vo{constructor(e){this.defaults=e,this.interceptors={request:new k1,response:new k1}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Po(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&km.assertOptions(r,{silentJSONParsing:ri.transitional(ri.boolean),forcedJSONParsing:ri.transitional(ri.boolean),clarifyTimeoutError:ri.transitional(ri.boolean)},!1),i!=null&&(te.isFunction(i)?n.paramsSerializer={serialize:i}:km.assertOptions(i,{encode:ri.function,serialize:ri.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&te.merge(o.common,o[n.method]);o&&te.forEach(["delete","get","head","post","put","patch","common"],_=>{delete o[_]}),n.headers=On.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let f,h=0,d;if(!l){const _=[F1.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),d=_.length,f=Promise.resolve(n);h<d;)f=f.then(_[h++],_[h++]);return f}d=a.length;let m=n;for(h=0;h<d;){const _=a[h++],v=a[h++];try{m=_(m)}catch(w){v.call(this,w);break}}try{f=F1.call(this,m)}catch(_){return Promise.reject(_)}for(h=0,d=u.length;h<d;)f=f.then(u[h++],u[h++]);return f}getUri(e){e=Po(this.defaults,e);const n=iO(e.baseURL,e.url);return ZA(n,e.params,e.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(e){vo.prototype[e]=function(n,r){return this.request(Po(r||{},{method:e,url:n,data:(r||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(r){return function(o,s,a){return this.request(Po(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}vo.prototype[e]=n(),vo.prototype[e+"Form"]=n(!0)});class Xv{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new Xs(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Xv(function(i){e=i}),cancel:e}}}function yF(t){return function(n){return t.apply(null,n)}}function _F(t){return te.isObject(t)&&t.isAxiosError===!0}const Cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cm).forEach(([t,e])=>{Cm[e]=t});function cO(t){const e=new vo(t),n=BA(vo.prototype.request,e);return te.extend(n,vo.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return cO(Po(t,i))},n}const It=cO(uu);It.Axios=vo;It.CanceledError=Xs;It.CancelToken=Xv;It.isCancel=nO;It.VERSION=uO;It.toFormData=kh;It.AxiosError=Ne;It.Cancel=It.CanceledError;It.all=function(e){return Promise.all(e)};It.spread=yF;It.isAxiosError=_F;It.mergeConfig=Po;It.AxiosHeaders=On;It.formToJSON=t=>tO(te.isHTMLForm(t)?new FormData(t):t);It.getAdapter=lO.getAdapter;It.HttpStatusCode=Cm;It.default=It;const EF=({onUploadComplete:t})=>{const[e,n]=se.useState([]),r=o=>{n([...o.target.files])},i=async()=>{const o=new FormData;e.forEach(s=>{o.append("images",s)});try{const a=(await It.post("http://localhost:3001/upload",o,{headers:{"Content-Type":"multipart/form-data"}})).data.urls;t(a),alert("Images uploaded successfully!")}catch(s){alert("Failed to upload images."),console.error(s)}};return $.jsxs("div",{children:[$.jsx("h2",{children:"Upload Project Images"}),$.jsx("input",{type:"file",multiple:!0,onChange:r}),$.jsx("button",{onClick:i,children:"Upload Images"})]})};function wF(){this.__data__=[],this.size=0}var TF=wF;function bF(t,e){return t===e||t!==t&&e!==e}var fO=bF,SF=fO;function AF(t,e){for(var n=t.length;n--;)if(SF(t[n][0],e))return n;return-1}var xh=AF,OF=xh,IF=Array.prototype,PF=IF.splice;function RF(t){var e=this.__data__,n=OF(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():PF.call(e,n,1),--this.size,!0}var kF=RF,CF=xh;function xF(t){var e=this.__data__,n=CF(e,t);return n<0?void 0:e[n][1]}var NF=xF,LF=xh;function DF(t){return LF(this.__data__,t)>-1}var MF=DF,jF=xh;function FF(t,e){var n=this.__data__,r=jF(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var UF=FF,VF=TF,BF=kF,qF=NF,$F=MF,zF=UF;function Js(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Js.prototype.clear=VF;Js.prototype.delete=BF;Js.prototype.get=qF;Js.prototype.has=$F;Js.prototype.set=zF;var Nh=Js,HF=Nh;function WF(){this.__data__=new HF,this.size=0}var KF=WF;function GF(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var QF=GF;function YF(t){return this.__data__.get(t)}var XF=YF;function JF(t){return this.__data__.has(t)}var ZF=JF,eU=typeof $t=="object"&&$t&&$t.Object===Object&&$t,hO=eU,tU=hO,nU=typeof self=="object"&&self&&self.Object===Object&&self,rU=tU||nU||Function("return this")(),Qr=rU,iU=Qr,oU=iU.Symbol,Jv=oU,V1=Jv,dO=Object.prototype,sU=dO.hasOwnProperty,aU=dO.toString,ka=V1?V1.toStringTag:void 0;function lU(t){var e=sU.call(t,ka),n=t[ka];try{t[ka]=void 0;var r=!0}catch{}var i=aU.call(t);return r&&(e?t[ka]=n:delete t[ka]),i}var uU=lU,cU=Object.prototype,fU=cU.toString;function hU(t){return fU.call(t)}var dU=hU,B1=Jv,pU=uU,mU=dU,gU="[object Null]",vU="[object Undefined]",q1=B1?B1.toStringTag:void 0;function yU(t){return t==null?t===void 0?vU:gU:q1&&q1 in Object(t)?pU(t):mU(t)}var Lh=yU;function _U(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pO=_U,EU=Lh,wU=pO,TU="[object AsyncFunction]",bU="[object Function]",SU="[object GeneratorFunction]",AU="[object Proxy]";function OU(t){if(!wU(t))return!1;var e=EU(t);return e==bU||e==SU||e==TU||e==AU}var mO=OU,IU=Qr,PU=IU["__core-js_shared__"],RU=PU,Ud=RU,$1=function(){var t=/[^.]+$/.exec(Ud&&Ud.keys&&Ud.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kU(t){return!!$1&&$1 in t}var CU=kU,xU=Function.prototype,NU=xU.toString;function LU(t){if(t!=null){try{return NU.call(t)}catch{}try{return t+""}catch{}}return""}var gO=LU,DU=mO,MU=CU,jU=pO,FU=gO,UU=/[\\^$.*+?()[\]{}|]/g,VU=/^\[object .+?Constructor\]$/,BU=Function.prototype,qU=Object.prototype,$U=BU.toString,zU=qU.hasOwnProperty,HU=RegExp("^"+$U.call(zU).replace(UU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function WU(t){if(!jU(t)||MU(t))return!1;var e=DU(t)?HU:VU;return e.test(FU(t))}var KU=WU;function GU(t,e){return t==null?void 0:t[e]}var QU=GU,YU=KU,XU=QU;function JU(t,e){var n=XU(t,e);return YU(n)?n:void 0}var Zs=JU,ZU=Zs,eV=Qr,tV=ZU(eV,"Map"),Zv=tV,nV=Zs,rV=nV(Object,"create"),Dh=rV,z1=Dh;function iV(){this.__data__=z1?z1(null):{},this.size=0}var oV=iV;function sV(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aV=sV,lV=Dh,uV="__lodash_hash_undefined__",cV=Object.prototype,fV=cV.hasOwnProperty;function hV(t){var e=this.__data__;if(lV){var n=e[t];return n===uV?void 0:n}return fV.call(e,t)?e[t]:void 0}var dV=hV,pV=Dh,mV=Object.prototype,gV=mV.hasOwnProperty;function vV(t){var e=this.__data__;return pV?e[t]!==void 0:gV.call(e,t)}var yV=vV,_V=Dh,EV="__lodash_hash_undefined__";function wV(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_V&&e===void 0?EV:e,this}var TV=wV,bV=oV,SV=aV,AV=dV,OV=yV,IV=TV;function ea(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ea.prototype.clear=bV;ea.prototype.delete=SV;ea.prototype.get=AV;ea.prototype.has=OV;ea.prototype.set=IV;var PV=ea,H1=PV,RV=Nh,kV=Zv;function CV(){this.size=0,this.__data__={hash:new H1,map:new(kV||RV),string:new H1}}var xV=CV;function NV(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var LV=NV,DV=LV;function MV(t,e){var n=t.__data__;return DV(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Mh=MV,jV=Mh;function FV(t){var e=jV(this,t).delete(t);return this.size-=e?1:0,e}var UV=FV,VV=Mh;function BV(t){return VV(this,t).get(t)}var qV=BV,$V=Mh;function zV(t){return $V(this,t).has(t)}var HV=zV,WV=Mh;function KV(t,e){var n=WV(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var GV=KV,QV=xV,YV=UV,XV=qV,JV=HV,ZV=GV;function ta(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ta.prototype.clear=QV;ta.prototype.delete=YV;ta.prototype.get=XV;ta.prototype.has=JV;ta.prototype.set=ZV;var vO=ta,e3=Nh,t3=Zv,n3=vO,r3=200;function i3(t,e){var n=this.__data__;if(n instanceof e3){var r=n.__data__;if(!t3||r.length<r3-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new n3(r)}return n.set(t,e),this.size=n.size,this}var o3=i3,s3=Nh,a3=KF,l3=QF,u3=XF,c3=ZF,f3=o3;function na(t){var e=this.__data__=new s3(t);this.size=e.size}na.prototype.clear=a3;na.prototype.delete=l3;na.prototype.get=u3;na.prototype.has=c3;na.prototype.set=f3;var h3=na,d3="__lodash_hash_undefined__";function p3(t){return this.__data__.set(t,d3),this}var m3=p3;function g3(t){return this.__data__.has(t)}var v3=g3,y3=vO,_3=m3,E3=v3;function If(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new y3;++e<n;)this.add(t[e])}If.prototype.add=If.prototype.push=_3;If.prototype.has=E3;var w3=If;function T3(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var b3=T3;function S3(t,e){return t.has(e)}var A3=S3,O3=w3,I3=b3,P3=A3,R3=1,k3=2;function C3(t,e,n,r,i,o){var s=n&R3,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),f=o.get(e);if(u&&f)return u==e&&f==t;var h=-1,d=!0,m=n&k3?new O3:void 0;for(o.set(t,e),o.set(e,t);++h<a;){var _=t[h],v=e[h];if(r)var w=s?r(v,_,h,e,t,o):r(_,v,h,t,e,o);if(w!==void 0){if(w)continue;d=!1;break}if(m){if(!I3(e,function(g,p){if(!P3(m,p)&&(_===g||i(_,g,n,r,o)))return m.push(p)})){d=!1;break}}else if(!(_===v||i(_,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var yO=C3,x3=Qr,N3=x3.Uint8Array,L3=N3;function D3(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var M3=D3;function j3(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var F3=j3,W1=Jv,K1=L3,U3=fO,V3=yO,B3=M3,q3=F3,$3=1,z3=2,H3="[object Boolean]",W3="[object Date]",K3="[object Error]",G3="[object Map]",Q3="[object Number]",Y3="[object RegExp]",X3="[object Set]",J3="[object String]",Z3="[object Symbol]",e5="[object ArrayBuffer]",t5="[object DataView]",G1=W1?W1.prototype:void 0,Vd=G1?G1.valueOf:void 0;function n5(t,e,n,r,i,o,s){switch(n){case t5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case e5:return!(t.byteLength!=e.byteLength||!o(new K1(t),new K1(e)));case H3:case W3:case Q3:return U3(+t,+e);case K3:return t.name==e.name&&t.message==e.message;case Y3:case J3:return t==e+"";case G3:var a=B3;case X3:var l=r&$3;if(a||(a=q3),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=z3,s.set(t,e);var f=V3(a(t),a(e),r,i,o,s);return s.delete(t),f;case Z3:if(Vd)return Vd.call(t)==Vd.call(e)}return!1}var r5=n5;function i5(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var o5=i5,s5=Array.isArray,ey=s5,a5=o5,l5=ey;function u5(t,e,n){var r=e(t);return l5(t)?r:a5(r,n(t))}var c5=u5;function f5(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var h5=f5;function d5(){return[]}var p5=d5,m5=h5,g5=p5,v5=Object.prototype,y5=v5.propertyIsEnumerable,Q1=Object.getOwnPropertySymbols,_5=Q1?function(t){return t==null?[]:(t=Object(t),m5(Q1(t),function(e){return y5.call(t,e)}))}:g5,E5=_5;function w5(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var T5=w5;function b5(t){return t!=null&&typeof t=="object"}var jh=b5,S5=Lh,A5=jh,O5="[object Arguments]";function I5(t){return A5(t)&&S5(t)==O5}var P5=I5,Y1=P5,R5=jh,_O=Object.prototype,k5=_O.hasOwnProperty,C5=_O.propertyIsEnumerable,x5=Y1(function(){return arguments}())?Y1:function(t){return R5(t)&&k5.call(t,"callee")&&!C5.call(t,"callee")},N5=x5,Pf={exports:{}};function L5(){return!1}var D5=L5;Pf.exports;(function(t,e){var n=Qr,r=D5,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Pf,Pf.exports);var EO=Pf.exports,M5=9007199254740991,j5=/^(?:0|[1-9]\d*)$/;function F5(t,e){var n=typeof t;return e=e??M5,!!e&&(n=="number"||n!="symbol"&&j5.test(t))&&t>-1&&t%1==0&&t<e}var U5=F5,V5=9007199254740991;function B5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=V5}var wO=B5,q5=Lh,$5=wO,z5=jh,H5="[object Arguments]",W5="[object Array]",K5="[object Boolean]",G5="[object Date]",Q5="[object Error]",Y5="[object Function]",X5="[object Map]",J5="[object Number]",Z5="[object Object]",e9="[object RegExp]",t9="[object Set]",n9="[object String]",r9="[object WeakMap]",i9="[object ArrayBuffer]",o9="[object DataView]",s9="[object Float32Array]",a9="[object Float64Array]",l9="[object Int8Array]",u9="[object Int16Array]",c9="[object Int32Array]",f9="[object Uint8Array]",h9="[object Uint8ClampedArray]",d9="[object Uint16Array]",p9="[object Uint32Array]",it={};it[s9]=it[a9]=it[l9]=it[u9]=it[c9]=it[f9]=it[h9]=it[d9]=it[p9]=!0;it[H5]=it[W5]=it[i9]=it[K5]=it[o9]=it[G5]=it[Q5]=it[Y5]=it[X5]=it[J5]=it[Z5]=it[e9]=it[t9]=it[n9]=it[r9]=!1;function m9(t){return z5(t)&&$5(t.length)&&!!it[q5(t)]}var g9=m9;function v9(t){return function(e){return t(e)}}var y9=v9,Rf={exports:{}};Rf.exports;(function(t,e){var n=hO,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Rf,Rf.exports);var _9=Rf.exports,E9=g9,w9=y9,X1=_9,J1=X1&&X1.isTypedArray,T9=J1?w9(J1):E9,TO=T9,b9=T5,S9=N5,A9=ey,O9=EO,I9=U5,P9=TO,R9=Object.prototype,k9=R9.hasOwnProperty;function C9(t,e){var n=A9(t),r=!n&&S9(t),i=!n&&!r&&O9(t),o=!n&&!r&&!i&&P9(t),s=n||r||i||o,a=s?b9(t.length,String):[],l=a.length;for(var u in t)(e||k9.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||I9(u,l)))&&a.push(u);return a}var x9=C9,N9=Object.prototype;function L9(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||N9;return t===n}var D9=L9;function M9(t,e){return function(n){return t(e(n))}}var j9=M9,F9=j9,U9=F9(Object.keys,Object),V9=U9,B9=D9,q9=V9,$9=Object.prototype,z9=$9.hasOwnProperty;function H9(t){if(!B9(t))return q9(t);var e=[];for(var n in Object(t))z9.call(t,n)&&n!="constructor"&&e.push(n);return e}var W9=H9,K9=mO,G9=wO;function Q9(t){return t!=null&&G9(t.length)&&!K9(t)}var Y9=Q9,X9=x9,J9=W9,Z9=Y9;function eB(t){return Z9(t)?X9(t):J9(t)}var tB=eB,nB=c5,rB=E5,iB=tB;function oB(t){return nB(t,iB,rB)}var sB=oB,Z1=sB,aB=1,lB=Object.prototype,uB=lB.hasOwnProperty;function cB(t,e,n,r,i,o){var s=n&aB,a=Z1(t),l=a.length,u=Z1(e),f=u.length;if(l!=f&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:uB.call(e,d)))return!1}var m=o.get(t),_=o.get(e);if(m&&_)return m==e&&_==t;var v=!0;o.set(t,e),o.set(e,t);for(var w=s;++h<l;){d=a[h];var g=t[d],p=e[d];if(r)var E=s?r(p,g,d,e,t,o):r(g,p,d,t,e,o);if(!(E===void 0?g===p||i(g,p,n,r,o):E)){v=!1;break}w||(w=d=="constructor")}if(v&&!w){var y=t.constructor,O=e.constructor;y!=O&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof O=="function"&&O instanceof O)&&(v=!1)}return o.delete(t),o.delete(e),v}var fB=cB,hB=Zs,dB=Qr,pB=hB(dB,"DataView"),mB=pB,gB=Zs,vB=Qr,yB=gB(vB,"Promise"),_B=yB,EB=Zs,wB=Qr,TB=EB(wB,"Set"),bB=TB,SB=Zs,AB=Qr,OB=SB(AB,"WeakMap"),IB=OB,xm=mB,Nm=Zv,Lm=_B,Dm=bB,Mm=IB,bO=Lh,ra=gO,eE="[object Map]",PB="[object Object]",tE="[object Promise]",nE="[object Set]",rE="[object WeakMap]",iE="[object DataView]",RB=ra(xm),kB=ra(Nm),CB=ra(Lm),xB=ra(Dm),NB=ra(Mm),io=bO;(xm&&io(new xm(new ArrayBuffer(1)))!=iE||Nm&&io(new Nm)!=eE||Lm&&io(Lm.resolve())!=tE||Dm&&io(new Dm)!=nE||Mm&&io(new Mm)!=rE)&&(io=function(t){var e=bO(t),n=e==PB?t.constructor:void 0,r=n?ra(n):"";if(r)switch(r){case RB:return iE;case kB:return eE;case CB:return tE;case xB:return nE;case NB:return rE}return e});var LB=io,Bd=h3,DB=yO,MB=r5,jB=fB,oE=LB,sE=ey,aE=EO,FB=TO,UB=1,lE="[object Arguments]",uE="[object Array]",Yu="[object Object]",VB=Object.prototype,cE=VB.hasOwnProperty;function BB(t,e,n,r,i,o){var s=sE(t),a=sE(e),l=s?uE:oE(t),u=a?uE:oE(e);l=l==lE?Yu:l,u=u==lE?Yu:u;var f=l==Yu,h=u==Yu,d=l==u;if(d&&aE(t)){if(!aE(e))return!1;s=!0,f=!1}if(d&&!f)return o||(o=new Bd),s||FB(t)?DB(t,e,n,r,i,o):MB(t,e,l,n,r,i,o);if(!(n&UB)){var m=f&&cE.call(t,"__wrapped__"),_=h&&cE.call(e,"__wrapped__");if(m||_){var v=m?t.value():t,w=_?e.value():e;return o||(o=new Bd),i(v,w,n,r,o)}}return d?(o||(o=new Bd),jB(t,e,n,r,i,o)):!1}var qB=BB,$B=qB,fE=jh;function SO(t,e,n,r,i){return t===e?!0:t==null||e==null||!fE(t)&&!fE(e)?t!==t&&e!==e:$B(t,e,n,r,SO,i)}var zB=SO,HB=zB;function WB(t,e){return HB(t,e)}var KB=WB,AO={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:$t,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),f=i(47),h=i(48),d=i(49),m=i(12),_=i(32),v=i(33),w=i(31),g=i(1),p={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:h.default,Scroll:l.default,Block:f.default,Inline:u.default,Text:d.default,Attributor:{Attribute:m.default,Class:_.default,Style:v.default,Store:w.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var E in p)p.hasOwnProperty(E)&&(g[E]=p[E])};return function(g,p){w(g,p);function E(){this.constructor=g}g.prototype=p===null?Object.create(p):(E.prototype=p.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(g,w);function g(p){var E=this;return p="[Parchment] "+p,E=w.call(this,p)||this,E.message=p,E.name=E.constructor.name,E}return g}(Error);r.ParchmentError=s;var a={},l={},u={},f={};r.DATA_KEY="__blot";var h;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(h=r.Scope||(r.Scope={}));function d(w,g){var p=_(w);if(p==null)throw new s("Unable to create "+w+" blot");var E=p,y=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:E.create(g);return new E(y,g)}r.create=d;function m(w,g){return g===void 0&&(g=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:g?m(w.parentNode,g):null}r.find=m;function _(w,g){g===void 0&&(g=h.ANY);var p;if(typeof w=="string")p=f[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)p=f.text;else if(typeof w=="number")w&h.LEVEL&h.BLOCK?p=f.block:w&h.LEVEL&h.INLINE&&(p=f.inline);else if(w instanceof HTMLElement){var E=(w.getAttribute("class")||"").split(/\s+/);for(var y in E)if(p=l[E[y]],p)break;p=p||u[w.tagName]}return p==null?null:g&h.LEVEL&p.scope&&g&h.TYPE&p.scope?p:null}r.query=_;function v(){for(var w=[],g=0;g<arguments.length;g++)w[g]=arguments[g];if(w.length>1)return w.map(function(y){return v(y)});var p=w[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(f[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(y){return y.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var E=Array.isArray(p.tagName)?p.tagName:[p.tagName];E.forEach(function(y){(u[y]==null||p.className==null)&&(u[y]=p)})}return p}r.register=v},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",f=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};f.prototype.insert=function(h,d){var m={};return h.length===0?this:(m.insert=h,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m))},f.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},f.prototype.retain=function(h,d){if(h<=0)return this;var m={retain:h};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(m.attributes=d),this.push(m)},f.prototype.push=function(h){var d=this.ops.length,m=this.ops[d-1];if(h=a(!0,{},h),typeof m=="object"){if(typeof h.delete=="number"&&typeof m.delete=="number")return this.ops[d-1]={delete:m.delete+h.delete},this;if(typeof m.delete=="number"&&h.insert!=null&&(d-=1,m=this.ops[d-1],typeof m!="object"))return this.ops.unshift(h),this;if(s(h.attributes,m.attributes)){if(typeof h.insert=="string"&&typeof m.insert=="string")return this.ops[d-1]={insert:m.insert+h.insert},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof m.retain=="number")return this.ops[d-1]={retain:m.retain+h.retain},typeof h.attributes=="object"&&(this.ops[d-1].attributes=h.attributes),this}}return d===this.ops.length?this.ops.push(h):this.ops.splice(d,0,h),this},f.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},f.prototype.filter=function(h){return this.ops.filter(h)},f.prototype.forEach=function(h){this.ops.forEach(h)},f.prototype.map=function(h){return this.ops.map(h)},f.prototype.partition=function(h){var d=[],m=[];return this.forEach(function(_){var v=h(_)?d:m;v.push(_)}),[d,m]},f.prototype.reduce=function(h,d){return this.ops.reduce(h,d)},f.prototype.changeLength=function(){return this.reduce(function(h,d){return d.insert?h+l.length(d):d.delete?h-d.delete:h},0)},f.prototype.length=function(){return this.reduce(function(h,d){return h+l.length(d)},0)},f.prototype.slice=function(h,d){h=h||0,typeof d!="number"&&(d=1/0);for(var m=[],_=l.iterator(this.ops),v=0;v<d&&_.hasNext();){var w;v<h?w=_.next(h-v):(w=_.next(d-v),m.push(w)),v+=l.length(w)}return new f(m)},f.prototype.compose=function(h){var d=l.iterator(this.ops),m=l.iterator(h.ops),_=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var w=v.retain;d.peekType()==="insert"&&d.peekLength()<=w;)w-=d.peekLength(),_.push(d.next());v.retain-w>0&&m.next(v.retain-w)}for(var g=new f(_);d.hasNext()||m.hasNext();)if(m.peekType()==="insert")g.push(m.next());else if(d.peekType()==="delete")g.push(d.next());else{var p=Math.min(d.peekLength(),m.peekLength()),E=d.next(p),y=m.next(p);if(typeof y.retain=="number"){var O={};typeof E.retain=="number"?O.retain=p:O.insert=E.insert;var C=l.attributes.compose(E.attributes,y.attributes,typeof E.retain=="number");if(C&&(O.attributes=C),g.push(O),!m.hasNext()&&s(g.ops[g.ops.length-1],O)){var A=new f(d.rest());return g.concat(A).chop()}}else typeof y.delete=="number"&&typeof E.retain=="number"&&g.push(y)}return g.chop()},f.prototype.concat=function(h){var d=new f(this.ops.slice());return h.ops.length>0&&(d.push(h.ops[0]),d.ops=d.ops.concat(h.ops.slice(1))),d},f.prototype.diff=function(h,d){if(this.ops===h.ops)return new f;var m=[this,h].map(function(p){return p.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:u;var y=p===h?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),_=new f,v=o(m[0],m[1],d),w=l.iterator(this.ops),g=l.iterator(h.ops);return v.forEach(function(p){for(var E=p[1].length;E>0;){var y=0;switch(p[0]){case o.INSERT:y=Math.min(g.peekLength(),E),_.push(g.next(y));break;case o.DELETE:y=Math.min(E,w.peekLength()),w.next(y),_.delete(y);break;case o.EQUAL:y=Math.min(w.peekLength(),g.peekLength(),E);var O=w.next(y),C=g.next(y);s(O.insert,C.insert)?_.retain(y,l.attributes.diff(O.attributes,C.attributes)):_.push(C).delete(y);break}E-=y}}),_.chop()},f.prototype.eachLine=function(h,d){d=d||`
`;for(var m=l.iterator(this.ops),_=new f,v=0;m.hasNext();){if(m.peekType()!=="insert")return;var w=m.peek(),g=l.length(w)-m.peekLength(),p=typeof w.insert=="string"?w.insert.indexOf(d,g)-g:-1;if(p<0)_.push(m.next());else if(p>0)_.push(m.next(p));else{if(h(_,m.next(1).attributes||{},v)===!1)return;v+=1,_=new f}}_.length()>0&&h(_,{},v)},f.prototype.transform=function(h,d){if(d=!!d,typeof h=="number")return this.transformPosition(h,d);for(var m=l.iterator(this.ops),_=l.iterator(h.ops),v=new f;m.hasNext()||_.hasNext();)if(m.peekType()==="insert"&&(d||_.peekType()!=="insert"))v.retain(l.length(m.next()));else if(_.peekType()==="insert")v.push(_.next());else{var w=Math.min(m.peekLength(),_.peekLength()),g=m.next(w),p=_.next(w);if(g.delete)continue;p.delete?v.push(p):v.retain(w,l.attributes.transform(g.attributes,p.attributes,d))}return v.chop()},f.prototype.transformPosition=function(h,d){d=!!d;for(var m=l.iterator(this.ops),_=0;m.hasNext()&&_<=h;){var v=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){h-=Math.min(v,h-_);continue}else w==="insert"&&(_<h||!d)&&(h+=v);_+=v}return h},n.exports=f},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(m){return typeof Array.isArray=="function"?Array.isArray(m):o.call(m)==="[object Array]"},u=function(m){if(!m||o.call(m)!=="[object Object]")return!1;var _=i.call(m,"constructor"),v=m.constructor&&m.constructor.prototype&&i.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!_&&!v)return!1;var w;for(w in m);return typeof w>"u"||i.call(m,w)},f=function(m,_){s&&_.name==="__proto__"?s(m,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):m[_.name]=_.newValue},h=function(m,_){if(_==="__proto__")if(i.call(m,_)){if(a)return a(m,_).value}else return;return m[_]};n.exports=function d(){var m,_,v,w,g,p,E=arguments[0],y=1,O=arguments.length,C=!1;for(typeof E=="boolean"&&(C=E,E=arguments[1]||{},y=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});y<O;++y)if(m=arguments[y],m!=null)for(_ in m)v=h(E,_),w=h(m,_),E!==w&&(C&&w&&(u(w)||(g=l(w)))?(g?(g=!1,p=v&&l(v)?v:[]):p=v&&u(v)?v:{},f(E,{name:_,newValue:d(C,p,w)})):typeof w<"u"&&f(E,{name:_,newValue:w}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function S(R,k){for(var L=0;L<k.length;L++){var V=k[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,k,L){return k&&S(R.prototype,k),L&&S(R,L),R}}(),s=function S(R,k,L){R===null&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,k);if(V===void 0){var W=Object.getPrototypeOf(R);return W===null?void 0:S(W,k,L)}else{if("value"in V)return V.value;var G=V.get;return G===void 0?void 0:G.call(L)}},a=i(3),l=E(a),u=i(2),f=E(u),h=i(0),d=E(h),m=i(16),_=E(m),v=i(6),w=E(v),g=i(7),p=E(g);function E(S){return S&&S.__esModule?S:{default:S}}function y(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function O(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function C(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var A=1,b=function(S){C(R,S);function R(){return y(this,R),O(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return o(R,[{key:"attach",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,V){var W=d.default.query(L,d.default.Scope.BLOCK_ATTRIBUTE);W!=null&&this.attributes.attribute(W,V)}},{key:"formatAt",value:function(L,V,W,G){this.format(W,G)}},{key:"insertAt",value:function(L,V,W){if(typeof V=="string"&&V.endsWith(`
`)){var G=d.default.create(P.blotName);this.parent.insertBefore(G,L===0?this:this.next),G.insertAt(0,V.slice(0,-1))}else s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,V,W)}}]),R}(d.default.Embed);b.scope=d.default.Scope.BLOCK_BLOT;var P=function(S){C(R,S);function R(k){y(this,R);var L=O(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k));return L.cache={},L}return o(R,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(L,V){return V.length()===0?L:L.insert(V.value(),T(V))},new f.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(L,V){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,L,V),this.cache={}}},{key:"formatAt",value:function(L,V,W,G){V<=0||(d.default.query(W,d.default.Scope.BLOCK)?L+V===this.length()&&this.format(W,G):s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,L,Math.min(V,this.length()-L-1),W,G),this.cache={})}},{key:"insertAt",value:function(L,V,W){if(W!=null)return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,L,V,W);if(V.length!==0){var G=V.split(`
`),Q=G.shift();Q.length>0&&(L<this.length()-1||this.children.tail==null?s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var B=this;G.reduce(function(F,N){return B=B.split(F,!0),B.insertAt(0,N),N.length},L+Q.length)}}},{key:"insertBefore",value:function(L,V){var W=this.children.head;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,L,V),W instanceof _.default&&W.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"length",this).call(this)+A),this.cache.length}},{key:"moveChildren",value:function(L,V){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"moveChildren",this).call(this,L,V),this.cache={}}},{key:"optimize",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(V&&(L===0||L>=this.length()-A)){var W=this.clone();return L===0?(this.parent.insertBefore(W,this),this):(this.parent.insertBefore(W,this.next),W)}else{var G=s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"split",this).call(this,L,V);return this.cache={},G}}}]),R}(d.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[w.default,d.default.Embed,p.default];function T(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(R=(0,l.default)(R,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?R:T(S.parent,R)}r.bubbleFormats=T,r.BlockEmbed=b,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(F,N){var M=[],U=!0,Y=!1,z=void 0;try{for(var j=F[Symbol.iterator](),H;!(U=(H=j.next()).done)&&(M.push(H.value),!(N&&M.length===N));U=!0);}catch(Z){Y=!0,z=Z}finally{try{!U&&j.return&&j.return()}finally{if(Y)throw z}}return M}return function(F,N){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,N){for(var M=0;M<N.length;M++){var U=N[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,N,M){return N&&B(F.prototype,N),M&&B(F,M),F}}();i(50);var l=i(2),u=T(l),f=i(14),h=T(f),d=i(8),m=T(d),_=i(9),v=T(_),w=i(0),g=T(w),p=i(15),E=T(p),y=i(3),O=T(y),C=i(10),A=T(C),b=i(34),P=T(b);function T(B){return B&&B.__esModule?B:{default:B}}function S(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function R(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var k=(0,A.default)("quill"),L=function(){a(B,null,[{key:"debug",value:function(N){N===!0&&(N="log"),A.default.level(N)}},{key:"find",value:function(N){return N.__quill||g.default.find(N)}},{key:"import",value:function(N){return this.imports[N]==null&&k.error("Cannot import "+N+". Are you sure it was registered?"),this.imports[N]}},{key:"register",value:function(N,M){var U=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof N!="string"){var z=N.attrName||N.blotName;typeof z=="string"?this.register("formats/"+z,N,M):Object.keys(N).forEach(function(j){U.register(j,N[j],M)})}else this.imports[N]!=null&&!Y&&k.warn("Overwriting "+N+" with",M),this.imports[N]=M,(N.startsWith("blots/")||N.startsWith("formats/"))&&M.blotName!=="abstract"?g.default.register(M):N.startsWith("modules")&&typeof M.register=="function"&&M.register()}}]);function B(F){var N=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(R(this,B),this.options=V(F,M),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",F);this.options.debug&&B.debug(this.options.debug);var U=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(z){z===m.default.events.TEXT_CHANGE&&N.root.classList.toggle("ql-blank",N.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(z,j){var H=N.selection.lastRange,Z=H&&H.length===0?H.index:void 0;W.call(N,function(){return N.editor.update(null,j,Z)},z)});var Y=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+U+"<p><br></p></div>");this.setContents(Y),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(B,[{key:"addContainer",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof N=="string"){var U=N;N=document.createElement("div"),N.classList.add(U)}return this.container.insertBefore(N,M),N}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(N,M,U){var Y=this,z=G(N,M,U),j=s(z,4);return N=j[0],M=j[1],U=j[3],W.call(this,function(){return Y.editor.deleteText(N,M)},U,N,-1*M)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(N),this.container.classList.toggle("ql-disabled",!N)}},{key:"focus",value:function(){var N=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=N,this.scrollIntoView()}},{key:"format",value:function(N,M){var U=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return W.call(this,function(){var z=U.getSelection(!0),j=new u.default;if(z==null)return j;if(g.default.query(N,g.default.Scope.BLOCK))j=U.editor.formatLine(z.index,z.length,S({},N,M));else{if(z.length===0)return U.selection.format(N,M),j;j=U.editor.formatText(z.index,z.length,S({},N,M))}return U.setSelection(z,m.default.sources.SILENT),j},Y)}},{key:"formatLine",value:function(N,M,U,Y,z){var j=this,H=void 0,Z=G(N,M,U,Y,z),J=s(Z,4);return N=J[0],M=J[1],H=J[2],z=J[3],W.call(this,function(){return j.editor.formatLine(N,M,H)},z,N,0)}},{key:"formatText",value:function(N,M,U,Y,z){var j=this,H=void 0,Z=G(N,M,U,Y,z),J=s(Z,4);return N=J[0],M=J[1],H=J[2],z=J[3],W.call(this,function(){return j.editor.formatText(N,M,H)},z,N,0)}},{key:"getBounds",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=void 0;typeof N=="number"?U=this.selection.getBounds(N,M):U=this.selection.getBounds(N.index,N.length);var Y=this.container.getBoundingClientRect();return{bottom:U.bottom-Y.top,height:U.height,left:U.left-Y.left,right:U.right-Y.left,top:U.top-Y.top,width:U.width}}},{key:"getContents",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,U=G(N,M),Y=s(U,2);return N=Y[0],M=Y[1],this.editor.getContents(N,M)}},{key:"getFormat",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof N=="number"?this.editor.getFormat(N,M):this.editor.getFormat(N.index,N.length)}},{key:"getIndex",value:function(N){return N.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(N){return this.scroll.leaf(N)}},{key:"getLine",value:function(N){return this.scroll.line(N)}},{key:"getLines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof N!="number"?this.scroll.lines(N.index,N.length):this.scroll.lines(N,M)}},{key:"getModule",value:function(N){return this.theme.modules[N]}},{key:"getSelection",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return N&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-N,U=G(N,M),Y=s(U,2);return N=Y[0],M=Y[1],this.editor.getText(N,M)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(N,M,U){var Y=this,z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return W.call(this,function(){return Y.editor.insertEmbed(N,M,U)},z,N)}},{key:"insertText",value:function(N,M,U,Y,z){var j=this,H=void 0,Z=G(N,0,U,Y,z),J=s(Z,4);return N=J[0],H=J[2],z=J[3],W.call(this,function(){return j.editor.insertText(N,M,H)},z,N,M.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(N,M,U){this.clipboard.dangerouslyPasteHTML(N,M,U)}},{key:"removeFormat",value:function(N,M,U){var Y=this,z=G(N,M,U),j=s(z,4);return N=j[0],M=j[1],U=j[3],W.call(this,function(){return Y.editor.removeFormat(N,M)},U,N)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(N){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return W.call(this,function(){N=new u.default(N);var Y=M.getLength(),z=M.editor.deleteText(0,Y),j=M.editor.applyDelta(N),H=j.ops[j.ops.length-1];H!=null&&typeof H.insert=="string"&&H.insert[H.insert.length-1]===`
`&&(M.editor.deleteText(M.getLength()-1,1),j.delete(1));var Z=z.compose(j);return Z},U)}},{key:"setSelection",value:function(N,M,U){if(N==null)this.selection.setRange(null,M||B.sources.API);else{var Y=G(N,M,U),z=s(Y,4);N=z[0],M=z[1],U=z[3],this.selection.setRange(new p.Range(N,M),U),U!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,U=new u.default().insert(N);return this.setContents(U,M)}},{key:"update",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,M=this.scroll.update(N);return this.selection.update(N),M}},{key:"updateContents",value:function(N){var M=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return W.call(this,function(){return N=new u.default(N),M.editor.applyDelta(N,U)},U,!0)}}]),B}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=m.default.events,L.sources=m.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:g.default,"core/module":v.default,"core/theme":P.default};function V(B,F){if(F=(0,O.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},F),!F.theme||F.theme===L.DEFAULTS.theme)F.theme=P.default;else if(F.theme=L.import("themes/"+F.theme),F.theme==null)throw new Error("Invalid theme "+F.theme+". Did you register it?");var N=(0,O.default)(!0,{},F.theme.DEFAULTS);[N,F].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(z){Y.modules[z]===!0&&(Y.modules[z]={})})});var M=Object.keys(N.modules).concat(Object.keys(F.modules)),U=M.reduce(function(Y,z){var j=L.import("modules/"+z);return j==null?k.error("Cannot load "+z+" module. Are you sure you registered it?"):Y[z]=j.DEFAULTS||{},Y},{});return F.modules!=null&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=(0,O.default)(!0,{},L.DEFAULTS,{modules:U},N,F),["bounds","container","scrollingContainer"].forEach(function(Y){typeof F[Y]=="string"&&(F[Y]=document.querySelector(F[Y]))}),F.modules=Object.keys(F.modules).reduce(function(Y,z){return F.modules[z]&&(Y[z]=F.modules[z]),Y},{}),F}function W(B,F,N,M){if(this.options.strict&&!this.isEnabled()&&F===m.default.sources.USER)return new u.default;var U=N==null?null:this.getSelection(),Y=this.editor.delta,z=B();if(U!=null&&(N===!0&&(N=U.index),M==null?U=Q(U,z,F):M!==0&&(U=Q(U,N,M,F)),this.setSelection(U,m.default.sources.SILENT)),z.length()>0){var j,H=[m.default.events.TEXT_CHANGE,z,Y,F];if((j=this.emitter).emit.apply(j,[m.default.events.EDITOR_CHANGE].concat(H)),F!==m.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,H)}}return z}function G(B,F,N,M,U){var Y={};return typeof B.index=="number"&&typeof B.length=="number"?typeof F!="number"?(U=M,M=N,N=F,F=B.length,B=B.index):(F=B.length,B=B.index):typeof F!="number"&&(U=M,M=N,N=F,F=0),(typeof N>"u"?"undefined":o(N))==="object"?(Y=N,U=M):typeof N=="string"&&(M!=null?Y[N]=M:U=N),U=U||m.default.sources.API,[B,F,Y,U]}function Q(B,F,N,M){if(B==null)return null;var U=void 0,Y=void 0;if(F instanceof u.default){var z=[B.index,B.index+B.length].map(function(J){return F.transformPosition(J,M!==m.default.sources.USER)}),j=s(z,2);U=j[0],Y=j[1]}else{var H=[B.index,B.index+B.length].map(function(J){return J<F||J===F&&M===m.default.sources.USER?J:N>=0?J+N:Math.max(F,J+N)}),Z=s(H,2);U=Z[0],Y=Z[1]}return new p.Range(U,Y-U)}r.expandConfig=V,r.overload=G,r.default=L},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&w(g.prototype,p),E&&w(g,E),g}}(),s=function w(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:w(O,p,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(7),l=h(a),u=i(0),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function m(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function _(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var v=function(w){_(g,w);function g(){return d(this,g),m(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"formatAt",value:function(E,y,O,C){if(g.compare(this.statics.blotName,O)<0&&f.default.query(O,f.default.Scope.BLOT)){var A=this.isolate(E,y);C&&A.wrap(O,C)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,E,y,O,C)}},{key:"optimize",value:function(E){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,E),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(E,y){var O=g.order.indexOf(E),C=g.order.indexOf(y);return O>=0||C>=0?O-C:E===y?0:E<y?-1:1}}]),g}(f.default.Inline);v.allowedChildren=[v,f.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default.Text);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(E,y){for(var O=0;O<y.length;O++){var C=y[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,y,O){return y&&p(E.prototype,y),O&&p(E,O),E}}(),s=function p(E,y,O){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,y);if(C===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:p(A,y,O)}else{if("value"in C)return C.value;var b=C.get;return b===void 0?void 0:b.call(O)}},a=i(54),l=h(a),u=i(10),f=h(u);function h(p){return p&&p.__esModule?p:{default:p}}function d(p,E){if(!(p instanceof E))throw new TypeError("Cannot call a class as a function")}function m(p,E){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:p}function _(p,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);p.prototype=Object.create(E&&E.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(p,E):p.__proto__=E)}var v=(0,f.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(p){document.addEventListener(p,function(){for(var E=arguments.length,y=Array(E),O=0;O<E;O++)y[O]=arguments[O];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var A;(A=C.__quill.emitter).handleDOM.apply(A,y)}})})});var g=function(p){_(E,p);function E(){d(this,E);var y=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return y.listeners={},y.on("error",v.error),y}return o(E,[{key:"emit",value:function(){v.log.apply(v,arguments),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(O){for(var C=arguments.length,A=Array(C>1?C-1:0),b=1;b<C;b++)A[b-1]=arguments[b];(this.listeners[O.type]||[]).forEach(function(P){var T=P.node,S=P.handler;(O.target===T||T.contains(O.target))&&S.apply(void 0,[O].concat(A))})}},{key:"listenDOM",value:function(O,C,A){this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push({node:C,handler:A})}}]),E}(l.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var f,h=arguments.length,d=Array(h>1?h-1:0),m=1;m<h;m++)d[m-1]=arguments[m];(f=console)[u].apply(f,d)}}function l(u){return o.reduce(function(f,h){return f[h]=a.bind(console,h,u),f},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(d,m,_){return _||(_={}),d===m?!0:d instanceof Date&&m instanceof Date?d.getTime()===m.getTime():!d||!m||typeof d!="object"&&typeof m!="object"?_.strict?d===m:d==m:h(d,m,_)};function u(d){return d==null}function f(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function h(d,m,_){var v,w;if(u(d)||u(m)||d.prototype!==m.prototype)return!1;if(a(d))return a(m)?(d=o.call(d),m=o.call(m),l(d,m,_)):!1;if(f(d)){if(!f(m)||d.length!==m.length)return!1;for(v=0;v<d.length;v++)if(d[v]!==m[v])return!1;return!0}try{var g=s(d),p=s(m)}catch{return!1}if(g.length!=p.length)return!1;for(g.sort(),p.sort(),v=g.length-1;v>=0;v--)if(g[v]!=p[v])return!1;for(v=g.length-1;v>=0;v--)if(w=g[v],!l(d[w],m[w],_))return!1;return typeof d==typeof m}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,f){f===void 0&&(f={}),this.attrName=l,this.keyName=u;var h=o.Scope.TYPE&o.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&o.Scope.LEVEL|h:this.scope=o.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var f=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function b(P,T){var S=[],R=!0,k=!1,L=void 0;try{for(var V=P[Symbol.iterator](),W;!(R=(W=V.next()).done)&&(S.push(W.value),!(T&&S.length===T));R=!0);}catch(G){k=!0,L=G}finally{try{!R&&V.return&&V.return()}finally{if(k)throw L}}return S}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return b(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(P,T){for(var S=0;S<T.length;S++){var R=T[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,T,S){return T&&b(P.prototype,T),S&&b(P,S),P}}(),a=function b(P,T,S){P===null&&(P=Function.prototype);var R=Object.getOwnPropertyDescriptor(P,T);if(R===void 0){var k=Object.getPrototypeOf(P);return k===null?void 0:b(k,T,S)}else{if("value"in R)return R.value;var L=R.get;return L===void 0?void 0:L.call(S)}},l=i(2),u=p(l),f=i(0),h=p(f),d=i(4),m=p(d),_=i(6),v=p(_),w=i(7),g=p(w);function p(b){return b&&b.__esModule?b:{default:b}}function E(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")}function y(b,P){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:b}function O(b,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);b.prototype=Object.create(P&&P.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(b,P):b.__proto__=P)}var C=function(b){O(P,b);function P(){return E(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(v.default);C.blotName="code",C.tagName="CODE";var A=function(b){O(P,b);function P(){return E(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var S=this,R=this.domNode.textContent;return R.endsWith(`
`)&&(R=R.slice(0,-1)),R.split(`
`).reduce(function(k,L){return k.insert(L).insert(`
`,S.formats())},new u.default)}},{key:"format",value:function(S,R){if(!(S===this.statics.blotName&&R)){var k=this.descendant(g.default,this.length()-1),L=o(k,1),V=L[0];V!=null&&V.deleteAt(V.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,S,R)}}},{key:"formatAt",value:function(S,R,k,L){if(R!==0&&!(h.default.query(k,h.default.Scope.BLOCK)==null||k===this.statics.blotName&&L===this.statics.formats(this.domNode))){var V=this.newlineIndex(S);if(!(V<0||V>=S+R)){var W=this.newlineIndex(S,!0)+1,G=V-W+1,Q=this.isolate(W,G),B=Q.next;Q.format(k,L),B instanceof P&&B.formatAt(0,S-W+R-G,k,L)}}}},{key:"insertAt",value:function(S,R,k){if(k==null){var L=this.descendant(g.default,S),V=o(L,2),W=V[0],G=V[1];W.insertAt(G,R)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var k=this.domNode.textContent.slice(S).indexOf(`
`);return k>-1?S+k:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===R.statics.formats(R.domNode)&&(R.optimize(S),R.moveChildren(this),R.remove())}},{key:"replace",value:function(S){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(R){var k=h.default.find(R);k==null?R.parentNode.removeChild(R):k instanceof h.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(S){var R=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,S);return R.setAttribute("spellcheck",!1),R}},{key:"formats",value:function(){return!0}}]),P}(m.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",r.Code=C,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},s=function(){function B(F,N){var M=[],U=!0,Y=!1,z=void 0;try{for(var j=F[Symbol.iterator](),H;!(U=(H=j.next()).done)&&(M.push(H.value),!(N&&M.length===N));U=!0);}catch(Z){Y=!0,z=Z}finally{try{!U&&j.return&&j.return()}finally{if(Y)throw z}}return M}return function(F,N){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return B(F,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function B(F,N){for(var M=0;M<N.length;M++){var U=N[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(F,U.key,U)}}return function(F,N,M){return N&&B(F.prototype,N),M&&B(F,M),F}}(),l=i(2),u=R(l),f=i(20),h=R(f),d=i(0),m=R(d),_=i(13),v=R(_),w=i(24),g=R(w),p=i(4),E=R(p),y=i(16),O=R(y),C=i(21),A=R(C),b=i(11),P=R(b),T=i(3),S=R(T);function R(B){return B&&B.__esModule?B:{default:B}}function k(B,F,N){return F in B?Object.defineProperty(B,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[F]=N,B}function L(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}var V=/^[ -~]*$/,W=function(){function B(F){L(this,B),this.scroll=F,this.delta=this.getDelta()}return a(B,[{key:"applyDelta",value:function(N){var M=this,U=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),N=Q(N),N.reduce(function(z,j){var H=j.retain||j.delete||j.insert.length||1,Z=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var J=j.insert;J.endsWith(`
`)&&U&&(U=!1,J=J.slice(0,-1)),z>=Y&&!J.endsWith(`
`)&&(U=!0),M.scroll.insertAt(z,J);var ie=M.scroll.line(z),me=s(ie,2),we=me[0],be=me[1],Ie=(0,S.default)({},(0,p.bubbleFormats)(we));if(we instanceof E.default){var Le=we.descendant(m.default.Leaf,be),Et=s(Le,1),Ye=Et[0];Ie=(0,S.default)(Ie,(0,p.bubbleFormats)(Ye))}Z=h.default.attributes.diff(Ie,Z)||{}}else if(o(j.insert)==="object"){var ne=Object.keys(j.insert)[0];if(ne==null)return z;M.scroll.insertAt(z,ne,j.insert[ne])}Y+=H}return Object.keys(Z).forEach(function(re){M.scroll.formatAt(z,H,re,Z[re])}),z+H},0),N.reduce(function(z,j){return typeof j.delete=="number"?(M.scroll.deleteAt(z,j.delete),z):z+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(N)}},{key:"deleteText",value:function(N,M){return this.scroll.deleteAt(N,M),this.update(new u.default().retain(N).delete(M))}},{key:"formatLine",value:function(N,M){var U=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(z){if(!(U.scroll.whitelist!=null&&!U.scroll.whitelist[z])){var j=U.scroll.lines(N,Math.max(M,1)),H=M;j.forEach(function(Z){var J=Z.length();if(!(Z instanceof v.default))Z.format(z,Y[z]);else{var ie=N-Z.offset(U.scroll),me=Z.newlineIndex(ie+H)-ie+1;Z.formatAt(ie,me,z,Y[z])}H-=J})}}),this.scroll.optimize(),this.update(new u.default().retain(N).retain(M,(0,A.default)(Y)))}},{key:"formatText",value:function(N,M){var U=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(z){U.scroll.formatAt(N,M,z,Y[z])}),this.update(new u.default().retain(N).retain(M,(0,A.default)(Y)))}},{key:"getContents",value:function(N,M){return this.delta.slice(N,N+M)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(N,M){return N.concat(M.delta())},new u.default)}},{key:"getFormat",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,U=[],Y=[];M===0?this.scroll.path(N).forEach(function(j){var H=s(j,1),Z=H[0];Z instanceof E.default?U.push(Z):Z instanceof m.default.Leaf&&Y.push(Z)}):(U=this.scroll.lines(N,M),Y=this.scroll.descendants(m.default.Leaf,N,M));var z=[U,Y].map(function(j){if(j.length===0)return{};for(var H=(0,p.bubbleFormats)(j.shift());Object.keys(H).length>0;){var Z=j.shift();if(Z==null)return H;H=G((0,p.bubbleFormats)(Z),H)}return H});return S.default.apply(S.default,z)}},{key:"getText",value:function(N,M){return this.getContents(N,M).filter(function(U){return typeof U.insert=="string"}).map(function(U){return U.insert}).join("")}},{key:"insertEmbed",value:function(N,M,U){return this.scroll.insertAt(N,M,U),this.update(new u.default().retain(N).insert(k({},M,U)))}},{key:"insertText",value:function(N,M){var U=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M=M.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(N,M),Object.keys(Y).forEach(function(z){U.scroll.formatAt(N,M.length,z,Y[z])}),this.update(new u.default().retain(N).insert(M,(0,A.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var N=this.scroll.children.head;return N.statics.blotName!==E.default.blotName||N.children.length>1?!1:N.children.head instanceof O.default}},{key:"removeFormat",value:function(N,M){var U=this.getText(N,M),Y=this.scroll.line(N+M),z=s(Y,2),j=z[0],H=z[1],Z=0,J=new u.default;j!=null&&(j instanceof v.default?Z=j.newlineIndex(H)-H+1:Z=j.length()-H,J=j.delta().slice(H,H+Z-1).insert(`
`));var ie=this.getContents(N,M+Z),me=ie.diff(new u.default().insert(U).concat(J)),we=new u.default().retain(N).concat(me);return this.applyDelta(we)}},{key:"update",value:function(N){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if(M.length===1&&M[0].type==="characterData"&&M[0].target.data.match(V)&&m.default.find(M[0].target)){var z=m.default.find(M[0].target),j=(0,p.bubbleFormats)(z),H=z.offset(this.scroll),Z=M[0].oldValue.replace(g.default.CONTENTS,""),J=new u.default().insert(Z),ie=new u.default().insert(z.value()),me=new u.default().retain(H).concat(J.diff(ie,U));N=me.reduce(function(we,be){return be.insert?we.insert(be.insert,j):we.push(be)},new u.default),this.delta=Y.compose(N)}else this.delta=this.getDelta(),(!N||!(0,P.default)(Y.compose(N),this.delta))&&(N=Y.diff(this.delta,U));return N}}]),B}();function G(B,F){return Object.keys(F).reduce(function(N,M){return B[M]==null||(F[M]===B[M]?N[M]=F[M]:Array.isArray(F[M])?F[M].indexOf(B[M])<0&&(N[M]=F[M].concat([B[M]])):N[M]=[F[M],B[M]]),N},{})}function Q(B){return B.reduce(function(F,N){if(N.insert===1){var M=(0,A.default)(N.attributes);return delete M.image,F.insert({image:N.attributes.image},M)}if(N.attributes!=null&&(N.attributes.list===!0||N.attributes.bullet===!0)&&(N=(0,A.default)(N),N.attributes.list?N.attributes.list="ordered":(N.attributes.list="bullet",delete N.attributes.bullet)),typeof N.insert=="string"){var U=N.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return F.insert(U,N.attributes)}return F.push(N)},new u.default)}r.default=W},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function b(P,T){var S=[],R=!0,k=!1,L=void 0;try{for(var V=P[Symbol.iterator](),W;!(R=(W=V.next()).done)&&(S.push(W.value),!(T&&S.length===T));R=!0);}catch(G){k=!0,L=G}finally{try{!R&&V.return&&V.return()}finally{if(k)throw L}}return S}return function(P,T){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return b(P,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(P,T){for(var S=0;S<T.length;S++){var R=T[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,R.key,R)}}return function(P,T,S){return T&&b(P.prototype,T),S&&b(P,S),P}}(),a=i(0),l=g(a),u=i(21),f=g(u),h=i(11),d=g(h),m=i(8),_=g(m),v=i(10),w=g(v);function g(b){return b&&b.__esModule?b:{default:b}}function p(b){if(Array.isArray(b)){for(var P=0,T=Array(b.length);P<b.length;P++)T[P]=b[P];return T}else return Array.from(b)}function E(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")}var y=(0,w.default)("quill:selection"),O=function b(P){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,b),this.index=P,this.length=T},C=function(){function b(P,T){var S=this;E(this,b),this.emitter=T,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new O(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(R,k){R===_.default.events.TEXT_CHANGE&&k.length()>0&&S.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var R=S.getNativeRange();R!=null&&R.start.node!==S.cursor.textNode&&S.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(R.start.node,R.start.offset,R.end.node,R.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(R,k){if(k.range){var L=k.range,V=L.startNode,W=L.startOffset,G=L.endNode,Q=L.endOffset;S.setNativeRange(V,W,G,Q)}}),this.update(_.default.sources.SILENT)}return s(b,[{key:"handleComposition",value:function(){var T=this;this.root.addEventListener("compositionstart",function(){T.composing=!0}),this.root.addEventListener("compositionend",function(){if(T.composing=!1,T.cursor.parent){var S=T.cursor.restore();if(!S)return;setTimeout(function(){T.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var T=this;this.emitter.listenDOM("mousedown",document.body,function(){T.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){T.mouseDown=!1,T.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(T,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[T])){this.scroll.update();var R=this.getNativeRange();if(!(R==null||!R.native.collapsed||l.default.query(T,l.default.Scope.BLOCK))){if(R.start.node!==this.cursor.textNode){var k=l.default.find(R.start.node,!1);if(k==null)return;if(k instanceof l.default.Leaf){var L=k.split(R.start.offset);k.parent.insertBefore(this.cursor,L)}else k.insertBefore(this.cursor,R.start.node);this.cursor.attach()}this.cursor.format(T,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=this.scroll.length();T=Math.min(T,R-1),S=Math.min(T+S,R-1)-T;var k=void 0,L=this.scroll.leaf(T),V=o(L,2),W=V[0],G=V[1];if(W==null)return null;var Q=W.position(G,!0),B=o(Q,2);k=B[0],G=B[1];var F=document.createRange();if(S>0){F.setStart(k,G);var N=this.scroll.leaf(T+S),M=o(N,2);if(W=M[0],G=M[1],W==null)return null;var U=W.position(G,!0),Y=o(U,2);return k=Y[0],G=Y[1],F.setEnd(k,G),F.getBoundingClientRect()}else{var z="left",j=void 0;return k instanceof Text?(G<k.data.length?(F.setStart(k,G),F.setEnd(k,G+1)):(F.setStart(k,G-1),F.setEnd(k,G),z="right"),j=F.getBoundingClientRect()):(j=W.domNode.getBoundingClientRect(),G>0&&(z="right")),{bottom:j.top+j.height,height:j.height,left:j[z],right:j[z],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var T=document.getSelection();if(T==null||T.rangeCount<=0)return null;var S=T.getRangeAt(0);if(S==null)return null;var R=this.normalizeNative(S);return y.info("getNativeRange",R),R}},{key:"getRange",value:function(){var T=this.getNativeRange();if(T==null)return[null,null];var S=this.normalizedToRange(T);return[S,T]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(T){var S=this,R=[[T.start.node,T.start.offset]];T.native.collapsed||R.push([T.end.node,T.end.offset]);var k=R.map(function(W){var G=o(W,2),Q=G[0],B=G[1],F=l.default.find(Q,!0),N=F.offset(S.scroll);return B===0?N:F instanceof l.default.Container?N+F.length():N+F.index(Q,B)}),L=Math.min(Math.max.apply(Math,p(k)),this.scroll.length()-1),V=Math.min.apply(Math,[L].concat(p(k)));return new O(V,L-V)}},{key:"normalizeNative",value:function(T){if(!A(this.root,T.startContainer)||!T.collapsed&&!A(this.root,T.endContainer))return null;var S={start:{node:T.startContainer,offset:T.startOffset},end:{node:T.endContainer,offset:T.endOffset},native:T};return[S.start,S.end].forEach(function(R){for(var k=R.node,L=R.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>L)k=k.childNodes[L],L=0;else if(k.childNodes.length===L)k=k.lastChild,L=k instanceof Text?k.data.length:k.childNodes.length+1;else break;R.node=k,R.offset=L}),S}},{key:"rangeToNative",value:function(T){var S=this,R=T.collapsed?[T.index]:[T.index,T.index+T.length],k=[],L=this.scroll.length();return R.forEach(function(V,W){V=Math.min(L-1,V);var G=void 0,Q=S.scroll.leaf(V),B=o(Q,2),F=B[0],N=B[1],M=F.position(N,W!==0),U=o(M,2);G=U[0],N=U[1],k.push(G,N)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(T){var S=this.lastRange;if(S!=null){var R=this.getBounds(S.index,S.length);if(R!=null){var k=this.scroll.length()-1,L=this.scroll.line(Math.min(S.index,k)),V=o(L,1),W=V[0],G=W;if(S.length>0){var Q=this.scroll.line(Math.min(S.index+S.length,k)),B=o(Q,1);G=B[0]}if(!(W==null||G==null)){var F=T.getBoundingClientRect();R.top<F.top?T.scrollTop-=F.top-R.top:R.bottom>F.bottom&&(T.scrollTop+=R.bottom-F.bottom)}}}}},{key:"setNativeRange",value:function(T,S){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",T,S,R,k),!(T!=null&&(this.root.parentNode==null||T.parentNode==null||R.parentNode==null))){var V=document.getSelection();if(V!=null)if(T!=null){this.hasFocus()||this.root.focus();var W=(this.getNativeRange()||{}).native;if(W==null||L||T!==W.startContainer||S!==W.startOffset||R!==W.endContainer||k!==W.endOffset){T.tagName=="BR"&&(S=[].indexOf.call(T.parentNode.childNodes,T),T=T.parentNode),R.tagName=="BR"&&(k=[].indexOf.call(R.parentNode.childNodes,R),R=R.parentNode);var G=document.createRange();G.setStart(T,S),G.setEnd(R,k),V.removeAllRanges(),V.addRange(G)}}else V.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof S=="string"&&(R=S,S=!1),y.info("setRange",T),T!=null){var k=this.rangeToNative(T);this.setNativeRange.apply(this,p(k).concat([S]))}else this.setNativeRange(null);this.update(R)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,S=this.lastRange,R=this.getRange(),k=o(R,2),L=k[0],V=k[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(S,this.lastRange)){var W;!this.composing&&V!=null&&V.native.collapsed&&V.start.node!==this.cursor.textNode&&this.cursor.restore();var G=[_.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(S),T];if((W=this.emitter).emit.apply(W,[_.default.events.EDITOR_CHANGE].concat(G)),T!==_.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,G)}}}}]),b}();function A(b,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),b.contains(P)}r.Range=O,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var g=0;g<w.length;g++){var p=w[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,w,g){return w&&_(v.prototype,w),g&&_(v,g),v}}(),s=function _(v,w,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,w);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){d(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(g,p){g.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);m.blotName="break",m.tagName="BR",r.default=m},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var _ in m)m.hasOwnProperty(_)&&(d[_]=m[_])};return function(d,m){h(d,m);function _(){this.constructor=d}d.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(h){o(d,h);function d(m){var _=h.call(this,m)||this;return _.build(),_}return d.prototype.appendChild=function(m){this.insertBefore(m)},d.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},d.prototype.build=function(){var m=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var v=f(_);m.insertBefore(v,m.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},d.prototype.deleteAt=function(m,_){if(m===0&&_===this.length())return this.remove();this.children.forEachAt(m,_,function(v,w,g){v.deleteAt(w,g)})},d.prototype.descendant=function(m,_){var v=this.children.find(_),w=v[0],g=v[1];return m.blotName==null&&m(w)||m.blotName!=null&&w instanceof m?[w,g]:w instanceof d?w.descendant(m,g):[null,-1]},d.prototype.descendants=function(m,_,v){_===void 0&&(_=0),v===void 0&&(v=Number.MAX_VALUE);var w=[],g=v;return this.children.forEachAt(_,v,function(p,E,y){(m.blotName==null&&m(p)||m.blotName!=null&&p instanceof m)&&w.push(p),p instanceof d&&(w=w.concat(p.descendants(m,E,g))),g-=y}),w},d.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),h.prototype.detach.call(this)},d.prototype.formatAt=function(m,_,v,w){this.children.forEachAt(m,_,function(g,p,E){g.formatAt(p,E,v,w)})},d.prototype.insertAt=function(m,_,v){var w=this.children.find(m),g=w[0],p=w[1];if(g)g.insertAt(p,_,v);else{var E=v==null?l.create("text",_):l.create(_,v);this.appendChild(E)}},d.prototype.insertBefore=function(m,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return m instanceof v}))throw new l.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,_)},d.prototype.length=function(){return this.children.reduce(function(m,_){return m+_.length()},0)},d.prototype.moveChildren=function(m,_){this.children.forEach(function(v){m.insertBefore(v,_)})},d.prototype.optimize=function(m){if(h.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var _=l.create(this.statics.defaultChild);this.appendChild(_),_.optimize(m)}else this.remove()},d.prototype.path=function(m,_){_===void 0&&(_=!1);var v=this.children.find(m,_),w=v[0],g=v[1],p=[[this,m]];return w instanceof d?p.concat(w.path(g,_)):(w!=null&&p.push([w,g]),p)},d.prototype.removeChild=function(m){this.children.remove(m)},d.prototype.replace=function(m){m instanceof d&&m.moveChildren(this),h.prototype.replace.call(this,m)},d.prototype.split=function(m,_){if(_===void 0&&(_=!1),!_){if(m===0)return this;if(m===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(m,this.length(),function(w,g,p){w=w.split(g,_),v.appendChild(w)}),v},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(m,_){var v=this,w=[],g=[];m.forEach(function(p){p.target===v.domNode&&p.type==="childList"&&(w.push.apply(w,p.addedNodes),g.push.apply(g,p.removedNodes))}),g.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(p);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===v.domNode)&&E.detach()}}),w.filter(function(p){return p.parentNode==v.domNode}).sort(function(p,E){return p===E?0:p.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var E=null;p.nextSibling!=null&&(E=l.find(p.nextSibling));var y=f(p);(y.next!=E||y.next==null)&&(y.parent!=null&&y.parent.removeChild(v),v.insertBefore(y,E||void 0))})},d}(a.default);function f(h){var d=l.find(h);if(d==null)try{d=l.create(h)}catch{d=l.create(l.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(_){d.domNode.appendChild(_)}),h.parentNode&&h.parentNode.replaceChild(d.domNode,h),d.attach()}return d}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var _ in m)m.hasOwnProperty(_)&&(d[_]=m[_])};return function(d,m){h(d,m);function _(){this.constructor=d}d.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),f=function(h){o(d,h);function d(m){var _=h.call(this,m)||this;return _.attributes=new a.default(_.domNode),_}return d.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},d.prototype.format=function(m,_){var v=u.query(m);v instanceof s.default?this.attributes.attribute(v,_):_&&v!=null&&(m!==this.statics.blotName||this.formats()[m]!==_)&&this.replaceWith(m,_)},d.prototype.formats=function(){var m=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(m[this.statics.blotName]=_),m},d.prototype.replaceWith=function(m,_){var v=h.prototype.replaceWith.call(this,m,_);return this.attributes.copy(v),v},d.prototype.update=function(m,_){var v=this;h.prototype.update.call(this,m,_),m.some(function(w){return w.target===v.domNode&&w.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(m,_){var v=h.prototype.wrap.call(this,m,_);return v instanceof d&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},d}(l.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.value=function(h){return!0},f.prototype.index=function(h,d){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},f.prototype.position=function(h,d){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(m+=1),[this.parent.domNode,m]},f.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,f,h){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var d=s(!0,{},f);h||(d=Object.keys(d).reduce(function(_,v){return d[v]!=null&&(_[v]=d[v]),_},{}));for(var m in u)u[m]!==void 0&&f[m]===void 0&&(d[m]=u[m]);return Object.keys(d).length>0?d:void 0},diff:function(u,f){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});var h=Object.keys(u).concat(Object.keys(f)).reduce(function(d,m){return o(u[m],f[m])||(d[m]=f[m]===void 0?null:f[m]),d},{});return Object.keys(h).length>0?h:void 0},transform:function(u,f,h){if(typeof u!="object")return f;if(typeof f=="object"){if(!h)return f;var d=Object.keys(f).reduce(function(m,_){return u[_]===void 0&&(m[_]=f[_]),m},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var f=this.ops[this.index];if(f){var h=this.offset,d=a.length(f);if(u>=d-h?(u=d-h,this.index+=1,this.offset=0):this.offset+=u,typeof f.delete=="number")return{delete:u};var m={};return f.attributes&&(m.attributes=f.attributes),typeof f.retain=="number"?m.retain=u:typeof f.insert=="string"?m.insert=f.insert.substr(h,u):m.insert=f.insert,m}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,f=this.index,h=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=f,[h].concat(d)}else return[]},n.exports=a},function(n,r){var i=function(){function o(v,w){return w!=null&&v instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,w,g,p,E){typeof w=="object"&&(g=w.depth,p=w.prototype,E=w.includeNonEnumerable,w=w.circular);var y=[],O=[],C=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof g>"u"&&(g=1/0);function A(b,P){if(b===null)return null;if(P===0)return b;var T,S;if(typeof b!="object")return b;if(o(b,s))T=new s;else if(o(b,a))T=new a;else if(o(b,l))T=new l(function(F,N){b.then(function(M){F(A(M,P-1))},function(M){N(A(M,P-1))})});else if(u.__isArray(b))T=[];else if(u.__isRegExp(b))T=new RegExp(b.source,_(b)),b.lastIndex&&(T.lastIndex=b.lastIndex);else if(u.__isDate(b))T=new Date(b.getTime());else{if(C&&Buffer.isBuffer(b))return Buffer.allocUnsafe?T=Buffer.allocUnsafe(b.length):T=new Buffer(b.length),b.copy(T),T;o(b,Error)?T=Object.create(b):typeof p>"u"?(S=Object.getPrototypeOf(b),T=Object.create(S)):(T=Object.create(p),S=p)}if(w){var R=y.indexOf(b);if(R!=-1)return O[R];y.push(b),O.push(T)}o(b,s)&&b.forEach(function(F,N){var M=A(N,P-1),U=A(F,P-1);T.set(M,U)}),o(b,a)&&b.forEach(function(F){var N=A(F,P-1);T.add(N)});for(var k in b){var L;S&&(L=Object.getOwnPropertyDescriptor(S,k)),!(L&&L.set==null)&&(T[k]=A(b[k],P-1))}if(Object.getOwnPropertySymbols)for(var V=Object.getOwnPropertySymbols(b),k=0;k<V.length;k++){var W=V[k],G=Object.getOwnPropertyDescriptor(b,W);G&&!G.enumerable&&!E||(T[W]=A(b[W],P-1),G.enumerable||Object.defineProperty(T,W,{enumerable:!1}))}if(E)for(var Q=Object.getOwnPropertyNames(b),k=0;k<Q.length;k++){var B=Q[k],G=Object.getOwnPropertyDescriptor(b,B);G&&G.enumerable||(T[B]=A(b[B],P-1),Object.defineProperty(T,B,{enumerable:!1}))}return T}return A(v,g)}u.clonePrototype=function(w){if(w===null)return null;var g=function(){};return g.prototype=w,new g};function f(v){return Object.prototype.toString.call(v)}u.__objToStr=f;function h(v){return typeof v=="object"&&f(v)==="[object Date]"}u.__isDate=h;function d(v){return typeof v=="object"&&f(v)==="[object Array]"}u.__isArray=d;function m(v){return typeof v=="object"&&f(v)==="[object RegExp]"}u.__isRegExp=m;function _(v){var w="";return v.global&&(w+="g"),v.ignoreCase&&(w+="i"),v.multiline&&(w+="m"),w}return u.__getRegExpFlags=_,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,R){var k=[],L=!0,V=!1,W=void 0;try{for(var G=S[Symbol.iterator](),Q;!(L=(Q=G.next()).done)&&(k.push(Q.value),!(R&&k.length===R));L=!0);}catch(B){V=!0,W=B}finally{try{!L&&G.return&&G.return()}finally{if(V)throw W}}return k}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(S,R){for(var k=0;k<R.length;k++){var L=R[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,k){return R&&T(S.prototype,R),k&&T(S,k),S}}(),a=function T(S,R,k){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var V=Object.getPrototypeOf(S);return V===null?void 0:T(V,R,k)}else{if("value"in L)return L.value;var W=L.get;return W===void 0?void 0:W.call(k)}},l=i(0),u=y(l),f=i(8),h=y(f),d=i(4),m=y(d),_=i(16),v=y(_),w=i(13),g=y(w),p=i(25),E=y(p);function y(T){return T&&T.__esModule?T:{default:T}}function O(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function C(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function A(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}function b(T){return T instanceof m.default||T instanceof d.BlockEmbed}var P=function(T){A(S,T);function S(R,k){O(this,S);var L=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R));return L.emitter=k.emitter,Array.isArray(k.whitelist)&&(L.whitelist=k.whitelist.reduce(function(V,W){return V[W]=!0,V},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,L){var V=this.line(k),W=o(V,2),G=W[0],Q=W[1],B=this.line(k+L),F=o(B,1),N=F[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,k,L),N!=null&&G!==N&&Q>0){if(G instanceof d.BlockEmbed||N instanceof d.BlockEmbed){this.optimize();return}if(G instanceof g.default){var M=G.newlineIndex(G.length(),!0);if(M>-1&&(G=G.split(M+1),G===N)){this.optimize();return}}else if(N instanceof g.default){var U=N.newlineIndex(0);U>-1&&N.split(U+1)}var Y=N.children.head instanceof v.default?null:N.children.head;G.moveChildren(N,Y),G.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,L,V,W){this.whitelist!=null&&!this.whitelist[V]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,k,L,V,W),this.optimize())}},{key:"insertAt",value:function(k,L,V){if(!(V!=null&&this.whitelist!=null&&!this.whitelist[L])){if(k>=this.length())if(V==null||u.default.query(L,u.default.Scope.BLOCK)==null){var W=u.default.create(this.statics.defaultChild);this.appendChild(W),V==null&&L.endsWith(`
`)&&(L=L.slice(0,-1)),W.insertAt(0,L,V)}else{var G=u.default.create(L,V);this.appendChild(G)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,k,L,V);this.optimize()}}},{key:"insertBefore",value:function(k,L){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var V=u.default.create(this.statics.defaultChild);V.appendChild(k),k=V}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,k,L)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(b,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,V=function W(G,Q,B){var F=[],N=B;return G.children.forEachAt(Q,B,function(M,U,Y){b(M)?F.push(M):M instanceof u.default.Container&&(F=F.concat(W(M,U,N))),N-=Y}),F};return V(this,k,L)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,k,L),k.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,k,L))}},{key:"path",value:function(k){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var L=h.default.sources.USER;typeof k=="string"&&(L=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,L,k),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,L,k)}}}]),S}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[m.default,d.BlockEmbed,E.default],r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},s=function(){function j(H,Z){var J=[],ie=!0,me=!1,we=void 0;try{for(var be=H[Symbol.iterator](),Ie;!(ie=(Ie=be.next()).done)&&(J.push(Ie.value),!(Z&&J.length===Z));ie=!0);}catch(Le){me=!0,we=Le}finally{try{!ie&&be.return&&be.return()}finally{if(me)throw we}}return J}return function(H,Z){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return j(H,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function j(H,Z){for(var J=0;J<Z.length;J++){var ie=Z[J];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(H,ie.key,ie)}}return function(H,Z,J){return Z&&j(H.prototype,Z),J&&j(H,J),H}}(),l=i(21),u=T(l),f=i(11),h=T(f),d=i(3),m=T(d),_=i(2),v=T(_),w=i(20),g=T(w),p=i(0),E=T(p),y=i(5),O=T(y),C=i(10),A=T(C),b=i(9),P=T(b);function T(j){return j&&j.__esModule?j:{default:j}}function S(j,H,Z){return H in j?Object.defineProperty(j,H,{value:Z,enumerable:!0,configurable:!0,writable:!0}):j[H]=Z,j}function R(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}function k(j,H){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:j}function L(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(j,H):j.__proto__=H)}var V=(0,A.default)("quill:keyboard"),W=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",G=function(j){L(H,j),a(H,null,[{key:"match",value:function(J,ie){return ie=z(ie),["altKey","ctrlKey","metaKey","shiftKey"].some(function(me){return!!ie[me]!==J[me]&&ie[me]!==null})?!1:ie.key===(J.which||J.keyCode)}}]);function H(Z,J){R(this,H);var ie=k(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,Z,J));return ie.bindings={},Object.keys(ie.options.bindings).forEach(function(me){me==="list autofill"&&Z.scroll.whitelist!=null&&!Z.scroll.whitelist.list||ie.options.bindings[me]&&ie.addBinding(ie.options.bindings[me])}),ie.addBinding({key:H.keys.ENTER,shiftKey:null},M),ie.addBinding({key:H.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ie.addBinding({key:H.keys.BACKSPACE},{collapsed:!0},B),ie.addBinding({key:H.keys.DELETE},{collapsed:!0},F)):(ie.addBinding({key:H.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),ie.addBinding({key:H.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),ie.addBinding({key:H.keys.BACKSPACE},{collapsed:!1},N),ie.addBinding({key:H.keys.DELETE},{collapsed:!1},N),ie.addBinding({key:H.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),ie.listen(),ie}return a(H,[{key:"addBinding",value:function(J){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},we=z(J);if(we==null||we.key==null)return V.warn("Attempted to add invalid keyboard binding",we);typeof ie=="function"&&(ie={handler:ie}),typeof me=="function"&&(me={handler:me}),we=(0,m.default)(we,ie,me),this.bindings[we.key]=this.bindings[we.key]||[],this.bindings[we.key].push(we)}},{key:"listen",value:function(){var J=this;this.quill.root.addEventListener("keydown",function(ie){if(!ie.defaultPrevented){var me=ie.which||ie.keyCode,we=(J.bindings[me]||[]).filter(function(Je){return H.match(ie,Je)});if(we.length!==0){var be=J.quill.getSelection();if(!(be==null||!J.quill.hasFocus())){var Ie=J.quill.getLine(be.index),Le=s(Ie,2),Et=Le[0],Ye=Le[1],ne=J.quill.getLeaf(be.index),re=s(ne,2),fe=re[0],pe=re[1],ae=be.length===0?[fe,pe]:J.quill.getLeaf(be.index+be.length),Re=s(ae,2),Ae=Re[0],Pe=Re[1],Ue=fe instanceof E.default.Text?fe.value().slice(0,pe):"",Xe=Ae instanceof E.default.Text?Ae.value().slice(Pe):"",We={collapsed:be.length===0,empty:be.length===0&&Et.length()<=1,format:J.quill.getFormat(be),offset:Ye,prefix:Ue,suffix:Xe},Ki=we.some(function(Je){if(Je.collapsed!=null&&Je.collapsed!==We.collapsed||Je.empty!=null&&Je.empty!==We.empty||Je.offset!=null&&Je.offset!==We.offset)return!1;if(Array.isArray(Je.format)){if(Je.format.every(function(In){return We.format[In]==null}))return!1}else if(o(Je.format)==="object"&&!Object.keys(Je.format).every(function(In){return Je.format[In]===!0?We.format[In]!=null:Je.format[In]===!1?We.format[In]==null:(0,h.default)(Je.format[In],We.format[In])}))return!1;return Je.prefix!=null&&!Je.prefix.test(We.prefix)||Je.suffix!=null&&!Je.suffix.test(We.suffix)?!1:Je.handler.call(J,be,We)!==!0});Ki&&ie.preventDefault()}}}})}}]),H}(P.default);G.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},G.DEFAULTS={bindings:{bold:Y("bold"),italic:Y("italic"),underline:Y("underline"),indent:{key:G.keys.TAB,format:["blockquote","indent","list"],handler:function(H,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","+1",O.default.sources.USER)}},outdent:{key:G.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(H,Z){if(Z.collapsed&&Z.offset!==0)return!0;this.quill.format("indent","-1",O.default.sources.USER)}},"outdent backspace":{key:G.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(H,Z){Z.format.indent!=null?this.quill.format("indent","-1",O.default.sources.USER):Z.format.list!=null&&this.quill.format("list",!1,O.default.sources.USER)}},"indent code-block":U(!0),"outdent code-block":U(!1),"remove tab":{key:G.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(H){this.quill.deleteText(H.index-1,1,O.default.sources.USER)}},tab:{key:G.keys.TAB,handler:function(H){this.quill.history.cutoff();var Z=new v.default().retain(H.index).delete(H.length).insert("	");this.quill.updateContents(Z,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index+1,O.default.sources.SILENT)}},"list empty enter":{key:G.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(H,Z){this.quill.format("list",!1,O.default.sources.USER),Z.format.indent&&this.quill.format("indent",!1,O.default.sources.USER)}},"checklist enter":{key:G.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(H){var Z=this.quill.getLine(H.index),J=s(Z,2),ie=J[0],me=J[1],we=(0,m.default)({},ie.formats(),{list:"checked"}),be=new v.default().retain(H.index).insert(`
`,we).retain(ie.length()-me-1).retain(1,{list:"unchecked"});this.quill.updateContents(be,O.default.sources.USER),this.quill.setSelection(H.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:G.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(H,Z){var J=this.quill.getLine(H.index),ie=s(J,2),me=ie[0],we=ie[1],be=new v.default().retain(H.index).insert(`
`,Z.format).retain(me.length()-we-1).retain(1,{header:null});this.quill.updateContents(be,O.default.sources.USER),this.quill.setSelection(H.index+1,O.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(H,Z){var J=Z.prefix.length,ie=this.quill.getLine(H.index),me=s(ie,2),we=me[0],be=me[1];if(be>J)return!0;var Ie=void 0;switch(Z.prefix.trim()){case"[]":case"[ ]":Ie="unchecked";break;case"[x]":Ie="checked";break;case"-":case"*":Ie="bullet";break;default:Ie="ordered"}this.quill.insertText(H.index," ",O.default.sources.USER),this.quill.history.cutoff();var Le=new v.default().retain(H.index-be).delete(J+1).retain(we.length()-2-be).retain(1,{list:Ie});this.quill.updateContents(Le,O.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(H.index-J,O.default.sources.SILENT)}},"code exit":{key:G.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(H){var Z=this.quill.getLine(H.index),J=s(Z,2),ie=J[0],me=J[1],we=new v.default().retain(H.index+ie.length()-me-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(we,O.default.sources.USER)}},"embed left":Q(G.keys.LEFT,!1),"embed left shift":Q(G.keys.LEFT,!0),"embed right":Q(G.keys.RIGHT,!1),"embed right shift":Q(G.keys.RIGHT,!0)}};function Q(j,H){var Z,J=j===G.keys.LEFT?"prefix":"suffix";return Z={key:j,shiftKey:H,altKey:null},S(Z,J,/^$/),S(Z,"handler",function(me){var we=me.index;j===G.keys.RIGHT&&(we+=me.length+1);var be=this.quill.getLeaf(we),Ie=s(be,1),Le=Ie[0];return Le instanceof E.default.Embed?(j===G.keys.LEFT?H?this.quill.setSelection(me.index-1,me.length+1,O.default.sources.USER):this.quill.setSelection(me.index-1,O.default.sources.USER):H?this.quill.setSelection(me.index,me.length+1,O.default.sources.USER):this.quill.setSelection(me.index+me.length+1,O.default.sources.USER),!1):!0}),Z}function B(j,H){if(!(j.index===0||this.quill.getLength()<=1)){var Z=this.quill.getLine(j.index),J=s(Z,1),ie=J[0],me={};if(H.offset===0){var we=this.quill.getLine(j.index-1),be=s(we,1),Ie=be[0];if(Ie!=null&&Ie.length()>1){var Le=ie.formats(),Et=this.quill.getFormat(j.index-1,1);me=g.default.attributes.diff(Le,Et)||{}}}var Ye=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(H.prefix)?2:1;this.quill.deleteText(j.index-Ye,Ye,O.default.sources.USER),Object.keys(me).length>0&&this.quill.formatLine(j.index-Ye,Ye,me,O.default.sources.USER),this.quill.focus()}}function F(j,H){var Z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(H.suffix)?2:1;if(!(j.index>=this.quill.getLength()-Z)){var J={},ie=0,me=this.quill.getLine(j.index),we=s(me,1),be=we[0];if(H.offset>=be.length()-1){var Ie=this.quill.getLine(j.index+1),Le=s(Ie,1),Et=Le[0];if(Et){var Ye=be.formats(),ne=this.quill.getFormat(j.index,1);J=g.default.attributes.diff(Ye,ne)||{},ie=Et.length()}}this.quill.deleteText(j.index,Z,O.default.sources.USER),Object.keys(J).length>0&&this.quill.formatLine(j.index+ie-1,Z,J,O.default.sources.USER)}}function N(j){var H=this.quill.getLines(j),Z={};if(H.length>1){var J=H[0].formats(),ie=H[H.length-1].formats();Z=g.default.attributes.diff(ie,J)||{}}this.quill.deleteText(j,O.default.sources.USER),Object.keys(Z).length>0&&this.quill.formatLine(j.index,1,Z,O.default.sources.USER),this.quill.setSelection(j.index,O.default.sources.SILENT),this.quill.focus()}function M(j,H){var Z=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var J=Object.keys(H.format).reduce(function(ie,me){return E.default.query(me,E.default.Scope.BLOCK)&&!Array.isArray(H.format[me])&&(ie[me]=H.format[me]),ie},{});this.quill.insertText(j.index,`
`,J,O.default.sources.USER),this.quill.setSelection(j.index+1,O.default.sources.SILENT),this.quill.focus(),Object.keys(H.format).forEach(function(ie){J[ie]==null&&(Array.isArray(H.format[ie])||ie!=="link"&&Z.quill.format(ie,H.format[ie],O.default.sources.USER))})}function U(j){return{key:G.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(Z){var J=E.default.query("code-block"),ie=Z.index,me=Z.length,we=this.quill.scroll.descendant(J,ie),be=s(we,2),Ie=be[0],Le=be[1];if(Ie!=null){var Et=this.quill.getIndex(Ie),Ye=Ie.newlineIndex(Le,!0)+1,ne=Ie.newlineIndex(Et+Le+me),re=Ie.domNode.textContent.slice(Ye,ne).split(`
`);Le=0,re.forEach(function(fe,pe){j?(Ie.insertAt(Ye+Le,J.TAB),Le+=J.TAB.length,pe===0?ie+=J.TAB.length:me+=J.TAB.length):fe.startsWith(J.TAB)&&(Ie.deleteAt(Ye+Le,J.TAB.length),Le-=J.TAB.length,pe===0?ie-=J.TAB.length:me-=J.TAB.length),Le+=fe.length+1}),this.quill.update(O.default.sources.USER),this.quill.setSelection(ie,me,O.default.sources.SILENT)}}}}function Y(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(Z,J){this.quill.format(j,!J.format[j],O.default.sources.USER)}}}function z(j){if(typeof j=="string"||typeof j=="number")return z({key:j});if((typeof j>"u"?"undefined":o(j))==="object"&&(j=(0,u.default)(j,!1)),typeof j.key=="string")if(G.keys[j.key.toUpperCase()]!=null)j.key=G.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[W]=j.shortKey,delete j.shortKey),j}r.default=G,r.SHORTKEY=W},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,E){var y=[],O=!0,C=!1,A=void 0;try{for(var b=p[Symbol.iterator](),P;!(O=(P=b.next()).done)&&(y.push(P.value),!(E&&y.length===E));O=!0);}catch(T){C=!0,A=T}finally{try{!O&&b.return&&b.return()}finally{if(C)throw A}}return y}return function(p,E){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return g(p,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(p,E,y){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,E);if(O===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:g(C,E,y)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(y)}},a=function(){function g(p,E){for(var y=0;y<E.length;y++){var O=E[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,E,y){return E&&g(p.prototype,E),y&&g(p,y),p}}(),l=i(0),u=d(l),f=i(7),h=d(f);function d(g){return g&&g.__esModule?g:{default:g}}function m(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function _(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function v(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var w=function(g){v(p,g),a(p,null,[{key:"value",value:function(){}}]);function p(E,y){m(this,p);var O=_(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E));return O.selection=y,O.textNode=document.createTextNode(p.CONTENTS),O.domNode.appendChild(O.textNode),O._length=0,O}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,O){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,y,O);for(var C=this,A=0;C!=null&&C.statics.scope!==u.default.Scope.BLOCK_BLOT;)A+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=p.CONTENTS.length,C.optimize(),C.formatAt(A,p.CONTENTS.length,y,O),this._length=0)}},{key:"index",value:function(y,O){return y===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,O)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,O=this.selection.getNativeRange(),C=void 0,A=void 0,b=void 0;if(O!=null&&O.start.node===y&&O.end.node===y){var P=[y,O.start.offset,O.end.offset];C=P[0],A=P[1],b=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var T=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof h.default?(C=this.next.domNode,this.next.insertAt(0,T),this.textNode.data=p.CONTENTS):(this.textNode.data=T,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),A!=null){var S=[A,b].map(function(k){return Math.max(0,Math.min(C.data.length,k-1))}),R=o(S,2);return A=R[0],b=R[1],{startNode:C,startOffset:A,endNode:C,endOffset:b}}}}},{key:"update",value:function(y,O){var C=this;if(y.some(function(b){return b.type==="characterData"&&b.target===C.textNode})){var A=this.restore();A&&(O.range=A)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){d(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);m.allowedChildren=[l.default,a.BlockEmbed,m],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&w(g.prototype,p),E&&w(g,E),g}}(),s=function w(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:w(O,p,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function f(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function h(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function d(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var m=function(w){d(g,w);function g(){return f(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(E){var y=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,E);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(O){return("00"+parseInt(O).toString(16)).slice(-2)}).join("")):y}}]),g}(l.default.Attributor.Style),_=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new m("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=m,r.ColorClass=_,r.ColorStyle=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function v(w,g){for(var p=0;p<g.length;p++){var E=g[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,g,p){return g&&v(w.prototype,g),p&&v(w,p),w}}(),s=function v(w,g,p){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,g);if(E===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:v(y,g,p)}else{if("value"in E)return E.value;var O=E.get;return O===void 0?void 0:O.call(p)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function h(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function d(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var m=function(v){d(w,v);function w(){return f(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(p,E){if(p!==this.statics.blotName||!E)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,p,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(p){var E=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,p);return p=this.sanitize(p),E.setAttribute("href",p),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return _(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),w}(l.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(v,w){var g=document.createElement("a");g.href=v;var p=g.href.slice(0,g.href.indexOf(":"));return w.indexOf(p)>-1}r.default=m,r.sanitize=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&w(g.prototype,p),E&&w(g,E),g}}(),a=i(23),l=h(a),u=i(107),f=h(u);function h(w){return w&&w.__esModule?w:{default:w}}function d(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}var m=0;function _(w,g){w.setAttribute(g,w.getAttribute(g)!=="true")}var v=function(){function w(g){var p=this;d(this,w),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var E=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),p.hasAttribute("value")&&y.setAttribute("data-value",p.getAttribute("value")),p.textContent&&y.setAttribute("data-label",p.textContent),y.addEventListener("click",function(){E.selectItem(y,!0)}),y.addEventListener("keydown",function(O){switch(O.keyCode){case l.default.keys.ENTER:E.selectItem(y,!0),O.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),O.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=f.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(y){var O=p.buildItem(y);E.appendChild(O),y.selected===!0&&p.selectItem(O)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(E){p.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(p!==y&&(y!=null&&y.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var O=document.createEvent("Event");O.initEvent("change",!0,!0),this.select.dispatchEvent(O)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var y=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),w}();r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=V(o),a=i(5),l=V(a),u=i(4),f=V(u),h=i(16),d=V(h),m=i(25),_=V(m),v=i(24),w=V(v),g=i(35),p=V(g),E=i(6),y=V(E),O=i(22),C=V(O),A=i(7),b=V(A),P=i(55),T=V(P),S=i(42),R=V(S),k=i(23),L=V(k);function V(W){return W&&W.__esModule?W:{default:W}}l.default.register({"blots/block":f.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":_.default,"blots/cursor":w.default,"blots/embed":p.default,"blots/inline":y.default,"blots/scroll":C.default,"blots/text":b.default,"modules/clipboard":T.default,"modules/history":R.default,"modules/keyboard":L.default}),s.default.register(f.default,d.default,w.default,y.default,C.default,b.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var f=this.isolate(l,u);f.remove()},a.prototype.formatAt=function(l,u,f,h){var d=this.isolate(l,u);if(o.query(f,o.Scope.BLOT)!=null&&h)d.wrap(f,h);else if(o.query(f,o.Scope.ATTRIBUTE)!=null){var m=o.create(this.statics.scope);d.wrap(m),m.format(f,h)}},a.prototype.insertAt=function(l,u,f){var h=f==null?o.create("text",u):o.create(u,f),d=this.split(l);this.parent.insertBefore(h,d)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var f=null;l.children.insertBefore(this,u),u!=null&&(f=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=f)&&l.domNode.insertBefore(this.domNode,f),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var f=this.split(l);return f.split(u),f},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var f=typeof l=="string"?o.create(l,u):l;return f.replace(this),f},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var f=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function f(h){this.attributes={},this.domNode=h,this.build()}return f.prototype.attribute=function(h,d){d?h.add(this.domNode,d)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},f.prototype.build=function(){var h=this;this.attributes={};var d=o.default.keys(this.domNode),m=s.default.keys(this.domNode),_=a.default.keys(this.domNode);d.concat(m).concat(_).forEach(function(v){var w=l.query(v,l.Scope.ATTRIBUTE);w instanceof o.default&&(h.attributes[w.attrName]=w)})},f.prototype.copy=function(h){var d=this;Object.keys(this.attributes).forEach(function(m){var _=d.attributes[m].value(d.domNode);h.format(m,_)})},f.prototype.move=function(h){var d=this;this.copy(h),Object.keys(this.attributes).forEach(function(m){d.attributes[m].remove(d.domNode)}),this.attributes={}},f.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(d,m){return d[m]=h.attributes[m].value(h.domNode),d},{})},f}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,f){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(d){return d.indexOf(f+"-")===0})}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(this.remove(h),h.classList.add(this.keyName+"-"+d),!0):!1},f.prototype.remove=function(h){var d=a(h,this.keyName);d.forEach(function(m){h.classList.remove(m)}),h.classList.length===0&&h.removeAttribute("class")},f.prototype.value=function(h){var d=a(h,this.keyName)[0]||"",m=d.slice(this.keyName.length+1);return this.canAdd(h,m)?m:""},f}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var f=u.split("-"),h=f.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return f[0]+h}var l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(d){var m=d.split(":");return m[0].trim()})},f.prototype.add=function(h,d){return this.canAdd(h,d)?(h.style[a(this.keyName)]=d,!0):!1},f.prototype.remove=function(h){h.style[a(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},f.prototype.value=function(h){var d=h.style[a(this.keyName)];return this.canAdd(h,d)?d:""},f}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){s(this,l),this.quill=u,this.options=f,this.modules={}}return o(l,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(h){f.modules[h]==null&&f.addModule(h)})}},{key:"addModule",value:function(f){var h=this.quill.constructor.import("modules/"+f);return this.modules[f]=new h(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(p,E){for(var y=0;y<E.length;y++){var O=E[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,E,y){return E&&g(p.prototype,E),y&&g(p,y),p}}(),s=function g(p,E,y){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,E);if(O===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:g(C,E,y)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=h(a),u=i(7),f=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function d(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function m(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function _(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var v="\uFEFF",w=function(g){_(p,g);function p(E){d(this,p);var y=m(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,E));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(O){y.contentNode.appendChild(O)}),y.leftGuard=document.createTextNode(v),y.rightGuard=document.createTextNode(v),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(p,[{key:"index",value:function(y,O){return y===this.leftGuard?0:y===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,y,O)}},{key:"restore",value:function(y){var O=void 0,C=void 0,A=y.data.split(v).join("");if(y===this.leftGuard)if(this.prev instanceof f.default){var b=this.prev.length();this.prev.insertAt(b,A),O={startNode:this.prev.domNode,startOffset:b+A.length}}else C=document.createTextNode(A),this.parent.insertBefore(l.default.create(C),this),O={startNode:C,startOffset:A.length};else y===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,A),O={startNode:this.next.domNode,startOffset:A.length}):(C=document.createTextNode(A),this.parent.insertBefore(l.default.create(C),this.next),O={startNode:C,startOffset:A.length}));return y.data=v,O}},{key:"update",value:function(y,O){var C=this;y.forEach(function(A){if(A.type==="characterData"&&(A.target===C.leftGuard||A.target===C.rightGuard)){var b=C.restore(A.target);b&&(O.range=b)}})}}]),p}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),f=new s.default.Attributor.Class("align","ql-align",l),h=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=f,r.AlignStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),f=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),f=new s.default.Attributor.Class("direction","ql-direction",l),h=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=f,r.DirectionStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function g(p,E){for(var y=0;y<E.length;y++){var O=E[y];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,E,y){return E&&g(p.prototype,E),y&&g(p,y),p}}(),s=function g(p,E,y){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,E);if(O===void 0){var C=Object.getPrototypeOf(p);return C===null?void 0:g(C,E,y)}else{if("value"in O)return O.value;var A=O.get;return A===void 0?void 0:A.call(y)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function f(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")}function h(g,p){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:g}function d(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(g,p):g.__proto__=p)}var m={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new l.default.Attributor.Class("font","ql-font",m),v=function(g){d(p,g);function p(){return f(this,p),h(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(y){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),w=new v("font","font-family",m);r.FontStyle=w,r.FontClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(f){return f&&f.__esModule?f:{default:f}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function E(y,O){for(var C=0;C<O.length;C++){var A=O[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,O,C){return O&&E(y.prototype,O),C&&E(y,C),y}}(),s=i(0),a=d(s),l=i(5),u=d(l),f=i(9),h=d(f);function d(E){return E&&E.__esModule?E:{default:E}}function m(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function _(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function v(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var w=function(E){v(y,E);function y(O,C){m(this,y);var A=_(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,O,C));return A.lastRecorded=0,A.ignoreChange=!1,A.clear(),A.quill.on(u.default.events.EDITOR_CHANGE,function(b,P,T,S){b!==u.default.events.TEXT_CHANGE||A.ignoreChange||(!A.options.userOnly||S===u.default.sources.USER?A.record(P,T):A.transform(P))}),A.quill.keyboard.addBinding({key:"Z",shortKey:!0},A.undo.bind(A)),A.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},A.redo.bind(A)),/Win/i.test(navigator.platform)&&A.quill.keyboard.addBinding({key:"Y",shortKey:!0},A.redo.bind(A)),A}return o(y,[{key:"change",value:function(C,A){if(this.stack[C].length!==0){var b=this.stack[C].pop();this.stack[A].push(b),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(b[C],u.default.sources.USER),this.ignoreChange=!1;var P=p(b[C]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,A){if(C.ops.length!==0){this.stack.redo=[];var b=this.quill.getContents().diff(A),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var T=this.stack.undo.pop();b=b.compose(T.undo),C=T.redo.compose(C)}else this.lastRecorded=P;this.stack.undo.push({redo:C,undo:b}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(A){A.undo=C.transform(A.undo,!0),A.redo=C.transform(A.redo,!0)}),this.stack.redo.forEach(function(A){A.undo=C.transform(A.undo,!0),A.redo=C.transform(A.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(h.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(E){var y=E.ops[E.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(O){return a.default.query(O,a.default.Scope.BLOCK)!=null}):!1}function p(E){var y=E.reduce(function(C,A){return C+=A.delete||0,C},0),O=E.length()-y;return g(E)&&(O-=1),O}r.default=w,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function M(U,Y){for(var z=0;z<Y.length;z++){var j=Y[z];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(U,j.key,j)}}return function(U,Y,z){return Y&&M(U.prototype,Y),z&&M(U,z),U}}(),s=function M(U,Y,z){U===null&&(U=Function.prototype);var j=Object.getOwnPropertyDescriptor(U,Y);if(j===void 0){var H=Object.getPrototypeOf(U);return H===null?void 0:M(H,Y,z)}else{if("value"in j)return j.value;var Z=j.get;return Z===void 0?void 0:Z.call(z)}},a=i(3),l=P(a),u=i(2),f=P(u),h=i(8),d=P(h),m=i(23),_=P(m),v=i(34),w=P(v),g=i(59),p=P(g),E=i(60),y=P(E),O=i(28),C=P(O),A=i(61),b=P(A);function P(M){return M&&M.__esModule?M:{default:M}}function T(M,U){if(!(M instanceof U))throw new TypeError("Cannot call a class as a function")}function S(M,U){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:M}function R(M,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);M.prototype=Object.create(U&&U.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(M,U):M.__proto__=U)}var k=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],V=[!1,"serif","monospace"],W=["1","2","3",!1],G=["small",!1,"large","huge"],Q=function(M){R(U,M);function U(Y,z){T(this,U);var j=S(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Y,z)),H=function Z(J){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",Z);j.tooltip!=null&&!j.tooltip.root.contains(J.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(ie){ie.container.contains(J.target)||ie.close()})};return Y.emitter.listenDOM("click",document.body,H),j}return o(U,[{key:"addModule",value:function(z){var j=s(U.prototype.__proto__||Object.getPrototypeOf(U.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(z,j){z.forEach(function(H){var Z=H.getAttribute("class")||"";Z.split(/\s+/).forEach(function(J){if(J.startsWith("ql-")&&(J=J.slice(3),j[J]!=null))if(J==="direction")H.innerHTML=j[J][""]+j[J].rtl;else if(typeof j[J]=="string")H.innerHTML=j[J];else{var ie=H.value||"";ie!=null&&j[J][ie]&&(H.innerHTML=j[J][ie])}})})}},{key:"buildPickers",value:function(z,j){var H=this;this.pickers=z.map(function(J){if(J.classList.contains("ql-align"))return J.querySelector("option")==null&&N(J,k),new y.default(J,j.align);if(J.classList.contains("ql-background")||J.classList.contains("ql-color")){var ie=J.classList.contains("ql-background")?"background":"color";return J.querySelector("option")==null&&N(J,L,ie==="background"?"#ffffff":"#000000"),new p.default(J,j[ie])}else return J.querySelector("option")==null&&(J.classList.contains("ql-font")?N(J,V):J.classList.contains("ql-header")?N(J,W):J.classList.contains("ql-size")&&N(J,G)),new C.default(J)});var Z=function(){H.pickers.forEach(function(ie){ie.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,Z)}}]),U}(w.default);Q.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var z=new FileReader;z.onload=function(j){var H=U.quill.getSelection(!0);U.quill.updateContents(new f.default().retain(H.index).delete(H.length).insert({image:j.target.result}),d.default.sources.USER),U.quill.setSelection(H.index+1,d.default.sources.SILENT),Y.value=""},z.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(M){R(U,M);function U(Y,z){T(this,U);var j=S(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,Y,z));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return o(U,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(j){_.default.match(j,"enter")?(z.save(),j.preventDefault()):_.default.match(j,"escape")&&(z.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",z,d.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":z=F(z);case"formula":{if(!z)break;var H=this.quill.getSelection(!0);if(H!=null){var Z=H.index+H.length;this.quill.insertEmbed(Z,this.root.getAttribute("data-mode"),z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Z+1," ",d.default.sources.USER),this.quill.setSelection(Z+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),U}(b.default);function F(M){var U=M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return U?(U[1]||"https")+"://www.youtube.com/embed/"+U[2]+"?showinfo=0":(U=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(U[1]||"https")+"://player.vimeo.com/video/"+U[2]+"/":M}function N(M,U){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;U.forEach(function(z){var j=document.createElement("option");z===Y?j.setAttribute("selected","selected"):j.setAttribute("value",z),M.appendChild(j)})}r.BaseTooltip=B,r.default=Q},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,f=this.iterator();u=f();){var h=u.length();if(a<h||l&&a===h&&(u.next==null||u.next.length()!==0))return[u,a];a-=h}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var f=this.find(a),h=f[0],d=f[1],m,_=a-d,v=this.iterator(h);(m=v())&&_<a+l;){var w=m.length();a>_?u(m,a-_,Math.min(l,_+w-a)):u(m,0,Math.min(w,a+l-_)),_+=w}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,f=this.iterator();u=f();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,m){d.__proto__=m}||function(d,m){for(var _ in m)m.hasOwnProperty(_)&&(d[_]=m[_])};return function(d,m){h(d,m);function _(){this.constructor=d}d.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,f=function(h){o(d,h);function d(m){var _=h.call(this,m)||this;return _.scroll=_,_.observer=new MutationObserver(function(v){_.update(v)}),_.observer.observe(_.domNode,l),_.attach(),_}return d.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(m,_){this.update(),m===0&&_===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,m,_)},d.prototype.formatAt=function(m,_,v,w){this.update(),h.prototype.formatAt.call(this,m,_,v,w)},d.prototype.insertAt=function(m,_,v){this.update(),h.prototype.insertAt.call(this,m,_,v)},d.prototype.optimize=function(m,_){var v=this;m===void 0&&(m=[]),_===void 0&&(_={}),h.prototype.optimize.call(this,_);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)m.push(w.pop());for(var g=function(O,C){C===void 0&&(C=!0),!(O==null||O===v)&&O.domNode.parentNode!=null&&(O.domNode[a.DATA_KEY].mutations==null&&(O.domNode[a.DATA_KEY].mutations=[]),C&&g(O.parent))},p=function(O){O.domNode[a.DATA_KEY]==null||O.domNode[a.DATA_KEY].mutations==null||(O instanceof s.default&&O.children.forEach(p),O.optimize(_))},E=m,y=0;E.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(O){var C=a.find(O.target,!0);C!=null&&(C.domNode===O.target&&(O.type==="childList"?(g(a.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(A){var b=a.find(A,!1);g(b,!1),b instanceof s.default&&b.children.forEach(function(P){g(P,!1)})})):O.type==="attributes"&&g(C.prev)),g(C))}),this.children.forEach(p),E=[].slice.call(this.observer.takeRecords()),w=E.slice();w.length>0;)m.push(w.pop())}},d.prototype.update=function(m,_){var v=this;_===void 0&&(_={}),m=m||this.observer.takeRecords(),m.map(function(w){var g=a.find(w.target,!0);return g==null?null:g.domNode[a.DATA_KEY].mutations==null?(g.domNode[a.DATA_KEY].mutations=[w],g):(g.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===v||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],_)}),this.domNode[a.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,_),this.optimize(m,_)},d.blotName="scroll",d.defaultChild="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="DIV",d}(s.default);r.default=f},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,d){h.__proto__=d}||function(h,d){for(var m in d)d.hasOwnProperty(m)&&(h[m]=d[m])};return function(h,d){f(h,d);function m(){this.constructor=h}h.prototype=d===null?Object.create(d):(m.prototype=d.prototype,new m)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(f,h){if(Object.keys(f).length!==Object.keys(h).length)return!1;for(var d in f)if(f[d]!==h[d])return!1;return!0}var u=function(f){o(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.formats=function(d){if(d.tagName!==h.tagName)return f.formats.call(this,d)},h.prototype.format=function(d,m){var _=this;d===this.statics.blotName&&!m?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),_.attributes.copy(v)}),this.unwrap()):f.prototype.format.call(this,d,m)},h.prototype.formatAt=function(d,m,_,v){if(this.formats()[_]!=null||a.query(_,a.Scope.ATTRIBUTE)){var w=this.isolate(d,m);w.format(_,v)}else f.prototype.formatAt.call(this,d,m,_,v)},h.prototype.optimize=function(d){f.prototype.optimize.call(this,d);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var _=this.next;_ instanceof h&&_.prev===this&&l(m,_.formats())&&(_.moveChildren(this),_.remove())},h.blotName="inline",h.scope=a.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){var d=a.query(f.blotName).tagName;if(h.tagName!==d)return u.formats.call(this,h)},f.prototype.format=function(h,d){a.query(h,a.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!d?this.replaceWith(f.blotName):u.prototype.format.call(this,h,d))},f.prototype.formatAt=function(h,d,m,_){a.query(m,a.Scope.BLOCK)!=null?this.format(m,_):u.prototype.formatAt.call(this,h,d,m,_)},f.prototype.insertAt=function(h,d,m){if(m==null||a.query(d,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,d,m);else{var _=this.split(h),v=a.create(d,m);_.parent.insertBefore(v,_)}},f.prototype.update=function(h,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,d)},f.blotName="block",f.scope=a.Scope.BLOCK_BLOT,f.tagName="P",f}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){l(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(f){},u.prototype.format=function(f,h){l.prototype.formatAt.call(this,0,this.length(),f,h)},u.prototype.formatAt=function(f,h,d,m){f===0&&h===this.length()?this.format(d,m):l.prototype.formatAt.call(this,f,h,d,m)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)h.hasOwnProperty(d)&&(f[d]=h[d])};return function(f,h){u(f,h);function d(){this.constructor=f}f.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(f,u);function f(h){var d=u.call(this,h)||this;return d.text=d.statics.value(d.domNode),d}return f.create=function(h){return document.createTextNode(h)},f.value=function(h){var d=h.data;return d.normalize&&(d=d.normalize()),d},f.prototype.deleteAt=function(h,d){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+d)},f.prototype.index=function(h,d){return this.domNode===h?d:-1},f.prototype.insertAt=function(h,d,m){m==null?(this.text=this.text.slice(0,h)+d+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,d,m)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(h,d){return[this.domNode,h]},f.prototype.split=function(h,d){if(d===void 0&&(d=!1),!d){if(h===0)return this;if(h===this.length())return this.next}var m=a.create(this.domNode.splitText(h));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},f.prototype.update=function(h,d){var m=this;h.some(function(_){return _.type==="characterData"&&_.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=a.Scope.INLINE_BLOT,f}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var f=u.indexOf(a,l);return f!==-1&&f===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),f=u.length>>>0,h=arguments[1],d,m=0;m<f;m++)if(d=u[m],l.call(h,d,m,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(y,O,C){if(y==O)return y?[[s,y]]:[];(C<0||y.length<C)&&(C=null);var A=h(y,O),b=y.substring(0,A);y=y.substring(A),O=O.substring(A),A=d(y,O);var P=y.substring(y.length-A);y=y.substring(0,y.length-A),O=O.substring(0,O.length-A);var T=l(y,O);return b&&T.unshift([s,b]),P&&T.push([s,P]),_(T),C!=null&&(T=g(T,C)),T=p(T),T}function l(y,O){var C;if(!y)return[[o,O]];if(!O)return[[i,y]];var A=y.length>O.length?y:O,b=y.length>O.length?O:y,P=A.indexOf(b);if(P!=-1)return C=[[o,A.substring(0,P)],[s,b],[o,A.substring(P+b.length)]],y.length>O.length&&(C[0][0]=C[2][0]=i),C;if(b.length==1)return[[i,y],[o,O]];var T=m(y,O);if(T){var S=T[0],R=T[1],k=T[2],L=T[3],V=T[4],W=a(S,k),G=a(R,L);return W.concat([[s,V]],G)}return u(y,O)}function u(y,O){for(var C=y.length,A=O.length,b=Math.ceil((C+A)/2),P=b,T=2*b,S=new Array(T),R=new Array(T),k=0;k<T;k++)S[k]=-1,R[k]=-1;S[P+1]=0,R[P+1]=0;for(var L=C-A,V=L%2!=0,W=0,G=0,Q=0,B=0,F=0;F<b;F++){for(var N=-F+W;N<=F-G;N+=2){var M=P+N,U;N==-F||N!=F&&S[M-1]<S[M+1]?U=S[M+1]:U=S[M-1]+1;for(var Y=U-N;U<C&&Y<A&&y.charAt(U)==O.charAt(Y);)U++,Y++;if(S[M]=U,U>C)G+=2;else if(Y>A)W+=2;else if(V){var z=P+L-N;if(z>=0&&z<T&&R[z]!=-1){var j=C-R[z];if(U>=j)return f(y,O,U,Y)}}}for(var H=-F+Q;H<=F-B;H+=2){var z=P+H,j;H==-F||H!=F&&R[z-1]<R[z+1]?j=R[z+1]:j=R[z-1]+1;for(var Z=j-H;j<C&&Z<A&&y.charAt(C-j-1)==O.charAt(A-Z-1);)j++,Z++;if(R[z]=j,j>C)B+=2;else if(Z>A)Q+=2;else if(!V){var M=P+L-H;if(M>=0&&M<T&&S[M]!=-1){var U=S[M],Y=P+U-M;if(j=C-j,U>=j)return f(y,O,U,Y)}}}}return[[i,y],[o,O]]}function f(y,O,C,A){var b=y.substring(0,C),P=O.substring(0,A),T=y.substring(C),S=O.substring(A),R=a(b,P),k=a(T,S);return R.concat(k)}function h(y,O){if(!y||!O||y.charAt(0)!=O.charAt(0))return 0;for(var C=0,A=Math.min(y.length,O.length),b=A,P=0;C<b;)y.substring(P,b)==O.substring(P,b)?(C=b,P=C):A=b,b=Math.floor((A-C)/2+C);return b}function d(y,O){if(!y||!O||y.charAt(y.length-1)!=O.charAt(O.length-1))return 0;for(var C=0,A=Math.min(y.length,O.length),b=A,P=0;C<b;)y.substring(y.length-b,y.length-P)==O.substring(O.length-b,O.length-P)?(C=b,P=C):A=b,b=Math.floor((A-C)/2+C);return b}function m(y,O){var C=y.length>O.length?y:O,A=y.length>O.length?O:y;if(C.length<4||A.length*2<C.length)return null;function b(G,Q,B){for(var F=G.substring(B,B+Math.floor(G.length/4)),N=-1,M="",U,Y,z,j;(N=Q.indexOf(F,N+1))!=-1;){var H=h(G.substring(B),Q.substring(N)),Z=d(G.substring(0,B),Q.substring(0,N));M.length<Z+H&&(M=Q.substring(N-Z,N)+Q.substring(N,N+H),U=G.substring(0,B-Z),Y=G.substring(B+H),z=Q.substring(0,N-Z),j=Q.substring(N+H))}return M.length*2>=G.length?[U,Y,z,j,M]:null}var P=b(C,A,Math.ceil(C.length/4)),T=b(C,A,Math.ceil(C.length/2)),S;if(!P&&!T)return null;T?P?S=P[4].length>T[4].length?P:T:S=T:S=P;var R,k,L,V;y.length>O.length?(R=S[0],k=S[1],L=S[2],V=S[3]):(L=S[0],V=S[1],R=S[2],k=S[3]);var W=S[4];return[R,k,L,V,W]}function _(y){y.push([s,""]);for(var O=0,C=0,A=0,b="",P="",T;O<y.length;)switch(y[O][0]){case o:A++,P+=y[O][1],O++;break;case i:C++,b+=y[O][1],O++;break;case s:C+A>1?(C!==0&&A!==0&&(T=h(P,b),T!==0&&(O-C-A>0&&y[O-C-A-1][0]==s?y[O-C-A-1][1]+=P.substring(0,T):(y.splice(0,0,[s,P.substring(0,T)]),O++),P=P.substring(T),b=b.substring(T)),T=d(P,b),T!==0&&(y[O][1]=P.substring(P.length-T)+y[O][1],P=P.substring(0,P.length-T),b=b.substring(0,b.length-T))),C===0?y.splice(O-A,C+A,[o,P]):A===0?y.splice(O-C,C+A,[i,b]):y.splice(O-C-A,C+A,[i,b],[o,P]),O=O-C-A+(C?1:0)+(A?1:0)+1):O!==0&&y[O-1][0]==s?(y[O-1][1]+=y[O][1],y.splice(O,1)):O++,A=0,C=0,b="",P="";break}y[y.length-1][1]===""&&y.pop();var S=!1;for(O=1;O<y.length-1;)y[O-1][0]==s&&y[O+1][0]==s&&(y[O][1].substring(y[O][1].length-y[O-1][1].length)==y[O-1][1]?(y[O][1]=y[O-1][1]+y[O][1].substring(0,y[O][1].length-y[O-1][1].length),y[O+1][1]=y[O-1][1]+y[O+1][1],y.splice(O-1,1),S=!0):y[O][1].substring(0,y[O+1][1].length)==y[O+1][1]&&(y[O-1][1]+=y[O+1][1],y[O][1]=y[O][1].substring(y[O+1][1].length)+y[O+1][1],y.splice(O+1,1),S=!0)),O++;S&&_(y)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,n.exports=v;function w(y,O){if(O===0)return[s,y];for(var C=0,A=0;A<y.length;A++){var b=y[A];if(b[0]===i||b[0]===s){var P=C+b[1].length;if(O===P)return[A+1,y];if(O<P){y=y.slice();var T=O-C,S=[b[0],b[1].slice(0,T)],R=[b[0],b[1].slice(T)];return y.splice(A,1,S,R),[A+1,y]}else C=P}}throw new Error("cursor_pos is out of bounds!")}function g(y,O){var C=w(y,O),A=C[1],b=C[0],P=A[b],T=A[b+1];if(P==null)return y;if(P[0]!==s)return y;if(T!=null&&P[1]+T[1]===T[1]+P[1])return A.splice(b,2,T,P),E(A,b,2);if(T!=null&&T[1].indexOf(P[1])===0){A.splice(b,2,[T[0],P[1]],[0,P[1]]);var S=T[1].slice(P[1].length);return S.length>0&&A.splice(b+2,0,[T[0],S]),E(A,b,3)}else return y}function p(y){for(var O=!1,C=function(T){return T.charCodeAt(0)>=56320&&T.charCodeAt(0)<=57343},A=function(T){return T.charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319},b=2;b<y.length;b+=1)y[b-2][0]===s&&A(y[b-2][1])&&y[b-1][0]===i&&C(y[b-1][1])&&y[b][0]===o&&C(y[b][1])&&(O=!0,y[b-1][1]=y[b-2][1].slice(-1)+y[b-1][1],y[b][1]=y[b-2][1].slice(-1)+y[b][1],y[b-2][1]=y[b-2][1].slice(0,-1));if(!O)return y;for(var P=[],b=0;b<y.length;b+=1)y[b][1].length>0&&P.push(y[b]);return P}function E(y,O,C){for(var A=O+C-1;A>=0&&A>=O-1;A--)if(A+1<y.length){var b=y[A],P=y[A+1];b[0]===P[1]&&y.splice(A,2,[b[0],b[1]+P[1]])}return y}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,d;if(this._eventsCount===0)return f;for(d in h=this._events)i.call(h,d)&&f.push(o?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f,h){var d=o?o+f:f,m=this._events[d];if(h)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var _=0,v=m.length,w=new Array(v);_<v;_++)w[_]=m[_].fn;return w},l.prototype.emit=function(f,h,d,m,_,v){var w=o?o+f:f;if(!this._events[w])return!1;var g=this._events[w],p=arguments.length,E,y;if(g.fn){switch(g.once&&this.removeListener(f,g.fn,void 0,!0),p){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,d),!0;case 4:return g.fn.call(g.context,h,d,m),!0;case 5:return g.fn.call(g.context,h,d,m,_),!0;case 6:return g.fn.call(g.context,h,d,m,_,v),!0}for(y=1,E=new Array(p-1);y<p;y++)E[y-1]=arguments[y];g.fn.apply(g.context,E)}else{var O=g.length,C;for(y=0;y<O;y++)switch(g[y].once&&this.removeListener(f,g[y].fn,void 0,!0),p){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,h);break;case 3:g[y].fn.call(g[y].context,h,d);break;case 4:g[y].fn.call(g[y].context,h,d,m);break;default:if(!E)for(C=1,E=new Array(p-1);C<p;C++)E[C-1]=arguments[C];g[y].fn.apply(g[y].context,E)}}return!0},l.prototype.on=function(f,h,d){var m=new a(h,d||this),_=o?o+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],m]:this._events[_].push(m):(this._events[_]=m,this._eventsCount++),this},l.prototype.once=function(f,h,d){var m=new a(h,d||this,!0),_=o?o+f:f;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],m]:this._events[_].push(m):(this._events[_]=m,this._eventsCount++),this},l.prototype.removeListener=function(f,h,d,m){var _=o?o+f:f;if(!this._events[_])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[_],this;var v=this._events[_];if(v.fn)v.fn===h&&(!m||v.once)&&(!d||v.context===d)&&(--this._eventsCount===0?this._events=new s:delete this._events[_]);else{for(var w=0,g=[],p=v.length;w<p;w++)(v[w].fn!==h||m&&!v[w].once||d&&v[w].context!==d)&&g.push(v[w]);g.length?this._events[_]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[_]}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=o?o+f:f,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},s=function(){function ne(re,fe){var pe=[],ae=!0,Re=!1,Ae=void 0;try{for(var Pe=re[Symbol.iterator](),Ue;!(ae=(Ue=Pe.next()).done)&&(pe.push(Ue.value),!(fe&&pe.length===fe));ae=!0);}catch(Xe){Re=!0,Ae=Xe}finally{try{!ae&&Pe.return&&Pe.return()}finally{if(Re)throw Ae}}return pe}return function(re,fe){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return ne(re,fe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function ne(re,fe){for(var pe=0;pe<fe.length;pe++){var ae=fe[pe];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(re,ae.key,ae)}}return function(re,fe,pe){return fe&&ne(re.prototype,fe),pe&&ne(re,pe),re}}(),l=i(3),u=R(l),f=i(2),h=R(f),d=i(0),m=R(d),_=i(5),v=R(_),w=i(10),g=R(w),p=i(9),E=R(p),y=i(36),O=i(37),C=i(13),A=R(C),b=i(26),P=i(38),T=i(39),S=i(40);function R(ne){return ne&&ne.__esModule?ne:{default:ne}}function k(ne,re,fe){return re in ne?Object.defineProperty(ne,re,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ne[re]=fe,ne}function L(ne,re){if(!(ne instanceof re))throw new TypeError("Cannot call a class as a function")}function V(ne,re){if(!ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:ne}function W(ne,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);ne.prototype=Object.create(re&&re.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,re):ne.__proto__=re)}var G=(0,g.default)("quill:clipboard"),Q="__ql-matcher",B=[[Node.TEXT_NODE,Ye],[Node.TEXT_NODE,Ie],["br",me],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,Le],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,Et],["li",be],["b",Z.bind(Z,"bold")],["i",Z.bind(Z,"italic")],["style",we]],F=[y.AlignAttribute,P.DirectionAttribute].reduce(function(ne,re){return ne[re.keyName]=re,ne},{}),N=[y.AlignStyle,O.BackgroundStyle,b.ColorStyle,P.DirectionStyle,T.FontStyle,S.SizeStyle].reduce(function(ne,re){return ne[re.keyName]=re,ne},{}),M=function(ne){W(re,ne);function re(fe,pe){L(this,re);var ae=V(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,fe,pe));return ae.quill.root.addEventListener("paste",ae.onPaste.bind(ae)),ae.container=ae.quill.addContainer("ql-clipboard"),ae.container.setAttribute("contenteditable",!0),ae.container.setAttribute("tabindex",-1),ae.matchers=[],B.concat(ae.options.matchers).forEach(function(Re){var Ae=s(Re,2),Pe=Ae[0],Ue=Ae[1];!pe.matchVisual&&Ue===Le||ae.addMatcher(Pe,Ue)}),ae}return a(re,[{key:"addMatcher",value:function(pe,ae){this.matchers.push([pe,ae])}},{key:"convert",value:function(pe){if(typeof pe=="string")return this.container.innerHTML=pe.replace(/\>\r?\n +\</g,"><"),this.convert();var ae=this.quill.getFormat(this.quill.selection.savedRange.index);if(ae[A.default.blotName]){var Re=this.container.innerText;return this.container.innerHTML="",new h.default().insert(Re,k({},A.default.blotName,ae[A.default.blotName]))}var Ae=this.prepareMatching(),Pe=s(Ae,2),Ue=Pe[0],Xe=Pe[1],We=H(this.container,Ue,Xe);return z(We,`
`)&&We.ops[We.ops.length-1].attributes==null&&(We=We.compose(new h.default().retain(We.length()-1).delete(1))),G.log("convert",this.container.innerHTML,We),this.container.innerHTML="",We}},{key:"dangerouslyPasteHTML",value:function(pe,ae){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof pe=="string")this.quill.setContents(this.convert(pe),ae),this.quill.setSelection(0,v.default.sources.SILENT);else{var Ae=this.convert(ae);this.quill.updateContents(new h.default().retain(pe).concat(Ae),Re),this.quill.setSelection(pe+Ae.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(pe){var ae=this;if(!(pe.defaultPrevented||!this.quill.isEnabled())){var Re=this.quill.getSelection(),Ae=new h.default().retain(Re.index),Pe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){Ae=Ae.concat(ae.convert()).delete(Re.length),ae.quill.updateContents(Ae,v.default.sources.USER),ae.quill.setSelection(Ae.length()-Re.length,v.default.sources.SILENT),ae.quill.scrollingContainer.scrollTop=Pe,ae.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var pe=this,ae=[],Re=[];return this.matchers.forEach(function(Ae){var Pe=s(Ae,2),Ue=Pe[0],Xe=Pe[1];switch(Ue){case Node.TEXT_NODE:Re.push(Xe);break;case Node.ELEMENT_NODE:ae.push(Xe);break;default:[].forEach.call(pe.container.querySelectorAll(Ue),function(We){We[Q]=We[Q]||[],We[Q].push(Xe)});break}}),[ae,Re]}}]),re}(E.default);M.DEFAULTS={matchers:[],matchVisual:!0};function U(ne,re,fe){return(typeof re>"u"?"undefined":o(re))==="object"?Object.keys(re).reduce(function(pe,ae){return U(pe,ae,re[ae])},ne):ne.reduce(function(pe,ae){return ae.attributes&&ae.attributes[re]?pe.push(ae):pe.insert(ae.insert,(0,u.default)({},k({},re,fe),ae.attributes))},new h.default)}function Y(ne){if(ne.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return ne[re]||(ne[re]=window.getComputedStyle(ne))}function z(ne,re){for(var fe="",pe=ne.ops.length-1;pe>=0&&fe.length<re.length;--pe){var ae=ne.ops[pe];if(typeof ae.insert!="string")break;fe=ae.insert+fe}return fe.slice(-1*re.length)===re}function j(ne){if(ne.childNodes.length===0)return!1;var re=Y(ne);return["block","list-item"].indexOf(re.display)>-1}function H(ne,re,fe){return ne.nodeType===ne.TEXT_NODE?fe.reduce(function(pe,ae){return ae(ne,pe)},new h.default):ne.nodeType===ne.ELEMENT_NODE?[].reduce.call(ne.childNodes||[],function(pe,ae){var Re=H(ae,re,fe);return ae.nodeType===ne.ELEMENT_NODE&&(Re=re.reduce(function(Ae,Pe){return Pe(ae,Ae)},Re),Re=(ae[Q]||[]).reduce(function(Ae,Pe){return Pe(ae,Ae)},Re)),pe.concat(Re)},new h.default):new h.default}function Z(ne,re,fe){return U(fe,ne,!0)}function J(ne,re){var fe=m.default.Attributor.Attribute.keys(ne),pe=m.default.Attributor.Class.keys(ne),ae=m.default.Attributor.Style.keys(ne),Re={};return fe.concat(pe).concat(ae).forEach(function(Ae){var Pe=m.default.query(Ae,m.default.Scope.ATTRIBUTE);Pe!=null&&(Re[Pe.attrName]=Pe.value(ne),Re[Pe.attrName])||(Pe=F[Ae],Pe!=null&&(Pe.attrName===Ae||Pe.keyName===Ae)&&(Re[Pe.attrName]=Pe.value(ne)||void 0),Pe=N[Ae],Pe!=null&&(Pe.attrName===Ae||Pe.keyName===Ae)&&(Pe=N[Ae],Re[Pe.attrName]=Pe.value(ne)||void 0))}),Object.keys(Re).length>0&&(re=U(re,Re)),re}function ie(ne,re){var fe=m.default.query(ne);if(fe==null)return re;if(fe.prototype instanceof m.default.Embed){var pe={},ae=fe.value(ne);ae!=null&&(pe[fe.blotName]=ae,re=new h.default().insert(pe,fe.formats(ne)))}else typeof fe.formats=="function"&&(re=U(re,fe.blotName,fe.formats(ne)));return re}function me(ne,re){return z(re,`
`)||re.insert(`
`),re}function we(){return new h.default}function be(ne,re){var fe=m.default.query(ne);if(fe==null||fe.blotName!=="list-item"||!z(re,`
`))return re;for(var pe=-1,ae=ne.parentNode;!ae.classList.contains("ql-clipboard");)(m.default.query(ae)||{}).blotName==="list"&&(pe+=1),ae=ae.parentNode;return pe<=0?re:re.compose(new h.default().retain(re.length()-1).retain(1,{indent:pe}))}function Ie(ne,re){return z(re,`
`)||(j(ne)||re.length()>0&&ne.nextSibling&&j(ne.nextSibling))&&re.insert(`
`),re}function Le(ne,re){if(j(ne)&&ne.nextElementSibling!=null&&!z(re,`

`)){var fe=ne.offsetHeight+parseFloat(Y(ne).marginTop)+parseFloat(Y(ne).marginBottom);ne.nextElementSibling.offsetTop>ne.offsetTop+fe*1.5&&re.insert(`
`)}return re}function Et(ne,re){var fe={},pe=ne.style||{};return pe.fontStyle&&Y(ne).fontStyle==="italic"&&(fe.italic=!0),pe.fontWeight&&(Y(ne).fontWeight.startsWith("bold")||parseInt(Y(ne).fontWeight)>=700)&&(fe.bold=!0),Object.keys(fe).length>0&&(re=U(re,fe)),parseFloat(pe.textIndent||0)>0&&(re=new h.default().insert("	").concat(re)),re}function Ye(ne,re){var fe=ne.data;if(ne.parentNode.tagName==="O:P")return re.insert(fe.trim());if(fe.trim().length===0&&ne.parentNode.classList.contains("ql-clipboard"))return re;if(!Y(ne.parentNode).whiteSpace.startsWith("pre")){var pe=function(Re,Ae){return Ae=Ae.replace(/[^\u00a0]/g,""),Ae.length<1&&Re?" ":Ae};fe=fe.replace(/\r\n/g," ").replace(/\n/g," "),fe=fe.replace(/\s\s+/g,pe.bind(pe,!0)),(ne.previousSibling==null&&j(ne.parentNode)||ne.previousSibling!=null&&j(ne.previousSibling))&&(fe=fe.replace(/^\s+/,pe.bind(pe,!1))),(ne.nextSibling==null&&j(ne.parentNode)||ne.nextSibling!=null&&j(ne.nextSibling))&&(fe=fe.replace(/\s+$/,pe.bind(pe,!1)))}return re.insert(fe)}r.default=M,r.matchAttributor=J,r.matchBlot=ie,r.matchNewline=Ie,r.matchSpacing=Le,r.matchText=Ye},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var g=0;g<w.length;g++){var p=w[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,w,g){return w&&_(v.prototype,w),g&&_(v,g),v}}(),s=function _(v,w,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,w);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){d(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);m.blotName="bold",m.tagName=["STRONG","B"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function S(R,k){var L=[],V=!0,W=!1,G=void 0;try{for(var Q=R[Symbol.iterator](),B;!(V=(B=Q.next()).done)&&(L.push(B.value),!(k&&L.length===k));V=!0);}catch(F){W=!0,G=F}finally{try{!V&&Q.return&&Q.return()}finally{if(W)throw G}}return L}return function(R,k){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return S(R,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(R,k){for(var L=0;L<k.length;L++){var V=k[L];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,k,L){return k&&S(R.prototype,k),L&&S(R,L),R}}(),a=i(2),l=g(a),u=i(0),f=g(u),h=i(5),d=g(h),m=i(10),_=g(m),v=i(9),w=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function p(S,R,k){return R in S?Object.defineProperty(S,R,{value:k,enumerable:!0,configurable:!0,writable:!0}):S[R]=k,S}function E(S,R){if(!(S instanceof R))throw new TypeError("Cannot call a class as a function")}function y(S,R){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:S}function O(S,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(S,R):S.__proto__=R)}var C=(0,_.default)("quill:toolbar"),A=function(S){O(R,S);function R(k,L){E(this,R);var V=y(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,k,L));if(Array.isArray(V.options.container)){var W=document.createElement("div");P(W,V.options.container),k.container.parentNode.insertBefore(W,k.container),V.container=W}else typeof V.options.container=="string"?V.container=document.querySelector(V.options.container):V.container=V.options.container;if(!(V.container instanceof HTMLElement)){var G;return G=C.error("Container required for toolbar",V.options),y(V,G)}return V.container.classList.add("ql-toolbar"),V.controls=[],V.handlers={},Object.keys(V.options.handlers).forEach(function(Q){V.addHandler(Q,V.options.handlers[Q])}),[].forEach.call(V.container.querySelectorAll("button, select"),function(Q){V.attach(Q)}),V.quill.on(d.default.events.EDITOR_CHANGE,function(Q,B){Q===d.default.events.SELECTION_CHANGE&&V.update(B)}),V.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var Q=V.quill.selection.getRange(),B=o(Q,1),F=B[0];V.update(F)}),V}return s(R,[{key:"addHandler",value:function(L,V){this.handlers[L]=V}},{key:"attach",value:function(L){var V=this,W=[].find.call(L.classList,function(Q){return Q.indexOf("ql-")===0});if(W){if(W=W.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[W]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[W]==null){C.warn("ignoring attaching to disabled format",W,L);return}if(f.default.query(W)==null){C.warn("ignoring attaching to nonexistent format",W,L);return}}var G=L.tagName==="SELECT"?"change":"click";L.addEventListener(G,function(Q){var B=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var F=L.options[L.selectedIndex];F.hasAttribute("selected")?B=!1:B=F.value||!1}else L.classList.contains("ql-active")?B=!1:B=L.value||!L.hasAttribute("value"),Q.preventDefault();V.quill.focus();var N=V.quill.selection.getRange(),M=o(N,1),U=M[0];if(V.handlers[W]!=null)V.handlers[W].call(V,B);else if(f.default.query(W).prototype instanceof f.default.Embed){if(B=prompt("Enter "+W),!B)return;V.quill.updateContents(new l.default().retain(U.index).delete(U.length).insert(p({},W,B)),d.default.sources.USER)}else V.quill.format(W,B,d.default.sources.USER);V.update(U)}),this.controls.push([W,L])}}},{key:"update",value:function(L){var V=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(W){var G=o(W,2),Q=G[0],B=G[1];if(B.tagName==="SELECT"){var F=void 0;if(L==null)F=null;else if(V[Q]==null)F=B.querySelector("option[selected]");else if(!Array.isArray(V[Q])){var N=V[Q];typeof N=="string"&&(N=N.replace(/\"/g,'\\"')),F=B.querySelector('option[value="'+N+'"]')}F==null?(B.value="",B.selectedIndex=-1):F.selected=!0}else if(L==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var M=V[Q]===B.getAttribute("value")||V[Q]!=null&&V[Q].toString()===B.getAttribute("value")||V[Q]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",M)}else B.classList.toggle("ql-active",V[Q]!=null)})}}]),R}(w.default);A.DEFAULTS={};function b(S,R,k){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+R),k!=null&&(L.value=k),S.appendChild(L)}function P(S,R){Array.isArray(R[0])||(R=[R]),R.forEach(function(k){var L=document.createElement("span");L.classList.add("ql-formats"),k.forEach(function(V){if(typeof V=="string")b(L,V);else{var W=Object.keys(V)[0],G=V[W];Array.isArray(G)?T(L,W,G):b(L,W,G)}}),S.appendChild(L)})}function T(S,R,k){var L=document.createElement("select");L.classList.add("ql-"+R),k.forEach(function(V){var W=document.createElement("option");V!==!1?W.setAttribute("value",V):W.setAttribute("selected","selected"),L.appendChild(W)}),S.appendChild(L)}A.DEFAULTS={container:null,handlers:{clean:function(){var R=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(V){f.default.query(V,f.default.Scope.INLINE)!=null&&R.quill.format(V,!1)})}else this.quill.removeFormat(k,d.default.sources.USER)},direction:function(R){var k=this.quill.getFormat().align;R==="rtl"&&k==null?this.quill.format("align","right",d.default.sources.USER):!R&&k==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",R,d.default.sources.USER)},indent:function(R){var k=this.quill.getSelection(),L=this.quill.getFormat(k),V=parseInt(L.indent||0);if(R==="+1"||R==="-1"){var W=R==="+1"?1:-1;L.direction==="rtl"&&(W*=-1),this.quill.format("indent",V+W,d.default.sources.USER)}},link:function(R){R===!0&&(R=prompt("Enter link URL:")),this.quill.format("link",R,d.default.sources.USER)},list:function(R){var k=this.quill.getSelection(),L=this.quill.getFormat(k);R==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",R,d.default.sources.USER)}}},r.default=A,r.addControls=P},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var g=0;g<w.length;g++){var p=w[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,w,g){return w&&_(v.prototype,w),g&&_(v,g),v}}(),s=function _(v,w,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,w);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){d(v,_);function v(w,g){f(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return p.label.innerHTML=g,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),p}return o(v,[{key:"buildItem",value:function(g){var p=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return p.style.backgroundColor=g.getAttribute("value")||"",p}},{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p);var E=this.label.querySelector(".ql-color-label"),y=g&&g.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=y:E.style.fill=y)}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var g=0;g<w.length;g++){var p=w[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,w,g){return w&&_(v.prototype,w),g&&_(v,g),v}}(),s=function _(v,w,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,w);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){d(v,_);function v(w,g){f(this,v);var p=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,w));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=g[E.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(v,[{key:"selectItem",value:function(g,p){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,p),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(l.default);r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,f,h){return f&&l(u.prototype,f),h&&l(u,h),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,f){var h=this;s(this,l),this.quill=u,this.boundsContainer=f||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var h=f.left+f.width/2-this.root.offsetWidth/2,d=f.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),v=0;if(_.right>m.right&&(v=m.right-_.right,this.root.style.left=h+v+"px"),_.left<m.left&&(v=m.left-_.left,this.root.style.left=h+v+"px"),_.bottom>m.bottom){var w=_.bottom-_.top,g=f.bottom-f.top+w;this.root.style.top=d-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function T(S,R){var k=[],L=!0,V=!1,W=void 0;try{for(var G=S[Symbol.iterator](),Q;!(L=(Q=G.next()).done)&&(k.push(Q.value),!(R&&k.length===R));L=!0);}catch(B){V=!0,W=B}finally{try{!L&&G.return&&G.return()}finally{if(V)throw W}}return k}return function(S,R){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function T(S,R,k){S===null&&(S=Function.prototype);var L=Object.getOwnPropertyDescriptor(S,R);if(L===void 0){var V=Object.getPrototypeOf(S);return V===null?void 0:T(V,R,k)}else{if("value"in L)return L.value;var W=L.get;return W===void 0?void 0:W.call(k)}},a=function(){function T(S,R){for(var k=0;k<R.length;k++){var L=R[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(S,L.key,L)}}return function(S,R,k){return R&&T(S.prototype,R),k&&T(S,k),S}}(),l=i(3),u=E(l),f=i(8),h=E(f),d=i(43),m=E(d),_=i(27),v=E(_),w=i(15),g=i(41),p=E(g);function E(T){return T&&T.__esModule?T:{default:T}}function y(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function O(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function C(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(T){C(S,T);function S(R,k){y(this,S),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=A);var L=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,k));return L.quill.container.classList.add("ql-snow"),L}return a(S,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),p.default),this.tooltip=new P(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,V){k.handlers.link.call(k,!V.format.link)})}}]),S}(m.default);b.DEFAULTS=(0,u.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var R=this.quill.getSelection();if(R==null||R.length==0)return;var k=this.quill.getText(R);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var L=this.quill.theme.tooltip;L.edit("link",k)}else this.quill.format("link",!1)}}}}});var P=function(T){C(S,T);function S(R,k){y(this,S);var L=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,R,k));return L.preview=L.root.querySelector("a.ql-preview"),L}return a(S,[{key:"listen",value:function(){var k=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(k.linkRange!=null){var V=k.linkRange;k.restoreFocus(),k.quill.formatText(V,"link",!1,h.default.sources.USER),delete k.linkRange}L.preventDefault(),k.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(L,V,W){if(L!=null){if(L.length===0&&W===h.default.sources.USER){var G=k.quill.scroll.descendant(v.default,L.index),Q=o(G,2),B=Q[0],F=Q[1];if(B!=null){k.linkRange=new w.Range(L.index-F,B.length());var N=v.default.formats(B.domNode);k.preview.textContent=N,k.preview.setAttribute("href",N),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(d.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=ae(o),a=i(36),l=i(38),u=i(64),f=i(65),h=ae(f),d=i(66),m=ae(d),_=i(67),v=ae(_),w=i(37),g=i(26),p=i(39),E=i(40),y=i(56),O=ae(y),C=i(68),A=ae(C),b=i(27),P=ae(b),T=i(69),S=ae(T),R=i(70),k=ae(R),L=i(71),V=ae(L),W=i(72),G=ae(W),Q=i(73),B=ae(Q),F=i(13),N=ae(F),M=i(74),U=ae(M),Y=i(75),z=ae(Y),j=i(57),H=ae(j),Z=i(41),J=ae(Z),ie=i(28),me=ae(ie),we=i(59),be=ae(we),Ie=i(60),Le=ae(Ie),Et=i(61),Ye=ae(Et),ne=i(108),re=ae(ne),fe=i(62),pe=ae(fe);function ae(Re){return Re&&Re.__esModule?Re:{default:Re}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":E.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":p.FontClass,"formats/size":E.SizeClass,"formats/blockquote":h.default,"formats/code-block":N.default,"formats/header":m.default,"formats/list":v.default,"formats/bold":O.default,"formats/code":F.Code,"formats/italic":A.default,"formats/link":P.default,"formats/script":S.default,"formats/strike":k.default,"formats/underline":V.default,"formats/image":G.default,"formats/video":B.default,"formats/list/item":_.ListItem,"modules/formula":U.default,"modules/syntax":z.default,"modules/toolbar":H.default,"themes/bubble":re.default,"themes/snow":pe.default,"ui/icons":J.default,"ui/picker":me.default,"ui/icon-picker":Le.default,"ui/color-picker":be.default,"ui/tooltip":Ye.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function v(w,g){for(var p=0;p<g.length;p++){var E=g[p];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(w,E.key,E)}}return function(w,g,p){return g&&v(w.prototype,g),p&&v(w,p),w}}(),s=function v(w,g,p){w===null&&(w=Function.prototype);var E=Object.getOwnPropertyDescriptor(w,g);if(E===void 0){var y=Object.getPrototypeOf(w);return y===null?void 0:v(y,g,p)}else{if("value"in E)return E.value;var O=E.get;return O===void 0?void 0:O.call(p)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function f(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function h(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function d(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var m=function(v){d(w,v);function w(){return f(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(p,E){if(E==="+1"||E==="-1"){var y=this.value(p)||0;E=E==="+1"?y+1:y-1}return E===0?(this.remove(p),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,p,E)}},{key:"canAdd",value:function(p,E){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,p,E)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,p,parseInt(E))}},{key:"value",value:function(p){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,p))||void 0}}]),w}(l.default.Attributor.Class),_=new m("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="blockquote",h.tagName="blockquote",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(_,v){for(var w=0;w<v.length;w++){var g=v[w];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(_,g.key,g)}}return function(_,v,w){return v&&m(_.prototype,v),w&&m(_,w),_}}(),s=i(4),a=l(s);function l(m){return m&&m.__esModule?m:{default:m}}function u(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function f(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function h(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var d=function(m){h(_,m);function _(){return u(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),_}(a.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function y(O,C){for(var A=0;A<C.length;A++){var b=C[A];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(O,b.key,b)}}return function(O,C,A){return C&&y(O.prototype,C),A&&y(O,A),O}}(),s=function y(O,C,A){O===null&&(O=Function.prototype);var b=Object.getOwnPropertyDescriptor(O,C);if(b===void 0){var P=Object.getPrototypeOf(O);return P===null?void 0:y(P,C,A)}else{if("value"in b)return b.value;var T=b.get;return T===void 0?void 0:T.call(A)}},a=i(0),l=m(a),u=i(4),f=m(u),h=i(25),d=m(h);function m(y){return y&&y.__esModule?y:{default:y}}function _(y,O,C){return O in y?Object.defineProperty(y,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):y[O]=C,y}function v(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}function w(y,O){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:y}function g(y,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);y.prototype=Object.create(O&&O.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(y,O):y.__proto__=O)}var p=function(y){g(O,y);function O(){return v(this,O),w(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"format",value:function(A,b){A===E.blotName&&!b?this.replaceWith(l.default.create(this.statics.scope)):s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"format",this).call(this,A,b)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(A,b){return this.parent.isolate(this.offset(this.parent),this.length()),A===this.parent.statics.blotName?(this.parent.replaceWith(A,b),this):(this.parent.unwrap(),s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,A,b))}}],[{key:"formats",value:function(A){return A.tagName===this.tagName?void 0:s(O.__proto__||Object.getPrototypeOf(O),"formats",this).call(this,A)}}]),O}(f.default);p.blotName="list-item",p.tagName="LI";var E=function(y){g(O,y),o(O,null,[{key:"create",value:function(A){var b=A==="ordered"?"OL":"UL",P=s(O.__proto__||Object.getPrototypeOf(O),"create",this).call(this,b);return(A==="checked"||A==="unchecked")&&P.setAttribute("data-checked",A==="checked"),P}},{key:"formats",value:function(A){if(A.tagName==="OL")return"ordered";if(A.tagName==="UL")return A.hasAttribute("data-checked")?A.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function O(C){v(this,O);var A=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C)),b=function(T){if(T.target.parentNode===C){var S=A.statics.formats(C),R=l.default.find(T.target);S==="checked"?R.format("list","unchecked"):S==="unchecked"&&R.format("list","checked")}};return C.addEventListener("touchstart",b),C.addEventListener("mousedown",b),A}return o(O,[{key:"format",value:function(A,b){this.children.length>0&&this.children.tail.format(A,b)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(A,b){if(A instanceof p)s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,A,b);else{var P=b==null?this.length():b.offset(this),T=this.split(P);T.parent.insertBefore(A,T)}}},{key:"optimize",value:function(A){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,A);var b=this.next;b!=null&&b.prev===this&&b.statics.blotName===this.statics.blotName&&b.domNode.tagName===this.domNode.tagName&&b.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(b.moveChildren(this),b.remove())}},{key:"replace",value:function(A){if(A.statics.blotName!==this.statics.blotName){var b=l.default.create(this.statics.defaultChild);A.moveChildren(b),this.appendChild(b)}s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replace",this).call(this,A)}}]),O}(d.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[p],r.ListItem=p,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="italic",h.tagName=["EM","I"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(v,w){for(var g=0;g<w.length;g++){var p=w[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,w,g){return w&&_(v.prototype,w),g&&_(v,g),v}}(),s=function _(v,w,g){v===null&&(v=Function.prototype);var p=Object.getOwnPropertyDescriptor(v,w);if(p===void 0){var E=Object.getPrototypeOf(v);return E===null?void 0:_(E,w,g)}else{if("value"in p)return p.value;var y=p.get;return y===void 0?void 0:y.call(g)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function f(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")}function h(_,v){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:_}function d(_,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);_.prototype=Object.create(v&&v.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(_,v):_.__proto__=v)}var m=function(_){d(v,_);function v(){return f(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(l.default);m.blotName="script",m.tagName=["SUB","SUP"],r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="strike",h.tagName="S",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function u(d,m){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:d}function f(d,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);d.prototype=Object.create(m&&m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(d,m):d.__proto__=m)}var h=function(d){f(m,d);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(s.default);h.blotName="underline",h.tagName="U",r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&w(g.prototype,p),E&&w(g,E),g}}(),s=function w(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:w(O,p,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=f(a),u=i(27);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function d(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function m(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var _=["alt","height","width"],v=function(w){m(g,w);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(E,y){_.indexOf(E)>-1?y?this.domNode.setAttribute(E,y):this.domNode.removeAttribute(E):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,y)}}],[{key:"create",value:function(E){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return typeof E=="string"&&y.setAttribute("src",this.sanitize(E)),y}},{key:"formats",value:function(E){return _.reduce(function(y,O){return E.hasAttribute(O)&&(y[O]=E.getAttribute(O)),y},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,u.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(l.default.Embed);v.blotName="image",v.tagName="IMG",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(g,p){for(var E=0;E<p.length;E++){var y=p[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(g,y.key,y)}}return function(g,p,E){return p&&w(g.prototype,p),E&&w(g,E),g}}(),s=function w(g,p,E){g===null&&(g=Function.prototype);var y=Object.getOwnPropertyDescriptor(g,p);if(y===void 0){var O=Object.getPrototypeOf(g);return O===null?void 0:w(O,p,E)}else{if("value"in y)return y.value;var C=y.get;return C===void 0?void 0:C.call(E)}},a=i(4),l=i(27),u=f(l);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function d(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:w}function m(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}var _=["height","width"],v=function(w){m(g,w);function g(){return h(this,g),d(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"format",value:function(E,y){_.indexOf(E)>-1?y?this.domNode.setAttribute(E,y):this.domNode.removeAttribute(E):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,E,y)}}],[{key:"create",value:function(E){var y=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,E);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(E)),y}},{key:"formats",value:function(E){return _.reduce(function(y,O){return E.hasAttribute(O)&&(y[O]=E.getAttribute(O)),y},{})}},{key:"sanitize",value:function(E){return u.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),g}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function E(y,O){for(var C=0;C<O.length;C++){var A=O[C];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}return function(y,O,C){return O&&E(y.prototype,O),C&&E(y,C),y}}(),s=function E(y,O,C){y===null&&(y=Function.prototype);var A=Object.getOwnPropertyDescriptor(y,O);if(A===void 0){var b=Object.getPrototypeOf(y);return b===null?void 0:E(b,O,C)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(C)}},a=i(35),l=m(a),u=i(5),f=m(u),h=i(9),d=m(h);function m(E){return E&&E.__esModule?E:{default:E}}function _(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function v(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function w(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var g=function(E){w(y,E);function y(){return _(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(C){var A=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",C)),A}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),y}(l.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var p=function(E){w(y,E),o(y,null,[{key:"register",value:function(){f.default.register(g,!0)}}]);function y(){_(this,y);var O=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return O}return y}(d.default);r.FormulaBlot=g,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function C(A,b){for(var P=0;P<b.length;P++){var T=b[P];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(A,T.key,T)}}return function(A,b,P){return b&&C(A.prototype,b),P&&C(A,P),A}}(),s=function C(A,b,P){A===null&&(A=Function.prototype);var T=Object.getOwnPropertyDescriptor(A,b);if(T===void 0){var S=Object.getPrototypeOf(A);return S===null?void 0:C(S,b,P)}else{if("value"in T)return T.value;var R=T.get;return R===void 0?void 0:R.call(P)}},a=i(0),l=v(a),u=i(5),f=v(u),h=i(9),d=v(h),m=i(13),_=v(m);function v(C){return C&&C.__esModule?C:{default:C}}function w(C,A){if(!(C instanceof A))throw new TypeError("Cannot call a class as a function")}function g(C,A){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:C}function p(C,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);C.prototype=Object.create(A&&A.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(C,A):C.__proto__=A)}var E=function(C){p(A,C);function A(){return w(this,A),g(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),A}(_.default);E.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),O=function(C){p(A,C),o(A,null,[{key:"register",value:function(){f.default.register(y,!0),f.default.register(E,!0)}}]);function A(b,P){w(this,A);var T=g(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,b,P));if(typeof T.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return T.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){T.highlight(),S=null},T.options.interval)}),T.highlight(),T}return o(A,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(S){S.highlight(P.options.highlight)}),this.quill.update(f.default.sources.SILENT),T!=null&&this.quill.setSelection(T,f.default.sources.SILENT)}}}]),A}(d.default);O.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var A=window.hljs.highlightAuto(C);return A.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=y,r.default=O},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function A(b,P,T){b===null&&(b=Function.prototype);var S=Object.getOwnPropertyDescriptor(b,P);if(S===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:A(R,P,T)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(T)}},s=function(){function A(b,P){for(var T=0;T<P.length;T++){var S=P[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}return function(b,P,T){return P&&A(b.prototype,P),T&&A(b,T),b}}(),a=i(3),l=w(a),u=i(8),f=w(u),h=i(43),d=w(h),m=i(15),_=i(41),v=w(_);function w(A){return A&&A.__esModule?A:{default:A}}function g(A,b){if(!(A instanceof b))throw new TypeError("Cannot call a class as a function")}function p(A,b){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:A}function E(A,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);A.prototype=Object.create(b&&b.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(A,b):A.__proto__=b)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],O=function(A){E(b,A);function b(P,T){g(this,b),T.modules.toolbar!=null&&T.modules.toolbar.container==null&&(T.modules.toolbar.container=y);var S=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,P,T));return S.quill.container.classList.add("ql-bubble"),S}return s(b,[{key:"extendToolbar",value:function(T){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(T.container),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),v.default)}}]),b}(d.default);O.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){b?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(A){E(b,A);function b(P,T){g(this,b);var S=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,P,T));return S.quill.on(f.default.events.EDITOR_CHANGE,function(R,k,L,V){if(R===f.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&V===f.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var W=S.quill.getLines(k.index,k.length);if(W.length===1)S.position(S.quill.getBounds(k));else{var G=W[W.length-1],Q=S.quill.getIndex(G),B=Math.min(G.length()-1,k.index+k.length-Q),F=S.quill.getBounds(new m.Range(Q,B));S.position(F)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(b,[{key:"listen",value:function(){var T=this;o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){T.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!T.root.classList.contains("ql-hidden")){var S=T.quill.getSelection();S!=null&&T.position(T.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(T){var S=o(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"position",this).call(this,T),R=this.root.querySelector(".ql-tooltip-arrow");if(R.style.marginLeft="",S===0)return S;R.style.marginLeft=-1*S-R.offsetWidth/2+"px"}}]),b}(h.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=O},function(n,r,i){n.exports=i(63)}]).default})})(AO);var GB=AO.exports,QB=$t&&$t.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kf=$t&&$t.__assign||function(){return kf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},kf.apply(this,arguments)},YB=$t&&$t.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Fh=$t&&$t.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},hr=Fh(se),XB=Fh(zg),Ca=Fh(KB),hE=Fh(GB),JB=function(t){QB(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,f,h,d;o==="text-change"?(f=(u=r).onEditorChangeText)===null||f===void 0||f.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((d=(h=r).onEditorChangeSelection)===null||d===void 0||d.call(h,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(hr.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(hr.default.Children.count(n.children)){var i=hr.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),YB(this.cleanProps,this.dirtyProps).some(function(l){return!Ca.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!Ca.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),dE(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new hE.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?Ca.default(n.ops,r.ops):Ca.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),dE(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=XB.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return hr.default.Children.count(i)?hr.default.cloneElement(hr.default.Children.only(i),a):o?hr.default.createElement("pre",kf({},a)):hr.default.createElement("div",kf({},a))},e.prototype.render=function(){var n;return hr.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,f;if(this.editor){var h=this.getEditorSelection(),d=!h&&n,m=h&&!n;Ca.default(n,h)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),d?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):m&&((f=(u=this.props).onBlur)===null||f===void 0||f.call(u,h,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=hE.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(hr.default.Component);function dE(t){Promise.resolve().then(t)}var ZB=JB;const OO=qf(ZB);/*! @license DOMPurify 3.1.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.7/LICENSE */const{entries:IO,setPrototypeOf:pE,isFrozen:e6,getPrototypeOf:t6,getOwnPropertyDescriptor:n6}=Object;let{freeze:hn,seal:Hn,create:PO}=Object,{apply:jm,construct:Fm}=typeof Reflect<"u"&&Reflect;hn||(hn=function(e){return e});Hn||(Hn=function(e){return e});jm||(jm=function(e,n,r){return e.apply(n,r)});Fm||(Fm=function(e,n){return new e(...n)});const Xu=Dn(Array.prototype.forEach),mE=Dn(Array.prototype.pop),xa=Dn(Array.prototype.push),Oc=Dn(String.prototype.toLowerCase),qd=Dn(String.prototype.toString),gE=Dn(String.prototype.match),Na=Dn(String.prototype.replace),r6=Dn(String.prototype.indexOf),i6=Dn(String.prototype.trim),Jn=Dn(Object.prototype.hasOwnProperty),ln=Dn(RegExp.prototype.test),La=o6(TypeError);function Dn(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return jm(t,e,r)}}function o6(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Fm(t,n)}}function De(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oc;pE&&pE(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(e6(e)||(e[r]=o),i=o)}t[i]=!0}return t}function s6(t){for(let e=0;e<t.length;e++)Jn(t,e)||(t[e]=null);return t}function oo(t){const e=PO(null);for(const[n,r]of IO(t))Jn(t,n)&&(Array.isArray(r)?e[n]=s6(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=oo(r):e[n]=r);return e}function Da(t,e){for(;t!==null;){const r=n6(t,e);if(r){if(r.get)return Dn(r.get);if(typeof r.value=="function")return Dn(r.value)}t=t6(t)}function n(){return null}return n}const vE=hn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$d=hn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),zd=hn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),a6=hn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Hd=hn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),l6=hn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yE=hn(["#text"]),_E=hn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Wd=hn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),EE=hn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ju=hn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),u6=Hn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),c6=Hn(/<%[\w\W]*|[\w\W]*%>/gm),f6=Hn(/\${[\w\W]*}/gm),h6=Hn(/^data-[\-\w.\u00B7-\uFFFF]/),d6=Hn(/^aria-[\-\w]+$/),RO=Hn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),p6=Hn(/^(?:\w+script|data):/i),m6=Hn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),kO=Hn(/^html$/i),g6=Hn(/^[a-z][.\w]*(-[.\w]+)+$/i);var wE=Object.freeze({__proto__:null,MUSTACHE_EXPR:u6,ERB_EXPR:c6,TMPLIT_EXPR:f6,DATA_ATTR:h6,ARIA_ATTR:d6,IS_ALLOWED_URI:RO,IS_SCRIPT_OR_DATA:p6,ATTR_WHITESPACE:m6,DOCTYPE_NAME:kO,CUSTOM_ELEMENT:g6});const Ma={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},v6=function(){return typeof window>"u"?null:window},y6=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function CO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v6();const e=Ee=>CO(Ee);if(e.version="3.1.7",e.removed=[],!t||!t.document||t.document.nodeType!==Ma.document)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:m}=t,_=l.prototype,v=Da(_,"cloneNode"),w=Da(_,"remove"),g=Da(_,"nextSibling"),p=Da(_,"childNodes"),E=Da(_,"parentNode");if(typeof s=="function"){const Ee=n.createElement("template");Ee.content&&Ee.content.ownerDocument&&(n=Ee.content.ownerDocument)}let y,O="";const{implementation:C,createNodeIterator:A,createDocumentFragment:b,getElementsByTagName:P}=n,{importNode:T}=r;let S={};e.isSupported=typeof IO=="function"&&typeof E=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:k,TMPLIT_EXPR:L,DATA_ATTR:V,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:Q,CUSTOM_ELEMENT:B}=wE;let{IS_ALLOWED_URI:F}=wE,N=null;const M=De({},[...vE,...$d,...zd,...Hd,...yE]);let U=null;const Y=De({},[..._E,...Wd,...EE,...Ju]);let z=Object.seal(PO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),j=null,H=null,Z=!0,J=!0,ie=!1,me=!0,we=!1,be=!0,Ie=!1,Le=!1,Et=!1,Ye=!1,ne=!1,re=!1,fe=!0,pe=!1;const ae="user-content-";let Re=!0,Ae=!1,Pe={},Ue=null;const Xe=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let We=null;const Ki=De({},["audio","video","img","source","image","track"]);let Je=null;const In=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lr="http://www.w3.org/1998/Math/MathML",Gi="http://www.w3.org/2000/svg",Fn="http://www.w3.org/1999/xhtml";let ur=Fn,ia=!1,oa=null;const sa=De({},[lr,Gi,Fn],qd);let Yr=null;const fu=["application/xhtml+xml","text/html"],Qi="text/html";let mt=null,cr=null;const br=n.createElement("form"),aa=function(K){return K instanceof RegExp||K instanceof Function},Xr=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(cr&&cr===K)){if((!K||typeof K!="object")&&(K={}),K=oo(K),Yr=fu.indexOf(K.PARSER_MEDIA_TYPE)===-1?Qi:K.PARSER_MEDIA_TYPE,mt=Yr==="application/xhtml+xml"?qd:Oc,N=Jn(K,"ALLOWED_TAGS")?De({},K.ALLOWED_TAGS,mt):M,U=Jn(K,"ALLOWED_ATTR")?De({},K.ALLOWED_ATTR,mt):Y,oa=Jn(K,"ALLOWED_NAMESPACES")?De({},K.ALLOWED_NAMESPACES,qd):sa,Je=Jn(K,"ADD_URI_SAFE_ATTR")?De(oo(In),K.ADD_URI_SAFE_ATTR,mt):In,We=Jn(K,"ADD_DATA_URI_TAGS")?De(oo(Ki),K.ADD_DATA_URI_TAGS,mt):Ki,Ue=Jn(K,"FORBID_CONTENTS")?De({},K.FORBID_CONTENTS,mt):Xe,j=Jn(K,"FORBID_TAGS")?De({},K.FORBID_TAGS,mt):{},H=Jn(K,"FORBID_ATTR")?De({},K.FORBID_ATTR,mt):{},Pe=Jn(K,"USE_PROFILES")?K.USE_PROFILES:!1,Z=K.ALLOW_ARIA_ATTR!==!1,J=K.ALLOW_DATA_ATTR!==!1,ie=K.ALLOW_UNKNOWN_PROTOCOLS||!1,me=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,we=K.SAFE_FOR_TEMPLATES||!1,be=K.SAFE_FOR_XML!==!1,Ie=K.WHOLE_DOCUMENT||!1,Ye=K.RETURN_DOM||!1,ne=K.RETURN_DOM_FRAGMENT||!1,re=K.RETURN_TRUSTED_TYPE||!1,Et=K.FORCE_BODY||!1,fe=K.SANITIZE_DOM!==!1,pe=K.SANITIZE_NAMED_PROPS||!1,Re=K.KEEP_CONTENT!==!1,Ae=K.IN_PLACE||!1,F=K.ALLOWED_URI_REGEXP||RO,ur=K.NAMESPACE||Fn,z=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&aa(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&aa(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(z.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),we&&(J=!1),ne&&(Ye=!0),Pe&&(N=De({},yE),U=[],Pe.html===!0&&(De(N,vE),De(U,_E)),Pe.svg===!0&&(De(N,$d),De(U,Wd),De(U,Ju)),Pe.svgFilters===!0&&(De(N,zd),De(U,Wd),De(U,Ju)),Pe.mathMl===!0&&(De(N,Hd),De(U,EE),De(U,Ju))),K.ADD_TAGS&&(N===M&&(N=oo(N)),De(N,K.ADD_TAGS,mt)),K.ADD_ATTR&&(U===Y&&(U=oo(U)),De(U,K.ADD_ATTR,mt)),K.ADD_URI_SAFE_ATTR&&De(Je,K.ADD_URI_SAFE_ATTR,mt),K.FORBID_CONTENTS&&(Ue===Xe&&(Ue=oo(Ue)),De(Ue,K.FORBID_CONTENTS,mt)),Re&&(N["#text"]=!0),Ie&&De(N,["html","head","body"]),N.table&&(De(N,["tbody"]),delete j.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw La('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw La('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=K.TRUSTED_TYPES_POLICY,O=y.createHTML("")}else y===void 0&&(y=y6(m,i)),y!==null&&typeof O=="string"&&(O=y.createHTML(""));hn&&hn(K),cr=K}},la=De({},["mi","mo","mn","ms","mtext"]),Jr=De({},["annotation-xml"]),hu=De({},["title","style","font","a","script"]),Ct=De({},[...$d,...zd,...a6]),ua=De({},[...Hd,...l6]),Yi=function(K){let ce=E(K);(!ce||!ce.tagName)&&(ce={namespaceURI:ur,tagName:"template"});const ye=Oc(K.tagName),Ge=Oc(ce.tagName);return oa[K.namespaceURI]?K.namespaceURI===Gi?ce.namespaceURI===Fn?ye==="svg":ce.namespaceURI===lr?ye==="svg"&&(Ge==="annotation-xml"||la[Ge]):!!Ct[ye]:K.namespaceURI===lr?ce.namespaceURI===Fn?ye==="math":ce.namespaceURI===Gi?ye==="math"&&Jr[Ge]:!!ua[ye]:K.namespaceURI===Fn?ce.namespaceURI===Gi&&!Jr[Ge]||ce.namespaceURI===lr&&!la[Ge]?!1:!ua[ye]&&(hu[ye]||!Ct[ye]):!!(Yr==="application/xhtml+xml"&&oa[K.namespaceURI]):!1},Gt=function(K){xa(e.removed,{element:K});try{E(K).removeChild(K)}catch{w(K)}},Mo=function(K,ce){try{xa(e.removed,{attribute:ce.getAttributeNode(K),from:ce})}catch{xa(e.removed,{attribute:null,from:ce})}if(ce.removeAttribute(K),K==="is"&&!U[K])if(Ye||ne)try{Gt(ce)}catch{}else try{ce.setAttribute(K,"")}catch{}},du=function(K){let ce=null,ye=null;if(Et)K="<remove></remove>"+K;else{const gt=gE(K,/^[\r\n\t ]+/);ye=gt&&gt[0]}Yr==="application/xhtml+xml"&&ur===Fn&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const Ge=y?y.createHTML(K):K;if(ur===Fn)try{ce=new d().parseFromString(Ge,Yr)}catch{}if(!ce||!ce.documentElement){ce=C.createDocument(ur,"template",null);try{ce.documentElement.innerHTML=ia?O:Ge}catch{}}const xt=ce.body||ce.documentElement;return K&&ye&&xt.insertBefore(n.createTextNode(ye),xt.childNodes[0]||null),ur===Fn?P.call(ce,Ie?"html":"body")[0]:Ie?ce.documentElement:xt},Sr=function(K){return A.call(K.ownerDocument||K,K,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},pu=function(K){return K instanceof h&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof f)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},mu=function(K){return typeof a=="function"&&K instanceof a},mn=function(K,ce,ye){S[K]&&Xu(S[K],Ge=>{Ge.call(e,ce,ye,cr)})},ca=function(K){let ce=null;if(mn("beforeSanitizeElements",K,null),pu(K))return Gt(K),!0;const ye=mt(K.nodeName);if(mn("uponSanitizeElement",K,{tagName:ye,allowedTags:N}),K.hasChildNodes()&&!mu(K.firstElementChild)&&ln(/<[/\w]/g,K.innerHTML)&&ln(/<[/\w]/g,K.textContent)||K.nodeType===Ma.progressingInstruction||be&&K.nodeType===Ma.comment&&ln(/<[/\w]/g,K.data))return Gt(K),!0;if(!N[ye]||j[ye]){if(!j[ye]&&Xi(ye)&&(z.tagNameCheck instanceof RegExp&&ln(z.tagNameCheck,ye)||z.tagNameCheck instanceof Function&&z.tagNameCheck(ye)))return!1;if(Re&&!Ue[ye]){const Ge=E(K)||K.parentNode,xt=p(K)||K.childNodes;if(xt&&Ge){const gt=xt.length;for(let Ft=gt-1;Ft>=0;--Ft){const gn=v(xt[Ft],!0);gn.__removalCount=(K.__removalCount||0)+1,Ge.insertBefore(gn,g(K))}}}return Gt(K),!0}return K instanceof l&&!Yi(K)||(ye==="noscript"||ye==="noembed"||ye==="noframes")&&ln(/<\/no(script|embed|frames)/i,K.innerHTML)?(Gt(K),!0):(we&&K.nodeType===Ma.text&&(ce=K.textContent,Xu([R,k,L],Ge=>{ce=Na(ce,Ge," ")}),K.textContent!==ce&&(xa(e.removed,{element:K.cloneNode()}),K.textContent=ce)),mn("afterSanitizeElements",K,null),!1)},jo=function(K,ce,ye){if(fe&&(ce==="id"||ce==="name")&&(ye in n||ye in br))return!1;if(!(J&&!H[ce]&&ln(V,ce))){if(!(Z&&ln(W,ce))){if(!U[ce]||H[ce]){if(!(Xi(K)&&(z.tagNameCheck instanceof RegExp&&ln(z.tagNameCheck,K)||z.tagNameCheck instanceof Function&&z.tagNameCheck(K))&&(z.attributeNameCheck instanceof RegExp&&ln(z.attributeNameCheck,ce)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(ce))||ce==="is"&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&ln(z.tagNameCheck,ye)||z.tagNameCheck instanceof Function&&z.tagNameCheck(ye))))return!1}else if(!Je[ce]){if(!ln(F,Na(ye,Q,""))){if(!((ce==="src"||ce==="xlink:href"||ce==="href")&&K!=="script"&&r6(ye,"data:")===0&&We[K])){if(!(ie&&!ln(G,Na(ye,Q,"")))){if(ye)return!1}}}}}}return!0},Xi=function(K){return K!=="annotation-xml"&&gE(K,B)},Wn=function(K){mn("beforeSanitizeAttributes",K,null);const{attributes:ce}=K;if(!ce)return;const ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U};let Ge=ce.length;for(;Ge--;){const xt=ce[Ge],{name:gt,namespaceURI:Ft,value:gn}=xt,Kn=mt(gt);let ut=gt==="value"?gn:i6(gn);if(ye.attrName=Kn,ye.attrValue=ut,ye.keepAttr=!0,ye.forceKeepAttr=void 0,mn("uponSanitizeAttribute",K,ye),ut=ye.attrValue,ye.forceKeepAttr||(Mo(gt,K),!ye.keepAttr))continue;if(!me&&ln(/\/>/i,ut)){Mo(gt,K);continue}we&&Xu([R,k,L],vu=>{ut=Na(ut,vu," ")});const Fo=mt(K.nodeName);if(jo(Fo,Kn,ut)){if(pe&&(Kn==="id"||Kn==="name")&&(Mo(gt,K),ut=ae+ut),be&&ln(/((--!?|])>)|<\/(style|title)/i,ut)){Mo(gt,K);continue}if(y&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Ft)switch(m.getAttributeType(Fo,Kn)){case"TrustedHTML":{ut=y.createHTML(ut);break}case"TrustedScriptURL":{ut=y.createScriptURL(ut);break}}try{Ft?K.setAttributeNS(Ft,gt,ut):K.setAttribute(gt,ut),pu(K)?Gt(K):mE(e.removed)}catch{}}}mn("afterSanitizeAttributes",K,null)},gu=function Ee(K){let ce=null;const ye=Sr(K);for(mn("beforeSanitizeShadowDOM",K,null);ce=ye.nextNode();)mn("uponSanitizeShadowNode",ce,null),!ca(ce)&&(ce.content instanceof o&&Ee(ce.content),Wn(ce));mn("afterSanitizeShadowDOM",K,null)};return e.sanitize=function(Ee){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=null,ye=null,Ge=null,xt=null;if(ia=!Ee,ia&&(Ee="<!-->"),typeof Ee!="string"&&!mu(Ee))if(typeof Ee.toString=="function"){if(Ee=Ee.toString(),typeof Ee!="string")throw La("dirty is not a string, aborting")}else throw La("toString is not a function");if(!e.isSupported)return Ee;if(Le||Xr(K),e.removed=[],typeof Ee=="string"&&(Ae=!1),Ae){if(Ee.nodeName){const gn=mt(Ee.nodeName);if(!N[gn]||j[gn])throw La("root node is forbidden and cannot be sanitized in-place")}}else if(Ee instanceof a)ce=du("<!---->"),ye=ce.ownerDocument.importNode(Ee,!0),ye.nodeType===Ma.element&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?ce=ye:ce.appendChild(ye);else{if(!Ye&&!we&&!Ie&&Ee.indexOf("<")===-1)return y&&re?y.createHTML(Ee):Ee;if(ce=du(Ee),!ce)return Ye?null:re?O:""}ce&&Et&&Gt(ce.firstChild);const gt=Sr(Ae?Ee:ce);for(;Ge=gt.nextNode();)ca(Ge)||(Ge.content instanceof o&&gu(Ge.content),Wn(Ge));if(Ae)return Ee;if(Ye){if(ne)for(xt=b.call(ce.ownerDocument);ce.firstChild;)xt.appendChild(ce.firstChild);else xt=ce;return(U.shadowroot||U.shadowrootmode)&&(xt=T.call(r,xt,!0)),xt}let Ft=Ie?ce.outerHTML:ce.innerHTML;return Ie&&N["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&ln(kO,ce.ownerDocument.doctype.name)&&(Ft="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+Ft),we&&Xu([R,k,L],gn=>{Ft=Na(Ft,gn," ")}),y&&re?y.createHTML(Ft):Ft},e.setConfig=function(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xr(Ee),Le=!0},e.clearConfig=function(){cr=null,Le=!1},e.isValidAttribute=function(Ee,K,ce){cr||Xr({});const ye=mt(Ee),Ge=mt(K);return jo(ye,Ge,ce)},e.addHook=function(Ee,K){typeof K=="function"&&(S[Ee]=S[Ee]||[],xa(S[Ee],K))},e.removeHook=function(Ee){if(S[Ee])return mE(S[Ee])},e.removeHooks=function(Ee){S[Ee]&&(S[Ee]=[])},e.removeAllHooks=function(){S={}},e}var xO=CO();const _6=({onSave:t})=>{const[e,n]=se.useState(""),r=o=>{n(o)},i=()=>{const o=xO.sanitize(e);t(o)};return $.jsxs("div",{children:[$.jsx(OO,{theme:"snow",value:e,onChange:r}),$.jsx("button",{onClick:i,children:"Save Content"})]})},E6=()=>{const[t,e]=se.useState(""),[n,r]=se.useState(""),[i,o]=se.useState(""),[s,a]=se.useState(""),[l,u]=se.useState(""),[f,h]=se.useState([""]),{currentUser:d}=Ui(),m=p=>{u(p.target.value)},_=p=>{h(p)},v=(p,E)=>{const y=[...f];y[p]=E.target.value,h(y)},w=p=>{const E=f.filter((y,O)=>O!==p);h(E)},g=async p=>{if(p.preventDefault(),!d){console.error("User not authenticated");return}const E={title:t,description:n,deepdive:i,route:s,cardImage:l,images:f.filter(y=>y!==""),createdAt:Cj(),createdBy:String(d.uid),userEmail:d.email};try{await MA(ou(Fi,"projects"),E),alert("Project added successfully!"),e(""),r(""),setImage(""),a("")}catch(y){console.error("Error adding project:",y)}};return $.jsxs("div",{children:[$.jsx("h1",{children:"Add New Project"}),$.jsxs("form",{onSubmit:g,children:[$.jsx("input",{type:"text",placeholder:"Project Title",value:t,onChange:p=>e(p.target.value),required:!0}),$.jsx("textarea",{placeholder:"Project Description",value:n,onChange:p=>r(p.target.value),required:!0}),$.jsx("h3",{children:"Project Deep Dive"}),$.jsx(_6,{value:i,onChange:p=>o(p.target.value)}),$.jsx("input",{type:"text",placeholder:"Card Image URL",value:l,onChange:m}),$.jsx("h3",{children:"Project Image URLs (1-10)"}),f.map((p,E)=>$.jsxs("div",{children:[$.jsx("input",{type:"text",placeholder:`Image URL ${E+1}`,value:p,onChange:y=>v(E,y)}),$.jsx("button",{type:"button",onClick:()=>w(E),children:"Remove"})]},E)),f.length>0&&$.jsxs("div",{children:[$.jsx("h3",{children:"Uploaded Image URLs"}),$.jsx("ul",{children:f.map((p,E)=>$.jsx("li",{children:p},E))})]}),$.jsx("input",{type:"text",placeholder:"Unique Route",value:s,onChange:p=>a(p.target.value),required:!0}),$.jsx("button",{type:"submit",children:"Add Project"})]}),$.jsx(EF,{onUploadComplete:_})]})},Um=()=>{const{projectId:t}=ob(),e=zi(),[n,r]=se.useState({title:"",description:"",route:"",cardImage:"",images:[],isPublished:!1});se.useEffect(()=>{(async()=>{const l=Tf(Fi,"projects",t),u=await Rj(l);u.exists()&&r(u.data())})()},[t]);const i=a=>{r({...n,deepdive:a})},o=a=>{const{name:l,value:u}=a.target;r({...n,[l]:u})},s=async()=>{try{const a=Tf(Fi,"projects",t);await DA(a,n),alert("Project updated successfully!"),e("/portfolio")}catch(a){console.error("Error updating project: ",a)}};return $.jsxs("div",{children:[$.jsx("h2",{children:"Edit Project"}),$.jsxs("form",{children:[$.jsx("div",{children:$.jsx("input",{type:"text",name:"title",value:n.title,onChange:o,placeholder:"Project Title",required:!0})}),$.jsx("div",{children:$.jsx("textarea",{name:"description",value:n.description,onChange:o,placeholder:"Project Description",required:!0})}),$.jsx("div",{children:$.jsx("input",{type:"text",name:"route",value:n.route,onChange:o,placeholder:"Project Route",required:!0})}),$.jsx("div",{children:$.jsx("input",{type:"text",name:"cardImage",value:n.cardImage,onChange:o,placeholder:"Card Image URL"})}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"deepdive",children:"Deepdive"}),$.jsx(OO,{value:n.deepdive,onChange:i,modules:Um.modules,formats:Um.formats})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"isPublished",children:"Publish"}),$.jsx("input",{type:"checkbox",id:"isPublished",name:"isPublished",onChange:o})]}),$.jsx("button",{type:"button",onClick:s,children:"Save Changes"})]})]})};var NO={},LO={},Uh={},DO={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(DO);var w6="Expected a function",TE=NaN,T6="[object Symbol]",b6=/^\s+|\s+$/g,S6=/^[-+]0x[0-9a-f]+$/i,A6=/^0b[01]+$/i,O6=/^0o[0-7]+$/i,I6=parseInt,P6=typeof $t=="object"&&$t&&$t.Object===Object&&$t,R6=typeof self=="object"&&self&&self.Object===Object&&self,k6=P6||R6||Function("return this")(),C6=Object.prototype,x6=C6.toString,N6=Math.max,L6=Math.min,Kd=function(){return k6.Date.now()};function D6(t,e,n){var r,i,o,s,a,l,u=0,f=!1,h=!1,d=!0;if(typeof t!="function")throw new TypeError(w6);e=bE(e)||0,Vm(n)&&(f=!!n.leading,h="maxWait"in n,o=h?N6(bE(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function m(C){var A=r,b=i;return r=i=void 0,u=C,s=t.apply(b,A),s}function _(C){return u=C,a=setTimeout(g,e),f?m(C):s}function v(C){var A=C-l,b=C-u,P=e-A;return h?L6(P,o-b):P}function w(C){var A=C-l,b=C-u;return l===void 0||A>=e||A<0||h&&b>=o}function g(){var C=Kd();if(w(C))return p(C);a=setTimeout(g,v(C))}function p(C){return a=void 0,d&&r?m(C):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function y(){return a===void 0?s:p(Kd())}function O(){var C=Kd(),A=w(C);if(r=arguments,i=this,l=C,A){if(a===void 0)return _(l);if(h)return a=setTimeout(g,e),m(l)}return a===void 0&&(a=setTimeout(g,e)),s}return O.cancel=E,O.flush=y,O}function Vm(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function M6(t){return!!t&&typeof t=="object"}function j6(t){return typeof t=="symbol"||M6(t)&&x6.call(t)==T6}function bE(t){if(typeof t=="number")return t;if(j6(t))return TE;if(Vm(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Vm(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(b6,"");var n=A6.test(t);return n||O6.test(t)?I6(t.slice(2),n?2:8):S6.test(t)?TE:+t}var F6=D6,MO={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(MO);var Vh=MO.exports,de={},ty={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(se);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(ty);Object.defineProperty(de,"__esModule",{value:!0});de.checkSpecKeys=de.checkNavigable=de.changeSlide=de.canUseDOM=de.canGoNext=void 0;de.clamp=FO;de.extractObject=void 0;de.filterSettings=Z6;de.validSettings=de.swipeStart=de.swipeMove=de.swipeEnd=de.slidesOnRight=de.slidesOnLeft=de.slideHandler=de.siblingDirection=de.safePreventDefault=de.lazyStartIndex=de.lazySlidesOnRight=de.lazySlidesOnLeft=de.lazyEndIndex=de.keyHandler=de.initializedState=de.getWidth=de.getTrackLeft=de.getTrackCSS=de.getTrackAnimateCSS=de.getTotalSlides=de.getSwipeDirection=de.getSlideCount=de.getRequiredLazySlides=de.getPreClones=de.getPostClones=de.getOnDemandLazySlides=de.getNavigableIndexes=de.getHeight=void 0;var U6=jO(se),V6=jO(ty);function jO(t){return t&&t.__esModule?t:{default:t}}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){B6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B6(t,e,n){return e=q6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q6(t){var e=$6(t,"string");return Fl(e)=="symbol"?e:String(e)}function $6(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FO(t,e,n){return Math.max(e,Math.min(t,n))}var gs=de.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},UO=de.getOnDemandLazySlides=function(e){for(var n=[],r=VO(e),i=BO(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};de.getRequiredLazySlides=function(e){for(var n=[],r=VO(e),i=BO(e),o=r;o<i;o++)n.push(o);return n};var VO=de.lazyStartIndex=function(e){return e.currentSlide-z6(e)},BO=de.lazyEndIndex=function(e){return e.currentSlide+H6(e)},z6=de.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},H6=de.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Bm=de.getWidth=function(e){return e&&e.offsetWidth||0},qO=de.getHeight=function(e){return e&&e.offsetHeight||0},$O=de.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,o,s;return r=e.startX-e.curX,i=e.startY-e.curY,o=Math.atan2(i,r),s=Math.round(o*180/Math.PI),s<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":n===!0?s>=35&&s<=135?"up":"down":"vertical"},zO=de.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};de.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};de.initializedState=function(e){var n=U6.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Bm(r)),o=e.trackRef&&e.trackRef.node,s=Math.ceil(Bm(o)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var u=r&&qO(r.querySelector('[data-index="0"]')),f=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var d=e.lazyLoadedList||[],m=UO(at(at({},e),{},{currentSlide:h,lazyLoadedList:d}));d=d.concat(m);var _={slideCount:n,slideWidth:a,listWidth:i,trackWidth:s,currentSlide:h,slideHeight:u,listHeight:f,lazyLoadedList:d};return e.autoplaying===null&&e.autoplay&&(_.autoplaying="playing"),_};de.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,s=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,f=e.centerMode,h=e.slidesToScroll,d=e.slidesToShow,m=e.useCSS,_=e.lazyLoadedList;if(n&&r)return{};var v=s,w,g,p,E={},y={},O=o?s:FO(s,0,a-1);if(i){if(!o&&(s<0||s>=a))return{};s<0?v=s+a:s>=a&&(v=s-a),l&&_.indexOf(v)<0&&(_=_.concat(v)),E={animating:!0,currentSlide:v,lazyLoadedList:_,targetSlide:v},y={animating:!1,targetSlide:v}}else w=v,v<0?(w=v+a,o?a%h!==0&&(w=a-a%h):w=0):!zO(e)&&v>u?v=w=u:f&&v>=a?(v=o?a:a-1,w=o?0:a-1):v>=a&&(w=v-a,o?a%h!==0&&(w=0):w=a-d),!o&&v+d>=a&&(w=a-d),g=xf(at(at({},e),{},{slideIndex:v})),p=xf(at(at({},e),{},{slideIndex:w})),o||(g===p&&(v=w),g=p),l&&(_=_.concat(UO(at(at({},e),{},{currentSlide:v})))),m?(E={animating:!0,currentSlide:w,trackStyle:HO(at(at({},e),{},{left:g})),lazyLoadedList:_,targetSlide:O},y={animating:!1,currentSlide:w,trackStyle:Cf(at(at({},e),{},{left:p})),swipeLeft:null,targetSlide:O}):E={currentSlide:w,trackStyle:Cf(at(at({},e),{},{left:p})),lazyLoadedList:_,targetSlide:O};return{state:E,nextState:y}};de.changeSlide=function(e,n){var r,i,o,s,a,l=e.slidesToScroll,u=e.slidesToShow,f=e.slideCount,h=e.currentSlide,d=e.targetSlide,m=e.lazyLoad,_=e.infinite;if(s=f%l!==0,r=s?0:(f-h)%l,n.message==="previous")o=r===0?l:u-r,a=h-o,m&&!_&&(i=h-o,a=i===-1?f-1:i),_||(a=d-l);else if(n.message==="next")o=r===0?l:r,a=h+o,m&&!_&&(a=(h+l)%f+r),_||(a=d+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,_){var v=Q6(at(at({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-f:a<n.currentSlide&&v==="right"&&(a=a+f)}}else n.message==="index"&&(a=Number(n.index));return a};de.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};de.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&gs(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};de.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,s=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,f=n.edgeFriction,h=n.edgeDragged,d=n.onEdge,m=n.swiped,_=n.swiping,v=n.slideCount,w=n.slidesToScroll,g=n.infinite,p=n.touchObject,E=n.swipeEvent,y=n.listHeight,O=n.listWidth;if(!r){if(i)return gs(e);o&&s&&a&&gs(e);var C,A={},b=xf(n);p.curX=e.touches?e.touches[0].pageX:e.clientX,p.curY=e.touches?e.touches[0].pageY:e.clientY,p.swipeLength=Math.round(Math.sqrt(Math.pow(p.curX-p.startX,2)));var P=Math.round(Math.sqrt(Math.pow(p.curY-p.startY,2)));if(!a&&!_&&P>10)return{scrolling:!0};a&&(p.swipeLength=P);var T=(l?-1:1)*(p.curX>p.startX?1:-1);a&&(T=p.curY>p.startY?1:-1);var S=Math.ceil(v/w),R=$O(n.touchObject,a),k=p.swipeLength;return g||(u===0&&(R==="right"||R==="down")||u+1>=S&&(R==="left"||R==="up")||!zO(n)&&(R==="left"||R==="up"))&&(k=p.swipeLength*f,h===!1&&d&&(d(R),A.edgeDragged=!0)),!m&&E&&(E(R),A.swiped=!0),o?C=b+k*(y/O)*T:l?C=b-k*T:C=b+k*T,a&&(C=b+k*T),A=at(at({},A),{},{touchObject:p,swipeLeft:C,trackStyle:Cf(at(at({},n),{},{left:C}))}),Math.abs(p.curX-p.startX)<Math.abs(p.curY-p.startY)*.8||p.swipeLength>10&&(A.swiping=!0,gs(e)),A}};de.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,s=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,f=n.swipeToSlide,h=n.scrolling,d=n.onSwipe,m=n.targetSlide,_=n.currentSlide,v=n.infinite;if(!r)return i&&gs(e),{};var w=l?u/a:s/a,g=$O(o,l),p={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return p;if(o.swipeLength>w){gs(e),d&&d(g);var E,y,O=v?_:m;switch(g){case"left":case"up":y=O+OE(n),E=f?AE(n,y):y,p.currentDirection=0;break;case"right":case"down":y=O-OE(n),E=f?AE(n,y):y,p.currentDirection=1;break;default:E=O}p.triggerSlideHandler=E}else{var C=xf(n);p.trackStyle=HO(at(at({},n),{},{left:C}))}return p};var W6=de.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},AE=de.checkNavigable=function(e,n){var r=W6(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},OE=de.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+qO(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Bm(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var s=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-s)||1;return a}else return e.slidesToScroll},ny=de.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},Cf=de.getTrackCSS=function(e){ny(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=G6(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=at(at({},o),{},{WebkitTransform:s,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},HO=de.getTrackAnimateCSS=function(e){ny(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Cf(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},xf=de.getTrackLeft=function(e){if(e.unslick)return 0;ny(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,s=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,f=e.listWidth,h=e.variableWidth,d=e.slideHeight,m=e.fade,_=e.vertical,v=0,w,g,p=0;if(m||e.slideCount===1)return 0;var E=0;if(i?(E=-Ic(e),s%l!==0&&n+l>s&&(E=-(n>s?a-(n-s):s%l)),o&&(E+=parseInt(a/2))):(s%l!==0&&n+l>s&&(E=a-s%l),o&&(E=parseInt(a/2))),v=E*u,p=E*d,_?w=n*d*-1+p:w=n*u*-1+v,h===!0){var y,O=r&&r.node;if(y=n+Ic(e),g=O&&O.childNodes[y],w=g?g.offsetLeft*-1:0,o===!0){y=i?n+Ic(e):n,g=O&&O.children[y],w=0;for(var C=0;C<y;C++)w-=O&&O.children[C]&&O.children[C].offsetWidth;w-=parseInt(e.centerPadding),w+=g&&(f-g.offsetWidth)/2}}return w},Ic=de.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},K6=de.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},G6=de.getTotalSlides=function(e){return e.slideCount===1?1:Ic(e)+e.slideCount+K6(e)},Q6=de.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+Y6(e)?"left":"right":e.targetSlide<e.currentSlide-X6(e)?"right":"left"},Y6=de.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),i&&n%2===0&&(s+=1),s}return i?0:n-1},X6=de.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var s=(n-1)/2+1;return parseInt(o)>0&&(s+=1),!i&&n%2===0&&(s+=1),s}return i?n-1:0};de.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var J6=de.validSettings=Object.keys(V6.default);function Z6(t){return J6.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.Track=void 0;var ai=WO(se),Gd=WO(Vh),Qd=de;function WO(t){return t&&t.__esModule?t:{default:t}}function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GO(r.key),r)}}function nq(t,e,n){return e&&tq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$m(t,e)}function $m(t,e){return $m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$m(t,e)}function iq(t){var e=KO();return function(){var r=Nf(t),i;if(e){var o=Nf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return oq(this,i)}}function oq(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zm(t)}function zm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KO=function(){return!!t})()}function Nf(t){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nf(t)}function IE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(n),!0).forEach(function(r){Hm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hm(t,e,n){return e=GO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GO(t){var e=sq(t,"string");return Ls(e)=="symbol"?e:String(e)}function sq(t,e){if(Ls(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yd=function(e){var n,r,i,o,s;e.rtl?s=e.slideCount-1-e.index:s=e.index,i=s<0||s>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-o-1&&s<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=s===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},aq=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Xd=function(e,n){return e.key||n},lq=function(e){var n,r=[],i=[],o=[],s=ai.default.Children.count(e.children),a=(0,Qd.lazyStartIndex)(e),l=(0,Qd.lazyEndIndex)(e);return ai.default.Children.forEach(e.children,function(u,f){var h,d={message:"children",index:f,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(f)>=0?h=u:h=ai.default.createElement("div",null);var m=aq(vn(vn({},e),{},{index:f})),_=h.props.className||"",v=Yd(vn(vn({},e),{},{index:f}));if(r.push(ai.default.cloneElement(h,{key:"original"+Xd(h,f),"data-index":f,className:(0,Gd.default)(v,_),tabIndex:"-1","aria-hidden":!v["slick-active"],style:vn(vn({outline:"none"},h.props.style||{}),m),onClick:function(p){h.props&&h.props.onClick&&h.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}})),e.infinite&&e.fade===!1){var w=s-f;w<=(0,Qd.getPreClones)(e)&&(n=-w,n>=a&&(h=u),v=Yd(vn(vn({},e),{},{index:n})),i.push(ai.default.cloneElement(h,{key:"precloned"+Xd(h,n),"data-index":n,tabIndex:"-1",className:(0,Gd.default)(v,_),"aria-hidden":!v["slick-active"],style:vn(vn({},h.props.style||{}),m),onClick:function(p){h.props&&h.props.onClick&&h.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}}))),n=s+f,n<l&&(h=u),v=Yd(vn(vn({},e),{},{index:n})),o.push(ai.default.cloneElement(h,{key:"postcloned"+Xd(h,n),"data-index":n,tabIndex:"-1",className:(0,Gd.default)(v,_),"aria-hidden":!v["slick-active"],style:vn(vn({},h.props.style||{}),m),onClick:function(p){h.props&&h.props.onClick&&h.props.onClick(p),e.focusOnSelect&&e.focusOnSelect(d)}}))}}),e.rtl?i.concat(r,o).reverse():i.concat(r,o)};Bh.Track=function(t){rq(n,t);var e=iq(n);function n(){var r;eq(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o)),Hm(zm(r),"node",null),Hm(zm(r),"handleRef",function(a){r.node=a}),r}return nq(n,[{key:"render",value:function(){var i=lq(this.props),o=this.props,s=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:s,onMouseOver:a,onMouseLeave:l};return ai.default.createElement("div",qm({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),i)}}]),n}(ai.default.PureComponent);var qh={};function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}Object.defineProperty(qh,"__esModule",{value:!0});qh.Dots=void 0;var Zu=QO(se),uq=QO(Vh),PE=de;function QO(t){return t&&t.__esModule?t:{default:t}}function RE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RE(Object(n),!0).forEach(function(r){fq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fq(t,e,n){return e=YO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YO(r.key),r)}}function pq(t,e,n){return e&&dq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YO(t){var e=mq(t,"string");return Ds(e)=="symbol"?e:String(e)}function mq(t,e){if(Ds(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wm(t,e)}function Wm(t,e){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wm(t,e)}function vq(t){var e=XO();return function(){var r=Lf(t),i;if(e){var o=Lf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return yq(this,i)}}function yq(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _q(t)}function _q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!t})()}function Lf(t){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(t)}var Eq=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};qh.Dots=function(t){gq(n,t);var e=vq(n);function n(){return hq(this,n),e.apply(this,arguments)}return pq(n,[{key:"clickHandler",value:function(i,o){o.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,o=i.onMouseEnter,s=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,u=i.slidesToScroll,f=i.slidesToShow,h=i.slideCount,d=i.currentSlide,m=Eq({slideCount:h,slidesToScroll:u,slidesToShow:f,infinite:l}),_={onMouseEnter:o,onMouseOver:s,onMouseLeave:a},v=[],w=0;w<m;w++){var g=(w+1)*u-1,p=l?g:(0,PE.clamp)(g,0,h-1),E=p-(u-1),y=l?E:(0,PE.clamp)(E,0,h-1),O=(0,uq.default)({"slick-active":l?d>=y&&d<=p:d===y}),C={message:"dots",index:w,slidesToScroll:u,currentSlide:d},A=this.clickHandler.bind(this,C);v=v.concat(Zu.default.createElement("li",{key:w,className:O},Zu.default.cloneElement(this.props.customPaging(w),{onClick:A})))}return Zu.default.cloneElement(this.props.appendDots(v),cq({className:this.props.dotsClass},_))}}]),n}(Zu.default.PureComponent);var Ms={};function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}Object.defineProperty(Ms,"__esModule",{value:!0});Ms.PrevArrow=Ms.NextArrow=void 0;var vs=ZO(se),JO=ZO(Vh),wq=de;function ZO(t){return t&&t.__esModule?t:{default:t}}function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(this,arguments)}function kE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kE(Object(n),!0).forEach(function(r){Tq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tq(t,e,n){return e=nI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nI(r.key),r)}}function tI(t,e,n){return e&&bq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nI(t){var e=Sq(t,"string");return js(e)=="symbol"?e:String(e)}function Sq(t,e){if(js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rI(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Km(t,e)}function Km(t,e){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Km(t,e)}function iI(t){var e=oI();return function(){var r=jf(t),i;if(e){var o=jf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Aq(this,i)}}function Aq(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oq(t)}function Oq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oI=function(){return!!t})()}function jf(t){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(t)}Ms.PrevArrow=function(t){rI(n,t);var e=iI(n);function n(){return eI(this,n),e.apply(this,arguments)}return tI(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,o=null);var s={key:"0","data-role":"none",className:(0,JO.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=vs.default.cloneElement(this.props.prevArrow,Mf(Mf({},s),a)):l=vs.default.createElement("button",Df({key:"0",type:"button"},s)," ","Previous"),l}}]),n}(vs.default.PureComponent);Ms.NextArrow=function(t){rI(n,t);var e=iI(n);function n(){return eI(this,n),e.apply(this,arguments)}return tI(n,[{key:"clickHandler",value:function(i,o){o&&o.preventDefault(),this.props.clickHandler(i,o)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,wq.canGoNext)(this.props)||(i["slick-disabled"]=!0,o=null);var s={key:"1","data-role":"none",className:(0,JO.default)(i),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=vs.default.cloneElement(this.props.nextArrow,Mf(Mf({},s),a)):l=vs.default.createElement("button",Df({key:"1",type:"button"},s)," ","Next"),l}}]),n}(vs.default.PureComponent);var sI=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),Gm=typeof window<"u"&&typeof document<"u"&&window.document===document,Ff=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Iq=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ff):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Pq=2;function Rq(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){Iq(o)}function a(){var l=Date.now();if(n){if(l-i<Pq)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var kq=20,Cq=["top","right","bottom","left","width","height","size","weight"],xq=typeof MutationObserver<"u",Nq=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Rq(this.refresh.bind(this),kq)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Gm||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xq?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Gm||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Cq.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),aI=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Fs=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ff},lI=$h(0,0,0,0);function Uf(t){return parseFloat(t)||0}function CE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Uf(o)},0)}function Lq(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=Uf(s)}return n}function Dq(t){var e=t.getBBox();return $h(0,0,e.width,e.height)}function Mq(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return lI;var r=Fs(t).getComputedStyle(t),i=Lq(r),o=i.left+i.right,s=i.top+i.bottom,a=Uf(r.width),l=Uf(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=CE(r,"left","right")+o),Math.round(l+s)!==n&&(l-=CE(r,"top","bottom")+s)),!Fq(t)){var u=Math.round(a+o)-e,f=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(f)!==1&&(l-=f)}return $h(i.left,i.top,a,l)}var jq=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Fs(t).SVGGraphicsElement}:function(t){return t instanceof Fs(t).SVGElement&&typeof t.getBBox=="function"}}();function Fq(t){return t===Fs(t).document.documentElement}function Uq(t){return Gm?jq(t)?Dq(t):Mq(t):lI}function Vq(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return aI(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function $h(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Bq=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$h(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Uq(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),qq=function(){function t(e,n){var r=Vq(n);aI(this,{target:e,contentRect:r})}return t}(),$q=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new sI,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Fs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Bq(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Fs(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new qq(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),uI=typeof WeakMap<"u"?new WeakMap:new sI,cI=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Nq.getInstance(),r=new $q(e,n,this);uI.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){cI.prototype[t]=function(){var e;return(e=uI.get(this))[t].apply(e,arguments)}});var zq=function(){return typeof Ff.ResizeObserver<"u"?Ff.ResizeObserver:cI}();const Hq=Object.freeze(Object.defineProperty({__proto__:null,default:zq},Symbol.toStringTag,{value:"Module"})),Wq=NI(Hq);Object.defineProperty(Uh,"__esModule",{value:!0});Uh.InnerSlider=void 0;var un=cu(se),Kq=cu(DO),Gq=cu(F6),Qq=cu(Vh),ct=de,Yq=Bh,Xq=qh,xE=Ms,Jq=cu(Wq);function cu(t){return t&&t.__esModule?t:{default:t}}function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro(t)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}function Zq(t,e){if(t==null)return{};var n=e$(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function e$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hI(r.key),r)}}function r$(t,e,n){return e&&n$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qm(t,e)}function Qm(t,e){return Qm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qm(t,e)}function o$(t){var e=fI();return function(){var r=Bf(t),i;if(e){var o=Bf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return s$(this,i)}}function s$(t,e){if(e&&(Ro(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Me(t)}function Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fI=function(){return!!t})()}function Bf(t){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(t)}function je(t,e,n){return e=hI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hI(t){var e=a$(t,"string");return Ro(e)=="symbol"?e:String(e)}function a$(t,e){if(Ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ro(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Uh.InnerSlider=function(t){i$(n,t);var e=o$(n);function n(r){var i;t$(this,n),i=e.call(this,r),je(Me(i),"listRefHandler",function(s){return i.list=s}),je(Me(i),"trackRefHandler",function(s){return i.track=s}),je(Me(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var s=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,ct.getHeight)(s)+"px"}}),je(Me(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var s=(0,ct.getOnDemandLazySlides)(Se(Se({},i.props),i.state));s.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s))}var a=Se({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new Jq.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),je(Me(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(s){return clearTimeout(s)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),je(Me(i),"componentDidUpdate",function(s){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,ct.getOnDemandLazySlides)(Se(Se({},i.props),i.state));a.length>0&&(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=Se(Se({listRef:i.list,trackRef:i.track},i.props),i.state),u=i.didPropsChange(s);u&&i.updateState(l,u,function(){i.state.currentSlide>=un.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:un.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),je(Me(i),"onWindowResized",function(s){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,Gq.default)(function(){return i.resizeWindow(s)},50),i.debouncedResize()}),je(Me(i),"resizeWindow",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=Se(Se({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,s,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),je(Me(i),"updateState",function(s,a,l){var u=(0,ct.initializedState)(s);s=Se(Se(Se({},s),u),{},{slideIndex:u.currentSlide});var f=(0,ct.getTrackLeft)(s);s=Se(Se({},s),{},{left:f});var h=(0,ct.getTrackCSS)(s);(a||un.default.Children.count(i.props.children)!==un.default.Children.count(s.children))&&(u.trackStyle=h),i.setState(u,l)}),je(Me(i),"ssrInit",function(){if(i.props.variableWidth){var s=0,a=0,l=[],u=(0,ct.getPreClones)(Se(Se(Se({},i.props),i.state),{},{slideCount:i.props.children.length})),f=(0,ct.getPostClones)(Se(Se(Se({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(A){l.push(A.props.style.width),s+=A.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],s+=l[l.length-1-h];for(var d=0;d<f;d++)s+=l[d];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var _={width:s+"px",left:-a+"px"};if(i.props.centerMode){var v="".concat(l[i.state.currentSlide],"px");_.left="calc(".concat(_.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:_}}var w=un.default.Children.count(i.props.children),g=Se(Se(Se({},i.props),i.state),{},{slideCount:w}),p=(0,ct.getPreClones)(g)+(0,ct.getPostClones)(g)+w,E=100/i.props.slidesToShow*p,y=100/p,O=-y*((0,ct.getPreClones)(g)+i.state.currentSlide)*E/100;i.props.centerMode&&(O+=(100-y*E/100)/2);var C={width:E+"%",left:O+"%"};return{slideWidth:y+"%",trackStyle:C}}),je(Me(i),"checkImagesLoad",function(){var s=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=s.length,l=0;Array.prototype.forEach.call(s,function(u){var f=function(){return++l&&l>=a&&i.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(d){h(d),u.parentNode.focus()}}u.onload||(i.props.lazyLoad?u.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(u.onload=f,u.onerror=function(){f(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),je(Me(i),"progressiveLazyLoad",function(){for(var s=[],a=Se(Se({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,ct.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){s.push(l);break}for(var u=i.state.currentSlide-1;u>=-(0,ct.getPreClones)(a);u--)if(i.state.lazyLoadedList.indexOf(u)<0){s.push(u);break}s.length>0?(i.setState(function(f){return{lazyLoadedList:f.lazyLoadedList.concat(s)}}),i.props.onLazyLoad&&i.props.onLazyLoad(s)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),je(Me(i),"slideHandler",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,u=l.asNavFor,f=l.beforeChange,h=l.onLazyLoad,d=l.speed,m=l.afterChange,_=i.state.currentSlide,v=(0,ct.slideHandler)(Se(Se(Se({index:s},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),w=v.state,g=v.nextState;if(w){f&&f(_,w.currentSlide);var p=w.lazyLoadedList.filter(function(E){return i.state.lazyLoadedList.indexOf(E)<0});h&&p.length>0&&h(p),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(_),delete i.animationEndCallback),i.setState(w,function(){u&&i.asNavForIndex!==s&&(i.asNavForIndex=s,u.innerSlider.slideHandler(s)),g&&(i.animationEndCallback=setTimeout(function(){var E=g.animating,y=Zq(g,["animating"]);i.setState(y,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:E})},10)),m&&m(w.currentSlide),delete i.animationEndCallback})},d))})}}),je(Me(i),"changeSlide",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=Se(Se({},i.props),i.state),u=(0,ct.changeSlide)(l,s);if(!(u!==0&&!u)&&(a===!0?i.slideHandler(u,a):i.slideHandler(u),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var f=i.list.querySelectorAll(".slick-current");f[0]&&f[0].focus()}}),je(Me(i),"clickHandler",function(s){i.clickable===!1&&(s.stopPropagation(),s.preventDefault()),i.clickable=!0}),je(Me(i),"keyHandler",function(s){var a=(0,ct.keyHandler)(s,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),je(Me(i),"selectHandler",function(s){i.changeSlide(s)}),je(Me(i),"disableBodyScroll",function(){var s=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=s}),je(Me(i),"enableBodyScroll",function(){window.ontouchmove=null}),je(Me(i),"swipeStart",function(s){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,ct.swipeStart)(s,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),je(Me(i),"swipeMove",function(s){var a=(0,ct.swipeMove)(s,Se(Se(Se({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),je(Me(i),"swipeEnd",function(s){var a=(0,ct.swipeEnd)(s,Se(Se(Se({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),je(Me(i),"touchEnd",function(s){i.swipeEnd(s),i.clickable=!0}),je(Me(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),je(Me(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),je(Me(i),"slickGoTo",function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s=Number(s),isNaN(s))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:s,currentSlide:i.state.currentSlide},a)},0))}),je(Me(i),"play",function(){var s;if(i.props.rtl)s=i.state.currentSlide-i.props.slidesToScroll;else if((0,ct.canGoNext)(Se(Se({},i.props),i.state)))s=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(s)}),je(Me(i),"autoPlay",function(s){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(s==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(s==="leave"){if(a==="paused"||a==="focused")return}else if(s==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),je(Me(i),"pause",function(s){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;s==="paused"?i.setState({autoplaying:"paused"}):s==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),je(Me(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),je(Me(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),je(Me(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),je(Me(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),je(Me(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),je(Me(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),je(Me(i),"render",function(){var s=(0,Qq.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=Se(Se({},i.props),i.state),l=(0,ct.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=i.props.pauseOnHover;l=Se(Se({},l),{},{onMouseEnter:u?i.onTrackOver:null,onMouseLeave:u?i.onTrackLeave:null,onMouseOver:u?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var f;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,ct.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),d=i.props.pauseOnDotsHover;h=Se(Se({},h),{},{clickHandler:i.changeSlide,onMouseEnter:d?i.onDotsLeave:null,onMouseOver:d?i.onDotsOver:null,onMouseLeave:d?i.onDotsLeave:null}),f=un.default.createElement(Xq.Dots,h)}var m,_,v=(0,ct.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=i.changeSlide,i.props.arrows&&(m=un.default.createElement(xE.PrevArrow,v),_=un.default.createElement(xE.NextArrow,v));var w=null;i.props.vertical&&(w={height:i.state.listHeight});var g=null;i.props.vertical===!1?i.props.centerMode===!0&&(g={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(g={padding:i.props.centerPadding+" 0px"});var p=Se(Se({},w),g),E=i.props.touchMove,y={className:"slick-list",style:p,onClick:i.clickHandler,onMouseDown:E?i.swipeStart:null,onMouseMove:i.state.dragging&&E?i.swipeMove:null,onMouseUp:E?i.swipeEnd:null,onMouseLeave:i.state.dragging&&E?i.swipeEnd:null,onTouchStart:E?i.swipeStart:null,onTouchMove:i.state.dragging&&E?i.swipeMove:null,onTouchEnd:E?i.touchEnd:null,onTouchCancel:i.state.dragging&&E?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},O={className:s,dir:"ltr",style:i.props.style};return i.props.unslick&&(y={className:"slick-list"},O={className:s}),un.default.createElement("div",O,i.props.unslick?"":m,un.default.createElement("div",Vf({ref:i.listRefHandler},y),un.default.createElement(Yq.Track,Vf({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":_,i.props.unslick?"":f)}),i.list=null,i.track=null,i.state=Se(Se({},Kq.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:un.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var o=i.ssrInit();return i.state=Se(Se({},i.state),o),i}return r$(n,[{key:"didPropsChange",value:function(i){for(var o=!1,s=0,a=Object.keys(this.props);s<a.length;s++){var l=a[s];if(!i.hasOwnProperty(l)){o=!0;break}if(!(Ro(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){o=!0;break}}return o||un.default.Children.count(this.props.children)!==un.default.Children.count(i.children)}}]),n}(un.default.Component);var l$=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},u$=l$,c$=u$,f$=function(t){var e=/[height|width]$/;return e.test(t)},LE=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var o=t[r];r=c$(r),f$(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",i<n.length-1&&(e+=" and ")}),e},h$=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=LE(n),r<t.length-1&&(e+=", ")}),e):LE(t)},d$=h$,Jd,DE;function p$(){if(DE)return Jd;DE=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Jd=t,Jd}var Zd,ME;function dI(){if(ME)return Zd;ME=1;function t(r,i){var o=0,s=r.length,a;for(o;o<s&&(a=i(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Zd={isFunction:n,isArray:e,each:t},Zd}var ep,jE;function m$(){if(jE)return ep;jE=1;var t=p$(),e=dI().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(s){o.mql=s.currentTarget||s,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,s){if(o.equals(r))return o.destroy(),!i.splice(s,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},ep=n,ep}var tp,FE;function g$(){if(FE)return tp;FE=1;var t=m$(),e=dI(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(s,a,l){var u=this.queries,f=l&&this.browserIsIncapable;return u[s]||(u[s]=new t(s,f)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),u[s].addHandler(h)}),this},unregister:function(s,a){var l=this.queries[s];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[s])),this}},tp=o,tp}var np,UE;function v$(){if(UE)return np;UE=1;var t=g$();return np=new t,np}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=s(se),n=Uh,r=s(d$),i=s(ty),o=de;function s(P){return P&&P.__esModule?P:{default:P}}function a(P){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},a(P)}function l(){return l=Object.assign?Object.assign.bind():function(P){for(var T=1;T<arguments.length;T++){var S=arguments[T];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(P[R]=S[R])}return P},l.apply(this,arguments)}function u(P,T){var S=Object.keys(P);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(P);T&&(R=R.filter(function(k){return Object.getOwnPropertyDescriptor(P,k).enumerable})),S.push.apply(S,R)}return S}function f(P){for(var T=1;T<arguments.length;T++){var S=arguments[T]!=null?arguments[T]:{};T%2?u(Object(S),!0).forEach(function(R){O(P,R,S[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(S)):u(Object(S)).forEach(function(R){Object.defineProperty(P,R,Object.getOwnPropertyDescriptor(S,R))})}return P}function h(P,T){if(!(P instanceof T))throw new TypeError("Cannot call a class as a function")}function d(P,T){for(var S=0;S<T.length;S++){var R=T[S];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(P,C(R.key),R)}}function m(P,T,S){return T&&d(P.prototype,T),Object.defineProperty(P,"prototype",{writable:!1}),P}function _(P,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(T&&T.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),T&&v(P,T)}function v(P,T){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,k){return R.__proto__=k,R},v(P,T)}function w(P){var T=E();return function(){var R=y(P),k;if(T){var L=y(this).constructor;k=Reflect.construct(R,arguments,L)}else k=R.apply(this,arguments);return g(this,k)}}function g(P,T){if(T&&(a(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(P)}function p(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function E(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!P})()}function y(P){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},y(P)}function O(P,T,S){return T=C(T),T in P?Object.defineProperty(P,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):P[T]=S,P}function C(P){var T=A(P,"string");return a(T)=="symbol"?T:String(T)}function A(P,T){if(a(P)!="object"||!P)return P;var S=P[Symbol.toPrimitive];if(S!==void 0){var R=S.call(P,T||"default");if(a(R)!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(P)}var b=(0,o.canUseDOM)()&&v$();t.default=function(P){_(S,P);var T=w(S);function S(R){var k;return h(this,S),k=T.call(this,R),O(p(k),"innerSliderRefHandler",function(L){return k.innerSlider=L}),O(p(k),"slickPrev",function(){return k.innerSlider.slickPrev()}),O(p(k),"slickNext",function(){return k.innerSlider.slickNext()}),O(p(k),"slickGoTo",function(L){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.innerSlider.slickGoTo(L,V)}),O(p(k),"slickPause",function(){return k.innerSlider.pause("paused")}),O(p(k),"slickPlay",function(){return k.innerSlider.autoPlay("play")}),k.state={breakpoint:null},k._responsiveMediaHandlers=[],k}return m(S,[{key:"media",value:function(k,L){b.register(k,L),this._responsiveMediaHandlers.push({query:k,handler:L})}},{key:"componentDidMount",value:function(){var k=this;if(this.props.responsive){var L=this.props.responsive.map(function(W){return W.breakpoint});L.sort(function(W,G){return W-G}),L.forEach(function(W,G){var Q;G===0?Q=(0,r.default)({minWidth:0,maxWidth:W}):Q=(0,r.default)({minWidth:L[G-1]+1,maxWidth:W}),(0,o.canUseDOM)()&&k.media(Q,function(){k.setState({breakpoint:W})})});var V=(0,r.default)({minWidth:L.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(V,function(){k.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(k){b.unregister(k.query,k.handler)})}},{key:"render",value:function(){var k=this,L,V;this.state.breakpoint?(V=this.props.responsive.filter(function(z){return z.breakpoint===k.state.breakpoint}),L=V[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),V[0].settings)):L=f(f({},i.default),this.props),L.centerMode&&(L.slidesToScroll>1,L.slidesToScroll=1),L.fade&&(L.slidesToShow>1,L.slidesToScroll>1,L.slidesToShow=1,L.slidesToScroll=1);var W=e.default.Children.toArray(this.props.children);W=W.filter(function(z){return typeof z=="string"?!!z.trim():!!z}),L.variableWidth&&(L.rows>1||L.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),L.variableWidth=!1);for(var G=[],Q=null,B=0;B<W.length;B+=L.rows*L.slidesPerRow){for(var F=[],N=B;N<B+L.rows*L.slidesPerRow;N+=L.slidesPerRow){for(var M=[],U=N;U<N+L.slidesPerRow&&(L.variableWidth&&W[U].props.style&&(Q=W[U].props.style.width),!(U>=W.length));U+=1)M.push(e.default.cloneElement(W[U],{key:100*B+10*N+U,tabIndex:-1,style:{width:"".concat(100/L.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*B+N},M))}L.variableWidth?G.push(e.default.createElement("div",{key:B,style:{width:Q}},F)):G.push(e.default.createElement("div",{key:B},F))}if(L==="unslick"){var Y="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Y},W)}else G.length<=L.slidesToShow&&!L.infinite&&(L.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(L)),G)}}]),S}(e.default.Component)})(LO);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(LO);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(NO);const y$=qf(NO),_$=({style:t,onClick:e})=>$.jsx("button",{className:"slick-prev",style:{...t,top:"50%",zIndex:1e3},onClick:e,children:"◄"}),E$=({style:t,onClick:e})=>$.jsx("button",{className:"slick-next",style:{...t,top:"50%",zIndex:1e3},onClick:e,children:"►"}),w$=({images:t})=>{const[e,n]=se.useState(0),r={dots:!0,infinite:t.length>1,speed:500,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:$.jsx(_$,{}),nextArrow:$.jsx(E$,{}),beforeChange:(i,o)=>n(o)};return $.jsx("div",{className:"carousel-container",style:{width:"100%",maxHeight:"500px"},children:$.jsx(y$,{...r,children:t.map((i,o)=>$.jsx("div",{className:"image-wrapper",children:$.jsx("img",{src:i,alt:`Slide ${o+1}`,style:{width:"auto",maxWidth:"100%",maxHeight:"500px",objectFit:"contain",margin:"0 auto"}})},o))})})},VE=async t=>{const e=ou(Fi,"projects"),n=Sf(e,$v("route","==",t)),r=await Wv(n);if(r.empty)throw new Error("Project not found");{const i=r.docs[0],o=i.data(),s=xO.sanitize(o.deepdive);return{...o,deepdive:s,documentId:i.id}}},T$=()=>{const{currentUser:t}=Ui(),{projectId:e}=ob(),{data:n,isLoading:r,error:i}=Xg(["project",e],()=>VE(e),{enabled:!!t||t===null,cacheTime:72e6,staleTime:36e6,refetchOnWindowFocus:!0,refetchOnReconnect:!1,keepPreviousData:!0});se.useEffect(()=>{VE()},[n,e]);const o=s=>{window.location.href=`/edit-project/${s}`};return r?$.jsx("div",{children:"Loading project..."}):i?$.jsx("div",{children:i}):$.jsxs("div",{children:[t?$.jsx("button",{style:$o.editButton,onClick:()=>o(documentId),children:"Edit Project"}):$.jsx($.Fragment,{}),$.jsxs("div",{style:$o.container,children:[$.jsx("h1",{children:n.title}),$.jsx("p",{style:$o.desc,children:n.description}),n.images?$.jsx(w$,{images:n.images,style:$o.image}):$.jsx("p",{children:"No images to display"}),$.jsx("h1",{style:$o.deepdiveTitle,children:"Project Deep Dive"}),$.jsx("div",{dangerouslySetInnerHTML:{__html:n.deepdive},style:$o.deepdive})]})]})},$o={container:{padding:"10px",maxWidth:"800px",margin:"0 auto",textAlign:"center"},desc:{marginTop:"-15px",marginBottom:"30px",fontSize:"20px"},image:{width:"100%",height:"100%",borderRadius:"8px",marginBottom:"20px"},deepdiveTitle:{marginTop:"80px",fontSize:"36px"},deepdive:{textAlign:"left",fontSize:"19px",marginBottom:"100px"},editButton:{position:"fixed",marginTop:"20px",marginLeft:"20px"}};function b$(){return $.jsxs("div",{children:[$.jsx("h1",{children:"TODO List"}),$.jsx("p",{children:"Welcome to the TODO list feature!"})]})}function S$(){return $.jsxs("div",{children:[$.jsx("h1",{children:"Financial Tracker"}),$.jsx("p",{children:"Track your finances here!"})]})}function A$(){return $.jsxs("div",{children:[$.jsx("h1",{children:"Week Planner"}),$.jsx("p",{children:"Plan your weeks here!"})]})}function O$(){return $.jsxs("div",{children:[$.jsx("h1",{children:"CV"}),$.jsx("p",{children:"Add your CV here!"})]})}const pI=new SC,I$=rp.createRoot(document.getElementById("root"));I$.render($.jsx(vb,{client:pI,children:$.jsx(on.StrictMode,{children:$.jsx(VA,{children:$.jsx(P$,{})})})}));function P$(){return $.jsx(vb,{client:pI,children:$.jsx(VA,{children:$.jsx(nC,{children:$.jsxs("div",{children:[$.jsx(Uj,{}),$.jsxs(Qk,{children:[$.jsx(Xn,{path:"/",element:$.jsx(Vj,{})}),$.jsx(Xn,{path:"/login",element:$.jsx(Bj,{})}),$.jsx(Xn,{path:"/portfolio",element:$.jsx(zj,{})}),$.jsx(Xn,{path:"/portfolio/:projectId",element:$.jsx(T$,{})}),$.jsx(Xn,{path:"/edit-project/:projectId",element:$.jsx(Um,{})}),$.jsx(Xn,{path:"/portfolio/addproject",element:$.jsx(Pa,{children:$.jsx(E6,{})})}),$.jsx(Xn,{path:"/CV",element:$.jsx(Pa,{children:$.jsx(O$,{})})}),$.jsx(Xn,{path:"/todo",element:$.jsx(Pa,{children:$.jsx(b$,{})})}),$.jsx(Xn,{path:"/finance",element:$.jsxs(Pa,{children:[$.jsx(S$,{}),$.jsx(Nj,{}),$.jsx(Lj,{})]})}),$.jsx(Xn,{path:"/weekplanner",element:$.jsx(Pa,{children:$.jsx(A$,{})})})]})]})})})})}
